/*
Copyright (c) 2019 Daybrush
name: moveable
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/moveable.git
version: 0.13.4-rc2
*/
!function(){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function a(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function n(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),a=0;for(e=0;e<n;e++)for(var o=arguments[e],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r}function l(t){return void 0===t}var t=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){void 0===e&&(e={});var n=this._eventHandler[t]||[];if(!(0<n.length))return!0;n=n.concat(),e.eventType=t;var r=!1,a=[e],o=0;e.stop=function(){r=!0},e.currentTarget=this;for(var i=arguments.length,s=new Array(2<i?i-2:0),l=2;l<i;l++)s[l-2]=arguments[l];for(1<=s.length&&(a=a.concat(s)),o=0;n[o];o++)n[o].apply(this,a);return!r},e.once=function(a,o){if("object"==typeof a&&l(o)){var t,e=a;for(t in e)this.once(t,e[t]);return this}if("string"==typeof a&&"function"==typeof o){var i=this;this.on(a,function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];o.apply(i,n),i.off(a,t)})}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&l(e)){var n,r=t;for(n in r)this.on(n,r[n]);return this}if("string"==typeof t&&"function"==typeof e){var a=this._eventHandler[t];l(a)&&(this._eventHandler[t]=[],a=this._eventHandler[t]),a.push(e)}return this},e.off=function(t,e){if(l(t))return this._eventHandler={},this;if(l(e)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var n,r=t;for(n in r)this.off(n,r[n]);return this}var a,o,i=this._eventHandler[t];if(i)for(a=0;void 0!==(o=i[a]);a++)if(o===e){i=i.splice(a,1);break}return this},t}();return t.VERSION="2.1.2",t}();function p(e,n){return function(t){t&&(e[n]=t)}}function o(n,r){return function(t){var e=t.prototype;n.forEach(function(t){r(e,t)})}}var _,u,e,i,c,f,x={},w=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function S(t,e){for(var n in e)t[n]=e[n];return t}function b(t){var e=t.parentNode;e&&e.removeChild(t)}function h(t,e,n){var r,a,o,i,s=arguments;if(e=S({},e),3<arguments.length)for(n=[n],r=3;r<arguments.length;r++)n.push(s[r]);if(null!=n&&(e.children=n),null!=t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===e[a]&&(e[a]=t.defaultProps[a]);return i=e.key,null!=(o=e.ref)&&delete e.ref,null!=i&&delete e.key,g(t,e,i,o)}function g(t,e,n,r){var a={type:t,props:e,key:n,ref:r,__k:null,__p:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return _.vnode&&_.vnode(a),a}function v(){return{}}function E(t){return t.children}function M(t,e){this.props=t,this.context=e}function y(t,e){if(null==e)return t.__p?y(t.__p,t.__p.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?y(t):null}function m(t){var e,n;if(null!=(t=t.__p)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return m(t)}}function C(t){(!t.__d&&(t.__d=!0)&&1===u.push(t)||i!==_.debounceRendering)&&(i=_.debounceRendering,(_.debounceRendering||e)(D))}function D(){var t,e,n,r,a,o,i;for(u.sort(function(t,e){return e.__v.__b-t.__v.__b});t=u.pop();)t.__d&&(r=n=void 0,o=(a=(e=t).__v).__e,(i=e.__P)&&(n=[],r=G(i,a,S({},a),e.__n,void 0!==i.ownerSVGElement,null,n,null==o?y(a):o),A(n,a),r!=o&&m(a)))}function O(e,n,t,r,a,o,i,s,l){var u,c,f,p,d,h,g,v=t&&t.__k||w,m=v.length;if(s==x&&(s=null!=o?o[0]:m?y(t,0):null),u=0,n.__k=R(n.__k,function(t){if(null!=t){if(t.__p=n,t.__b=n.__b+1,null===(f=v[u])||f&&t.key==f.key&&t.type===f.type)v[u]=void 0;else for(c=0;c<m;c++){if((f=v[c])&&t.key==f.key&&t.type===f.type){v[c]=void 0;break}f=null}if(p=G(e,t,f=f||x,r,a,o,i,s,l),(c=t.ref)&&f.ref!=c&&(g=g||[]).push(c,t.__c||p,t),null!=p){if(null==h&&(h=p),null!=t.__d)p=t.__d,t.__d=null;else if(o==f||p!=s||null==p.parentNode){t:if(null==s||s.parentNode!==e)e.appendChild(p);else{for(d=s,c=0;(d=d.nextSibling)&&c<m;c+=2)if(d==p)break t;e.insertBefore(p,s)}"option"==n.type&&(e.value="")}s=p.nextSibling,"function"==typeof n.type&&(n.__d=p)}}return u++,t}),n.__e=h,null!=o&&"function"!=typeof n.type)for(u=o.length;u--;)null!=o[u]&&b(o[u]);for(u=m;u--;)null!=v[u]&&j(v[u],v[u]);if(g)for(u=0;u<g.length;u++)N(g[u],g[++u],g[++u])}function R(t,e,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)R(t[r],e,n);else n.push(e?e("string"==typeof t||"number"==typeof t?g(null,t,null,null):null!=t.__e||null!=t.__c?g(t.type,t.props,t.key,null):t):t);return n}function k(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===d.test(e)?n+"px":null==n?"":n}function P(t,e,n,r,a){var o,i,s,l,u;if("key"===(e=a?"className"===e?"class":e:"class"===e?"className":e)||"children"===e);else if("style"===e)if(o=t.style,"string"==typeof n)o.cssText=n;else{if("string"==typeof r&&(o.cssText="",r=null),r)for(i in r)n&&i in n||k(o,i,"");if(n)for(s in n)r&&n[s]===r[s]||k(o,s,n[s])}else"o"===e[0]&&"n"===e[1]?(l=e!==(e=e.replace(/Capture$/,"")),e=((u=e.toLowerCase())in t?u:e).slice(2),n?(r||t.addEventListener(e,z,l),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,z,l)):"list"!==e&&"tagName"!==e&&"form"!==e&&!a&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n?t.removeAttribute(e):t.setAttribute(e,n))}function z(t){this.l[t.type](_.event?_.event(t):t)}function G(t,e,n,r,a,o,i,s,l){var u,c,f,p,d,h,g,v,m,b,y=e.type;if(void 0!==e.constructor)return null;(u=_.__b)&&u(e);try{t:if("function"==typeof y){if(v=e.props,m=(u=y.contextType)&&r[u.__c],b=u?m?m.props.value:u.__p:r,n.__c?g=(c=e.__c=n.__c).__p=c.__E:("prototype"in y&&y.prototype.render?e.__c=c=new y(v,b):(e.__c=c=new M(v,b),c.constructor=y,c.render=T),m&&m.sub(c),c.props=v,c.state||(c.state={}),c.context=b,c.__n=r,f=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=y.getDerivedStateFromProps&&S(c.__s==c.state?c.__s=S({},c.__s):c.__s,y.getDerivedStateFromProps(v,c.__s)),p=c.props,d=c.state,f)null==y.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==y.getDerivedStateFromProps&&null==c.__e&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,b),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,b)){for(c.props=v,c.state=c.__s,c.__d=!1,(c.__v=e).__e=n.__e,e.__k=n.__k,u=0;u<e.__k.length;u++)e.__k[u]&&(e.__k[u].__p=e);break t}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,b),null!=c.componentDidUpdate&&c.__h.push(function(){c.componentDidUpdate(p,d,h)})}c.context=b,c.props=v,c.state=c.__s,(u=_.__r)&&u(e),c.__d=!1,c.__v=e,c.__P=t,u=c.render(c.props,c.state,c.context),e.__k=R(null!=u&&u.type==E&&null==u.key?u.props.children:u),null!=c.getChildContext&&(r=S(S({},r),c.getChildContext())),f||null==c.getSnapshotBeforeUpdate||(h=c.getSnapshotBeforeUpdate(p,d)),O(t,e,n,r,a,o,i,s,l),c.base=e.__e,c.__h.length&&i.push(c),g&&(c.__E=c.__p=null),c.__e=null}else e.__e=function(t,e,n,r,a,o,i,s){var l,u,c,f,p,d=n.props,h=e.props;if(a="svg"===e.type||a,null==t&&null!=o)for(l=0;l<o.length;l++)if(null!=(u=o[l])&&(null===e.type?3===u.nodeType:u.localName===e.type)){t=u,o[l]=null;break}if(null==t){if(null===e.type)return document.createTextNode(h);t=a?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),o=null}if(null===e.type)null!=o&&(o[o.indexOf(t)]=null),d!==h&&(t.data=h);else if(e!==n){if(null!=o&&(o=w.slice.call(t.childNodes)),c=(d=n.props||x).dangerouslySetInnerHTML,f=h.dangerouslySetInnerHTML,!s){if(d===x)for(d={},p=0;p<t.attributes.length;p++)d[t.attributes[p].name]=t.attributes[p].value;(f||c)&&(f&&c&&f.__html==c.__html||(t.innerHTML=f&&f.__html||""))}(function(t,e,n,r,a){var o;for(o in n)o in e||P(t,o,null,n[o],r);for(o in e)a&&"function"!=typeof e[o]||"value"===o||"checked"===o||n[o]===e[o]||P(t,o,e[o],n[o],r)})(t,h,d,a,s),e.__k=e.props.children,f||O(t,e,n,r,"foreignObject"!==e.type&&a,o,i,x,s),s||("value"in h&&void 0!==h.value&&h.value!==t.value&&(t.value=null==h.value?"":h.value),"checked"in h&&void 0!==h.checked&&h.checked!==t.checked&&(t.checked=h.checked))}return t}(n.__e,e,n,r,a,o,i,l);(u=_.diffed)&&u(e)}catch(t){_.__e(t,e,n)}return e.__e}function A(t,e){_.__c&&_.__c(e,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(t){t.call(e)})}catch(t){_.__e(t,e.__v)}})}function N(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){_.__e(t,n)}}function j(t,e,n){var r,a,o;if(_.unmount&&_.unmount(t),(r=t.ref)&&N(r,null,e),n||"function"==typeof t.type||(n=null!=(a=t.__e)),t.__e=t.__d=null,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){_.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&j(r[o],e,n);null!=a&&b(a)}function T(t,e,n){return this.constructor(t,n)}function Y(t,e,n){var r,a,o;_.__p&&_.__p(t,e),a=(r=n===c)?null:n&&n.__k||e.__k,t=h(E,null,[t]),o=[],G(e,(r?e:n||e).__k=t,a||x,x,void 0!==e.ownerSVGElement,n&&!r?[n]:a?null:w.slice.call(e.childNodes),o,n||x,r),A(o,t)}function F(t,e){return e=S(S({},t.props),e),2<arguments.length&&(e.children=w.slice.call(arguments,2)),g(t.type,e,e.key||t.key,e.ref||t.ref)}function X(t){var r={},a={__c:"__cC"+f++,__p:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,e=this;return this.getChildContext||(n=[],this.getChildContext=function(){return r[a.__c]=e,r},this.shouldComponentUpdate=function(e){t.value!==e.value&&n.some(function(t){t.context=e.value,C(t)})},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return a.Consumer.contextType=a}_={},M.prototype.setState=function(t,e){var n=this.__s!==this.state&&this.__s||(this.__s=S({},this.state));"function"==typeof t&&!(t=t(n,this.props))||S(n,t),null!=t&&this.__v&&(this.__e=!1,e&&this.__h.push(e),C(this))},M.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),C(this))},M.prototype.render=E,u=[],e="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=_.debounceRendering,_.__e=function(t,e,n){for(var r;e=e.__p;)if((r=e.__c)&&!r.__p)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError)r.setState(r.constructor.getDerivedStateFromError(t));else{if(null==r.componentDidCatch)continue;r.componentDidCatch(t)}return C(r.__E=r)}catch(e){t=e}throw t},c=x,f=0;var B,I,L=[],W=_.__r;_.__r=function(t){W&&W(t),B=0,(I=t.__c).__H&&(I.__H.t.forEach(lt),I.__H.t.forEach(ut),I.__H.t=[])};var H=_.diffed;_.diffed=function(t){H&&H(t);var e=t.__c;if(e){var n=e.__H;n&&n.t.length&&ot(L.push(e))}};var q=_.__c;_.__c=function(t,e){e.some(function(t){t.__h.forEach(lt),t.__h=t.__h.filter(function(t){return!t.u||ut(t)})}),q&&q(t,e)};var K=_.unmount;function V(t){_.__h&&_.__h(I);var e=I.__H||(I.__H={i:[],t:[]});return t>=e.i.length&&e.i.push({}),e.i[t]}function U(t){return $(ft,t)}function $(n,t,e){var r=V(B++);return r.__c||(r.__c=I,r.u=[e?e(t):ft(void 0,t),function(t){var e=n(r.u[0],t);r.u[0]!==e&&(r.u[0]=e,r.__c.setState({}))}]),r.u}function Z(t,e){var n=V(B++);ct(n.o,e)&&(n.u=t,n.o=e,I.__H.t.push(n))}function J(t,e){var n=V(B++);ct(n.o,e)&&(n.u=t,n.o=e,I.__h.push(n))}function Q(t){return et(function(){return{current:t}},[])}function tt(t,e,n){J(function(){"function"==typeof t?t(e()):t&&(t.current=e())},null==n?n:n.concat(t))}function et(t,e){var n=V(B++);return ct(n.o,e)?(n.o=e,n.v=t,n.u=t()):n.u}function nt(t,e){return et(function(){return t},e)}function rt(t){var e=I.context[t.__c];if(!e)return t.__p;var n=V(B++);return null==n.u&&(n.u=!0,e.sub(I)),e.props.value}function at(t,e){_.useDebugValue&&_.useDebugValue(e?e(t):t)}_.unmount=function(t){K&&K(t);var e=t.__c;if(e){var n=e.__H;n&&n.i.forEach(function(t){return t.m&&t.m()})}};var ot=function(){};function it(){L.some(function(t){t.__P&&(t.__H.t.forEach(lt),t.__H.t.forEach(ut),t.__H.t=[])}),L=[]}if("undefined"!=typeof window){var st=_.requestAnimationFrame;ot=function(t){1!==t&&st===_.requestAnimationFrame||((st=_.requestAnimationFrame)||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(it)}}function lt(t){t.m&&t.m()}function ut(t){var e=t.u();"function"==typeof e&&(t.m=e)}function ct(n,t){return!n||t.some(function(t,e){return t!==n[e]})}function ft(t,e){return"function"==typeof e?e(t):e}function pt(t){var e=t.parentNode;e&&e.removeChild(t)}var dt=_.__e;function ht(t){this.__u=[],this.__f=t.fallback}function gt(e){var n,r,a;function t(t){if(n||(n=e()).then(function(t){r=t.default},function(t){a=t}),a)throw a;if(!r)throw n;return h(r,t)}return t.displayName="Lazy",t.t=!0,t}_.__e=function(t,e,n){if(t.then&&n)for(var r,a=e;a=a.__p;)if((r=a.__c)&&r.o)return n&&(e.__e=n.__e,e.__k=n.__k),void r.o(t);dt(t,e,n)},(ht.prototype=new M).o=function(t){var e=this;e.__u.push(t);function n(){e.__u[e.__u.indexOf(t)]=e.__u[e.__u.length-1],e.__u.pop(),0==e.__u.length&&(e.__f&&j(e.__f),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.__f=e.__f&&F(e.__f),e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?pt(r.__e):r.__k&&t(r.__k))}}(e.__v.__k),e.__v.__k=[]),t.then(n,n)},ht.prototype.render=function(t,e){return e.u?this.__f:t.children};var vt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,mt=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,bt=_.event;function yt(t){return Ct.bind(null,t)}function _t(t,e,n){if(null==e.__k)for(;e.firstChild;)pt(e.firstChild);return Y(t,e),"function"==typeof n&&n(),t?t.__c:null}_.event=function(t){return bt&&(t=bt(t)),t.persist=function(){},t.nativeEvent=t};var xt=function(){};function wt(t){var e=this,n=t.container,r=h(xt,{context:e.context},t.vnode);return e.i&&e.i!==n&&(e.l.parentNode&&e.i.removeChild(e.l),j(e.s),e.v=!1),t.vnode?e.v?(n.__k=e.__k,Y(r,n),e.__k=n.__k):(e.l=document.createTextNode(""),function(t,e){Y(t,e,c)}("",n),n.appendChild(e.l),e.v=!0,Y(r,e.i=n,e.l),e.__k=this.l.__k):e.v&&(e.l.parentNode&&e.i.removeChild(e.l),j(e.s)),e.s=r,e.componentWillUnmount=function(){e.l.parentNode&&e.i.removeChild(e.l),j(e.s)},null}function St(t,e){return h(wt,{vnode:t,container:e})}xt.prototype.getChildContext=function(){return this.props.context},xt.prototype.render=function(t){return t.children};function Et(t,e){return t?R(t).map(e):null}var Mt={map:Et,forEach:Et,count:function(t){return t?R(t).length:0},only:function(t){if(1!==(t=R(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:R};function Ct(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=h.apply(void 0,t),r=n.type,a=n.props;return"function"!=typeof r&&(a.defaultValue&&(a.value||0===a.value||(a.value=a.defaultValue),delete a.defaultValue),Array.isArray(a.value)&&a.multiple&&"select"===r&&(R(a.children).forEach(function(t){-1!=a.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete a.value),function(t,e){var n,r,a;for(a in e)if(n=mt.test(a))break;if(n)for(a in r=t.props={},e)r[mt.test(a)?a.replace(/([A-Z0-9])/,"-$1").toLowerCase():a]=e[a]}(n,a)),n.preactCompatNormalized=!1,Dt(n)}function Dt(t){return t.preactCompatNormalized=!0,((e=t.props).class||e.className)&&(Pt.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",Pt)),t;var e}function Ot(t){return Rt(t)?Dt(F.apply(null,arguments)):t}function Rt(t){return!!t&&t.$$typeof===vt}function kt(t){return!!t.__k&&(Y(null,t),!0)}var Pt={configurable:!0,get:function(){return this.class}};function zt(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function Gt(t){return t&&(t.base||1===t.nodeType&&t)||null}var At,Nt=((At=M)&&(jt.__proto__=At),((jt.prototype=Object.create(At&&At.prototype)).constructor=jt).prototype.shouldComponentUpdate=function(t,e){return zt(this.props,t)||zt(this.state,e)},jt);function jt(t){At.call(this,t),this.isPureReactComponent=!0}function Tt(e,r){function n(t){var e=this.props.ref,n=e==t.ref;return!n&&e&&(e.call?e(null):e.current=null),(r?!r(this.props,t):zt(this.props,t))||!n}function t(t){return this.shouldComponentUpdate=n,h(e,function(t,e){for(var n in e)t[n]=e[n];return t}({},t))}return t.prototype.isReactComponent=!0,t.displayName="Memo("+(e.displayName||e.name)+")",t.t=!0,t}function Yt(n){function t(t){var e=t.ref;return delete t.ref,n(t,e)}return t.prototype.isReactComponent=!0,t.t=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t}function Ft(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}M.prototype.isReactComponent={};var Xt=_.vnode;_.vnode=function(o){o.$$typeof=vt,function(){var t=o.type,e=o.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var a=n.oninput||"oninput";e[a]||(e[a]=e[n.onchange],delete e[n.onchange])}}}();var t=o.type;t&&t.t&&o.ref&&(o.props.ref=o.ref,o.ref=null),"function"==typeof t&&!t.p&&t.prototype&&(Ft(t.prototype,"componentWillMount"),Ft(t.prototype,"componentWillReceiveProps"),Ft(t.prototype,"componentWillUpdate"),t.p=!0),Xt&&Xt(o)};function Bt(t,e){return t(e)}var It={__proto__:null,default:{useState:U,useReducer:$,useEffect:Z,useLayoutEffect:J,useRef:Q,useImperativeHandle:tt,useMemo:et,useCallback:nt,useContext:rt,useDebugValue:at,version:"16.8.0",Children:Mt,render:_t,hydrate:_t,unmountComponentAtNode:kt,createPortal:St,createElement:Ct,createContext:X,createFactory:yt,cloneElement:Ot,createRef:v,Fragment:E,isValidElement:Rt,findDOMNode:Gt,Component:M,PureComponent:Nt,memo:Tt,forwardRef:Yt,unstable_batchedUpdates:Bt,Suspense:ht,lazy:gt},version:"16.8.0",Children:Mt,render:_t,hydrate:_t,unmountComponentAtNode:kt,createPortal:St,createElement:Ct,createFactory:yt,cloneElement:Ot,isValidElement:Rt,findDOMNode:Gt,PureComponent:Nt,memo:Tt,forwardRef:Yt,unstable_batchedUpdates:Bt,Suspense:ht,lazy:gt,createContext:X,createRef:v,Fragment:E,Component:M,useState:U,useReducer:$,useEffect:Z,useLayoutEffect:J,useRef:Q,useImperativeHandle:tt,useMemo:et,useCallback:nt,useContext:rt,useDebugValue:at};function Lt(e,n){return function(t){t&&(e[n]=t)}}var Wt=("undefined"!=typeof window&&window||{}).navigator,Ht={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Whale/,identity:"Whale",versionSearch:"Whale"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/MiuiBrowser/,identity:"MIUI Browser",versionSearch:"MiuiBrowser"},{criteria:/SamsungBrowser/,identity:"Samsung Internet",versionSearch:"SamsungBrowser"},{criteria:/SAMSUNG /,identity:"Samsung Internet",versionSearch:"Version"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"Android Browser",versionSearch:"Version"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone/,identity:"Windows Phone",versionSearch:"Windows Phone"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/Windows NT/,identity:"Window",versionSearch:"Windows NT"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"},{criteria:/Tizen/,identity:"Tizen"},{criteria:/Web0S/,identity:"WebOS"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"unknown"},os:{version:"-1",name:"unknown"}}};function qt(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r])&&n.push(t[r]);return n}var Kt=void 0;function Vt(t,e){return e&&e.test?!!e.test(t):-1<t.indexOf(e)}function Ut(t,e){var n=qt(t,function(t){return Vt(Kt,t.criteria)})[0];return n&&n.identity||e.name}function $t(t,r){return qt(t,function(t){var e=t.criteria,n=new RegExp(t.identity,"i").test(r);return!!(e?n&&Vt(Kt,e):n)})[0]}function Zt(t,e){var n=Ht.defaultString.browser.version,r=new RegExp("("+t+")","i").exec(e);if(!r)return n;var a=r.index,o=r[0];if(-1<a){var i=a+o.length+1;n=e.substring(i).split(" ")[0].replace(/_/g,".").replace(/;|\)/g,"")}return n}function Jt(t){if(t)return Zt(function(t){var e=$t(Ht.browser,t);return e=e||{criteria:t,versionSearch:t,identity:t}}(t).versionSearch||t,Kt)}function Qt(){var t=Ht.webview,e=void 0;return function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(qt(t,function(t){return Vt(Kt,t.criteria)}),function(t){return e=Zt(t.browserVersionSearch,Kt),!(!Vt(Kt,t.webviewToken)&&!Vt(e,t.webviewBrowserVersion))})}function te(t){var e=function(t){return $t(Ht.os,t)}(t)||{},n=Ht.defaultString.os.version,r=void 0;if(t){if(e.versionAlias)return e.versionAlias;var a=e.versionSearch||t,o=new RegExp("("+a+")\\s([\\d_\\.]+|\\d_0)","i");return o.exec(Kt)&&(r=o.exec(Kt)[2].replace(/_/g,".").replace(/;|\)/g,"")),r||n}}function ee(){var t=Ut(Ht.os,Ht.defaultString.os);return{name:t,version:te(t)}}function ne(){var t=Ut(Ht.browser,Ht.defaultString.browser);return{name:t,version:Jt(t),webview:Qt()}}function re(){!function(t){Kt=t}(0<arguments.length&&void 0!==arguments[0]?arguments[0]:Wt.userAgent);var t={os:ee(),browser:ne(),isMobile:-1!==Kt.indexOf("Mobi")};return t.browser.name=t.browser.name.toLowerCase(),t.os.name=t.os.name.toLowerCase(),t.os.version=t.os.version.toLowerCase(),"ios"===t.os.name&&t.browser.webview&&(t.browser.version="-1"),t}re.VERSION="2.1.5";function ae(t){if(!me)return"";var e=(me.body||me.documentElement).style,n=be.length;if(typeof e[t]!==ve)return t;for(var r=0;r<n;++r){var a="-"+be[r]+"-"+t;if(typeof e[a]!==ve)return a}return""}var oe="rgb",ie="rgba",se="hsl",le="hsla",ue=[oe,ie,se,le],ce="function",fe="property",pe="array",de="object",he="string",ge="number",ve="undefined",me=typeof document!==ve&&document,be=["webkit","ms","moz","o"],ye=ae("transform"),_e=ae("filter"),xe=ae("animation");function we(t){return typeof t===ve}function Se(t){return t&&typeof t===de}function Ee(t){return Array.isArray(t)}function Me(t){return typeof t===he}function Ce(t){var e=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return e?e.map(function(t){return t.trim()}):[]}function De(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function Oe(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2];return{prefix:n,unit:e[3],value:parseFloat(r)}}function Re(t){var e=function(t){return t.replace("#","")}(t),n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16),o=parseInt(e.substring(6,8),16)/255;return isNaN(o)&&(o=1),[n,r,a,o]}function ke(t){if("#"===t.charAt(0))return 4===t.length||5===t.length?Re(function(t){var e=t.charAt(1),n=t.charAt(2),r=t.charAt(3),a=t.charAt(4);return["#",e,e,n,n,r,r,a,a].join("")}(t)):Re(t);if(-1!==t.indexOf("(")){var e=De(t),n=e.prefix,r=e.value;if(!n||!r)return;var a=Ce(r),o=[],i=a.length;switch(n){case oe:case ie:for(var s=0;s<i;++s)o[s]=parseFloat(a[s]);return o;case se:case le:for(s=0;s<i;++s)-1!==a[s].indexOf("%")?o[s]=parseFloat(a[s])/100:o[s]=parseFloat(a[s]);return function(t){var e=t[0],n=t[1],r=t[2];e<0&&(e+=360*Math.floor((Math.abs(e)+360)/360)),e%=360;var a,o=(1-Math.abs(2*r-1))*n,i=o*(1-Math.abs(e/60%2-1)),s=r-o/2;return e<60?a=[o,i,0]:e<120?a=[i,o,0]:e<180?a=[0,o,i]:e<240?a=[0,i,o]:e<300?a=[i,0,o]:e<360&&(a=[o,0,i]),[Math.round(255*(a[0]+s)),Math.round(255*(a[1]+s)),Math.round(255*(a[2]+s)),3<t.length?t[3]:1]}(o)}}}function Pe(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function ze(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function Ge(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function Ae(t,e,n,r){t.addEventListener(e,n,r)}function Ne(t,e,n){t.removeEventListener(e,n)}function je(t,e,n,r,a,o){for(var i=n;i<r;++i)t[i]+=t[a+i-n]*o,e[i]+=e[a+i-n]*o}function Te(t,e,n,r,a){for(var o=n;o<r;++o){var i=t[o],s=e[o];t[o]=t[a+o-n],t[a+o-n]=i,e[o]=e[a+o-n],e[a+o-n]=s}}function Ye(t,e,n,r,a){for(var o=n;o<r;++o)t[o]/=a,e[o]/=a}function Fe(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=tn(e),a=0;a<e;++a){var o=e*a,i=e*(a+1),s=o+a;if(0===n[s])for(var l=a+1;l<e;++l)if(n[e*l+a]){Te(n,r,o,i,e*l);break}if(!n[s])return[];Ye(n,r,o,i,n[s]);for(l=0;l<e;++l){var u=e*l,c=u+e,f=n[u+a];0!==f&&a!==l&&je(n,r,u,c,o,-f)}}return r}function Xe(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var a=0;a<e;++a)n[a*e+r]=t[e*r+a];return n}function Be(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=Math.atan2(r,n);return 0<=a?a:a+2*Math.PI}function Ie(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function Le(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=tn(n),a=Math.min(e,n),o=0;o<a-1;++o){for(var i=0;i<a-1;++i)r[o*n+i]=t[o*e+i];r[(o+1)*n-1]=t[(o+1)*e-1],r[(n-1)*n+o]=t[(e-1)*e+o]}return r[n*n-1]=t[e*e-1],r}function We(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=tn(e);return t.forEach(function(t){r=He(r,t,e)}),r}function He(t,e,n){var r=[],a=t.length/n,o=e.length/a;if(!a)return e;if(!o)return t;for(var i=0;i<n;++i)for(var s=0;s<o;++s)for(var l=r[i*o+s]=0;l<a;++l)r[i*o+s]+=t[i*a+l]*e[l*o+s];return r}function qe(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=[],a=t.length/n,o=e.length/a,i=0;i<n;++i)for(var s=0;s<o;++s)for(var l=r[i+s*o]=0;l<a;++l)r[i+s*o]+=t[i+l*a]*e[l+s*o];return r}function Ke(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length,r=0,a=n-1;0<=a;--a)r+=t[a];return n?r/n:0}function Ve(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),a=0;a<n;++a)r[a]=r[a]+e[a];return r}function Ue(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),a=0;a<n;++a)r[a]=r[a]-e[a];return r}function $e(t,e,n){void 0===n&&(n=e.length);var r=He(t,e,n),a=r[n-1];return r.map(function(t){return t/a})}function Ze(t,e){return $e(Qe(e,3),Ie(t,3))}function Je(t){return 9===t.length?[t[0],t[3],t[1],t[4],t[2],t[5]]:Xe(t)}function Qe(t,e){var n=Math.cos(t),r=Math.sin(t),a=tn(e);return a[0]=n,a[1]=-r,a[e]=r,a[e+1]=n,a}function tn(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function en(t,e){for(var n=tn(e),r=Math.min(t.length,e-1),a=0;a<r;++a)n[(e+1)*a]=t[a];return n}function nn(t,e){for(var n=tn(e),r=Math.min(t.length,e-1),a=0;a<r;++a)n[e*(a+1)-1]=t[a];return n}function rn(t,e,n,r,a,o,i,s){var l=t[0],u=t[1],c=e[0],f=e[1],p=n[0],d=n[1],h=r[0],g=r[1],v=a[0],m=a[1],b=o[0],y=o[1],_=i[0],x=i[1],w=s[0],S=s[1],E=Fe([l,u,1,0,0,0,-v*l,-v*u,0,0,0,l,u,1,-m*l,-m*u,c,f,1,0,0,0,-b*c,-b*f,0,0,0,c,f,1,-y*c,-y*f,p,d,1,0,0,0,-_*p,-_*d,0,0,0,p,d,1,-x*p,-x*d,h,g,1,0,0,0,-w*h,-w*g,0,0,0,h,g,1,-S*h,-S*g],8);if(!E.length)return[];var M=He(E,[v,m,b,y,_,x,w,S],8);return M[8]=1,Le(M,3,4)}var an=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function on(a){var o,i="rCS"+function(t){return an(t).toString(36)}(a),s=0;return{className:i,inject:function(t){var e,n=function(t){if(t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(t),r=0===s;return(n||r)&&(e=function(n,t,e){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerHTML=t.replace(/([^}{]*){/gm,function(t,e){return Ce(e).map(function(t){return-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+n):"."+n+" "+t}).join(", ")+"{"}),(e||document.head||document.body).appendChild(r),r}(i,a,n)),r&&(o=e),n||++s,{destroy:function(){n?(t.removeChild(e),e=null):(0<s&&--s,0===s&&o&&(o.parentNode.removeChild(o),o=null))}}}}}var sn=function(t,e){return(sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var ln=function(){return(ln=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};var un=function(){return(un=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function cn(t,e,n,r){var a=mn(t),o=mn(e),i=mn(r);return pn(bn(r[0],yn(a,i)),bn(r[0],yn(o,i)),n[0])}function fn(t){return t.touches?gn(t.touches):[vn(t)]}function pn(t,e,n){var r=t.clientX,a=t.clientY;return{clientX:r,clientY:a,deltaX:r-e.clientX,deltaY:a-e.clientY,distX:r-n.clientX,distY:a-n.clientY}}function dn(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function hn(t,n,r){return t.map(function(t,e){return pn(t,n[e],r[e])})}function gn(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(vn(t[r]));return n}function vn(t){return{clientX:t.clientX,clientY:t.clientY}}function mn(t){return{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function bn(t,e){return{clientX:t.clientX+e.clientX,clientY:t.clientY+e.clientY}}function yn(t,e){return{clientX:t.clientX-e.clientX,clientY:t.clientY-e.clientY}}var _n=function(){function t(t,e){var o=this;void 0===e&&(e={}),this.el=t,this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.onDragStart=function(t){if(o.flag||!1!==t.cancelable){if(function(t){return t.touches&&2<=t.touches.length}(t)){if(!o.flag&&t.touches.length!==t.changedTouches.length)return;o.pinchFlag||o.onPinchStart(t)}if(!o.flag){var e=o.startClients[0]?o.startClients:fn(t);o.customDist=[0,0],o.flag=!0,o.isDrag=!1,o.startClients=e,o.prevClients=e,o.datas={};var n=pn(e[o.movement=0],o.prevClients[0],o.startClients[0]),r=o.options,a=r.dragstart;(r.preventRightClick&&3===t.which||!1===(a&&a(un({datas:o.datas,inputEvent:t},n))))&&(o.startClients=[],o.prevClients=[],o.flag=!1),o.flag&&t.preventDefault()}}},this.onDrag=function(t,e){if(o.flag){var n=fn(t);o.pinchFlag&&o.onPinch(t,n);var r=o.move([0,0],t,n);if(r&&(r.deltaX||r.deltaY)){var a=o.options.drag;a&&a(un({},r,{isScroll:!!e,inputEvent:t}))}}},this.onDragEnd=function(t){if(o.flag){o.pinchFlag&&o.onPinchEnd(t),o.flag=!1;var e=o.options.dragend,n=o.prevClients,r=o.startClients,a=o.pinchFlag?cn(n,n,r,o.startPinchClients):pn(n[0],n[0],r[0]);o.startClients=[],o.prevClients=[],e&&e(un({datas:o.datas,isDrag:o.isDrag,inputEvent:t},a))}},this.options=un({container:t,preventRightClick:!0,pinchThreshold:0,events:["touch","mouse"]},e);var n=this.options,r=n.container,a=n.events;if(this.isTouch=-1<a.indexOf("touch"),this.isMouse=-1<a.indexOf("mouse"),this.customDist=[0,0],this.isMouse&&(Ae(t,"mousedown",this.onDragStart),Ae(r,"mousemove",this.onDrag),Ae(r,"mouseup",this.onDragEnd)),this.isTouch){var i={passive:!1};Ae(t,"touchstart",this.onDragStart,i),Ae(r,"touchmove",this.onDrag,i),Ae(r,"touchend",this.onDragEnd,i)}}var e=t.prototype;return e.isDragging=function(){return this.isDrag},e.isPinching=function(){return this.isPinch},e.scrollBy=function(e,n,t,r){void 0===r&&(r=!0),this.flag&&(this.startClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),this.prevClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),r&&this.onDrag(t,!0))},e.move=function(t,e,n){var r=t[0],a=t[1];void 0===n&&(n=this.prevClients);var o=this.customDist,i=this.prevClients,s=this.startClients,l=this.pinchFlag?cn(n,i,s,this.startPinchClients):pn(n[0],i[0],s[0]);o[0]+=r,o[1]+=a,l.deltaX+=r,l.deltaY+=a;var u=l.deltaX,c=l.deltaY;return l.distX+=o[0],l.distY+=o[1],this.movement+=Math.sqrt(u*u+c*c),this.prevClients=n,this.isDrag=!0,un({datas:this.datas},l,{isScroll:!1,inputEvent:e})},e.onPinchStart=function(t){var e,n,r=this.options,a=r.pinchstart,o=r.pinchThreshold;if(!(this.isDrag&&this.movement>o)){var i=gn(t.changedTouches);if(this.pinchFlag=!0,(e=this.startClients).push.apply(e,i),(n=this.prevClients).push.apply(n,i),this.startDistance=dn(this.prevClients),this.startPinchClients=this.prevClients.slice(),a){var s=this.prevClients,l=mn(s),u=pn(l,l,l);a(un({datas:this.datas,touches:hn(s,s,s)},u,{inputEvent:t}))}}},e.onPinch=function(t,e){if(this.flag&&this.pinchFlag){this.isPinch=!0;var n=this.options.pinch;if(n){var r=this.prevClients,a=this.startClients,o=pn(mn(e),mn(r),mn(a)),i=dn(e);n(un({datas:this.datas,touches:hn(e,r,a),scale:i/this.startDistance,distance:i},o,{inputEvent:t}))}}},e.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var r=this.prevClients,a=this.startClients,o=pn(mn(r),mn(r),mn(a));n(un({datas:this.datas,isPinch:e,touches:hn(r,r,a)},o,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},e.unset=function(){var t=this.el,e=this.options.container;this.isMouse&&(Ne(t,"mousedown",this.onDragStart),Ne(e,"mousemove",this.onDrag),Ne(e,"mouseup",this.onDragEnd)),this.isTouch&&(Ne(t,"touchstart",this.onDragStart),Ne(e,"touchmove",this.onDrag),Ne(e,"touchend",this.onDragEnd))},t}(),xn=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,a=n.indexOf(t),o=-1===a?n.length:a;n[o]=t,r[o]=e},t}(),wn=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),Sn="function"==typeof Map,En=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}();var Mn=function(){function t(t,e,n,r,a,o,i,s){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=a,this.maintained=o,this.changedBeforeAdded=i,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=function(t,n){var s=[],l=[];return t.forEach(function(t){var e=t[0],n=t[1],r=new En;s[e]=r,l[n]=r}),s.forEach(function(t,e){t.connect(s[e-1])}),t.filter(function(t,e){return!n[e]}).map(function(t,e){var n=t[0],r=t[1];if(n===r)return[0,0];var a=s[n],o=l[r-1],i=a.getIndex();return a.disconnect(),o?a.connect(o,o.next):a.connect(void 0,s[0]),[i,a.getIndex()]})}(this.changedBeforeAdded,this.fixed),s=this.changed,l=[];this.cacheOrdered=t.filter(function(t,e){var n=t[0],r=t[1],a=s[e],o=a[0],i=a[1];if(n!==r)return l.push([o,i]),!0}),this.cachePureChanged=l},t}();var Cn=function(t,e){return(Cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Dn,On="function"==typeof Map?void 0:(Dn=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++Dn)}),Rn=function(e){function t(t){return void 0===t&&(t=[]),e.call(this,t,On)||this}return function(t,e){function n(){this.constructor=t}Cn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t}(function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}return t.prototype.update=function(t){var e=[].slice.call(t),n=function(t,e,n){var r=Sn?Map:n?wn:xn,a=n||function(t){return t},o=[],i=[],s=[],l=t.map(a),u=e.map(a),c=new r,f=new r,p=[],d=[],h={},g=[],v=0,m=0;return l.forEach(function(t,e){c.set(t,e)}),u.forEach(function(t,e){f.set(t,e)}),l.forEach(function(t,e){var n=f.get(t);void 0===n?(++m,i.push(e)):h[n]=m}),u.forEach(function(t,e){var n=c.get(t);void 0===n?(o.push(e),++v):(s.push([n,e]),m=h[e]||0,p.push([n-m,e-v]),d.push(e===n),n!==e&&g.push([n,e]))}),i.reverse(),new Mn(t,e,o,i,g,s,p,d)}(this.list,e,this.findKeyCallback);return this.list=e,n},t}()),kn=function(t,e){return(kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Pn(t,e){function n(){this.constructor=t}kn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var zn=function(){return(zn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function Gn(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*t+'px" height="'+32*t+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+e+'deg);transform-origin: 16px 16px"></path></svg>'}var An,Nn=re(),jn=-1<Nn.os.name.indexOf("ios")||-1<Nn.browser.name.indexOf("safari"),Tn="moveable-",Yn=(An=Tn,("\n{\n\tposition: fixed;\n\twidth: 0;\n\theight: 0;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 3000;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n\ttop: 0;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n\tbackground: #4af;\n\tmargin-top: -7px;\n    margin-left: -7px;\n    z-index: 10;\n    will-change: transform;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tbackground: #4af;\n\ttransform-origin: 0px 0.5px;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n}\n.line.rotation-line {\n\theight: 40px;\n\twidth: 1px;\n\ttransform-origin: 0.5px 39.5px;\n}\n.line.rotation-line .control {\n\tborder-color: #4af;\n\tbackground:#fff;\n\tcursor: alias;\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n}\n.line.horizontal.bold {\n    height: 2px;\n}\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n\tmargin-left: -6px;\n\tpointer-events: none;\n}\n"+[0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return'\n.direction[data-rotation="'+t+'"] {\n\t'+function(t){var e=Gn(1,t),n=Gn(2,t),r=45*Math.round(t/45)%180,a=135==r?"nwse-resize":45==r?"nesw-resize":90==r?"ew-resize":"ns-resize";return"cursor:"+a+";cursor: url('"+e+"') 16 16, "+a+";cursor: -webkit-image-set(url('"+e+"') 1x, url('"+n+"') 2x) 16 16, "+a+";"}(t)+"\n}\n"}).join("\n")+"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n"+(jn?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n").replace(/([^}{]*){/gm,function(t,e){return e.replace(/\.([^{,\s\d.]+)/g,"."+An+"$1")+"{"})),Fn=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Xn=1e-7,Bn=Math.pow(10,10),In=-Bn,Ln={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},Wn={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135};function Hn(t,e){return[t[0]*e[0],t[1]*e[1]]}function qn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(t){return t.split(" ").map(function(t){return t?""+e+t:""}).join(" ")}).join(" ")}.apply(void 0,[Tn].concat(t))}function Kn(){return tn(3)}function Vn(t,e,n){return We(e,nn(n,e),t,nn(n.map(function(t){return-t}),e))}function Un(o){return $n(wr(o,":before")).map(function(t,e){var n=Oe(t),r=n.value,a=n.unit;return r*function(t,e,n){return"%"!==e?1:t.ownerSVGElement.viewBox.baseVal[n?"width":"height"]/100}(o,a,0===e)})}function $n(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function Zn(t,e,n){for(var r=document.body,a=!t||n?t:t.parentElement,o=!1,i="relative";a&&a!==r;){e===a&&(o=!0);var s=wr(a),l=s.transform;if("static"!==(i=s.position)||l&&"none"!==l)break;a=a.parentElement,i="relative"}return{isStatic:"static"===i,isEnd:o||!a||a===r,offsetParent:a||r}}function Jn(t,e,n,r){var a,o,i,s,l,u=t,c=[],f="svg"!==u.tagName.toLowerCase()&&"ownerSVGElement"in u,p=e||document.body,d=!1,h=!1,g=3,v=Zn(e,e,!0).offsetParent;for(n&&(e=t.parentElement);u&&!d;){var m=wr(u),b=u.tagName.toLowerCase(),y=m.position,_="fixed"===y,x=m.transform,w=6===(s=(l=x)&&"none"!==l?Se(l)?l:De(l).value.split(/s*,\s*/g).map(function(t){return parseFloat(t)}):[1,0,0,1,0,0]).length?[s[0],s[2],s[4],s[1],s[3],s[5],0,0,1]:Xe(s);if(!h&&16===w.length){h=!0,g=4;for(var S=c.length,E=0;E<S;++E)c[E]=Le(c[E],3,4)}h&&9===w.length&&(w=Le(w,3,4));var M=u.offsetLeft,C=u.offsetTop;if(_){var D=(e||document.documentElement).getBoundingClientRect();M-=D.left,C-=D.top}var O=we(M),R=O,k=void 0;R&&"svg"!==b?(k=jn?Un(u):$n(m).map(function(t){return parseFloat(t)}),R=!1,"g"===b?C=M=0:(M=(a=tr(u,k))[0],C=a[1],k[0]=a[2],k[1]=a[3])):k=$n(m).map(function(t){return parseFloat(t)}),"svg"===b&&i&&c.push(Qn(u,g),tn(g));var P=Zn(u,e),z=P.offsetParent,G=P.isEnd,A=P.isStatic;jn&&!R&&!O&&A&&"relative"===y&&(M-=z.offsetLeft,C-=z.offsetTop,d=d||G);var N=0,j=0;if(R||v===z||(N=z.clientLeft,j=z.clientTop),c.push(Vn(w,g,k),nn([R?u:M-u.scrollLeft+N,R?k:C-u.scrollTop+j],g)),i=i||w,o=o||k,d||_)break;u=z,d=G}var T=n?Le(n,r,g):tn(g),Y=n?Le(n,r,g):tn(g),F=tn(g),X=c.length,B=Zn(p,p,!0).offsetParent;c.reverse(),c.forEach(function(t,e){var n;X-2===e&&(Y=T.slice()),X-1===e&&(F=T.slice()),Se(t[g-1])&&(n=function(t,e,n,r,a,o){var i,s=lr(t),l=s[0],u=s[1],c=e.getBoundingClientRect(),f=t.getBoundingClientRect(),p=f.left-c.left+e.scrollLeft,d=f.top-c.top+e.scrollTop,h=f.width,g=f.height,v=We(n,a,o),m=ar(v,l,u,n),b=m.left,y=m.top,_=m.width,x=m.height,w=er(v,r,n),S=Ue(w,[b,y]),E=[p+S[0]*h/_,d+S[1]*g/x],M=[0,0],C=0;for(;++C<10;){var D=Fe(a,n);i=Ue(er(D,E,n),er(D,w,n)),M[0]=i[0],M[1]=i[1];var O=ar(We(n,a,nn(M,n),o),l,u,n),R=O.left,k=O.top,P=R-p,z=k-d;if(Math.abs(P)<2&&Math.abs(z)<2)break;E[0]-=P,E[1]-=z}return M.map(function(t){return Math.round(t)})}(t[g-1],B,g,t[2*g-1],T,c[e+1]),t[g-1]=n[0],t[2*g-1]=n[1]),T=He(T,t,g)});var I=(!f&&h?"matrix3d":"matrix")+"("+Je(f&&16===i.length?Le(i,4,3):i)+")";return[Y,F,T,i,I,o,h]}function Qn(t,e){var n=t.clientWidth,r=t.clientHeight,a=t.viewBox.baseVal,o=a.width||n,i=a.height||r,s=n/o,l=r/i,u=t.preserveAspectRatio.baseVal,c=u.align,f=u.meetOrSlice,p=[0,0],d=[s,l],h=[0,0];if(1!==c){var g=(c-2)%3,v=Math.floor((c-2)/3);p[0]=o*g/2,p[1]=i*v/2;var m=2===f?Math.max(l,s):Math.min(s,l);d[0]=m,d[1]=m,h[0]=(n-o)/2*g,h[1]=(r-i)/2*v}var b=en(d,e);return b[e-1]=h[0],b[2*e-1]=h[1],Vn(b,e,p)}function tr(t,e){if(!t.getBBox)return[0,0];var n=t.getBBox(),r=t.ownerSVGElement.viewBox.baseVal,a=n.x-r.x,o=n.y-r.y;return[a,o,e[0]-a,e[1]-o]}function er(t,e,n){return $e(t,Ie(e,n),n)}function nr(t,e,n,r){return[er(t,[0,0],r),er(t,[e,0],r),er(t,[0,n],r),er(t,[e,n],r)]}function rr(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]}),r=Math.min.apply(Math,e),a=Math.min.apply(Math,n),o=Math.max.apply(Math,e),i=Math.max.apply(Math,n);return{left:r,top:a,right:o,bottom:i,width:o-r,height:i-a}}function ar(t,e,n,r){return rr(nr(t,e,n,r))}function or(t,e,n,r){var a=16===t.length?4:3,o=nr(t,n,r,a),i=o[0],s=i[0],l=i[1],u=o[1],c=u[0],f=u[1],p=o[2],d=p[0],h=p[1],g=o[3],v=g[0],m=g[1],b=er(t,e,a),y=b[0],_=b[1],x=Math.min(s,c,d,v),w=Math.min(l,f,h,m),S=Math.max(s,c,d,v),E=Math.max(l,f,h,m);y=y-x||0,_=_-w||0;var M=[((s=s-x||0)+(c=c-x||0)+(d=d-x||0)+(v=v-x||0))/4,((l=l-w||0)+(f=f-w||0)+(h=h-w||0)+(m=m-w||0))/4],C=Be(M,[s,l]),D=Be(M,[c,f]);return[[x,w,S,E],[y,_],[s,l],[c,f],[d,h],[v,m],C<D&&D-C<Math.PI||D<C&&D-C<-Math.PI?1:-1]}function ir(t,e,n){void 0===n&&(n=Be(t,e));var r=e[0]-t[0],a=e[1]-t[1],o=Math.sqrt(r*r+a*a);return{transform:"translate("+t[0]+"px, "+t[1]+"px) rotate("+n+"rad)",width:o+"px"}}function sr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.length;return{transform:"translate("+e.reduce(function(t,e){return t+e[0]},0)/r+"px, "+e.reduce(function(t,e){return t+e[1]},0)/r+"px) rotate("+t+"rad)"}}function lr(t,e,n,r){void 0===e&&(e=window.getComputedStyle(t)),void 0===r&&(r=n||"border-box"===e.boxSizing);var a=t.offsetWidth,o=t.offsetHeight,i=!we(a);if((n||r)&&i)return[a,o];if(a=t.clientWidth,o=t.clientHeight,i||a||o)return n||r?[a+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),o+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)]:[a-(parseFloat(e.paddingLeft)||0)-(parseFloat(e.paddingRight)||0),o-(parseFloat(e.paddingTop)||0)-(parseFloat(e.paddingBottom)||0)];var s=t.getBBox();return[s.width,s.height]}function ur(t,e){return Be(0<e?t[0]:t[1],0<e?t[1]:t[0])}function cr(t,e,n,r){var a,o,i,s,l,u=0,c=0,f=0,p=0,d=[0,0],h=[0,0],g=[0,0],v=[0,0],m=[0,0],b=Kn(),y=Kn(),_=Kn(),x=Kn(),w=0,S=0,E=[0,0],M=1,C=1,D=!1,O="",R=[0,0],k={left:0,right:0,top:0,width:0,height:0,bottom:0},P={left:0,right:0,top:0,width:0,height:0,bottom:0},z=0,G=r?r.beforeMatrix:void 0,A=r?r.is3d?4:3:void 0;if(t){if(r)w=r.width,S=r.height;else{var N=wr(t);w=t.offsetWidth,S=t.offsetHeight,we(w)&&(w=(a=lr(t,N,!0))[0],S=a[1])}y=(o=Jn(t,e,G,A))[0],b=o[1],_=o[2],x=o[3],O=o[4],E=o[5],D=o[6],u=(s=(i=or(_,E,w,S))[0])[0],c=s[1],f=s[2],p=s[3],d=i[1],h=i[2],g=i[3],v=i[4],m=i[5],M=i[6];var j;j=(l=or(b,Ve(E,function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e-1;++r)n[r]=t[(r+1)*e-1];return n[e-1]=0,n}(x,D?4:3)),w,S))[0],R=l[1],C=l[6],R=[R[0]+j[0]-u,R[1]+j[1]-c],k=fr(t),P=fr(Zn(n,n,!0).offsetParent||document.body),z=ur([h,g],M)}return{rotation:z,containerRect:P,beforeDirection:C,direction:M,target:t,left:u,top:c,right:f,bottom:p,pos1:h,pos2:g,pos3:v,pos4:m,width:w,height:S,beforeMatrix:y,matrix:_,targetTransform:O,offsetMatrix:b,targetMatrix:x,is3d:D,beforeOrigin:R,origin:d,transformOrigin:E,clientRect:k}}function fr(t){var e=t.getBoundingClientRect(),n=e.left,r=e.width,a=e.top,o=e.bottom;return{left:n,right:e.right,top:a,bottom:o,width:r,height:e.height}}function pr(t){if(t){var e=t.getAttribute("data-direction");if(e){var n=[0,0];return-1<e.indexOf("w")&&(n[0]=-1),-1<e.indexOf("e")&&(n[0]=1),-1<e.indexOf("n")&&(n[1]=-1),-1<e.indexOf("s")&&(n[1]=1),n}}}function dr(t,e){return[Ve(e,t[0]),Ve(e,t[1]),Ve(e,t[2]),Ve(e,t[3])]}function hr(t){var e=t.left,n=t.top;return dr([t.pos1,t.pos2,t.pos3,t.pos4],[e,n])}function gr(t){return Math.round(t%1==-.5?t-1:t)}function vr(t,e){return e?Math.round(t/e)*e:t}function mr(n,r){return n.forEach(function(t,e){n[e]=vr(n[e],r)}),n}function br(t,e){t[e]&&(t[e].unset(),t[e]=null)}function yr(t,e,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function _r(t,e,n){var r=e.datas;return r.datas||(r.datas={}),zn({},n,{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,datas:r.datas})}function xr(t,e,n){return t.triggerEvent(e,n)}function wr(t,e){return window.getComputedStyle(t,e)}function Sr(t,n){var r={},a={};return t.filter(function(e){var t=e.name;if(r[t]||!n.some(function(t){return e[t]}))return!1;if(e.ableGroup){if(a[e.ableGroup])return!1;a[e.ableGroup]=!0}return r[t]=!0})}function Er(t,e,n){return t*(e?n:1/n)}function Mr(t,e,n){return t*(e?1/n:n)}function Cr(t,e){return t===e||null==t&&null==e}function Dr(n,t,e,r,a,o){var i="Start"===a;if(i&&-1<r.indexOf("Control")&&n.areaElement===o.inputEvent.target)return!1;var s=""+e+r+a,l=""+e+r+"Condition",u="End"===a,c=-1<a.indexOf("After");i&&n.updateRect(a,!0,!1);var f=-1<r.indexOf("Group"),p=n[t].filter(function(t){return t[s]}),d=p.filter(function(t){var e=i&&t[l];return!(e&&!e(o.inputEvent.target,n))&&t[s](n,o)}),h=d.length;if(i){if(p.length&&!h)return n.state.dragger=null,n.moveables&&n.moveables.forEach(function(t){t.state.dragger=null}),!1;!function(t,e,n){var r=_r(t,n,{isPinch:!!n.isPinch}),a=e?"Group":"";e&&(r.targets=t.props.targets),xr(t,"onRender"+a+"Start",r)}(n,f,o)}else u?function(t,e,n){var r=_r(t,n,{isPinch:!!n.sPinch,isDrag:n.isDrag}),a=e?"Group":"";e&&(r.targets=t.props.targets),xr(t,"onRender"+a+"End",r)}(n,f,o):h&&function(t,e,n){var r=_r(t,n,{isPinch:!!n.isPinch}),a=e?"Group":"";e&&(r.targets=t.props.targets),xr(t,"onRender"+a,r)}(n,f,o);u&&(n.state.dragger=null),!i&&h&&(d.some(function(t){return t.updateRect})&&!f?n.updateRect(a,!1,!1):n.updateRect(a,!0,!1)),(!i&&h||u&&!h)&&n.forceUpdate(),i||u||c||!h||Dr(n,t,e,r,a+"After",o)}function Or(r,t,a,o){var i={container:window,pinchThreshold:r.props.pinchThreshold};return["drag","pinch"].forEach(function(n){["Start","","End"].forEach(function(e){i[""+n+e.toLowerCase()]=function(t){return Dr(r,a,n,o,e,t)}})}),new _n(t,i)}var Rr,kr,Pr=(Rr="div",kr=on(Yn),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function n(){this.constructor=t}sn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=void 0===e?"":e,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}(t,["className"]);return Ct(Rr,ln({ref:Lt(this,"element"),className:n+" "+kr.className},r))},e.prototype.componentDidMount=function(){this.injectResult=kr.inject(this.element)},e.prototype.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},e.prototype.getElement=function(){return this.element},e}(M));function zr(t,e,n,r){var a=Be(e,n),o=t?vr(a/Math.PI*180,15)%180:-1;return Ct("div",{key:"line"+r,className:qn("line","direction",t),"data-rotation":o,"data-direction":t,style:ir(e,n,a)})}var Gr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={conatainer:null,target:null,beforeMatrix:Kn(),matrix:Kn(),targetMatrix:Kn(),targetTransform:"",is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,beforeDirection:1,beforeOrigin:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],clientRect:{left:0,right:0,top:0,width:0,height:0,bottom:0},containerRect:{left:0,right:0,top:0,width:0,height:0,bottom:0},rotation:0},t.targetAbles=[],t.controlAbles=[],t}Pn(t,e);var n=t.prototype;return n.render=function(){var t=this.props,e=t.edge,n=t.parentPosition,r=t.className,a=t.target;this.checkUpdate();var o=n||{left:0,top:0},i=o.left,s=o.top,l=this.state,u=l.left,c=l.top,f=l.pos1,p=l.pos2,d=l.pos3,h=l.pos4,g=l.target,v=l.direction;return Ct(Pr,{ref:Lt(this,"controlBox"),className:qn("control-box",-1===v?"reverse":"")+" "+r,style:{position:"absolute",display:a&&g?"block":"none",transform:"translate("+(u-i)+"px, "+(c-s)+"px) translateZ(50px)"}},this.renderAbles(),zr(e?"n":"",f,p,0),zr(e?"e":"",p,h,1),zr(e?"w":"",f,d,2),zr(e?"s":"",d,h,3))},n.componentDidMount=function(){this.controlBox.getElement();var t=this.props,e=t.parentMoveable,n=t.container;this.updateEvent(t),n||e||this.updateRect("End",!1,!0)},n.componentDidUpdate=function(t){this.updateEvent(t)},n.componentWillUnmount=function(){br(this,"targetDragger"),br(this,"controlDragger")},n.getContainer=function(){var t=this.props,e=t.parentMoveable;return t.container||e&&e.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(t){return t&&-1<(t.getAttribute("class")||"").indexOf(Tn)},n.dragStart=function(t){this.targetDragger&&this.targetDragger.onDragStart(t)},n.isInside=function(t,e){var n=this.state,r=n.pos1,a=n.pos2,o=n.pos3,i=n.pos4,s=n.target;if(!s)return!1;var l=s.getBoundingClientRect();return function(t,e,n,r,a){var o=[yr(t,e,n),yr(t,n,a),yr(t,a,e)],i=[yr(t,n,a),yr(t,a,r),yr(t,r,n)];return!!(o.every(function(t){return 0<=t})||o.every(function(t){return t<=0})||i.every(function(t){return 0<=t})||i.every(function(t){return t<=0}))}([t-l.left,e-l.top],r,a,i,o)},n.updateRect=function(t,e,n){void 0===n&&(n=!0);var r=this.props.parentMoveable,a=this.state,o=a.target||this.props.target,i=this.getContainer();this.updateState(cr(o,i,i,e?a:void 0),!r&&n)},n.updateEvent=function(t){var e=this.controlBox.getElement(),n=this.targetAbles.length,r=this.controlAbles.length,a=this.props.target,o=t.target,i=this.props.dragArea,s=t.dragArea,l=!i&&o!==a,u=!n&&this.targetDragger||l||s!==i;u&&(br(this,"targetDragger"),this.updateState({dragger:null})),r||br(this,"controlDragger"),a&&n&&!this.targetDragger&&(this.targetDragger=Or(this,i?this.areaElement:a,"targetAbles","")),!this.controlDragger&&r&&(this.controlDragger=Or(this,e,"controlAbles","Control")),u&&this.unsetAbles()},n.updateTarget=function(t){this.updateRect(t,!0)},n.getRect=function(){var t=this.state,e=hr(this.state),n=e[0],r=e[1],a=e[2],o=e[3],i=rr(e),s=t.width,l=t.height;return{width:i.width,height:i.height,left:i.left,top:i.top,pos1:n,pos2:r,pos3:a,pos4:o,offsetWidth:s,offsetHeight:l}},n.checkUpdate=function(){var t=this.props,e=t.target,n=t.container,r=t.parentMoveable,a=this.state,o=a.target,i=a.container;(o||e)&&(this.updateAbles(),Cr(o,e)&&Cr(i,n)||(this.updateState({target:e,container:n}),r||!n&&!this.controlBox||this.updateRect("End",!1,!1)))},n.triggerEvent=function(t,e){var n=this.props[t];return n&&n(e)},n.unsetAbles=function(){var e=this;this.targetAbles.filter(function(t){return!!t.unset&&(t.unset(e),!0)}).length&&this.forceUpdate()},n.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props,r=t.filter(function(t){return t&&n[t.name]}),a="drag"+e+"ControlStart",o=Sr(r,["drag"+e+"Start","pinch"+e+"Start"]),i=Sr(r,[a]);this.targetAbles=o,this.controlAbles=i},n.updateState=function(t,e){if(e)this.setState(t);else{var n=this.state;for(var r in t)n[r]=t[r]}},n.renderAbles=function(){var e=this,n=this.props;return Sr(n.ables.filter(function(t){return t&&n[t.name]}),["render"]).map(function(t){return(0,t.render)(e,It)})},t.defaultProps={target:null,container:null,origin:!0,edge:!1,parentMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,transformOrigin:"",className:""},t}(Nt);function Ar(t){return Be([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}var Nr={name:"pinchable",updateRect:!0,props:{pinchable:Boolean,pinchThreshold:Number},pinchStart:function(n,t){var r=t.datas,a=t.clientX,o=t.clientY,e=t.touches,i=t.inputEvent,s=t.targets,l=n.props,u=l.pinchable,c=l.ables;if(!u)return!1;var f="onPinch"+(s?"Group":"")+"Start",p="drag"+(s?"Group":"")+"ControlStart",d=(!0===u?n.controlAbles:c.filter(function(t){return-1<u.indexOf(t.name)})).filter(function(t){return t.canPinch&&t[p]}),h=_r(n,t,{});s&&(h.targets=s);var g=xr(n,f,h);r.isPinch=!1!==g,r.ables=d;var v=r.isPinch;if(!v)return!1;var m=Ar(e);return d.forEach(function(t){r[t.name+"Datas"]={};var e={datas:r[t.name+"Datas"],clientX:a,clientY:o,inputEvent:i,parentRotate:m,pinchFlag:!0};t[p](n,e)}),n.state.snapDirection=[0,0],v},pinch:function(e,t){var n=t.datas,r=t.clientX,a=t.clientY,o=t.scale,i=t.distance,s=t.touches,l=t.inputEvent,u=t.targets;if(n.isPinch){var c=Ar(s),f=i*(1-1/o),p=_r(e,t,{});u&&(p.targets=u),xr(e,"onPinch"+(u?"Group":""),p);var d=n.ables,h="drag"+(u?"Group":"")+"Control";return d.forEach(function(t){t[h](e,{clientX:r,clientY:a,datas:n[t.name+"Datas"],inputEvent:l,parentDistance:f,parentRotate:c,pinchFlag:!0})}),p}},pinchEnd:function(e,t){var n=t.datas,r=t.clientX,a=t.clientY,o=t.isPinch,i=t.inputEvent,s=t.targets;if(n.isPinch){var l="onPinch"+(s?"Group":"")+"End",u=_r(e,t,{isDrag:o});s&&(u.targets=s),xr(e,l,u);var c=n.ables,f="drag"+(s?"Group":"")+"ControlEnd";return c.forEach(function(t){t[f](e,{clientX:r,clientY:a,isDrag:o,datas:n[t.name+"Datas"],inputEvent:i,pinchFlag:!0})}),o}},pinchGroupStart:function(t,e){return this.pinchStart(t,zn({},e,{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,zn({},e,{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,zn({},e,{targets:t.props.targets}))}};function jr(t,o,i,e,s,l){var n=o.name,u=e[n]||(e[n]=[]),c=!!i.match(/End$/g);return t.moveables.map(function(t,e){var n=u[e]||(u[e]={}),r=function(t){return typeof t===ce}(s)?s(t,n):s,a=o[i](t,zn({},r,{datas:n,parentFlag:!0}));return a&&l&&l(t,n,a,e),c&&(t.state.dragger=null),a})}function Tr(t){return Pe(t,qn("direction"))}function Yr(t,e){var n=e.datas,r=t.state,a=r.matrix,o=r.beforeMatrix,i=r.is3d,s=r.left,l=r.top,u=r.origin,c=r.offsetMatrix,f=r.targetMatrix,p=r.transformOrigin,d=i?4:3;n.is3d=i,n.matrix=a,n.targetMatrix=f,n.beforeMatrix=o,n.offsetMatrix=c,n.transformOrigin=p,n.inverseMatrix=Fe(a,d),n.inverseBeforeMatrix=Fe(o,d),n.absoluteOrigin=Ie(Ve([s,l],u),d),n.startDragBeforeDist=$e(n.inverseBeforeMatrix,n.absoluteOrigin,d),n.startDragDist=$e(n.inverseMatrix,n.absoluteOrigin,d)}function Fr(t,e){var n=t.datas,r=t.distX,a=t.distY,o=n.inverseBeforeMatrix,i=n.inverseMatrix,s=n.is3d,l=n.startDragBeforeDist,u=n.startDragDist,c=s?4:3;return Ue($e(e?o:i,Ve(n.absoluteOrigin,[r,a]),c),e?l:u)}function Xr(t){var e=[];return 0<=t[1]&&(0<=t[0]&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(0<=t[0]&&e.push(1),t[0]<=0&&e.push(0)),e}function Br(e,t){return Xr(t).map(function(t){return e[t]})}function Ir(t,e){var n=Br(t,e);return[Ke.apply(void 0,n.map(function(t){return t[0]})),Ke.apply(void 0,n.map(function(t){return t[1]}))]}function Lr(t,e){var n=t[0],r=t[1],a=t[2];return Ir([t[3],a,r,n],e)}function Wr(t,e){return Lr([t[0],t[1],t[2],t[3]],e)}function Hr(t,e,n,r,a,o){var i=Lr(nr(e,n,r,a),o);return[t[0]-i[0],t[1]-i[1]]}function qr(t,e,n,r){return He(t,Vn(e,r,n),r)}function Kr(t,e){var n=t.transformOrigin,r=t.offsetMatrix,a=t.is3d?4:3;return qr(r,He(t.targetMatrix,en(e,a),a),n,a)}function Vr(t,e,n,r,a,o){var i=t.props.groupable,s=t.state,l=s.transformOrigin,u=s.targetMatrix,c=s.offsetMatrix,f=s.is3d,p=s.width,d=s.height,h=s.left,g=s.top,v=f?4:3,m=i?h:0,b=i?g:0;return Ue(Hr(a,qr(c,u,function(t,s,l,u,c,f){return void 0===u&&(u=s),void 0===c&&(c=l),void 0===f&&(f=[0,0]),t?t.map(function(t,e){var n=Oe(t),r=n.value,a=n.unit,o=e?c:u,i=e?l:s;return"%"===t||isNaN(r)?i*(o?f[e]/o:0):"%"!==a?r:i*r/100}):f}(o,e,n,p,d,l),v),e,n,v,r),[m,b])}function Ur(t,e){return Wr(hr(t.state),e)}function $r(t){var e=t.state;if(!e.guidelines||!e.guidelines.length){var n=t.props,r=n.horizontalGuidelines,a=void 0===r?[]:r,o=n.verticalGuidelines,i=void 0===o?[]:o,s=n.elementGuidelines,l=void 0===s?[]:s,u=n.bounds,c=n.snapCenter;if(u||a.length||i.length||l.length){var f=e.containerRect,p=f.top,d=f.left,h=e.clientRect,g=h.top,v=h.left,m=hr(e),b=Math.min.apply(Math,m.map(function(t){return t[0]})),y=Math.min.apply(Math,m.map(function(t){return t[1]})),_=gr(b-(v-d)),x=gr(y-(g-p)),w=[];l.forEach(function(t){var e=t.getBoundingClientRect(),n=e.top,r=e.left,a=e.width,o=e.height,i=n-p,s=i+o,l=r-d,u=l+a;w.push({type:"vertical",element:t,pos:[vr(l+_,.1),i],size:o}),w.push({type:"vertical",element:t,pos:[vr(u+_,.1),i],size:o}),w.push({type:"horizontal",element:t,pos:[l,vr(i+x,.1)],size:a}),w.push({type:"horizontal",element:t,pos:[l,vr(s+x,.1)],size:a}),c&&(w.push({type:"vertical",element:t,pos:[vr((l+u)/2+_,.1),i],size:o,center:!0}),w.push({type:"horizontal",element:t,pos:[l,vr((i+s)/2+x,.1)],size:a,center:!0}))}),e.guidelines=w,e.enableSnap=!0}}}function Zr(t,e,n,r){return{vertical:Jr(t,e,!0,r),horizontal:Jr(t,n,!1,r)}}function Jr(t,e,n,r){void 0===r&&(r=0);var a=t.props.bounds;if(a){var o=a[n?"left":"top"],i=a[n?"right":"bottom"],s=Math.min.apply(Math,e),l=Math.max.apply(Math,e);if(!we(o)&&s<o+r)return{isBound:!0,offset:s-o,pos:o};if(!we(i)&&i-r<l)return{isBound:!0,offset:l-i,pos:i}}return{isBound:!1,offset:0,pos:0}}function Qr(e,i,t,s,l,u){if(!e||!e.length)return{isSnap:!1,posInfos:[]};var a="vertical"===i?0:1,n=t.map(function(r){var t=e.map(function(t){var e=t.pos,n=r-e[a];return{offset:n,dist:Math.abs(n),guideline:t}}).filter(function(t){var e=t.guideline,n=t.dist,r=e.type,a=e.center,o=e.element;return!(!u&&o||!l&&a||r!==i||s<n)}).sort(function(t,e){return t.dist-e.dist});return{pos:r,guidelineInfos:t}}).filter(function(t){return 0<t.guidelineInfos.length}).sort(function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist});return{isSnap:0<n.length,posInfos:n}}function ta(t,e){var n=t.props,r=n.snappable,a=n.bounds,o=n.verticalGuidelines,i=n.horizontalGuidelines,s=t.state,l=s.guidelines,u=s.enableSnap;return!(!r||!u||e&&!0!==r&&r.indexOf(e))&&!!(a||l&&l.length||o&&o.length||i&&i.length)}function ea(t,e,n,r,a){var o=t.state,i=o.guidelines,s=o.containerRect,l=s.height,u=s.width,c=t.props,f=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,r=0;r<n;++r){var a=t[r];if(!we(a))return a}return t[n]}(a,c.snapThreshold,5),p=c.snapElement,d=void 0===p||p,h=c.snapHorizontal,g=void 0===h||h,v=c.snapVertical,m=void 0===v||v,b=c.verticalGuidelines,y=c.horizontalGuidelines,_=i.slice();return g&&y&&y.forEach(function(t){_.push({type:"horizontal",pos:[0,vr(t,.1)],size:u})}),m&&b&&b.forEach(function(t){_.push({type:"vertical",pos:[vr(t,.1),0],size:l})}),{vertical:Qr(_,"vertical",e,f,r,d),horizontal:Qr(_,"horizontal",n,f,r,d)}}function na(t,e,n,r){var a=t.props.snapCenter&&n,o=["left","right"],i=["top","bottom"];return a&&(o.push("center"),i.push("middle")),o=o.filter(function(t){return t in e}),i=i.filter(function(t){return t in e}),ea(t,o.map(function(t){return e[t]}),i.map(function(t){return e[t]}),a,r)}function ra(t,e){var n=Zr(t,[e[0]],[e[1]]),r=n.horizontal,a=r.isBound,o=r.offset,i=n.vertical,s=i.isBound,l=i.offset;if(a||s){var u=void 0,c=(u=a&&s?Math.abs(o)<Math.abs(l):s)?l:o;return{isVertical:u,offset:c,dist:Math.abs(c)}}}function aa(t,e,n,r,a,o){var i=function(t,e,n,r){var a=e[0]-t[0],o=e[1]-t[1];Math.abs(a)<Xn&&(a=0);Math.abs(o)<Xn&&(o=0);if(!a)return r?void 0:[0,n];if(!o)return r?[n,0]:void 0;var i=o/a,s=t[1]-i*t[0];{if(r){var l=i*(e[0]+n)+s;return[n,l-e[1]]}return[(e[1]+n-s)/i-e[0],n]}}(t,e,-n,r);if(!i)return NaN;var s=Fr({datas:o,distX:i[0],distY:i[1]}),l=s[0],u=s[1];return a?u:l}function oa(t,e,n,r,a,o){var i=nr(t,e,n,o?4:3);return dr(i,Ue(r,Lr(i,a)))}function ia(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],r=n.guidelineInfos[0],a=r.offset,o=r.dist,i=r.guideline;return{isSnap:e,offset:a,dist:o,pos:n.pos,guideline:i}}function sa(r,t,a,o,i){var n,s=0,l=-1;if(t.map(function(t){return ra(r,t)}).forEach(function(t,e){t&&(!n||n.dist<t.dist)&&(n=t,l=e)}),n){var e=aa(a[l],t[l],n.offset,n.isVertical,o,i);isNaN(e)||(s=e)}else t.some(function(t,e){var n=function(t,e,n,r,a){var o,i=ea(t,[e[0]],[e[1]]),s=i.horizontal,l=i.vertical,u=Math.abs(n[1]-e[1])<Xn,c=Math.abs(n[0]-e[0])<Xn,f=ia(s),p=f.isSnap,d=f.dist,h=f.offset,g=ia(l),v=g.isSnap,m=g.dist,b=g.offset;return p||v?aa(n,e,(o=p&&v?0===d&&u||(0!==b||!c)&&m<d:v)?b:h,o,r,a):NaN}(r,t,a[e],o,i);return!isNaN(n)&&(s=n,!0)});return s}function la(t,e,n,r,a,o,i,s){var l=Lr(hr(t.state),o),u=oa(e,n,r,l,a,s);return a[0]&&a[1]?function(t,e,n,r,a,o,i,s,l){var u,c=Br(e,n),f=[n[0],-1*n[1]],p=[-1*n[0],n[1]],d=Ir(e,f),h=Ir(e,p),g=Zr(t,[c[0][0]],[c[0][1]]),v=g.horizontal,m=v.isBound,b=v.offset,y=g.vertical,_=y.isBound,x=y.offset,w=0,S=0,E=ra(t,d),M=ra(t,h),C=E&&E.dist>Math.abs(x),D=M&&M.dist>Math.abs(b);if(C||D)if(C){var O=aa(Ir(e,[-1*f[0],f[1]]),d,E.offset,E.isVertical,!1,r);isNaN(O)||(w=O),S=sa(t,[Ir(R=oa(a,o+n[0]*w,i+n[1]*S,s,n,l),n)],[Ir(R,f)],!0,r)}else{var R;O=aa(Ir(e,[-1*p[0],p[1]]),d,M.offset,M.isVertical,!0,r);isNaN(O)||(S=O),w=sa(t,[Ir(R=oa(a,o+n[0]*w,i+n[1]*S,s,n,l),n)],[Ir(R,p)],!1,r)}else{var k=ea(t,[c[0][0]],[c[0][1]]),P=k.horizontal,z=k.vertical,G=ia(P).offset,A=ia(z).offset;w=(u=Fr({datas:r,distX:-(_?x:A),distY:-(m?b:G)}))[0],S=u[1]}return[n[0]*w,n[1]*S]}(t,u,a,i,e,n,r,l,s):function(t,e,n,r){var a,o,i=0!==n[0]?0:1,s=0<i,l=e.slice().reverse();t.props.keepRatio?(a=[Ir(e,n)],o=[Ir(l,n)]):(a=Br(e,n),o=Br(l,n),a.push([(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]),o.reverse(),o.push([(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]));var u=sa(t,a,o,s,r),c=[0,0];return c[i]=n[i]*u,c}(t,u,a,i)}function ua(t){var n=[];return t.forEach(function(t){t.guidelineInfos.forEach(function(t){var e=t.guideline;-1<n.indexOf(e)||n.push(e)})}),n}var ca={name:"snappable",props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object},render:function(t,i){var e=t.state,s=e.top,l=e.left,n=e.pos1,r=e.pos2,a=e.pos3,o=e.pos4,u=e.snapDirection,c=e.clientRect,f=e.containerRect,p=c.left-f.left,d=c.top-f.top,h=Math.min(n[0],r[0],a[0],o[0]),g=Math.min(n[1],r[1],a[1],o[1]);if(!u||!ta(t,""))return[];var v=hr(t.state),m=rr(v),b=m.width,y=m.height,_=m.top,x=m.left,w=m.bottom,S=m.right,E=function(t,e,n){if(!0===n){var r=rr(e);return r.middle=(r.top+r.bottom)/2,r.center=(r.left+r.right)/2,na(t,r,!0,1)}if(n[0]||n[1]){o=void 0;return t.props.keepRatio?o=[Ir(e,n)]:1<(o=Br(e,n)).length&&o.push([(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]),ea(t,o.map(function(t){return t[0]}),o.map(function(t){return t[1]}),!0,1)}for(var a=[e[0],e[1],e[3],e[2],e[0]],o=[],i=0;i<4;++i)o.push(a[i]),e.push([(a[i][0]+a[i+1][0])/2,(a[i][1]+a[i+1][1])/2]);return ea(t,o.map(function(t){return t[0]}),o.map(function(t){return t[1]}),!0,1)}(t,v,u),M=E.vertical.posInfos,C=E.horizontal.posInfos,D=Zr(t,[x,S],[_,w],1),O=D.vertical,R=O.isBound,k=O.pos,P=D.horizontal,z=P.isBound,G=P.pos,A=M.map(function(t){return t.pos}),N=C.map(function(t){return t.pos}),j=ua(M),T=ua(C);R&&A.indexOf(k)<0&&A.push(k),z&&N.indexOf(G)<0&&N.push(G);var Y=j.filter(function(t){return t.element});return T.filter(function(t){return t.element}).map(function(t,e){var n=t.pos,r=t.size,a=Math.min(0,n[0]-p),o=Math.max(b,n[0]-p+r);return i.createElement("div",{className:qn("line","horizontal","guideline","dashed"),key:"horizontalLinkGuidline"+e,style:{left:h+a+"px",top:-s+n[1]+"px",width:o-a+"px"}})}).concat(Y.map(function(t,e){var n=t.pos,r=t.size,a=Math.min(0,n[1]-d),o=Math.max(y,n[1]-d+r);return i.createElement("div",{className:qn("line","vertical","guideline","dashed"),key:"verticalDashedGuidline"+e,style:{top:g+a+"px",left:-l+n[0]+"px",height:o-a+"px"}})}),A.map(function(t,e){return i.createElement("div",{className:qn("line","vertical","guideline","target","bold"),key:"verticalTargetGuidline"+e,style:{top:g+"px",left:-l+t+"px",height:y+"px"}})}),N.map(function(t,e){return i.createElement("div",{className:qn("line","horizontal","guideline","target","bold"),key:"horizontalTargetGuidline"+e,style:{top:-s+t+"px",left:h+"px",width:b+"px"}})}),j.map(function(t,e){var n=t.pos,r=t.size,a=t.element;return i.createElement("div",{className:qn("line","vertical","guideline",a?"bold":""),key:"verticalGuidline"+e,style:{top:g-d+n[1]+"px",left:-l+n[0]+"px",height:r+"px"}})}),T.map(function(t,e){var n=t.pos,r=t.size,a=t.element;return i.createElement("div",{className:qn("line","horizontal","guideline",a?"bold":""),key:"horizontalGuidline"+e,style:{top:-s+n[1]+"px",left:h-p+n[0]+"px",width:r+"px"}})}))},dragStart:function(t,e){t.state.snapDirection=!0,$r(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:Tr,dragControlStart:function(t,e){t.state.snapDirection=null,$r(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){t.state.snapDirection=!0,$r(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t,e){t.state.snapDirection=null,$r(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapDirection=null}},fa={name:"draggable",props:{draggable:Boolean,throttleDrag:Number},dragStart:function(t,e){var n=e.datas,r=e.parentEvent,a=e.parentDragger,o=t.state,i=o.targetTransform,s=o.target;if(o.dragger)return!1;o.dragger=a||t.targetDragger;var l=window.getComputedStyle(s);n.datas={},n.left=parseFloat(l.left||"")||0,n.top=parseFloat(l.top||"")||0,n.bottom=parseFloat(l.bottom||"")||0,n.right=parseFloat(l.right||"")||0,n.transform=i,n.startTranslate=[0,0],Yr(t,{datas:n}),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,function(t,e){e.absolutePoses=hr(t.state)}(t,n);var u=_r(t,e,{set:function(t){n.startTranslate=t}});return!1!==(r||xr(t,"onDragStart",u))?n.isDrag=!0:(o.dragger=null,n.isPinch=!1),!!n.isDrag&&u},drag:function(t,e){var n=e.datas,r=e.parentEvent,a=e.parentFlag,o=e.distX,i=e.distY,s=n.isPinch,l=n.isDrag,u=n.prevDist,c=n.prevBeforeDist,f=n.transform,p=n.startTranslate;if(l){var d=t.props,h=d.parentMoveable,g=r?0:d.throttleDrag||0,v=!1;if(!s&&!r&&!a){var m=function(t,e,n,r){var a={isSnap:!1,offset:0},o={isSnap:!1,offset:0};if(!ta(t,"draggable"))return[a,o];var i=rr(dr(r.absolutePoses,[e,n])),s=i.left,l=i.right,u=i.top,c=i.bottom,f=na(t,{left:s,right:l,top:u,bottom:c,center:(s+l)/2,middle:(u+c)/2},!0),p=Zr(t,[s,l],[u,c]);return p.vertical.isBound?(a.offset=p.vertical.offset,a.isSnap=!0):f.vertical.isSnap&&(a.offset=f.vertical.posInfos[0].guidelineInfos[0].offset,a.isSnap=!0),p.horizontal.isBound?(o.offset=p.horizontal.offset,o.isSnap=!0):f.horizontal.isSnap&&(o.offset=f.horizontal.posInfos[0].guidelineInfos[0].offset,o.isSnap=!0),[a,o]}(t,o,i,n),b=m[0],y=m[1];v=b.isSnap||y.isSnap,o-=b.offset,i-=y.offset}n.passDistX=o,n.passDistY=i;var _=Ve(Fr({datas:n,distX:o,distY:i},!0),p),x=Ve(Fr({datas:n,distX:o,distY:i},!1),p);v||(mr(x,g),mr(_,g));var w=Ue(_,p),S=Ue(x,p),E=Ue(S,u),M=Ue(w,c);n.prevDist=S,n.prevBeforeDist=w;var C=n.left+w[0],D=n.top+w[1],O=n.right-w[0],R=n.bottom-w[1],k=f+" translate("+S[0]+"px, "+S[1]+"px)";if(r||h||!E.every(function(t){return!t})||!M.some(function(t){return!t})){var P=_r(t,e,{transform:k,dist:S,delta:E,translate:x,beforeDist:w,beforeDelta:M,beforeTranslate:_,left:C,top:D,right:O,bottom:R,isPinch:s});return r||xr(t,"onDrag",P),P}}},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas,a=e.isDrag;if(t.state.dragger=null,r.isDrag)return r.isDrag=!1,n||xr(t,"onDragEnd",_r(t,e,{isDrag:a})),a},dragGroupStart:function(t,e){var n=e.datas,r=this.dragStart(t,e);if(!r)return!1;var a=jr(t,this,"dragStart",n,e),o=xr(t,"onDragGroupStart",zn({},r,{targets:t.props.targets,events:a}));return n.isDrag=!1!==o,!!n.isDrag&&r},dragGroup:function(t,e){var n=e.datas;if(n.isDrag){var r=this.drag(t,e),a=e.datas,o=a.passDistX,i=a.passDistY,s=jr(t,this,"drag",n,zn({},e,{distX:o,distY:i}));if(r){var l=zn({targets:t.props.targets,events:s},r);return xr(t,"onDragGroup",l),l}}},dragGroupEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isDrag)return this.dragEnd(t,e),jr(t,this,"dragEnd",r,e),xr(t,"onDragGroupEnd",_r(t,e,{targets:t.props.targets,isDrag:n})),n}};function pa(t,e,n){return zn({},t.dragger.move(e,n),{parentEvent:!0})}var da=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={}}var e=t.prototype;return e.dragStart=function(t,e){return this.isDrag=!1,this.isFlag=!1,this.datas={},this.move(t,e)},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var n,r;return this.isFlag?(n=this.prevX+t[0],r=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],r=t[1],this.isFlag=!0),{clientX:this.prevX=n,clientY:this.prevY=r,inputEvent:e,isDrag:this.isDrag,distX:n-this.startX,distY:r-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas,parentEvent:!0,parentDragger:this}},t}();function ha(t,e,n,r,a){t.startAbsoluteOrigin=[e-a[0]+r[0],n-a[1]+r[1]],t.prevDeg=Be(t.startAbsoluteOrigin,[e,n])/Math.PI*180,t.startDeg=t.prevDeg,t.loop=0}function ga(t,e,n,r,a){var o=t.prevDeg,i=t.startDeg,s=t.loop;e<o&&270<o&&e<90?++t.loop:o<e&&o<90&&270<e&&--t.loop;var l=t.loop,u=360*s+o-i+r,c=360*l+e-i+r,f=n*((c=vr(c,a))-u),p=n*(c-r);return t.prevDeg=c-360*l+i-r,[f,p,c]}function va(t,e,n,r,a,o){return ga(t,Be(t.startAbsoluteOrigin,[n,r])/Math.PI*180,e,a,o)}function ma(t,e,n,r,a){return"left"===t?[r,e]:"right"===t?[n,a]:"bottom"===t?[a,r]:[e,n]}function ba(t){return Pe(t,qn("rotation"))}var ya={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number},render:function(t,e){var n=t.props,r=n.rotatable,a=n.rotationPosition;if(!r)return null;var o=t.state,i=o.pos1,s=o.pos2,l=o.pos3,u=o.pos4,c=o.direction,f=ma(a,i,s,l,u),p=ur(f,c);return e.createElement("div",{key:"rotation",className:qn("line rotation-line"),style:{transform:"translate("+(f[0][0]+f[1][0])/2+"px, "+(f[0][1]+f[1][1])/2+"px) translateY(-40px) rotate("+p+"rad)"}},e.createElement("div",{className:qn("control","rotation")}))},dragControlCondition:ba,dragControlStart:function(t,e){var n=e.datas,r=e.clientX,a=e.clientY,o=e.parentRotate,i=e.parentFlag,s=e.pinchFlag,l=t.state,u=l.target,c=l.left,f=l.top,p=l.origin,d=l.beforeOrigin,h=l.direction,g=l.beforeDirection,v=l.targetTransform,m=l.pos1,b=l.pos2,y=l.pos3,_=l.pos4;if(!u)return!1;n.transform=v,n.left=c,n.top=f;var x=ma(t.props.rotationPosition,m,b,y,_),w=function(t,e){var n=t[0],r=t[1],a=Ze([0,-40,1],e);return[(n[0]+r[0])/2+a[0],(n[1]+r[1])/2+a[1]]}(x,ur(x,h));s||i?(n.beforeInfo={prevDeg:o,startDeg:o,loop:0},n.afterInfo={prevDeg:o,startDeg:o,loop:0}):(n.afterInfo={},n.beforeInfo={},ha(n.afterInfo,r,a,p,w),ha(n.beforeInfo,r,a,d,w)),n.direction=h,n.beforeDirection=g,n.startRotate=0,n.datas={};var S=_r(t,e,{set:function(t){n.startRotate=t}}),E=xr(t,"onRotateStart",S);return n.isRotate=!1!==E,!!n.isRotate&&S},dragControl:function(t,e){var n,r,a,o,i=e.datas,s=e.clientX,l=e.clientY,u=e.parentRotate,c=e.parentFlag,f=e.pinchFlag,p=i.direction,d=i.beforeDirection,h=i.beforeInfo,g=i.afterInfo,v=i.isRotate,m=i.startRotate;if(v){var b,y,_,x,w,S,E=t.props,M=E.throttleRotate,C=void 0===M?0:M,D=E.parentMoveable;if(S=f||c?(b=(n=ga(g,u,p,m,C))[0],y=n[1],_=n[2],x=(r=ga(h,u,p,m,C))[0],w=r[1],r[2]):(b=(a=va(g,p,s,l,m,C))[0],y=a[1],_=a[2],x=(o=va(h,d,s,l,m,C))[0],w=o[1],o[2]),b||x||D){var O=_r(t,e,{delta:b,dist:y,rotate:_,beforeDist:w,beforeDelta:x,beforeRotate:S,transform:i.transform+" rotate("+y+"deg)",isPinch:!!f});return xr(t,"onRotate",O),O}}},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isRotate&&(n.isRotate=!1,xr(t,"onRotateEnd",_r(t,e,{isDrag:r})),r)},dragGroupControlCondition:ba,dragGroupControlStart:function(t,e){var n=e.datas,l=e.inputEvent,r=t.state,u=r.left,c=r.top,f=r.beforeOrigin,a=this.dragControlStart(t,e);if(!a)return!1;a.set(t.rotation);var o=jr(t,this,"dragControlStart",n,zn({},e,{parentRotate:0}),function(t,e,n){var r=t.state,a=r.left,o=r.top,i=r.beforeOrigin,s=Ve(Ue([a,o],[u,c]),Ue(i,f));e.prevClient=s,n.dragStart=fa.dragStart(t,(new da).dragStart(s,l))}),i=xr(t,"onRotateGroupStart",zn({},a,{targets:t.props.targets,events:o}));return n.isRotate=!1!==i,!!n.isRotate&&a},dragGroupControl:function(e,t){var p=t.inputEvent,n=t.datas;if(n.isRotate){var r=this.dragControl(e,t);if(r){var a=r.beforeDist,d=r.beforeDelta/180*Math.PI,o=jr(e,this,"dragControl",n,zn({},t,{parentRotate:a}),function(t,e,n,r){var a=e.prevClient,o=a[0],i=a[1],s=Ze([o,i],d),l=s[0],u=s[1],c=[l-o,u-i];e.prevClient=[l,u];var f=fa.drag(t,pa(t.state,c,p));n.drag=f});e.rotation=r.beforeRotate;var i=zn({targets:e.props.targets,events:o,set:function(t){e.rotation=t}},r);return xr(e,"onRotateGroup",i),i}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isRotate)return this.dragControlEnd(t,e),jr(t,this,"dragControlEnd",r,e),xr(t,"onRotateGroupEnd",_r(t,e,{targets:t.props.targets,isDrag:n})),n}};function _a(t,e,r){var n=t.state,a=n.pos1,o=n.pos2,i=n.pos3,s=n.pos4,l=n.rotation,u=t.props.renderDirections,c=void 0===u?e:u,f=[a,o,i,s],p={};return c.forEach(function(t){p[t]=!0}),c.map(function(t){var e=Ln[t];if(!e||!p[t])return null;var n=(vr(l/Math.PI*180,15)+Wn[t])%180;return r.createElement("div",{className:qn("control","direction",t),"data-rotation":n,"data-direction":t,key:t,style:sr.apply(void 0,[l].concat(e.map(function(t){return f[t]})))})})}function xa(t,e){return _a(t,["nw","ne","sw","se","n","w","s","e"],e)}function wa(t,e){return _a(t,["nw","ne","sw","se"],e)}var Sa={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,baseDirection:Array,keepRatio:Boolean},render:function(t,e){var n=t.props,r=n.resizable,a=n.edge;if(r)return a?wa(t,e):xa(t,e)},dragControlCondition:Tr,dragControlStart:function(t,e){var n,r=e.inputEvent,a=e.pinchFlag,o=e.datas,i=r.target,s=a?[1,1]:pr(i),l=t.state,u=l.target,c=l.width,f=l.height;if(!s||!u)return!1;a||Yr(t,{datas:o}),o.datas={},o.direction=s,o.startOffsetWidth=c,o.startOffsetHeight=f,o.prevWidth=0,o.prevHeight=0,n=function(t){var e=window.getComputedStyle(t);return[parseFloat(e.width),parseFloat(e.height)]}(u),o.startWidth=n[0],o.startHeight=n[1],o.transformOrigin=t.props.transformOrigin,o.startDirection=function(t,e){var n=t.props.baseDirection,r=void 0===n?[-1,-1]:n;return[e[0]?e[0]:-1*r[0],e[1]?e[1]:-1*r[1]]}(t,s),o.fixedPosition=Ur(t,o.startDirection),o.fixedOriginalPosition=Ur(t,s);var p=_r(t,e,{direction:s,set:function(t){var e=t[0],n=t[1];o.startWidth=e,o.startHeight=n},setOrigin:function(t){o.transformOrigin=t},dragStart:fa.dragStart(t,(new da).dragStart([0,0],r))});return!1!==xr(t,"onResizeStart",p)&&(o.isResize=!0,t.state.snapDirection=s),!!o.isResize&&p},dragControl:function(t,e){var n=e.datas,r=e.distX,a=e.distY,o=e.parentFlag,i=e.pinchFlag,s=e.parentDistance,l=e.parentScale,u=e.inputEvent,c=e.parentKeepRatio,f=e.dragClient,p=n.direction,d=n.isResize,h=n.transformOrigin;if(d){var g=n.startWidth,v=n.startHeight,m=n.startOffsetWidth,b=n.startOffsetHeight,y=n.prevWidth,_=n.prevHeight,x=t.props,w=x.throttleResize,S=void 0===w?0:w,E=x.parentMoveable,M=t.props.keepRatio||c,C=p[0]||!p[1],D=C?b/m:m/b,O=0,R=0;if(l)O=(l[0]-1)*m,R=(l[1]-1)*b;else if(i)s&&(R=(O=s)*b/m);else{var k=Fr({datas:n,distX:r,distY:a});if(O=p[0]*k[0],R=p[1]*k[1],M&&m&&b){var P=Be([0,0],k),z=Be([0,0],p),G=Be([0,0],[m,b]),A=Math.sqrt(O*O+R*R),N=Math.cos(P-z)*A;p[0]?R=p[1]?(O=Math.cos(G)*N,Math.sin(G)*N):Er(O=N,C,D):O=Mr(R=N,C,D)}}var j=p[0]||M?Math.max(m+O,0):m,T=p[1]||M?Math.max(b+R,0):b,Y=[0,0];if(i||(Y=function(t,e,n,r,a){if(!ta(t,"resizable"))return[0,0];var o=t.state;return la(t,o.matrix,e,n,r,r,a,o.is3d)}(t,j,T,p,n)),M){p[0]&&p[1]&&Y[0]&&Y[1]&&(Math.abs(Y[0])>Math.abs(Y[1])?Y[1]=0:Y[0]=0);var F=!Y[0]&&!Y[1];F&&(C?j=vr(j,S):T=vr(T,S)),p[0]&&!p[1]||Y[0]&&!Y[1]||F&&C?T=Er(j+=Y[0],C,D):(!p[0]&&p[1]||!Y[0]&&Y[1]||F&&!C)&&(j=Mr(T+=Y[1],C,D))}else j+=Y[0],T+=Y[1],Y[0]||(j=vr(j,S)),Y[1]||(T=vr(T,S));var X=[(O=(j=Math.round(j))-m)-y,(R=(T=Math.round(T))-b)-_];if(n.prevWidth=O,n.prevHeight=R,E||!X.every(function(t){return!t})){var B=M||o?p:n.startDirection,I=f||(M?n.fixedOriginalPosition:n.fixedPosition),L=!o&&i?[0,0]:Vr(t,j,T,B,I,h),W=_r(t,e,{width:g+O,height:v+R,offsetWidth:j,offsetHeight:T,direction:p,dist:[O,R],delta:X,isPinch:!!i,drag:fa.drag(t,pa(t.state,L,u))});return xr(t,"onResize",W),W}}},dragControlAfter:function(t,e){var n=e.datas,r=n.isResize,a=n.startOffsetWidth,o=n.startOffsetHeight,i=n.prevWidth,s=n.prevHeight;if(r){var l=t.state,u=l.width-(a+i),c=l.height-(o+s),f=3<Math.abs(u),p=3<Math.abs(c);return f&&(n.startWidth+=u,n.startOffsetWidth+=u,n.prevWidth+=u),p&&(n.startHeight+=c,n.startOffsetHeight+=c,n.prevHeight+=c),f||p?(this.dragControl(t,e),!0):void 0}},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isResize&&(n.isResize=!1,xr(t,"onResizeEnd",_r(t,e,{isDrag:r})),r)},dragGroupControlCondition:Tr,dragGroupControlStart:function(i,s){var t=s.datas,e=this.dragControlStart(i,s);if(!e)return!1;var l=e.direction,u=Lr(hr(i.state),l),n=jr(i,this,"dragControlStart",t,function(t,e){var n=Lr(hr(t.state),l),r=$e(Qe(-i.rotation/180*Math.PI,3),[n[0]-u[0],n[1]-u[1],1],3),a=r[0],o=r[1];return e.originalX=a,e.originalY=o,s}),r=zn({},e,{targets:i.props.targets,events:n}),a=xr(i,"onResizeGroupStart",r);return t.isResize=!1!==a,!!t.isResize&&e},dragGroupControl:function(o,i){var t=i.datas;if(t.isResize){var e=this.dragControl(o,i);if(e){var n=e.offsetWidth,r=e.offsetHeight,a=e.dist,s=o.props.keepRatio,l=[n/(n-a[0]),r/(r-a[1])],u=t.fixedOriginalPosition,c=jr(o,this,"dragControl",t,function(t,e){var n=$e(Qe(o.rotation/180*Math.PI,3),[e.originalX*l[0],e.originalY*l[1],1],3),r=n[0],a=n[1];return zn({},i,{parentScale:l,dragClient:Ve(u,[r,a]),parentKeepRatio:s})}),f=zn({targets:o.props.targets,events:c},e);return xr(o,"onResizeGroup",f),f}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isResize)return this.dragControlEnd(t,e),jr(t,this,"dragControlEnd",r,e),xr(t,"onResizeGroupEnd",_r(t,e,{targets:t.props.targets,isDrag:n})),n}},Ea={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},render:function(t,e){var n=t.props,r=n.resizable,a=n.scalable,o=n.edge;if(!r&&a)return o?wa(t,e):xa(t,e)},dragControlCondition:Tr,dragControlStart:function(t,e){var n=e.datas,r=e.pinchFlag,a=e.inputEvent,o=a.target,i=r?[1,1]:pr(o),s=t.state,l=s.width,u=s.height,c=s.targetTransform,f=s.target;if(!i||!f)return!1;r||Yr(t,{datas:n}),n.datas={},n.transform=c,n.prevDist=[1,1],n.direction=i,n.width=l,n.height=u,n.startScale=[1,1];var p=_r(t,e,{direction:i,set:function(t){n.startScale=t},dragStart:fa.dragStart(t,(new da).dragStart([0,0],a))});return!1!==xr(t,"onScaleStart",p)&&(n.isScale=!0,t.state.snapDirection=i),!!n.isScale&&p},dragControl:function(t,e){var n=e.datas,r=e.distX,a=e.distY,o=e.parentScale,i=e.parentDistance,s=e.parentKeepRatio,l=e.parentFlag,u=e.pinchFlag,c=e.inputEvent,f=e.dragClient,p=n.prevDist,d=n.direction,h=n.width,g=n.height,v=n.transform,m=n.isScale,b=n.startScale;if(!m)return!1;var y=t.props,_=y.throttleScale,x=y.parentMoveable,w=t.props.keepRatio||s,S=t.state,E=d[0]||!d[1],M=1,C=1,D=h*b[0],O=g*b[1],R=E?O/D:D/O;if(o)M=o[0],C=o[1];else if(u)i&&(M=(h+i)/h,C=(g+i*g/h)/g);else{var k=Fr({datas:n,distX:r,distY:a}),P=d[0]*k[0],z=d[1]*k[1];if(w&&h&&g){var G=Be([0,0],k),A=Be([0,0],d),N=Be([0,0],[D,O]),j=Math.sqrt(P*P+z*z),T=Math.cos(G-A)*j;d[0]?z=d[1]?(P=Math.cos(N)*T,Math.sin(N)*T):Er(P=T,E,R):P=Mr(z=T,E,R)}M=(h+P)/h,C=(g+z)/g}M=d[0]?M*b[0]:b[0],C=d[1]?C*b[1]:b[1],0===M&&(M=1e-9*(0<p[0]?1:-1)),0===C&&(C=1e-9*(0<p[1]?1:-1));var Y,F=[M/b[0],C/b[1]],X=d;if(t.props.groupable){X=[(0<=F[0]?1:-1)*d[0],(0<=F[1]?1:-1)*d[1]];var B=S.snapDirection;Ee(B)&&(B[0]||B[1])&&(S.snapDirection=X)}var I=[0,0];if(u||(I=function(t,e,n,r,a){var o=a.width,i=a.height;if(!ta(t,"scalable"))return[0,0];var s=la(t,Kr(a,e),o,i,n,r,a,a.is3d);return[s[0]/o,s[1]/i]}(t,F,d,X,n)),w){d[0]&&d[1]&&I[0]&&I[1]&&(Math.abs(I[0])>Math.abs(I[1])?I[1]=0:I[0]=0);var L=!I[0]&&!I[1];if(L&&(E?F[0]=vr(F[0]*b[0],_)/b[0]:F[1]=vr(F[1]*b[1],_)/b[1]),d[0]&&!d[1]||I[0]&&!I[1]||L&&E){F[0]+=I[0];var W=Er(h*F[0]*b[0],E,R);F[1]=W/g/b[1]}else if(!d[0]&&d[1]||!I[0]&&I[1]||L&&!E){F[1]+=I[1];var H=Mr(g*F[1]*b[1],E,R);F[0]=H/h/b[0]}}else F[0]+=I[0],F[1]+=I[1],I[0]||(F[0]=vr(F[0]*b[0],_)/b[0]),I[1]||(F[1]=vr(F[1]*b[1],_)/b[1]);0===F[0]&&(F[0]=1e-9*(0<p[0]?1:-1)),0===F[1]&&(F[1]=1e-9*(0<p[1]?1:-1));var q=[F[0]/p[0],F[1]/p[1]];if(Y=Hn(F,b),n.prevDist=F,M===p[0]&&C===p[1]&&!x)return!1;var K=!l&&u?[0,0]:function(t,e,n,r){var a=t.state,o=a.is3d,i=a.left,s=a.top,l=a.width,u=a.height,c=o?4:3,f=t.props.groupable,p=Kr(t.state,e),d=f?i:0,h=f?s:0;return Ue(Hr(r||Wr(hr(t.state),n),p,l,u,c,n),[d,h])}(t,q,d,f),V=_r(t,e,{scale:Y,direction:d,dist:F,delta:q,transform:v+" scale("+M+", "+C+")",isPinch:!!u,drag:fa.drag(t,pa(t.state,K,c))});return xr(t,"onScale",V),V},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isScale&&(n.isScale=!1,xr(t,"onScaleEnd",_r(t,e,{isDrag:r})),r)},dragGroupControlCondition:Tr,dragGroupControlStart:function(i,s){var t=s.datas,e=this.dragControlStart(i,s);if(!e)return!1;var l=e.direction,u=Lr(hr(i.state),l),n=jr(i,this,"dragControlStart",t,function(t,e){var n=Lr(hr(t.state),l),r=$e(Qe(-i.rotation/180*Math.PI,3),[n[0]-u[0],n[1]-u[1],1],3),a=r[0],o=r[1];return e.originalX=a,e.originalY=o,s}),r=zn({},e,{targets:i.props.targets,events:n}),a=xr(i,"onScaleGroupStart",r);return t.isScale=!1!==a,!!t.isScale&&r},dragGroupControl:function(o,i){var t=i.datas;if(t.isScale){var e=this.dragControl(o,i);if(e){var s=o.props.keepRatio,l=e.scale,n=e.direction,r=e.dist,u=Lr(hr(o.state),Hn(n,r)),a=jr(o,this,"dragControl",t,function(t,e){var n=$e(Qe(o.rotation/180*Math.PI,3),[e.originalX*l[0],e.originalY*l[1],1],3),r=n[0],a=n[1];return zn({},i,{parentScale:l,parentKeepRatio:s,dragClient:Ve(u,[r,a])})}),c=zn({targets:o.props.targets,events:a},e);return xr(o,"onScaleGroup",c),c}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isScale)return this.dragControlEnd(t,e),jr(t,this,"dragControlEnd",r,e),xr(t,"onScaleGroupEnd",_r(t,e,{targets:t.props.targets,isDrag:n})),n}};function Ma(t,n){return t.map(function(t,e){return function(t,e,n,r){return(t*r+e*n)/(n+r)}(t,n[e],1,2)})}function Ca(t,e,n){var r=Be(t,e),a=Be(t,n)-r;return 0<=a?a:a+2*Math.PI}var Da={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},render:function(t,e){var n=t.props,r=n.resizable,a=n.scalable,o=n.warpable;if(!r&&!a&&o){var i=t.state,s=i.pos1,l=i.pos2,u=i.pos3,c=i.pos4,f=Ma(s,l),p=Ma(l,s),d=Ma(s,u),h=Ma(u,s),g=Ma(u,c),v=Ma(c,u),m=Ma(l,c),b=Ma(c,l);return[e.createElement("div",{className:qn("line"),key:"middeLine1",style:ir(f,g)}),e.createElement("div",{className:qn("line"),key:"middeLine2",style:ir(p,v)}),e.createElement("div",{className:qn("line"),key:"middeLine3",style:ir(d,m)}),e.createElement("div",{className:qn("line"),key:"middeLine4",style:ir(h,b)})].concat(xa(t,e))}},dragControlCondition:function(t){return Pe(t,qn("direction"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,a=t.props.target,o=pr(n.target);if(!o||!a)return!1;var i=t.state,s=i.transformOrigin,l=i.is3d,u=i.targetTransform,c=i.targetMatrix,f=i.width,p=i.height,d=i.left,h=i.top;return r.datas={},r.targetTransform=u,r.warpTargetMatrix=l?c:Le(c,3,4),r.targetInverseMatrix=function(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=t.slice(),a=0;a<n;++a)r[a*n+e-1]=0,r[(e-1)*n+a]=0;return r[(e-1)*(n+1)]=1,r}(Fe(r.warpTargetMatrix,4),3,4),r.direction=o,r.left=d,r.top=h,Yr(t,{datas:r}),r.poses=[[0,0],[f,0],[0,p],[f,p]].map(function(t,e){return Ue(t,s)}),r.nextPoses=r.poses.map(function(t){var e=t[0],n=t[1];return $e(r.warpTargetMatrix,[e,n,0,1],4)}),r.startMatrix=tn(4),r.prevMatrix=tn(4),r.absolutePoses=hr(i),r.posIndexes=Xr(o),i.snapDirection=o,!1!==xr(t,"onWarpStart",_r(t,e,{set:function(t){r.startMatrix=t}}))&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var n=e.datas,r=e.distX,a=e.distY,o=n.targetInverseMatrix,i=n.prevMatrix,s=n.isWarp,l=n.startMatrix,u=n.poses,c=n.posIndexes,f=n.absolutePoses;if(!s)return!1;if(ta(t,"warpable")){var p=c.map(function(t){return f[t]});1<p.length&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var d=ea(t,p.map(function(t){return t[0]+r}),p.map(function(t){return t[1]+a})),h=d.horizontal,g=d.vertical;a-=ia(h).offset,r-=ia(g).offset}var v=Fr({datas:n,distX:r,distY:a},!0),m=n.nextPoses.slice();if(c.forEach(function(t){m[t]=Ve(m[t],v)}),!Fn.every(function(t){return function(t,e){var n=Ca(t[0],t[1],t[2]),r=Ca(e[0],e[1],e[2]),a=Math.PI;return!(a<=n&&r<=a||n<=a&&a<=r)}(t.map(function(t){return u[t]}),t.map(function(t){return m[t]}))}))return!1;var b=rn(u[0],u[1],u[2],u[3],m[0],m[1],m[2],m[3]);if(!b.length)return!1;var y=Je(He(o,b,4)),_=n.targetTransform+" matrix3d("+y.join(",")+")";return xr(t,"onWarp",_r(t,e,{delta:qe(Fe(i,4),y,4),matrix:qe(l,n.prevMatrix=y,4),multiply:qe,dist:y,transform:_})),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,xr(t,"onWarpEnd",_r(t,e,{isDrag:r})),r)}},Oa=qn("area"),Ra=qn("area-pieces"),ka=qn("area-piece"),Pa=qn("avoid");function za(t){var e=t.areaElement,n=t.state,r=n.width,a=n.height;Ge(e,Pa),e.style.cssText+="left: 0px; top: 0px; width: "+r+"px; height: "+a+"px"}function Ga(t){return t.createElement("div",{key:"area_pieces",className:Ra},t.createElement("div",{className:ka}),t.createElement("div",{className:ka}),t.createElement("div",{className:ka}),t.createElement("div",{className:ka}))}var Aa={name:"dragArea",props:{dragArea:Boolean},render:function(t,e){var n=t.props,r=n.target,a=n.dragArea,o=n.groupable,i=t.state,s=i.width,l=i.height,u=i.pos1,c=i.pos2,f=i.pos3,p=i.pos4;if(o)return[e.createElement("div",{key:"area",ref:Lt(t,"areaElement"),className:Oa}),Ga(e)];if(!r||!a)return[];var d=rn([0,0],[s,0],[0,l],[s,l],u,c,f,p),h=d.length?"matrix3d("+Je(d).join(",")+")":"none";return[e.createElement("div",{key:"area",ref:Lt(t,"areaElement"),className:Oa,style:{top:"0px",left:"0px",width:s+"px",height:l+"px",transformOrigin:"0 0",transform:h}}),Ga(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,a=e.clientY,o=e.inputEvent;n.isDragArea=!1,n.inputTarget=o.target;var i=t.areaElement,s=t.state,l=s.clientRect,u=s.pos1,c=s.pos2,f=s.pos3,p=s.pos4,d=l.left,h=l.top,g=l.width,v=l.height,m=rr([u,c,f,p]),b=m.left,y=m.top,_=r-d,x=a-h,w=[{left:b,top:y,width:g,height:x-10},{left:b,top:y,width:_-10,height:v},{left:b,top:y+x+10,width:g,height:v-x-10},{left:b+_+10,top:y,width:g-_-10,height:v}],S=[].slice.call(i.nextElementSibling.children);w.forEach(function(t,e){S[e].style.cssText="left: "+t.left+"px;top: "+t.top+"px; width: "+t.width+"px; height: "+t.height+"px;"}),ze(i,Pa)},drag:function(t,e){var n=e.datas;n.isDragArea||(n.isDragArea=!0,za(t))},dragEnd:function(t,e){var n=e.inputEvent,r=e.isDragArea;e.datas.isDragArea||za(t);var a=t.state.target,o=n.target;if(!r&&!t.isMoveableElement(o)){var i=a.contains(o);xr(t,"onClick",_r(t,e,{inputTarget:o,isTarget:a===o,containsTarget:i}))}},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t,e){this.drag(t,e)},dragGroupEnd:function(t,e){var n=e.inputEvent,r=e.isDragArea,a=e.datas;r||za(t);var o=a.inputTarget,i=n.target;if(!r&&!t.isMoveableElement(i)&&o!==i){var s=t.props.targets,l=s.indexOf(i),u=-1<l,c=!1;-1===l&&(c=-1<(l=function(t,e,n){void 0===n&&(n=-1);for(var r=t.length,a=0;a<r;++a)if(e(t[a],a,t))return a;return n}(s,function(t){return t.contains(i)}))),xr(t,"onClickGroup",_r(t,e,{targets:s,inputTarget:i,targetIndex:l,isTarget:u,containsTarget:c}))}}},Na={name:"origin",props:{origin:Boolean},render:function(t,e){if(!t.props.origin)return null;var n=t.state,r=n.beforeOrigin,a=n.rotation;return[e.createElement("div",{className:qn("control","origin"),style:sr(a,r),key:"beforeOrigin"})]}};function ja(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var Ta={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number},dragStart:function(t,e){var n=t.props.scrollContainer,r=void 0===n?t.getContainer():n,a=r.getBoundingClientRect(),o=e.datas;o.scrollContainer=r,o.scrollRect={left:a.left,top:a.top,width:a.width,height:a.height},o.isScroll=!0},drag:function(t,e){return this.checkScroll(t,e)},dragAfter:function(t,e){this.checkScrollAfter(t,e)},dragEnd:function(t,e){e.datas.isScroll=!1},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,zn({},e,{targets:t.props.targets}))},dragGroupAfter:function(t,e){this.checkScrollAfter(t,e)},dragGroupEnd:function(t,e){this.dragEnd(t,e)},checkScroll:function(t,e){var n=e.datas,r=e.clientX,a=e.clientY,o=e.isScroll,i=e.targets;if(n.direction=null,n.isScroll){o||(n.prevClientX=r,n.prevClientY=a);var s=t.props,l=s.scrollThreshold,u=void 0===l?0:l,c=s.getScrollPosition,f=void 0===c?ja:c,p=n.scrollContainer,d=n.scrollRect,h=[0,0];if(d.top>a-u?h[1]=-1:d.top+d.height<a+u&&(h[1]=1),d.left>r-u?h[0]=-1:d.left+d.width<r+u&&(h[0]=1),h[0]||h[1]){n.direction=h,n.prevPos=f({scrollContainer:p,direction:h});var g=_r(t,e,{scrollContainer:p,direction:h}),v=i?"onScrollGroup":"onScroll";return i&&(g.targets=i),xr(t,v,g),!0}}},checkScrollAfter:function(t,e){var n=e.datas,r=e.inputEvent,a=n.direction,o=n.prevPos;if(n.isScroll&&n.direction){var i=t.props.getScrollPosition,s=(void 0===i?ja:i)({scrollContainer:n.scrollContainer,direction:a}),l=s[0]-o[0],u=s[1]-o[1];(l||u)&&t.targetDragger.scrollBy(a[0]?l:0,a[1]?u:0,r,!1)}}},Ya=[{name:"",props:{target:Object,container:Object,dragArea:Boolean,origin:Boolean,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number}},ca,Nr,fa,ya,Sa,Ea,Da,Ta,Aa,Na],Fa={name:"groupable",props:{defaultGroupRotate:Number,groupable:Boolean},render:function(n,r){var t=n.props.targets||[];n.moveables=[];var e=n.state,a={left:e.left,top:e.top};return t.map(function(t,e){return r.createElement(Gr,{key:e,ref:function(e,n,r){return function(t){t&&(e[n][r]=t)}}(n,"moveables",e),target:t,origin:!1,parentMoveable:n,parentPosition:a})}).slice()}};function Xa(t,o){return Math.max.apply(Math,t.map(function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return Math.max(e[o],n[o],r[o],a[o])}))}function Ba(t,o){return Math.min.apply(Math,t.map(function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return Math.min(e[o],n[o],r[o],a[o])}))}var Ia=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.differ=new Rn,t.moveables=[],t.rotation=0,t}Pn(t,n);var e=t.prototype;return e.updateEvent=function(t){var e=this.state,n=this.props;e.target||(e.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetDragger=Or(this,e.target,"targetAbles","Group"),this.controlDragger=Or(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var r=!Cr(t.container,n.container);r&&(e.container=n.container);var a=this.differ.update(n.targets),o=a.added,i=a.changed,s=a.removed;(r||o.length||i.length||s.length)&&this.updateRect()},e.checkUpdate=function(){this.updateAbles()},e.updateRect=function(e,t,n){var r;if(void 0===n&&(n=!0),this.controlBox){this.moveables.forEach(function(t){t.updateRect(e,!1,!1)});var a=this.state,o=this.props,i=a.target||o.target;(!t||""!==e&&o.updateGroup)&&(this.rotation=o.defaultGroupRotate);var s=this.rotation,l=function(t,e){if(!t.length)return[0,0,0,0];var n=t.map(function(t){return hr(t.state)}),a=Bn,o=Bn,r=0,i=0,s=vr(e,Xn);if(s%90){var l=e/180*Math.PI,u=Math.tan(l),c=-1/u,f=[In,Bn],p=[In,Bn];n.forEach(function(t){t.forEach(function(t){var e=t[1]-u*t[0],n=t[1]-c*t[0];f[0]=Math.max(f[0],e),f[1]=Math.min(f[1],e),p[0]=Math.max(p[0],n),p[1]=Math.min(p[1],n)})}),f.forEach(function(r){p.forEach(function(t){var e=(t-r)/(u-c),n=u*e+r;a=Math.min(a,e),o=Math.min(o,n)})});var d=n.map(function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return[Ze(e,-l),Ze(n,-l),Ze(r,-l),Ze(a,-l)]});r=Xa(d,0)-Ba(d,0),i=Xa(d,1)-Ba(d,1)}else if(a=Ba(n,0),o=Ba(n,1),r=Xa(n,0)-a,i=Xa(n,1)-o,s%180){var h=r;r=i,i=h}return[a,o,r,i]}(this.moveables,s),u=l[0],c=l[1],f=l[2],p=l[3];i.style.cssText+="left:0px;top:0px;width:"+f+"px; height:"+p+"px;transform:rotate("+s+"deg)",a.width=f,a.height=p;var d=cr(i,this.controlBox.getElement(),this.getContainer(),a),h=[d.left,d.top];r=hr(d),d.pos1=r[0],d.pos2=r[1],d.pos3=r[2],d.pos4=r[3],d.origin=Ve(h,d.origin),d.beforeOrigin=Ve(h,d.beforeOrigin);var g=d.clientRect;g.top+=c-d.top-a.top,g.left+=u-d.left-a.left,this.updateState(zn({},d,{left:u-d.left,top:c-d.top}),n)}},e.triggerEvent=function(t,e){if(-1<t.indexOf("Group"))return n.prototype.triggerEvent.call(this,t,e)},e.updateAbles=function(){n.prototype.updateAbles.call(this,this.props.ables.concat([Fa]),"Group")},t.defaultProps=zn({},Gr.defaultProps,{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0}),t}(Gr),La=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Pn(e,t);var n=e.prototype;return n.render=function(){var t=this.props.ables||[],e=this.props.target||this.props.targets,n=Ee(e);if(n&&1<e.length){var r=zn({},this.props,{target:null,targets:e,ables:Ya.concat([Fa],t)});return Ct(Ia,zn({key:"group",ref:Lt(this,"moveable")},r))}var a=n?e[0]:e;return Ct(Gr,zn({key:"single",ref:Lt(this,"moveable")},zn({},this.props,{target:a,ables:Ya.concat(t)})))},n.isMoveableElement=function(t){return this.moveable.isMoveableElement(t)},n.dragStart=function(t){this.moveable.dragStart(t)},n.isInside=function(t,e){return this.moveable.isInside(t,e)},n.updateRect=function(){this.moveable.updateRect()},n.updateTarget=function(){this.moveable.updateTarget()},n.getRect=function(){return this.moveable.getRect()},n.destroy=function(){this.moveable.componentWillUnmount()},e}(Nt),Wa=function(n){function t(t){var e=n.call(this,t)||this;return e.state={},e.state=e.props,e}return a(t,n),t.prototype.render=function(){return St(h(La,s({ref:p(this,"preactMoveable")},this.state)),this.state.parentElement)},t}(M),Ha=["draggable","resizable","scalable","rotatable","warpable","pinchable","snappable","origin","target","edge","throttleDrag","throttleResize","throttleScale","throttleRotate","keepRatio","dragArea","pinchThreshold","snapCenter","snapThreshold","horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","className","renderDirections","scrollable","getScrollPosition","scrollContainer","scrollThreshold","baseDirection","snapElement","snapVertical","snapHorizontal"],qa=["dragStart","drag","dragEnd","resizeStart","resize","resizeEnd","scaleStart","scale","scaleEnd","rotateStart","rotate","rotateEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd","dragGroupStart","dragGroup","dragGroupEnd","resizeGroupStart","resizeGroup","resizeGroupEnd","scaleGroupStart","scaleGroup","scaleGroupEnd","rotateGroupStart","rotateGroup","rotateGroupEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","clickGroup","scroll","scrollGroup","renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],Ka=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","setState"],Va=function(i){function t(t,e){void 0===e&&(e={});var n=i.call(this)||this;n.tempElement=document.createElement("div");var r=s({container:t},e),a={};qa.forEach(function(e){a[function(t){return t.replace(/[\s-_]([a-z])/g,function(t,e){return e.toUpperCase()})}("on "+e)]=function(t){return n.trigger(e,t)}}),Y(h(Wa,s({ref:p(n,"innerMoveable"),parentElement:t},r,a)),n.tempElement);var o=r.target;return Ee(o)&&1<o.length&&n.updateRect(),n}a(t,i);var e=t.prototype;return e.setState=function(t,e){this.innerMoveable.setState(t,e)},e.destroy=function(){Y("",this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},e.getMoveable=function(){return this.innerMoveable.preactMoveable},t=function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(a=t[s])&&(i=(o<3?a(i):3<o?a(e,n,i):a(e,n))||i);return 3<o&&i&&Object.defineProperty(e,n,i),i}([o(Ka,function(t,r){t[r]||(t[r]=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(t=this.getMoveable())[r].apply(t,e)})}),o(Ha,function(t,n){Object.defineProperty(t,n,{get:function(){return this.getMoveable().props[n]},set:function(t){var e;this.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})})],t)}(t),Ua={draggable:{vanilla:'\nimport Moveable from "moveable";\n\n/* const translate = [0, 0]; */\nconst draggable = new Moveable(document.body, {\n    target: document.querySelector(".draggable"),\n    draggable: true,\n    throttleDrag: 0,\n}).on("drag", ({ target, left, top, beforeDelta }) => {\n    target.style.left = left + "px";\n    target.style.top = top + "px";\n\n    /* translate[0] += beforeDelta[0]; */\n    /* translate[1] += beforeDelta[1]; */\n    /* target.style.transform\n        = "translateX(" + translate[0] + "px) "\n        + "translateY(" + translate[1] + "px)"; */\n});\n        ',react:'\nimport Moveable from "react-moveable";\nthis.translate = [0, 0];\nreturn (\n    <Moveable\n        target={document.querySelector(".draggable")}\n        draggable={true}\n        throttleDrag={0}\n        onDrag={({ target, left, top, beforeDelta }) => {\n            target.style.left = left + "px";\n            target.style.top = top + "px";\n\n            /* const translate = this.translate */\n            /* translate[0] += beforeDelta[0]; */\n            /* translate[1] += beforeDelta[1]; */\n            /* target.style.transform\n                = "translateX(" + translate[0] + "px) "\n                + "translateY(" + translate[1] + "px)"; */\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [draggable]="true"\n    [throttleDrag]="0"\n    (drag)="onDrag($event)\n    />\n`,\n})\nexport class AppComponent {\n    translate = [0, 0];\n    onDrag({ target, left, top, beforeDelta }) {\n        target.style.left = left + "px";\n        target.style.top = top + "px";\n\n        /* const translate = this.translate */\n        /* translate[0] += beforeDelta[0]; */\n        /* translate[1] += beforeDelta[1]; */\n        /* target.style.transform\n            = "translateX(" + translate[0] + "px) "\n            + "translateY(" + translate[1] + "px)"; */\n    }\n}\n',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let translate = [0, 0];\n    let target;\n<\/script>\n<div class="target draggable" bind:this={target}>Draggable</div>\n<Moveable\n    target={target}\n    draggable={true}\n    throttleDrag={0}\n    on:drag={({ detail }) => {\n        target.style.left = detail.left + "px";\n        target.style.top = detail.top + "px";\n    }}\n/>'},resizable:{vanilla:'\nimport Moveable from "moveable";\n\nconst resizable = new Moveable(document.body, {\n    target: document.querySelector(".resizable"),\n    resizable: true,\n    throttleResize: 0,\n    keepRatio: true,\n}).on("resize", ({ target, width, height, dist }) => {\n    console.log(width, height, dist);\n    target.style.width = width + "px";\n    target.style.height = height + "px";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nreturn (\n    <Moveable\n        target={document.querySelector(".resizable")}\n        resizable={true}\n        throttleResize={0}\n        keepRatio={true}\n        onResize={({ target, width, height, dist }) => {\n            console.log(width, height, dist);\n            target.style.width = width + "px";\n            target.style.height = height + "px";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [resizable]="true"\n    [throttleResize]="0"\n    [keepRatio]="true"\n    (resize)="onResize($event)\n    />\n`,\n})\nexport class AppComponent {\n    onResize({ target, width, height, dist }) {\n        console.log(width, height, dist);\n        target.style.width = width + "px";\n        target.style.height = height + "px";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let translate = [0, 0];\n    let target;\n<\/script>\n<div class="target resizable" bind:this={target}>Resizable</div>\n<Moveable\n    target={target}\n    resizable={true}\n    throttleResize={0}\n    keepRatio={true}\n    on:resize={({ detail }) => {\n        const { target, width, height, dist } = detail;\n        target.style.width = width + "px";\n        target.style.height = height + "px";\n    }}\n/>'},scalable:{vanilla:'\nimport Moveable from "moveable";\n\nconst scale = [1, 1];\nconst scalable = new Moveable(document.body, {\n    target: document.querySelector(".scalable"),\n    scalable: true,\n    throttleScale: 0,\n    keepRatio: true,\n}).on("scale", ({ target, delta }) => {\n    scale[0] *= delta[0];\n    scale[1] *= delta[1];\n    target.style.transform = "scale(" + scale[0] +  "," + scale[1] + ")";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.scale = [1, 1];\nreturn (\n    <Moveable\n        target={document.querySelector(".scalable")}\n        scalable={true}\n        throttleScale={0}\n        keepRatio={true}\n        onScale={({ target, delta }) => {\n            const scale = this.scale;\n            scale[0] *= delta[0];\n            scale[1] *= delta[1];\n            target.style.transform\n                = "scale(" + scale[0] +  "," + scale[1] + ")";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [scalable]="true"\n    [throttleScale]="0"\n    [keepRatio]="true"\n    (scale)="onScale($event)\n    />\n`,\n})\nexport class AppComponent {\n    scale = [1, 1];\n    onScale({ target, delta }) {\n        const scale = this.scale;\n        scale[0] *= delta[0];\n        scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + scale[0] +  "," + scale[1] + ")";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let scale = [1, 1];\n    let target;\n<\/script>\n<div class="target scalable" bind:this={target}>Scalable</div>\n<Moveable\n    target={target}\n    scalable={true}\n    throttleScale={0}\n    keepRatio={true}\n    on:scale={({ detail: { target, delta }}) => {\n        scale[0] *= delta[0];\n        scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + scale[0] +  "," + scale[1] + ")";\n    }}\n/>'},rotatable:{vanilla:'\nimport Moveable from "moveable";\n\nlet rotate = 0;\n\nconst rotatable = new Moveable(document.body, {\n    target: document.querySelector(".rotatable"),\n    rotatable: true,\n    throttleRotate: 0,\n}).on("rotate", ({ target, beforeDelta, delta }) => {\n    rotate += delta;\n    target.style.transform\n        = "rotate(" + rotate +  "deg)";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.rotate = 0;\n\nreturn (\n    <Moveable\n        target={document.querySelector(".rotatable")}\n        rotatable={true}\n        throttleRotate={0}\n        onRotate={({ target, beforeDelta, delta }) => {\n            this.rotate += delta;\n            target.style.transform\n                = "rotate(" + this.rotate +  "deg)";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [rotatable]="true"\n    [throttleRotate]="0"\n    [keepRatio]="true"\n    (rotate)="onRotate($event)\n    />\n`,\n})\nexport class AppComponent {\n    rotate = 0;\n    onRotate({ target, delta }) {\n        this.rotate += delta;\n        target.style.transform\n            = "rotate(" + this.rotate +  "deg)";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let rotate = 0;\n    let target;\n<\/script>\n<div class="target rotatable" bind:this={target}>Rotatable</div>\n<Moveable\n    target={target}\n    rotatable={true}\n    throttleRotate={0}\n    on:rotate={({ detail }) => {\n        const { target, beforeDelta, delta } = detail;\n        rotate += delta;\n        target.style.transform\n            = "rotate(" + rotate +  "deg)";\n    }}\n/>'},warpable:{vanilla:'\nimport Moveable from "moveable";\n\nlet matrix = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n];\n\nconst warpable = new Moveable(document.body, {\n    target: document.querySelector(".warpable"),\n    warpable: true,\n    throttleRotate: 0,\n}).on("warp", ({ target, multiply, delta }) => {\n    matrix = multiply(matrix, delta);\n    target.style.transform\n        = "matrix3d(" + matrix.join(",") +  ")";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.matrix = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n];\n\nreturn (\n    <Moveable\n        target={document.querySelector(".warpable")}\n        warpable={true}\n        onWarp={({ target, multiply, delta }) => {\n            this.matrix = multiply(this.matrix, delta);\n            target.style.transform\n                = "matrix3d(" + matrix.join(",") +  ")";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [warpable]="true"\n    (warp)="onWarp($event)\n    />\n`,\n})\nexport class AppComponent {\n    matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    onWarp({ target, dist }) {\n        this.matrix = multiply(this.matrix, delta);\n        target.style.transform\n            = "matrix3d(" + matrix.join(",") +  ")";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    let target;\n<\/script>\n<div class="target scalable" bind:this={target}>Scalable</div>\n<Moveable\n    target={target}\n    warpable={true}\n    on:warp={({ detail }) => {\n        const { target, multiply, delta } = detail;\n        matrix = multiply(matrix, delta);\n        target.style.transform\n            = "matrix3d(" + matrix.join(",") +  ")";\n    }}\n/>'},pinchable:{vanilla:'\nimport Moveable from "moveable";\nconst scale = [1, 1];\nlet rotate = 0;\n\nconst pinchable = new Moveable(document.body, {\n    target: document.querySelector(".pinchable"),\n    pinchable: ["rotatable", "scalable"],\n}).on("rotate", ({ target, beforeDelta }) => {\n    rotate += beforeDelta;\n    target.style.transform = "scale(" + scale.join(", ") + ") rotate(" + rotate + "deg)";\n}).on("scale", ({ target, delta }) => {\n    scale[0] *= delta[0];\n    scale[1] *= delta[1];\n    target.style.transform = "scale(" + scale.join(", ") + ") rotate(" + rotate + "deg)";\n});',react:'\nimport Moveable from "react-moveable";\nthis.scale = [1, 1];\nthis.rotate = 0;\n\nreturn (\n    <Moveable\n        target={document.querySelector(".pinchable")}\n        pinchable={["rotatable", "scalable"]},\n        onRotate={({ target, beforeDelta }) => {\n            this.rotate += beforeDelta;\n            target.style.transform\n                = "scale(" + this.scale.join(", ") + ") "\n                + "rotate(" + this.rotate + "deg)";\n        }}\n        onScale={({ target, beforeDelta }) => {\n            this.scale[0] *= delta[0];\n            this.scale[1] *= delta[1];\n            target.style.transform\n                = "scale(" + this.scale.join(", ") + ") "\n                + "rotate(" + this.rotate + "deg)";\n        }}\n    />\n);',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n    <div #target class="target">target</div>\n    <ngx-moveable\n        [target]="target"\n        [pinchable]="[\'rotatable\', \'scalable\']"\n        [rotate]="onRotate($event)"\n        [scale]="onScale($event)"\n/>\n`,\n})\nexport class AppComponent {\n    scale = [1, 1];\n    rotate = 0;\n    onRotate({ target, beforeDelta }) {\n        this.rotate += beforeDelta;\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }\n    onScale({ target, beforeDelta }) {\n        this.scale[0] *= delta[0];\n        this.scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }\n}\n',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    let target;\n<\/script>\n<div class="target pinchable" bind:this={target}>Pinchable</div>\n<Moveable\n    target={target}\n    pinchable={["rotatable", "scalable"]},\n    on:rotate={({ detail: { target, beforeDelta }}) => {\n        this.rotate += beforeDelta;\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }}\n    on:scale={({ detail: { target, beforeDelta }}) => {\n        this.scale[0] *= delta[0];\n        this.scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }}\n/>'},snappable:{vanilla:'\nimport Moveable from "moveable";\n\nconst snappable = new Moveable(document.body, {\n    target: document.querySelector(".snappable"),\n    snappable: true,\n    verticalGuidelines: [0, 150, 200],\n    horizontalGuidelines: [0, 150, 200],\n}).on("drag", ({ target, left, top }) => {\n    target.style.left = left + "px";\n    target.style.top = top + "px";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nreturn (\n    <Moveable\n        target={document.querySelector(".origin")}\n        origin={true}\n        snappable={true}\n        verticalGuidelines={[0, 150, 200]}\n        horizontalGuidelines={[0, 150, 200]}\n        onDrag={({ target, left, top }) => {\n            target.style.left = left + "px";\n            target.style.top = top + "px";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [snappable]="true"\n    [verticalGuidelines]="[0, 150, 200]"\n    [horizontalGuidelines]="[0, 150, 200]"\n    />\n`,\n})\nexport class AppComponent {\n    onDrag({ target, left, top }) {\n        target.style.left = left + "px";\n        target.style.top = top + "px";\n    }\n}\n',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let target;\n<\/script>\n<div class="target pinchable" bind:this={target}>Pinchable</div>\n<Moveable\n    target={target}\n    origin={true}\n    snappable={true}\n    verticalGuidelines={[0, 150, 200]}\n    horizontalGuidelines={[0, 150, 200]}\n    on:drag={({ detail: { target, left, top }}) => {\n        target.style.left = left + "px";\n        target.style.top = top + "px";\n    }}\n/>'},groupable:{vanilla:'\nimport Moveable from "moveable";\nconst poses = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n];\nconst target = [].slice.call(\n    document.querySelectorAll(".target"),\n);\nconst groupable = new Moveable(document.body, {\n    target,\n    draggable: true,\n}).on("dragGroup", ({ events }) => {\n    events.forEach(({ target, beforeDelta }, i) => {\n        poses[i][0] += beforeDelta[0];\n        poses[i][1] += beforeDelta[1];\n\n        target.style.transform\n            = "translate("\n            + poses[i][0] + "px, "\n            + poses[i][1] + "px)";\n    });\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.poses = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n];\n\nconst target = [].slice.call(\n    document.querySelectorAll(".target"),\n);\nreturn (\n    <Moveable\n        target={target}\n        draggable={true}\n        onDragGroup={({ events }) => {\n            events.forEach(({ target, beforeDelta }, i) => {\n                this.poses[i][0] += beforeDelta[0];\n                this.poses[i][1] += beforeDelta[1];\n\n                target.style.transform\n                    = "translate("\n                    + this.poses[i][0] + "px, "\n                    + this.poses[i][1] + "px)";\n            });\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target1 class="target">target1</div>\n<div #target2 class="target">target2</div>\n<div #target3 class="target">target3</div>\n<ngx-moveable\n    [target]="[target1, target2, target3]"\n    [draggable]="true"\n    (dragGroup)="onDragGroup($event)\n    />\n`,\n})\nexport class AppComponent {\n    poses = [\n        [0, 0],\n        [0, 0],\n        [0, 0],\n    ];\n    onDragGroup({ events }) {\n        events.forEach(({ target, beforeDelta }, i) => {\n            this.poses[i][0] += beforeDelta[0];\n            this.poses[i][1] += beforeDelta[1];\n\n            target.style.transform\n                = "translate("\n                + this.poses[i][0] + "px, "\n                + this.poses[i][1] + "px)";\n        });\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n    import { onMount } from "svelte";\n    let targets = [];\n    let translates = [];\n\n    onMount(() => {\n        targets = [].slice.call(document.querySelectorAll(".target"));\n        translates = targets.map(() => {\n            return [0, 0];\n        });\n    });\n<\/script>\n<div class="target">Target1</div>\n<div class="target">Target2</div>\n<div class="target">Target3</div>\n<Moveable\n    target={targets}\n    draggable={true}\n    on:dragGroup={({ detail: { events }}) => {\n        events.forEach(({ target, beforeDelta }, i) => {\n            translates[i][0] += beforeDelta[0];\n            translates[i][1] += beforeDelta[1];\n\n            target.style.transform\n                = "translate("\n                + translates[i][0] + "px, "\n                + translates[i][1] + "px)";\n        });\n    }}\n/>'}};function $a(t,e,n){var r=1-n;return n*n*n+3*n*n*r*e+3*n*r*r*t}function Za(n,r,a,o){function t(t){var e=function(t,e,n){for(var r=n,a=1;.001<Math.abs(a);){if(a=$a(t,e,r)-n,Math.abs(a)<.001)return r;r-=a/2}return r}(n,a,Math.max(Math.min(1,t),0));return $a(r,o,e)}return t.easingName="cubic-bezier("+n+","+r+","+a+","+o+")",t}function Ja(n,r){function t(t){var e=1/n;return 1<=t?1:("start"===r?e:0)+Math.floor(t/e)*e}return t.easingName="steps("+n+", "+r+")",t}var Qa,to=Ja(1,"start"),eo=Ja(1,"end"),no=Za(0,0,1,1),ro=Za(.25,.1,.25,1),ao=Za(.42,0,1,1),oo=Za(0,0,.58,1),io=Za(.42,0,.58,1),so="animation-timing-function",lo={transform:{},filter:{},attribute:{},html:!0},uo={easing:[so]},co=((Qa={})[so]=!0,Qa.contents=!0,Qa.html=!0,Qa),fo={linear:no,ease:ro,"ease-in":ao,"ease-out":oo,"ease-in-out":io,"step-start":to,"step-end":eo},po=function(){function o(t,e){this.prefix="",this.suffix="",this.model="",this.type="",this.separator=",",e&&this.setOptions(e),this.value=Me(t)?t.split(this.separator):t}var t=o.prototype;return t.setOptions=function(t){for(var e in t)this[e]=t[e];return this},t.size=function(){return this.value.length},t.get=function(t){return this.value[t]},t.set=function(t,e){return this.value[t]=e,this},t.clone=function(){var t=this.separator,e=this.prefix,n=this.suffix,r=this.model,a=this.type;return new o(this.value.map(function(t){return t instanceof o?t.clone():t}),{separator:t,prefix:e,suffix:n,model:r,type:a})},t.toValue=function(){return this.prefix+this.join()+this.suffix},t.join=function(){return this.value.map(function(t){return t instanceof o?t.toValue():t}).join(this.separator)},t.forEach=function(t){return this.value.forEach(t),this},o}();function ho(t){var e=ie;return 3===t.length&&(t[3]=1),new po(t,{model:e,separator:",",type:"color",prefix:e+"(",suffix:")"})}function go(t,e){return new po(t,{type:"array",separator:e})}function vo(t){if(!Me(t))return Ee(t)?go(t,","):t;var e=Ce(t);return 1<e.length?go(e.map(function(t){return vo(t)}),","):1<(e=function(t){return t.match(/("[^"]*")|('[^']*')|([^\s()]*(?:\((?:[^()]*|\([^()]*\))*\))[^\s()]*)|\S+/g)||[]}(t)).length?go(e.map(function(t){return vo(t)})," "):(e=/^(['"])([^'"]*)(['"])$/g.exec(t))&&e[1]===e[3]?new po([vo(e[2])],{prefix:e[1],suffix:e[1]}):-1!==t.indexOf("(")?function(t){var e=De(t),n=e.prefix,r=e.value,a=e.suffix;if(void 0===r)return t;if(-1!==ue.indexOf(n))return ho(ke(t));var o=vo(r),i=[r],s=",",l=n+"(",u=")"+a;return o instanceof po&&(s=o.separator,i=o.value,l+=o.prefix,u=o.suffix+u),new po(i,{separator:s,model:n,prefix:l,suffix:u})}(t):"#"===t.charAt(0)?function(t){var e=ke(t);return e?ho(e):t}(t):t}function mo(t){return t instanceof po}function bo(t){var e=typeof t;if(e===de){if(Ee(t))return pe;if(mo(t))return fe}else if(e===he||e===ge)return"value";return e}function yo(t,e){var n=[];if(function(t){return Se(t)&&t.constructor===Object}(t))for(var r in t)e.push(r),n=n.concat(yo(t[r],e)),e.pop();else n.push(e.slice());return n}function _o(t,e,n){void 0===n&&(n=t.length);for(var r=e,a=0;a<n;++a){if(!Se(r))return;r=r[t[a]]}return r}function xo(t,e,n){var r=e.length,a=t;if(0===r)return!1;for(var o=0;o<r;++o){if(!0===a)return!1;if(!(a=a[e[o]])||!n&&!0===a)return!1}return!0}function wo(t,e){return xo(lo,t,e)}function So(t){if(!t)return"";var e=[];for(var n in t)e.push(n.replace(/\d$/g,"")+"("+t[n]+")");return e.join(" ")}function Eo(t,e){return void 0===e&&(e=!1),Mo({},t,e)}function Mo(t,e,n){for(var r in void 0===n&&(n=!1),e){var a=e[r],o=bo(a);o===fe?t[r]=n?a.toValue():a.clone():o===ce?t[r]=n?Do([r],a):a:o===pe?t[r]=a.slice():o===de?Se(t[r])&&!mo(t[r])?Mo(t[r],a,n):t[r]=Eo(a,n):t[r]=e[r]}return t}function Co(t){return t[0]in uo?uo[t[0]]:t}function Do(t,e){var n=bo(e);if(n===fe)return e.toValue();if(n===ce){if(t[0]!==so)return Do(t,e())}else if(n===de)return Eo(e,!0);return e}var Oo=function(){function p(t){void 0===t&&(t={}),this.properties={},this.set(t)}var t=p.prototype;return t.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.raw.apply(this,t);return Do(Co(t),n)},t.raw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _o(Co(t),this.properties)},t.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Co(t),r=n.length;if(!r)return this;var a=_o(n,this.properties,r-1);return Se(a)&&delete a[n[r-1]],this},t.set=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this,r=t.length,a=t.slice(0,-1),o=t[r-1],i=a[0];if(1===r&&o instanceof p)n.merge(o);else if(i in uo)n._set(uo[i],o);else if(2===r&&Ee(i))n._set(i,o);else if(mo(o))wo(a)?n.set.apply(n,a.concat([function e(t,n){void 0===n&&(n={});var r=t.model;if(r){t.setOptions({model:"",suffix:"",prefix:""});var a=1<t.size()?t:t.get(0);n[r]=a}else t.forEach(function(t){e(t,n)});return n}(o)])):n._set(a,o);else if(Ee(o))n._set(a,o);else if(Se(o))for(var s in!n.has.apply(n,a)&&wo(a)&&n._set(a,{}),o)n.set.apply(n,a.concat([s,o[s]]));else if(Me(o)){if(wo(a,!0)){if(function(t){return xo(co,t,!0)}(a)||!wo(a))this._set(a,o);else{var l=vo(o);Se(l)&&n.set.apply(n,a.concat([l]))}return this}var u=function(t){for(var e=t.split(";"),n={},r=e.length,a=0;a<r;++a){var o=/([^:]*):([\S\s]*)/g.exec(e[a]);!o||o.length<3||!o[1]?--r:n[o[1].trim()]=vo(o[2].trim())}return{styles:n,length:r}}(o),c=u.styles,f=u.length;for(var s in c)n.set.apply(n,a.concat([s,c[s]]));if(f)return this;n._set(a,o)}else n._set(a,o);return n},t.getNames=function(){return yo(this.properties,[])},t.has=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Co(t),r=n.length;return!!r&&!we(_o(n,this.properties,r))},t.clone=function(){return(new p).merge(this)},t.merge=function(t){var e=this.properties,n=t.properties;return n&&Mo(e,n),this},t.toCSSObject=function(){var t=this.get(),e={};for(var n in t)if(!wo([n],!0)){var r=t[n];n===so?e[so.replace("animation",xe)]=(Me(r)?r:r.easingName)||"initial":e[n]=r}var a=So(t.transform),o=So(t.filter);return ye&&a&&(e[ye]=a),_e&&o&&(e[_e]=o),e},t.toCSS=function(){var t=this.toCSSObject(),e=[];for(var n in t)e.push(n+":"+t[n]+";");return e.join("")},t._set=function(t,e){for(var n=this.properties,r=t.length,a=0;a<r-1;++a){var o=t[a];o in n||(n[o]={}),n=n[o]}r&&(1===t.length&&t[0]===so?n[so]=function(t){var e;if(Me(t))if(t in fo)e=fo[t];else{var n=vo(t);if(Me(n))return 0;if("cubic-bezier"===n.model)e=Za((t=n.value.map(function(t){return parseFloat(t)}))[0],t[1],t[2],t[3]);else{if("steps"!==n.model)return 0;e=Ja(parseFloat(n.value[0]),n.value[1])}}else e=Ee(t)?Za(t[0],t[1],t[2],t[3]):t;return e}(e):n[t[r-1]]=Me(e)?vo(e):e)},p}(),Ro=function(t,e){return(Ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var ko=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPos:0},t.width=0,t.height=0,t}!function(t,e){function n(){this.constructor=t}Ro(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e);var n=t.prototype;return n.render=function(){return Ct("canvas",{ref:p(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var t=this.canvasElement.getContext("2d");this.canvasContext=t,this.resize()},n.componentDidUpdate=function(){this.resize()},n.scroll=function(t){this.draw(t)},n.resize=function(){var t=this.canvasElement,e=this.props,n=e.width,r=e.height;this.width=n||t.offsetWidth,this.height=r||t.offsetHeight,t.width=2*this.width,t.height=2*this.height,this.draw()},n.draw=function(t){void 0===t&&(t=this.state.scrollPos);var e=this.props,n=e.unit,r=e.zoom,a=e.type,o=e.backgroundColor,i=e.lineColor,s=this.width,l=this.height;this.state.scrollPos=t;var u=this.canvasContext,c="horizontal"===a;u.rect(0,0,2*s,2*l),u.fillStyle=o,u.fill(),u.save(),u.scale(2,2),u.strokeStyle=i,u.lineWidth=1,u.font="10px sans-serif",u.fillStyle="#ffffff",u.translate(.5,0),u.beginPath();for(var f=c?s:l,p=r*n,d=Math.floor(t*r/p),h=Math.ceil((t*r+f)/p)-d,g=0;g<h;++g){var v=((g+d)*n-t)*r;if(-p<=v&&v<f){var m=c?3+v:s-18,b=c?l-18:v-4;c?u.fillText(""+(g+d)*n,m,b):(u.save(),u.translate(m,b),u.rotate(-Math.PI/2),u.fillText(""+(g+d)*n,0,0),u.restore())}for(var y=0;y<10;++y){var _=v+y/10*p;if(!(_<0||f<=_)){var x=0===y?c?l:s:y%2==0?10:7,w=c?_:s-x,S=c?_:s,E=c?l-x:_,M=c?l:_;u.moveTo(w,E),u.lineTo(S,M)}}}u.stroke(),u.restore()},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,style:{width:"100%",height:"100%"},backgroundColor:"#333333",lineColor:"#777777"},t}(Nt);var Po=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function zo(a){var o,i="rCS"+function(t){return Po(t).toString(36)}(a),s=0;return{className:i,inject:function(t){var e,n=function(t){if(t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(t),r=0===s;return(n||r)&&(e=function(n,t,e){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerHTML=t.replace(/([^}{]*){/gm,function(t,e){return Ce(e).map(function(t){return-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+n):"."+n+" "+t}).join(", ")+"{"}),(e||document.head||document.body).appendChild(r),r}(i,a)),r&&(o=e),n||++s,{destroy:function(){n?(t.removeChild(e),e=null):(0<s&&--s,0===s&&o&&(o.parentNode.removeChild(o),o=null))}}}}}var Go=function(t,e){return(Go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Ao=function(){return(Ao=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};var No=function(t,e){return(No=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function jo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(t){return t.split(" ").map(function(t){return t?""+e+t:""}).join(" ")}).join(" ")}.apply(void 0,["scena-"].concat(t))}jo("ruler");var To,Yo,Fo,Xo=jo("guide","adder"),Bo=jo("guides"),Io=jo("guide"),Lo=jo("dragging"),Wo=(To="div",Yo='\n{\n    position: relative;\n}\ncanvas {\n    position: relative;\n}\n.guides {\n    position: absolute;\n    top: 0;\n    left: 0;\n    will-change: transform;\n    z-index: 2000;\n}\n:host.horizontal .guides {\n    width: 100%;\n    height: 0;\n    top: 30px;\n}\n:host.vertical .guides {\n    height: 100%;\n    width: 0;\n    left: 30px;\n}\n.guide {\n    position: absolute;\n    background: #f33;\n    z-index: 2;\n}\n.guide.dragging:before {\n    position: absolute;\n    content: "";\n    width: 100%;\n    height: 100%;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n:host.horizontal .guide {\n    width: 100%;\n    height: 1px;\n    cursor: row-resize;\n}\n:host.vertical .guide {\n    width: 1px;\n    height: 100%;\n    cursor: col-resize;\n}\n.mobile :host.horizontal .guide {\n    transform: scale(1, 2);\n}\n.mobile :host.vertical .guide {\n    transform: scale(2, 1);\n}\n:host.horizontal .guide:before {\n    height: 20px;\n}\n:host.vertical .guide:before {\n    width: 20px;\n}\n.adder {\n    display: none;\n}\n.adder.dragging {\n    display: block;\n}\n'.replace(/\.([^{,\s\d.]+)/g,"."+"scena-"+"$1"),Fo=zo(Yo),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function n(){this.constructor=t}Go(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=void 0===e?"":e,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}(t,["className"]);return Ct(To,Ao({ref:function(e,n){return function(t){t&&(e[n]=t)}}(this,"element"),className:n+" "+Fo.className},r))},e.prototype.componentDidMount=function(){this.injectResult=Fo.inject(this.element)},e.prototype.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},e.prototype.getElement=function(){return this.element},e}(M)),Ho=function(t){function e(){var u=null!==t&&t.apply(this,arguments)||this;return u.state={guides:[]},u.scrollPos=0,u.guideElements=[],u.onDragStart=function(t){var e=t.datas,n=t.clientX,r=t.clientY,a=t.inputEvent,o="horizontal"===u.props.type,i=u.guidesElement.getBoundingClientRect();e.offset=o?i.top:i.left,ze(e.target,Lo),u.onDrag({datas:e,clientX:n,clientY:r}),a.stopPropagation(),a.preventDefault()},u.onDrag=function(t){var e=t.datas,n=t.clientX,r=t.clientY,a="horizontal"===u.props.type,o=Math.round((a?r:n)-e.offset);return e.target.style.transform=u.getTranslateName()+"("+o+"px)",o},u.onDragEnd=function(t){var e=t.datas,n=t.clientX,r=t.clientY,a=u.onDrag({datas:e,clientX:n,clientY:r}),o=u.state.guides,i=u.props.setGuides,s=Math.round(a/u.props.zoom);if(Ge(e.target,Lo),e.fromRuler)a>=u.scrollPos&&o.indexOf(s)<0&&u.setState({guides:o.concat([s])},function(){i(u.state.guides)});else{var l=e.target.getAttribute("data-index");a<u.scrollPos||-1<o.indexOf(s)?o.splice(l,1):o[l]=s,u.setState({guides:o.slice()},function(){i(u.state.guides)})}},u}!function(t,e){function n(){this.constructor=t}No(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.className,n=t.type,r=t.width,a=t.height,o=t.unit,i=t.zoom,s=t.style,l=t.rulerStyle,u=t.backgroundColor,c=t.lineColor,f=t.textColor;return Ct(Wo,{ref:p(this,"manager"),className:jo("manager",n)+" "+e,style:s},Ct(ko,{ref:p(this,"ruler"),type:n,width:r,height:a,unit:o,zoom:i,backgroundColor:u,lineColor:c,style:l,textColor:f}),Ct("div",{className:Bo,ref:p(this,"guidesElement")},Ct("div",{className:Xo,ref:p(this,"adderElement")}),this.renderGuides()))},n.renderGuides=function(){var n=this,t=this.props,r=t.type,a=t.zoom,o="horizontal"===r?"translateY":"translateX",e=this.state.guides;return this.guideElements=[],e.map(function(t,e){return Ct("div",{className:jo("guide",r),ref:function(e,n,r){return function(t){t&&(e[n][r]=t)}}(n,"guideElements",e),key:e,"data-index":e,style:{transform:o+"("+t*a+"px)"}})})},n.componentDidMount=function(){var r=this;this.dragger=new _n(this.manager.getElement(),{container:document.body,dragstart:function(t){var e=t.inputEvent.target,n=t.datas;if(e===r.ruler.canvasElement)t.datas.fromRuler=!0,n.target=r.adderElement;else{if(!Pe(e,Io))return!1;n.target=e}r.onDragStart(t)},drag:this.onDrag,dragend:this.onDragEnd})},n.componentWillUnmount=function(){this.dragger.unset()},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(n){var t=this.props.zoom,e=this.guidesElement;this.scrollPos=n,e.style.transform=this.getTranslateName()+"("+-n*t+"px)";var r=this.state.guides;this.guideElements.forEach(function(t,e){t&&(t.style.display=-n+r[e]<0?"none":"block")})},n.resize=function(){this.ruler.resize()},n.scroll=function(t){this.ruler.scroll(t)},n.getTranslateName=function(){return"horizontal"===this.props.type?"translateY":"translateX"},e.defaultProps={className:"",type:"horizontal",setGuides:function(){},zoom:1,style:{width:"100%",height:"100%"}},e}(Nt),qo=function(t,e){return(qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Ko=function(){return(Ko=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};var Vo=["setGuides","type","width","height","rulerStyle","unit","zoom","style","backgroundColor","lineColor","container","className","textColor"],Uo=function(n){function t(t){var e=n.call(this,t)||this;return e.state={},e.state=e.props,e}return function(t,e){function n(){this.constructor=t}qo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,n),t.prototype.render=function(){var t=this.state,e=t.container,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}(t,["container"]);return St(h(Ho,Ko({ref:p(this,"preactGuides")},n)),e)},t}(M),$o=function(){function t(t,e){void 0===e&&(e={}),this.tempElement=document.createElement("div"),Y(h(Uo,Ko({ref:p(this,"innerGuides")},e,{container:t})),this.tempElement)}var e=t.prototype;return e.scroll=function(t){this.getPreactGuides().scroll(t)},e.scrollGuides=function(t){this.getPreactGuides().scrollGuides(t)},e.resize=function(){this.getPreactGuides().resize()},e.getGuides=function(){return this.getPreactGuides().getGuides()},e.setState=function(t,e){this.innerGuides.setState(t,e)},e.destroy=function(){Y("",this.tempElement),this.tempElement=null,this.innerGuides=null},e.getPreactGuides=function(){return this.innerGuides.preactGuides},t=function(t,e,n,r){var a,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(a=t[s])&&(i=(o<3?a(i):3<o?a(e,n,i):a(e,n))||i);return 3<o&&i&&Object.defineProperty(e,n,i),i}([o(Vo,function(t,n){Object.defineProperty(t,n,{get:function(){return this.getPreactGuides().props[n]},set:function(t){var e;this.innerGuides.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})})],t)}(),Zo=function(t,e){return(Zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Jo,Qo=(function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return i[t];var n,r=String(t);return(n=a[r.toLowerCase()])?n:(n=o[r.toLowerCase()])||(1===r.length?r.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var r;if(r=a[e.toLowerCase()])return r===n;if(r=o[e.toLowerCase()])return r===n}else if("number"==typeof e)return e===n;return!1}};var a=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(r=97;r<123;r++)a[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)a[r-48]=r;for(r=1;r<13;r++)a["f"+r]=r+111;for(r=0;r<10;r++)a["numpad "+r]=r+96;var i=e.names=e.title={};for(r in a)i[a[r]]=r;for(var s in o)a[s]=o[s]}(Jo={exports:{}},Jo.exports),Jo.exports),ti=(Qo.code,Qo.codes,Qo.aliases,Qo.names);Qo.title;function ei(t){return Array.isArray(t)}function ni(t){return"string"==typeof t}function ri(t,e,n,r){t.addEventListener(e,n,r)}var ai,oi={"+":"plus","left command":"meta","right command":"meta"},ii={shift:1,ctrl:2,alt:3,meta:4};function si(t){var e=ti[t]||"";for(var n in oi)e=e.replace(n,oi[n]);return e.replace(/\s/g,"")}function li(t){var e=t.slice();return e.sort(function(t,e){return(ii[t]||5)-(ii[e]||5)}),e}var ui=function(n){function t(t){void 0===t&&(t=window);var e=n.call(this)||this;return e.ctrlKey=!1,e.altKey=!1,e.shiftKey=!1,e.metaKey=!1,e.clear=function(){return e.ctrlKey=!1,e.altKey=!1,e.shiftKey=!1,e.metaKey=!1,e},e.keydownEvent=function(t){e.triggerEvent("keydown",t)},e.keyupEvent=function(t){e.triggerEvent("keyup",t)},ri(t,"blur",e.clear),ri(t,"keydown",e.keydownEvent),ri(t,"keyup",e.keyupEvent),e}!function(t,e){function n(){this.constructor=t}Zo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,n);var e=t.prototype;return Object.defineProperty(t,"global",{get:function(){return ai=ai||new t},enumerable:!0,configurable:!0}),e.keydown=function(t,e){return this.addEvent("keydown",t,e)},e.offKeydown=function(t,e){return this.removeEvent("keydown",t,e)},e.offKeyup=function(t,e){return this.removeEvent("keyup",t,e)},e.keyup=function(t,e){return this.addEvent("keyup",t,e)},e.addEvent=function(t,e,n){return ei(e)?this.on(t+"."+li(e).join("."),n):ni(e)?this.on(t+"."+e,n):this.on(t,e),this},e.removeEvent=function(t,e,n){return ei(e)?this.off(t+"."+li(e).join("."),n):ni(e)?this.off(t+"."+e,n):this.off(t,e),this},e.triggerEvent=function(t,e){this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey;var n=si(e.keyCode),r={key:n,isToggle:"ctrl"===n||"shift"===n||"meta"===n||"alt"===n,inputEvent:e,keyCode:e.keyCode,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey};this.trigger(t,r),this.trigger(t+"."+n,r);var a=function(t,e){void 0===e&&(e=si(t.keyCode));var n=[t.shiftKey&&"shift",t.ctrlKey&&"ctrl",t.altKey&&"alt",t.metaKey&&"meta"];return-1===n.indexOf(e)&&n.push(e),n.filter(Boolean)}(e,n);1<a.length&&this.trigger(t+"."+a.join("."),r)},t}(t),ci=re();(ci.isMobile||-1<ci.os.name.indexOf("ios")||-1<ci.browser.name.indexOf("safari"))&&ze(document.body,"mobile");var fi=document.querySelector(".editor"),pi=document.querySelector(".label"),di=document.querySelector(".rulers"),hi=di.querySelector(".ruler.horizontal"),gi=di.querySelector(".ruler.vertical"),vi=document.querySelector('.control input[name="x"]'),mi=document.querySelector('.control input[name="y"]'),bi=document.querySelector('.control input[name="w"]'),yi=document.querySelector('.control input[name="h"]'),_i=document.querySelector('.control input[name="r"]'),xi=document.querySelector(".moveable.target"),wi=new Oo({left:"0px",top:"0px",width:"250px",height:"200px",transform:{translateX:window.innerWidth/2-125+"px",translateY:Math.max(700,window.innerHeight)/2-250+"px",rotate:"0deg",scaleX:1,scaleY:1}});function Si(t,e){function n(){e(t.value),Mi(),Di.updateRect()}new ui(t).keyup("enter",n),t.addEventListener("blur",n)}function Ei(t){wi.set("transform","translateX",t[0]+"px"),wi.set("transform","translateY",t[1]+"px"),vi.value=""+t[0],mi.value=""+t[1]}function Mi(){xi.style.cssText+=wi.toCSS()}Si(vi,function(t){wi.set("transform","translateX",parseFloat(t)+"px")}),Si(mi,function(t){wi.set("transform","translateY",parseFloat(t)+"px")}),Si(bi,function(t){wi.set("width",parseFloat(t)+"px")}),Si(yi,function(t){wi.set("height",parseFloat(t)+"px")}),Si(_i,function(t){wi.set("transform","rotate",parseFloat(t)+"deg")}),vi.value=""+parseFloat(wi.get("transform","translateX")),mi.value=""+parseFloat(wi.get("transform","translateY")),Mi();var Ci=!1,Di=new Va(fi,{target:xi,draggable:!0,resizable:!0,rotatable:!0,snappable:!0,pinchable:!0,snapCenter:!0,snapThreshold:10,throttleResize:0,throttleRotate:1,keepRatio:!1,origin:!1,bounds:{left:30,top:30}}).on("dragStart",function(t){(0,t.set)([parseFloat(wi.get("transform","translateX")),parseFloat(wi.get("transform","translateY"))])}).on("drag",function(t){Ei(t.beforeTranslate)}).on("rotateStart",function(t){(0,t.set)(parseFloat(wi.get("transform","rotate")))}).on("rotate",function(t){var e=t.beforeRotate,n=t.clientX,r=t.clientY,a=t.isPinch;wi.set("transform","rotate",e+"deg"),_i.value=e+"",a||Pi(n,r,e+"")}).on("resizeStart",function(t){var e=t.setOrigin,n=t.dragStart;e(["%","%"]),n&&n.set([parseFloat(wi.get("transform","translateX")),parseFloat(wi.get("transform","translateY"))])}).on("resize",function(t){var e=t.width,n=t.height,r=t.drag,a=t.clientX,o=t.clientY,i=t.isPinch;wi.set("width",e+"px"),wi.set("height",n+"px"),Ei(r.beforeTranslate),bi.value=""+e,yi.value=""+n,i||Pi(a,o,e+" X "+n)}).on("pinchStart",function(){Ci=!0}).on("pinch",function(t){ki(t.clientX,t.clientY)}).on("render",function(){Ci&&(pi.innerHTML="W: "+parseFloat(wi.get("width"))+"<br/>H: "+parseFloat(wi.get("height"))+"<br/>R: "+parseFloat(wi.get("transform","rotate"))+""),Mi()}).on("renderEnd",function(){Ci=!1,pi.style.display="none"}),Oi=new $o(hi,{type:"horizontal",setGuides:zi,backgroundColor:"#444444"}),Ri=new $o(gi,{type:"vertical",setGuides:zi,backgroundColor:"#444444"});function ki(t,e){pi.style.cssText="display: block; transform: translate("+t+"px, "+(e-10)+"px) translate(-100%, -100%);"}function Pi(t,e,n){ki(t,e),pi.innerHTML=n}function zi(){var t=window.innerWidth/2+15,e=window.innerHeight/2;Di.verticalGuidelines=n(Ri.getGuides().map(function(t){return t+30}),[t]),Di.horizontalGuidelines=n(Oi.getGuides().map(function(t){return t+30}),[e])}function Gi(t){t?(Di.throttleRotate=30,Di.keepRatio=!0):(Di.throttleRotate=1,Di.keepRatio=!1)}window.a=Di,ui.global.on("keydown",function(t){Gi(t.shiftKey)}).on("keyup",function(t){Gi(t.shiftKey)}),window.addEventListener("resize",function(){zi(),Di.updateRect(),Oi.resize(),Ri.resize()}),document.body.addEventListener("gesturestart",function(t){t.preventDefault()}),zi();var Ai=document.querySelector(".draggable"),Ni=new Va(Ai.parentElement,{target:Ai,origin:!1,draggable:!0}).on("drag",function(t){var e=t.target,n=t.transform;e.style.transform=n}),ji=document.querySelector(".resizable"),Ti=new Va(ji.parentElement,{target:ji,origin:!1,resizable:!0}).on("resize",function(t){var e=t.target,n=t.width,r=t.height;e.style.width=n+"px",e.style.height=r+"px"}),Yi=document.querySelector(".scalable"),Fi=new Va(Yi.parentElement,{target:Yi,origin:!1,scalable:!0}).on("scale",function(t){var e=t.target,n=t.transform;e.style.transform=n}),Xi=document.querySelector(".rotatable"),Bi=new Va(Xi.parentElement,{target:Xi,origin:!1,rotatable:!0}).on("rotate",function(t){var e=t.target,n=t.transform;e.style.transform=n}),Ii=document.querySelector(".warpable"),Li=new Va(Ii.parentElement,{target:Ii,warpable:!0,origin:!1}).on("warp",function(t){var e=t.target,n=t.transform;e.style.transform=n}),Wi=document.querySelector(".snappable"),Hi=(new Va(Wi.parentElement,{target:Wi,draggable:!0,snappable:!0,snapCenter:!0,origin:!1,verticalGuidelines:[0,150,200],horizontalGuidelines:[0,150,200]}).on("drag",function(t){var e=t.target,n=t.left,r=t.top;e.style.left=n+"px",e.style.top=r+"px"}),document.querySelector(".pinchable")),qi=[1,1],Ki=0,Vi=new Va(Hi.parentElement,{target:Hi,pinchable:["rotatable","scalable"],origin:!1}).on("rotate",function(t){var e=t.beforeDelta;Ki+=e,Hi.style.transform="scale("+qi.join(", ")+") rotate("+Ki+"deg)"}).on("scale",function(t){var e=t.delta;qi[0]*=e[0],qi[1]*=e[1],Hi.style.transform="scale("+qi.join(", ")+") rotate("+Ki+"deg)"}),Ui=document.querySelector(".groupable"),$i=[[0,0],[0,0],[0,0]],Zi=new Va(Ui.parentElement,{target:[].slice.call(Ui.querySelectorAll("span")),origin:!1,draggable:!0}).on("dragGroup",function(t){t.events.forEach(function(t,e){var n=t.target,r=t.beforeDelta;$i[e][0]+=r[0],$i[e][1]+=r[1],n.style.transform="translate("+$i[e][0]+"px, "+$i[e][1]+"px)"})});window.addEventListener("resize",function(){Ni.updateRect(),Ti.updateRect(),Fi.updateRect(),Bi.updateRect(),Li.updateRect(),Vi.updateRect(),Zi.updateRect()}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("pre").forEach(function(t){var e=t.getAttribute("data-group"),n=t.getAttribute("data-panel"),r=t.querySelector("code"),a=Ua[e]["preact"===n?"react":n].trim();"preact"===n&&(a=a.replace(/react/g,"preact")),r.innerText=a,hljs.highlightBlock(r)})});var Ji={};[].slice.call(document.querySelectorAll("[data-tab]")).forEach(function(r){var t=r.getAttribute("data-group"),e=r.getAttribute("data-tab"),n=document.querySelector('[data-group="'+t+'"][data-panel="'+e+'"]');Ji[t]||(Ji[t]=[]),Ji[t].push([r,n]),r.addEventListener("click",function(){Ji[t].forEach(function(t){var e=t[0],n=t[1];r!==e&&(e.classList.remove("selected"),n.classList.remove("selected"))}),r.classList.add("selected"),n.classList.add("selected")})})}();
