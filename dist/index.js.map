{"version":3,"file":"index.js","sources":["../../src/InnerMoveable.tsx","../../src/consts.ts","../../src/Moveable.tsx","../src/consts.ts","../src/Editor.ts","../src/index.ts"],"sourcesContent":["import { Component, h } from \"preact\";\nimport Moveable, { MoveableProps, MoveableInterface } from \"preact-moveable\";\nimport { ref } from \"framework-utils\";\n\nexport default class InnerMoveable extends Component<MoveableProps> {\n    public state: MoveableProps = {};\n    public preactMoveable: MoveableInterface;\n    constructor(props: MoveableProps) {\n        super(props);\n        this.state = this.props;\n    }\n    public render() {\n        return <Moveable ref={ref(this, \"preactMoveable\")} {...this.state} />;\n    }\n}\n","import { MoveableEvents } from \"./types\";\n\nexport const PROPERTIES = [\n    \"draggable\", \"resizable\", \"scalable\", \"rotatable\",\n    \"warpable\", \"pinchable\", \"snappable\", \"origin\", \"target\", \"edge\",\n    \"throttleDrag\", \"throttleResize\",\n    \"throttleScale\", \"throttleRotate\", \"keepRatio\",\n    \"dragArea\",\n    \"pinchThreshold\",\n    \"snapCenter\", \"snapThreshold\",\n    \"horizontalGuidelines\", \"verticalGuidelines\", \"elementGuidelines\",\n    \"bounds\",\n];\nexport const EVENTS: Array<keyof MoveableEvents> = [\n    \"dragStart\",\n    \"drag\",\n    \"dragEnd\",\n    \"resizeStart\",\n    \"resize\",\n    \"resizeEnd\",\n    \"scaleStart\",\n    \"scale\",\n    \"scaleEnd\",\n    \"rotateStart\",\n    \"rotate\",\n    \"rotateEnd\",\n    \"warpStart\",\n    \"warp\",\n    \"warpEnd\",\n    \"pinchStart\",\n    \"pinch\",\n    \"pinchEnd\",\n\n    \"dragGroupStart\",\n    \"dragGroup\",\n    \"dragGroupEnd\",\n    \"resizeGroupStart\",\n    \"resizeGroup\",\n    \"resizeGroupEnd\",\n    \"scaleGroupStart\",\n    \"scaleGroup\",\n    \"scaleGroupEnd\",\n    \"rotateGroupStart\",\n    \"rotateGroup\",\n    \"rotateGroupEnd\",\n    \"pinchGroupStart\",\n    \"pinchGroup\",\n    \"pinchGroupEnd\",\n    \"clickGroup\",\n];\n","import EgComponent from \"@egjs/component\";\nimport { ref, Properties } from \"framework-utils\";\nimport { h, render } from \"preact\";\nimport InnerMoveable from \"./InnerMoveable\";\nimport { MoveableOptions, MoveableGetterSetter } from \"./types\";\nimport {\n    OnDragStart, OnDrag, OnResize, OnResizeStart,\n    OnResizeEnd, OnScaleStart, OnScaleEnd, OnRotateStart,\n    OnRotateEnd, OnDragEnd, OnRotate, OnScale,\n    OnWarpStart, OnWarpEnd, OnWarp, OnPinchStart,\n    OnPinch, OnPinchEnd, OnDragGroup, OnDragGroupStart,\n    OnDragGroupEnd, OnResizeGroup, OnResizeGroupStart,\n    OnResizeGroupEnd, OnScaleGroup, OnScaleGroupEnd,\n    OnRotateGroup, OnRotateGroupStart, OnRotateGroupEnd,\n    OnPinchGroup, OnPinchGroupStart, OnPinchGroupEnd, OnScaleGroupStart, OnClickGroup,\n} from \"react-moveable/declaration/types\";\nimport { PROPERTIES, EVENTS } from \"./consts\";\nimport { camelize, isArray } from \"@daybrush/utils\";\n\n/**\n * Moveable is Draggable! Resizable! Scalable! Rotatable!\n * @sort 1\n * @extends eg.Component\n */\n@Properties(PROPERTIES, (prototype, property) => {\n    Object.defineProperty(prototype, property, {\n        get() {\n            return this.getMoveable().props[property];\n        },\n        set(value) {\n            this.innerMoveable.setState({\n                [property]: value,\n            });\n        },\n        enumerable: true,\n        configurable: true,\n    });\n})\nclass Moveable extends EgComponent {\n    private innerMoveable!: InnerMoveable;\n\n    /**\n     *\n     */\n    constructor(parentElement: HTMLElement | SVGElement, options: MoveableOptions = {}) {\n        super();\n        const element = document.createElement(\"div\");\n        const nextOptions = { container: parentElement, ...options };\n\n        const events: any = {};\n\n        EVENTS.forEach(name => {\n            events[camelize(`on ${name}`)] = (e: any) => this.trigger(name, e);\n        });\n\n        render(\n            <InnerMoveable\n                ref={ref(this, \"innerMoveable\")}\n                {...nextOptions}\n                {...events}\n            />,\n            element,\n        );\n        parentElement.appendChild(element.children[0]);\n\n        const target = nextOptions.target!;\n        if (isArray(target) && target.length > 1) {\n            this.updateRect();\n        }\n    }\n    /**\n     * Check if the target is an element included in the moveable.\n     * @param - the target\n     * @example\n     * import Moveable from \"moveable\";\n     *\n     * const moveable = new Moveable(document.body);\n     *\n     * window.addEventListener(\"click\", e => {\n     *     if (!moveable.isMoveableElement(e.target)) {\n     *         moveable.target = e.target;\n     *     }\n     * });\n     */\n    public isMoveableElement(target: HTMLElement | SVGElement) {\n        return this.getMoveable().isMoveableElement(target);\n    }\n    /**\n     * If the width, height, left, and top of all elements change, update the shape of the moveable.\n     * @example\n     * import Moveable from \"moveable\";\n     *\n     * const moveable = new Moveable(document.body);\n     *\n     * window.addEventListener(\"resize\", e => {\n     *     moveable.updateRect();\n     * });\n     */\n    public updateRect() {\n        this.getMoveable().updateRect();\n    }\n    /**\n     * You can move the Moveable through the external `MouseEvent`or `TouchEvent`.\n     * @param - external `MouseEvent`or `TouchEvent`\n     * @example\n     * import Moveable from \"moveable\";\n     *\n     * const moveable = new Moveable(document.body);\n     *\n     * document.body.addEventListener(\"mousedown\", e => {\n     *     if (!moveable.isMoveableElement(e.target)) {\n     *          moveable.dragStart(e);\n     *     }\n     * });\n     */\n    public dragStart(e: MouseEvent | TouchEvent): void {\n        this.getMoveable().dragStart(e);\n    }\n\n    /**\n     * Whether the coordinates are inside Moveable\n     * @param - x coordinate\n     * @param - y coordinate\n     * @return - True if the coordinate is in moveable or false\n     * @example\n     * import Moveable from \"moveable\";\n     *\n     * const moveable = new Moveable(document.body);\n     *\n     * document.body.addEventListener(\"mousedown\", e => {\n     *     if (moveable.isInside(e.clientX, e.clientY)) {\n     *          console.log(\"inside\");\n     *     }\n     * });\n     */\n    public isInside(clientX: number, clientY: number): boolean {\n        return this.getMoveable().isInside(clientX, clientY);\n    }\n\n    /**\n     * If the width, height, left, and top of the only target change, update the shape of the moveable.\n     * @param - the values of x and y to move moveable.\n     * @example\n     * import Moveable from \"moveable\";\n     *\n     * const moveable = new Moveable(document.body);\n     *\n     * moveable.updateTarget();\n     */\n    public updateTarget(): void {\n        this.getMoveable().updateTarget();\n    }\n    /**\n     * Remove the Moveable object and the events.\n     * @example\n     * import Moveable from \"moveable\";\n     *\n     * const moveable = new Moveable(document.body);\n     *\n     * moveable.destroy();\n     */\n    public destroy() {\n        const el = this.getMoveable().base;\n\n        el.remove ? el.remove() : el.parentElement.removeChild(el);\n        this.off();\n        this.getMoveable().destroy();\n        this.innerMoveable = null;\n    }\n    private getMoveable() {\n        return this.innerMoveable.preactMoveable;\n    }\n}\n/**\n * Whether or not the origin controlbox will be visible or not\n * @name Moveable#origin\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.origin = true;\n */\n/**\n * The target to indicate Moveable Control Box.\n * @name Moveable#target\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.target = document.querySelector(\".target\");\n */\n/**\n * Whether or not target can be dragged.\n * @name Moveable#draggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.draggable = true;\n */\n/**\n * Whether or not target can be resized.\n * @name Moveable#resizable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.resizable = true;\n */\n/**\n * Whether or not target can scaled.\n * @name Moveable#scalable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.scalable = true;\n */\n/**\n * Whether or not target can be rotated.\n * @name Moveable#rotatable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.rotatable = true;\n */\n/**\n * Whether or not target can be warped.\n * @name Moveable#warpable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.warpable = true;\n */\n/**\n * Whether or not target can be pinched with draggable, resizable, scalable, rotatable\n * @name Moveable#pinchable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.pinchable = true;\n */\n/**\n * When resize or scale, keeps a ratio of the width, height.\n * @name Moveable#keepRatio\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.keepRatio = true;\n */\n/**\n * Resize, Scale Events at edges\n * @name Moveable#edge\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.edge = true;\n */\n/**\n * throttle of x, y when drag.\n * @name Moveable#throttleDrag\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleDrag = 1;\n */\n/**\n * throttle of width, height when resize.\n * @name Moveable#throttleResize\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleResize = 1;\n */\n/**\n * throttle of scaleX, scaleY when scale.\n * @name Moveable#throttleScale\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleScale = 0.1;\n */\n/**\n * throttle of angle(degree) when rotate.\n * @name Moveable#throttleRotate\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleRotate = 1;\n */\n\n /**\n * Whether or not target can be snapped to the guideline. (default: false)\n * @name Moveable#snappable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snappable = true;\n */\n/**\n * When you drag, make the snap in the center of the target. (default: false)\n * @name Moveable#snapCenter\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapCenter = true;\n */\n\n/**\n * Distance value that can snap to guidelines. (default: 5)\n * @name Moveable#snapThreshold\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapThreshold = 5;\n */\n\n/**\n * Add guidelines in the horizontal direction. (default: [])\n * @name Moveable#horizontalGuidlines\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.horizontalGuidlines = [100, 200, 500];\n */\n\n/**\n * Add guidelines in the vertical direction. (default: [])\n * @name Moveable#\n * moveable.verticalGuidlines\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.verticalGuidlines = [100, 200, 500];\n */\n/**\n * Add guidelines for the element. (default: [])\n * @name Moveable#elementGuidelines\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.elementGuidelines = [\n *   document.querySelector(\".element\"),\n * ];\n */\n/**\n * You can set up boundaries. (default: [])\n * @name Moveable#bounds\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.bounds = { left: 0, right: 1000, top: 0, bottom: 1000};\n */\n/**\n * Add an event to the moveable area instead of the target for stopPropagation. (default: false)\n * @name Moveable#dragArea\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  dragArea: false,\n * });\n */\n/**\n * You can specify the position of the rotation. (default: \"top\")\n * @name Moveable#rotationPosition\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   rotationPosition: \"top\",\n * });\n *\n * moveable.rotationPosition = \"bottom\"\n */\n\n/**\n * When the drag starts, the dragStart event is called.\n * @memberof Moveable\n * @event dragStart\n * @param {Moveable.OnDragStart} - Parameters for the dragStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"dragStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n/**\n * When dragging, the drag event is called.\n * @memberof Moveable\n * @event drag\n * @param {Moveable.OnDrag} - Parameters for the drag event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"drag\", ({ target, transform }) => {\n *     target.style.transform = transform;\n * });\n */\n/**\n * When the drag finishes, the dragEnd event is called.\n * @memberof Moveable\n * @event dragEnd\n * @param {Moveable.OnDragEnd} - Parameters for the dragEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"dragEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n/**\n * When the resize starts, the resizeStart event is called.\n * @memberof Moveable\n * @event resizeStart\n * @param {Moveable.OnResizeStart} - Parameters for the resizeStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resizeStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n/**\n * When resizing, the resize event is called.\n * @memberof Moveable\n * @event resize\n * @param {Moveable.OnResize} - Parameters for the resize event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resize\", ({ target, width, height }) => {\n *     target.style.width = `${e.width}px`;\n *     target.style.height = `${e.height}px`;\n * });\n */\n/**\n * When the resize finishes, the resizeEnd event is called.\n * @memberof Moveable\n * @event resizeEnd\n * @param {Moveable.OnResizeEnd} - Parameters for the resizeEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resizeEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n/**\n * When the scale starts, the scaleStart event is called.\n * @memberof Moveable\n * @event scaleStart\n * @param {Moveable.OnScaleStart} - Parameters for the scaleStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scaleStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n/**\n * When scaling, the scale event is called.\n * @memberof Moveable\n * @event scale\n * @param {Moveable.OnScale} - Parameters for the scale event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\n *     target.style.transform = transform;\n * });\n */\n/**\n * When the scale finishes, the scaleEnd event is called.\n * @memberof Moveable\n * @event scaleEnd\n * @param {Moveable.OnScaleEnd} - Parameters for the scaleEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scaleEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n/**\n * When the rotate starts, the rotateStart event is called.\n * @memberof Moveable\n * @event rotateStart\n * @param {Moveable.OnRotateStart} - Parameters for the rotateStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { rotatable: true });\n * moveable.on(\"rotateStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n/**\n * When rotating, the rotate event is called.\n * @memberof Moveable\n * @event rotate\n * @param {Moveable.OnRotate} - Parameters for the rotate event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { rotatable: true });\n * moveable.on(\"rotate\", ({ target, transform, dist }) => {\n *     target.style.transform = transform;\n * });\n */\n/**\n * When the rotate finishes, the rotateEnd event is called.\n * @memberof Moveable\n * @event rotateEnd\n * @param {Moveable.OnRotateEnd} - Parameters for the rotateEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { rotatable: true });\n * moveable.on(\"rotateEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the warp starts, the warpStart event is called.\n* @memberof Moveable\n* @event warpStart\n* @param {Moveable.OnWarpStart} - Parameters for the warpStart event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, { warpable: true });\n* moveable.on(\"warpStart\", ({ target }) => {\n*     console.log(target);\n* });\n*/\n/**\n * When warping, the warp event is called.\n * @memberof Moveable\n * @event warp\n * @param {Moveable.OnWarp} - Parameters for the warp event\n * @example\n * import Moveable from \"moveable\";\n * let matrix = [\n *  1, 0, 0, 0,\n *  0, 1, 0, 0,\n *  0, 0, 1, 0,\n *  0, 0, 0, 1,\n * ];\n * const moveable = new Moveable(document.body, { warpable: true });\n * moveable.on(\"warp\", ({ target, transform, delta, multiply }) => {\n *    // target.style.transform = transform;\n *    matrix = multiply(matrix, delta);\n *    target.style.transform = `matrix3d(${matrix.join(\",\")})`;\n * });\n */\n/**\n * When the warp finishes, the warpEnd event is called.\n * @memberof Moveable\n * @event warpEnd\n * @param {Moveable.OnWarpEnd} - Parameters for the warpEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { warpable: true });\n * moveable.on(\"warpEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n/**\n * When the pinch starts, the pinchStart event is called with part of scaleStart, rotateStart, resizeStart\n * @memberof Moveable\n * @event pinchStart\n * @param {Moveable.OnPinchStart} - Parameters for the pinchStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinchStart\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotateStart\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scaleStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n/**\n * When pinching, the pinch event is called with part of scale, rotate, resize\n * @memberof Moveable\n * @event pinch\n * @param {Moveable.OnPinch} - Parameters for the pinch event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinch\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotate\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scale\", ({ target }) => {\n *     console.log(target);\n * });\n */\n/**\n * When the pinch finishes, the pinchEnd event is called.\n * @memberof Moveable\n * @event pinchEnd\n * @param {Moveable.OnPinchEnd} - Parameters for the pinchEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinchEnd\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotateEnd\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scaleEnd\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n /**\n * When the group drag starts, the `dragGroupStart` event is called.\n * @memberof Moveable\n * @event dragGroupStart\n * @param {Moveable.OnDragGroupStart} - Parameters for the `dragGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     draggable: true\n * });\n * moveable.on(\"dragGroupStart\", ({ targets }) => {\n *     console.log(\"onDragGroupStart\", targets);\n * });\n */\n\n /**\n * When the group drag, the `dragGroup` event is called.\n * @memberof Moveable\n * @event dragGroup\n * @param {Moveable.onDragGroup} - Parameters for the `dragGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     draggable: true\n * });\n * moveable.on(\"dragGroup\", ({ targets, events }) => {\n *     console.log(\"onDragGroup\", targets);\n *     events.forEach(ev => {\n *          // drag event\n *          console.log(\"onDrag left, top\", ev.left, ev.top);\n *          // ev.target!.style.left = `${ev.left}px`;\n *          // ev.target!.style.top = `${ev.top}px`;\n *          console.log(\"onDrag translate\", ev.dist);\n *          ev.target!.style.transform = ev.transform;)\n *     });\n * });\n */\n\n/**\n * When the group drag finishes, the `dragGroupEnd` event is called.\n * @memberof Moveable\n * @event dragGroupEnd\n * @param {Moveable.OnDragGroupEnd} - Parameters for the `dragGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     draggable: true\n * });\n * moveable.on(\"dragGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onDragGroupEnd\", targets, isDrag);\n * });\n */\n\n /**\n * When the group resize starts, the `resizeGroupStart` event is called.\n * @memberof Moveable\n * @event resizeGroupStart\n * @param {Moveable.OnResizeGroupStart} - Parameters for the `resizeGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     resizable: true\n * });\n * moveable.on(\"resizeGroupStart\", ({ targets }) => {\n *     console.log(\"onResizeGroupStart\", targets);\n * });\n */\n\n /**\n * When the group resize, the `resizeGroup` event is called.\n * @memberof Moveable\n * @event resizeGroup\n * @param {Moveable.onResizeGroup} - Parameters for the `resizeGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     resizable: true\n * });\n * moveable.on(\"resizeGroup\", ({ targets, events }) => {\n *     console.log(\"onResizeGroup\", targets);\n *     events.forEach(ev => {\n *         const offset = [\n *             direction[0] < 0 ? -ev.delta[0] : 0,\n *             direction[1] < 0 ? -ev.delta[1] : 0,\n *         ];\n *         // ev.drag is a drag event that occurs when the group resize.\n *         const left = offset[0] + ev.drag.beforeDist[0];\n *         const top = offset[1] + ev.drag.beforeDist[1];\n *         const width = ev.width;\n *         const top = ev.top;\n *     });\n * });\n */\n\n/**\n * When the group resize finishes, the `resizeGroupEnd` event is called.\n * @memberof Moveable\n * @event resizeGroupEnd\n * @param {Moveable.OnResizeGroupEnd} - Parameters for the `resizeGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     resizable: true\n * });\n * moveable.on(\"resizeGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onResizeGroupEnd\", targets, isDrag);\n * });\n */\n\n /**\n * When the group scale starts, the `scaleGroupStart` event is called.\n * @memberof Moveable\n * @event scaleGroupStart\n * @param {Moveable.OnScaleGroupStart} - Parameters for the `scaleGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     scalable: true\n * });\n * moveable.on(\"scaleGroupStart\", ({ targets }) => {\n *     console.log(\"onScaleGroupStart\", targets);\n * });\n */\n\n /**\n * When the group scale, the `scaleGroup` event is called.\n * @memberof Moveable\n * @event scaleGroup\n * @param {Moveable.OnScaleGroup} - Parameters for the `scaleGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     scalable: true\n * });\n * moveable.on(\"scaleGroup\", ({ targets, events }) => {\n *     console.log(\"onScaleGroup\", targets);\n *     events.forEach(ev => {\n *         const target = ev.target;\n *         // ev.drag is a drag event that occurs when the group scale.\n *         const left = ev.drag.beforeDist[0];\n *         const top = ev.drag.beforeDist[1];\n *         const scaleX = ev.scale[0];\n *         const scaleY = ev.scale[1];\n *     });\n * });\n */\n\n/**\n * When the group scale finishes, the `scaleGroupEnd` event is called.\n * @memberof Moveable\n * @event scaleGroupEnd\n * @param {Moveable.OnScaleGroupEnd} - Parameters for the `scaleGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     scalable: true\n * });\n * moveable.on(\"scaleGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onScaleGroupEnd\", targets, isDrag);\n * });\n */\n\n/**\n * When the group rotate starts, the `rotateGroupStart` event is called.\n * @memberof Moveable\n * @event rotateGroupStart\n * @param {Moveable.OnRotateGroupStart} - Parameters for the `rotateGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     rotatable: true\n * });\n * moveable.on(\"rotateGroupStart\", ({ targets }) => {\n *     console.log(\"onRotateGroupStart\", targets);\n * });\n */\n\n /**\n * When the group rotate, the `rotateGroup` event is called.\n * @memberof Moveable\n * @event rotateGroup\n * @param {Moveable.OnRotateGroup} - Parameters for the `rotateGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     rotatable: true\n * });\n * moveable.on(\"rotateGroup\", ({ targets, events }) => {\n *     console.log(\"onRotateGroup\", targets);\n *     events.forEach(ev => {\n *         const target = ev.target;\n *         // ev.drag is a drag event that occurs when the group rotate.\n *         const left = ev.drag.beforeDist[0];\n *         const top = ev.drag.beforeDist[1];\n *         const deg = ev.beforeDist;\n *     });\n * });\n */\n\n/**\n * When the group rotate finishes, the `rotateGroupEnd` event is called.\n * @memberof Moveable\n * @event rotateGroupEnd\n * @param {Moveable.OnRotateGroupEnd} - Parameters for the `rotateGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     rotatable: true\n * });\n * moveable.on(\"rotateGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onRotateGroupEnd\", targets, isDrag);\n * });\n */\n\n/**\n * When the group pinch starts, the `pinchGroupStart` event is called.\n * @memberof Moveable\n * @event pinchGroupStart\n * @param {Moveable.OnPinchGroupStart} - Parameters for the `pinchGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroupStart\", ({ targets }) => {\n *     console.log(\"onPinchGroupStart\", targets);\n * });\n */\n\n /**\n * When the group pinch, the `pinchGroup` event is called.\n * @memberof Moveable\n * @event pinchGroup\n * @param {Moveable.OnPinchGroup} - Parameters for the `pinchGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroup\", ({ targets, events }) => {\n *     console.log(\"onPinchGroup\", targets);\n * });\n */\n\n/**\n * When the group pinch finishes, the `pinchGroupEnd` event is called.\n * @memberof Moveable\n * @event pinchGroupEnd\n * @param {Moveable.OnPinchGroupEnd} - Parameters for the `pinchGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onPinchGroupEnd\", targets, isDrag);\n * });\n */\n\n /**\n * When you click on the element inside the group, the `clickGroup` event is called.\n * @memberof Moveable\n * @event clickGroup\n * @param {Moveable.OnClickGroup} - Parameters for the `clickGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"clickGroup\", ({ target, hasTarget, containsTarget, targetIndex }) => {\n *     // If you click on an element other than the target and not included in the target, index is -1.\n *     console.log(\"onClickGroup\", target, hasTarget, containsTarget, targetIndex);\n * });\n */\n\ninterface Moveable extends MoveableGetterSetter {\n    on(eventName: \"drag\", handlerToAttach: (event: OnDrag) => any): this;\n    on(eventName: \"dragStart\", handlerToAttach: (event: OnDragStart) => any): this;\n    on(eventName: \"dragEnd\", handlerToAttach: (event: OnDragEnd) => any): this;\n\n    on(eventName: \"resize\", handlerToAttach: (event: OnResize) => any): this;\n    on(eventName: \"resizeStart\", handlerToAttach: (event: OnResizeStart) => any): this;\n    on(eventName: \"resizeEnd\", handlerToAttach: (event: OnResizeEnd) => any): this;\n\n    on(eventName: \"scale\", handlerToAttach: (event: OnScale) => any): this;\n    on(eventName: \"scaleStart\", handlerToAttach: (event: OnScaleStart) => any): this;\n    on(eventName: \"scaleEnd\", handlerToAttach: (event: OnScaleEnd) => any): this;\n\n    on(eventName: \"rotate\", handlerToAttach: (event: OnRotate) => any): this;\n    on(eventName: \"rotateStart\", handlerToAttach: (event: OnRotateStart) => any): this;\n    on(eventName: \"rotateEnd\", handlerToAttach: (event: OnRotateEnd) => any): this;\n\n    on(eventName: \"warp\", handlerToAttach: (event: OnWarp) => any): this;\n    on(eventName: \"warpStart\", handlerToAttach: (event: OnWarpStart) => any): this;\n    on(eventName: \"warpEnd\", handlerToAttach: (event: OnWarpEnd) => any): this;\n\n    on(eventName: \"pinch\", handlerToAttach: (event: OnPinch) => any): this;\n    on(eventName: \"pinchStart\", handlerToAttach: (event: OnPinchStart) => any): this;\n    on(eventName: \"pinchEnd\", handlerToAttach: (event: OnPinchEnd) => any): this;\n\n    on(eventName: \"dragGroup\", handlerToAttach: (event: OnDragGroup) => any): this;\n    on(eventName: \"dragGroupStart\", handlerToAttach: (event: OnDragGroupStart) => any): this;\n    on(eventName: \"dragGroupEnd\", handlerToAttach: (event: OnDragGroupEnd) => any): this;\n\n    on(eventName: \"resizeGroup\", handlerToAttach: (event: OnResizeGroup) => any): this;\n    on(eventName: \"resizeGroupStart\", handlerToAttach: (event: OnResizeGroupStart) => any): this;\n    on(eventName: \"resizeGroupEnd\", handlerToAttach: (event: OnResizeGroupEnd) => any): this;\n\n    on(eventName: \"scaleGroup\", handlerToAttach: (event: OnScaleGroup) => any): this;\n    on(eventName: \"scaleGroupStart\", handlerToAttach: (event: OnScaleGroupStart) => any): this;\n    on(eventName: \"scaleGroupEnd\", handlerToAttach: (event: OnScaleGroupEnd) => any): this;\n\n    on(eventName: \"rotateGroup\", handlerToAttach: (event: OnRotateGroup) => any): this;\n    on(eventName: \"rotateGroupStart\", handlerToAttach: (event: OnRotateGroupStart) => any): this;\n    on(eventName: \"rotateGroupEnd\", handlerToAttach: (event: OnRotateGroupEnd) => any): this;\n\n    on(eventName: \"pinchGroup\", handlerToAttach: (event: OnPinchGroup) => any): this;\n    on(eventName: \"pinchGroupStart\", handlerToAttach: (event: OnPinchGroupStart) => any): this;\n    on(eventName: \"pinchGroupEnd\", handlerToAttach: (event: OnPinchGroupEnd) => any): this;\n\n    on(eventName: \"clickGroup\", handlerToAttach: (event: OnClickGroup) => any): this;\n\n    on(eventName: string, handlerToAttach: (event: { [key: string]: any }) => any): this;\n    on(events: { [key: string]: (event: { [key: string]: any }) => any }): this;\n}\n\nexport default Moveable;\n","export const codes = {\n    draggable: {\n        vanilla: `\nimport Moveable from \"moveable\";\n\n/* const translate = [0, 0]; */\nconst draggable = new Moveable(document.body, {\n    target: document.querySelector(\".draggable\"),\n    draggable: true,\n    throttleDrag: 0,\n}).on(\"drag\", ({ target, left, top, beforeDelta }) => {\n    target.style.left = left + \"px\";\n    target.style.top = top + \"px\";\n\n    /* translate[0] += beforeDelta[0]; */\n    /* translate[1] += beforeDelta[1]; */\n    /* target.style.transform\n        = \"translateX(\" + translate[0] + \"px) \"\n        + \"translateY(\" + translate[1] + \"px)\"; */\n});\n        `,\n        react: `\nimport Moveable from \"react-moveable\";\nthis.translate = [0, 0];\nreturn (\n    <Moveable\n        target={document.querySelector(\".draggable\")}\n        draggable={true}\n        throttleDrag={0}\n        onDrag={({ target, left, top, beforeDelta }) => {\n            target.style.left = left + \"px\";\n            target.style.top = top + \"px\";\n\n            /* const translate = this.translate */\n            /* translate[0] += beforeDelta[0]; */\n            /* translate[1] += beforeDelta[1]; */\n            /* target.style.transform\n                = \"translateX(\" + translate[0] + \"px) \"\n                + \"translateY(\" + translate[1] + \"px)\"; */\n        }}\n    />\n);\n        `,\n        angular: `\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from \"ngx-moveable\";\n\n@Component({\n    selector: 'AppComponent',\n    template: ${\"`\"}\n<div #target class=\"target\">target</div>\n<ngx-moveable\n    [target]=\"target\"\n    [draggable]=\"true\"\n    [throttleDrag]=\"0\"\n    (drag)=\"onDrag($event)\n    />\n${\"`\"},\n})\nexport class AppComponent {\n    translate = [0, 0];\n    onDrag({ target, left, top, beforeDelta }) {\n        target.style.left = left + \"px\";\n        target.style.top = top + \"px\";\n\n        /* const translate = this.translate */\n        /* translate[0] += beforeDelta[0]; */\n        /* translate[1] += beforeDelta[1]; */\n        /* target.style.transform\n            = \"translateX(\" + translate[0] + \"px) \"\n            + \"translateY(\" + translate[1] + \"px)\"; */\n    }\n}\n`,\n    },\n    resizable: {\n        vanilla: `\nimport Moveable from \"moveable\";\n\nconst resizable = new Moveable(document.body, {\n    target: document.querySelector(\".resizable\"),\n    resizable: true,\n    throttleResize: 0,\n    keepRatio: true,\n}).on(\"resize\", ({ target, width, height, dist }) => {\n    console.log(width, height, dist);\n    target.style.width = width + \"px\";\n    target.style.height = height + \"px\";\n});\n        `,\n        react: `\nimport Moveable from \"react-moveable\";\n\nreturn (\n    <Moveable\n        target={document.querySelector(\".resizable\")}\n        resizable={true}\n        throttleResize={0}\n        keepRatio={true}\n        onResize={({ target, width, height, dist }) => {\n            console.log(width, height, dist);\n            target.style.width = width + \"px\";\n            target.style.height = height + \"px\";\n        }}\n    />\n);\n        `,\n        angular: `\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from \"ngx-moveable\";\n\n@Component({\n    selector: 'AppComponent',\n    template: ${\"`\"}\n<div #target class=\"target\">target</div>\n<ngx-moveable\n    [target]=\"target\"\n    [resizable]=\"true\"\n    [throttleResize]=\"0\"\n    [keepRatio]=\"true\"\n    (resize)=\"onResize($event)\n    />\n${\"`\"},\n})\nexport class AppComponent {\n    onResize({ target, width, height, dist }) {\n        console.log(width, height, dist);\n        target.style.width = width + \"px\";\n        target.style.height = height + \"px\";\n    }\n}\n        `,\n    },\n    scalable: {\n        vanilla: `\nimport Moveable from \"moveable\";\n\nconst scale = [1, 1];\nconst scalable = new Moveable(document.body, {\n    target: document.querySelector(\".scalable\"),\n    scalable: true,\n    throttleScale: 0,\n    keepRatio: true,\n}).on(\"scale\", ({ target, delta }) => {\n    scale[0] *= delta[0];\n    scale[1] *= delta[1];\n    target.style.transform = \"scale(\" + scale[0] +  \",\" + scale[1] + \")\";\n});\n        `,\n        react: `\nimport Moveable from \"react-moveable\";\n\nthis.scale = [1, 1];\nreturn (\n    <Moveable\n        target={document.querySelector(\".scalable\")}\n        scalable={true}\n        throttleScale={0}\n        keepRatio={true}\n        onScale={({ target, delta }) => {\n            const scale = this.scale;\n            scale[0] *= delta[0];\n            scale[1] *= delta[1];\n            target.style.transform\n                = \"scale(\" + scale[0] +  \",\" + scale[1] + \")\";\n        }}\n    />\n);\n        `,\n        angular: `\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from \"ngx-moveable\";\n\n@Component({\n    selector: 'AppComponent',\n    template: ${\"`\"}\n<div #target class=\"target\">target</div>\n<ngx-moveable\n    [target]=\"target\"\n    [scalable]=\"true\"\n    [throttleScale]=\"0\"\n    [keepRatio]=\"true\"\n    (scale)=\"onScale($event)\n    />\n${\"`\"},\n})\nexport class AppComponent {\n    scale = [1, 1];\n    onScale({ target, delta }) {\n        const scale = this.scale;\n        scale[0] *= delta[0];\n        scale[1] *= delta[1];\n        target.style.transform\n            = \"scale(\" + scale[0] +  \",\" + scale[1] + \")\";\n    }\n}\n        `,\n    },\n    rotatable: {\n        vanilla: `\nimport Moveable from \"moveable\";\n\nlet rotate = 0;\n\nconst rotatable = new Moveable(document.body, {\n    target: document.querySelector(\".rotatable\"),\n    rotatable: true,\n    throttleRotate: 0,\n}).on(\"rotate\", ({ target, beforeDelta, delta }) => {\n    rotate += delta;\n    target.style.transform\n        = \"rotate(\" + rotate +  \"deg)\";\n});\n        `,\n        react: `\nimport Moveable from \"react-moveable\";\n\nthis.rotate = 0;\n\nreturn (\n    <Moveable\n        target={document.querySelector(\".rotatable\")}\n        rotatable={true}\n        throttleRotate={0}\n        onRotate={({ target, beforeDelta, delta }) => {\n            this.rotate += delta;\n            target.style.transform\n                = \"rotate(\" + this.rotate +  \"deg)\";\n        }}\n    />\n);\n        `,\n        angular: `\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from \"ngx-moveable\";\n\n@Component({\n    selector: 'AppComponent',\n    template: ${\"`\"}\n<div #target class=\"target\">target</div>\n<ngx-moveable\n    [target]=\"target\"\n    [rotatable]=\"true\"\n    [throttleRotate]=\"0\"\n    [keepRatio]=\"true\"\n    (rotate)=\"onRotate($event)\n    />\n${\"`\"},\n})\nexport class AppComponent {\n    rotate = 0;\n    onRotate({ target, delta }) {\n        this.rotate += delta;\n        target.style.transform\n            = \"rotate(\" + this.rotate +  \"deg)\";\n    }\n}\n        `,\n    },\n    warpable: {\n        vanilla: `\nimport Moveable from \"moveable\";\n\nlet matrix = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n];\n\nconst warpable = new Moveable(document.body, {\n    target: document.querySelector(\".warpable\"),\n    warpable: true,\n    throttleRotate: 0,\n}).on(\"warp\", ({ target, multiply, delta }) => {\n    matrix = multiply(matrix, delta);\n    target.style.transform\n        = \"matrix3d(\" + matrix.join(\",\") +  \")\";\n});\n        `,\n        react: `\nimport Moveable from \"react-moveable\";\n\nthis.matrix = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n];\n\nreturn (\n    <Moveable\n        target={document.querySelector(\".warpable\")}\n        warpable={true}\n        onWarp={({ target, multiply, delta }) => {\n            this.matrix = multiply(this.matrix, delta);\n            target.style.transform\n                = \"matrix3d(\" + matrix.join(\",\") +  \")\";\n        }}\n    />\n);\n        `,\n        angular: `\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from \"ngx-moveable\";\n\n@Component({\n    selector: 'AppComponent',\n    template: ${\"`\"}\n<div #target class=\"target\">target</div>\n<ngx-moveable\n    [target]=\"target\"\n    [warpable]=\"true\"\n    (warp)=\"onWarp($event)\n    />\n${\"`\"},\n})\nexport class AppComponent {\n    matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    onWarp({ target, dist }) {\n        this.matrix = multiply(this.matrix, delta);\n        target.style.transform\n            = \"matrix3d(\" + matrix.join(\",\") +  \")\";\n    }\n}\n        `,\n    },\n    pinchable: {\n        vanilla: `\nimport Moveable from \"moveable\";\nconst scale = [1, 1];\nlet rotate = 0;\n\nconst pinchable = new Moveable(document.body, {\n    target: document.querySelector(\".pinchable\"),\n    pinchable: [\"rotatable\", \"scalable\"],\n}).on(\"rotate\", ({ target, beforeDelta }) => {\n    rotate += beforeDelta;\n    target.style.transform = \"scale(\" + scale.join(\", \") + \") rotate(\" + rotate + \"deg)\";\n}).on(\"scale\", ({ target, delta }) => {\n    scale[0] *= delta[0];\n    scale[1] *= delta[1];\n    target.style.transform = \"scale(\" + scale.join(\", \") + \") rotate(\" + rotate + \"deg)\";\n});`,\n        react: `\nimport Moveable from \"react-moveable\";\nthis.scale = [1, 1];\nthis.rotate = 0;\n\nreturn (\n    <Moveable\n        target={document.querySelector(\".pinchable\")}\n        pinchable={[\"rotatable\", \"scalable\"]},\n        onRotate={({ target, beforeDelta }) => {\n            this.rotate += beforeDelta;\n            target.style.transform\n                = \"scale(\" + this.scale.join(\", \") + \") \"\n                + \"rotate(\" + this.rotate + \"deg)\";\n        }}\n        onScale={({ target, beforeDelta }) => {\n            this.scale[0] *= delta[0];\n            this.scale[1] *= delta[1];\n            target.style.transform\n                = \"scale(\" + this.scale.join(\", \") + \") \"\n                + \"rotate(\" + this.rotate + \"deg)\";\n        }}\n    />\n);`,\n        angular: `\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from \"ngx-moveable\";\n\n@Component({\n    selector: 'AppComponent',\n    template: ${\"`\"}\n    <div #target class=\"target\">target</div>\n    <ngx-moveable\n        [target]=\"target\"\n        [pinchable]=\"['rotatable', 'scalable']\"\n        [rotate]=\"onRotate($event)\"\n        [scale]=\"onScale($event)\"\n/>\n${\"`\"},\n})\nexport class AppComponent {\n    scale = [1, 1];\n    rotate = 0;\n    onRotate({ target, beforeDelta }) {\n        this.rotate += beforeDelta;\n        target.style.transform\n            = \"scale(\" + this.scale.join(\", \") + \") \"\n            + \"rotate(\" + this.rotate + \"deg)\";\n    }\n    onScale({ target, beforeDelta }) {\n        this.scale[0] *= delta[0];\n        this.scale[1] *= delta[1];\n        target.style.transform\n            = \"scale(\" + this.scale.join(\", \") + \") \"\n            + \"rotate(\" + this.rotate + \"deg)\";\n    }\n}\n`,\n    },\n    origin: {\n        vanilla: `\nimport Moveable from \"moveable\";\n\nconst rotatable = new Moveable(document.body, {\n    target: document.querySelector(\".origin\"),\n    origin: true,\n});\n        `,\n        react: `\nimport Moveable from \"react-moveable\";\n\nreturn (\n    <Moveable\n        target={document.querySelector(\".origin\")}\n        origin={true}\n    />\n);\n        `,\n        angular: `\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from \"ngx-moveable\";\n\n@Component({\n    selector: 'AppComponent',\n    template: ${\"`\"}\n<div #target class=\"target\">target</div>\n<ngx-moveable\n    [target]=\"target\"\n    [origin]=\"true\"\n    />\n${\"`\"},\n})\nexport class AppComponent {\n}\n`,\n    },\n    groupable: {\n        vanilla: `\nimport Moveable from \"moveable\";\nconst poses = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n];\nconst target = [].slice.call(\n    document.querySelectorAll(\".target\"),\n);\nconst groupable = new Moveable(document.body, {\n    target,\n    draggable: true,\n}).on(\"dragGroup\", ({ events }) => {\n    events.forEach(({ target, beforeDelta }, i) => {\n        poses[i][0] += beforeDelta[0];\n        poses[i][1] += beforeDelta[1];\n\n        target.style.transform\n            = \"translate(\"\n            + poses[i][0] + \"px, \"\n            + poses[i][1] + \"px)\";\n    });\n});\n        `,\n        react: `\nimport Moveable from \"react-moveable\";\n\nthis.poses = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n];\n\nconst target = [].slice.call(\n    document.querySelectorAll(\".target\"),\n);\nreturn (\n    <Moveable\n        target={target}\n        draggable={true}\n        onDragGroup={({ events }) => {\n            events.forEach(({ target, beforeDelta }, i) => {\n                this.poses[i][0] += beforeDelta[0];\n                this.poses[i][1] += beforeDelta[1];\n\n                target.style.transform\n                    = \"translate(\"\n                    + this.poses[i][0] + \"px, \"\n                    + this.poses[i][1] + \"px)\";\n            });\n        }}\n    />\n);\n        `,\n        angular: `\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from \"ngx-moveable\";\n\n@Component({\n    selector: 'AppComponent',\n    template: ${\"`\"}\n<div #target1 class=\"target\">target1</div>\n<div #target2 class=\"target\">target2</div>\n<div #target3 class=\"target\">target3</div>\n<ngx-moveable\n    [target]=\"[target1, target2, target3]\"\n    [draggable]=\"true\"\n    (dragGroup)=\"onDragGroup($event)\n    />\n${\"`\"},\n})\nexport class AppComponent {\n    poses = [\n        [0, 0],\n        [0, 0],\n        [0, 0],\n    ];\n    onDragGroup({ events }) {\n        events.forEach(({ target, beforeDelta }, i) => {\n            this.poses[i][0] += beforeDelta[0];\n            this.poses[i][1] += beforeDelta[1];\n\n            target.style.transform\n                = \"translate(\"\n                + this.poses[i][0] + \"px, \"\n                + this.poses[i][1] + \"px)\";\n        });\n    }\n}\n        `,\n    },\n};\n","import { Frame } from \"scenejs\";\nimport Moveable from \"../../src/Moveable\";\nimport Dragger from \"@daybrush/drag\";\nimport KeyContoller from \"keycon\";\n\nconst labelElement: HTMLElement = document.querySelector(\".label\");\nconst rulersElement = document.querySelector(\".rulers\");\nconst guidelinesElement = document.querySelector(\".guidelines\");\nconst horizontalRulerElement = rulersElement.querySelector(\".ruler.horizontal\");\nconst verticalRulerElement = rulersElement.querySelector(\".ruler.vertical\");\nconst horizontalDivisionsElement = horizontalRulerElement.querySelector(\".divisions\");\nconst verticalDivisionsElement = document.querySelector(\".ruler.vertical .divisions\");\n\nconst divisions = [];\nfor (let i = 0; i <= 1000; ++i) {\n    divisions.push(`<div class=\"division\" data-px=\"${i * 5}\"></div>`);\n}\nhorizontalDivisionsElement.innerHTML = divisions.join(\"\");\nverticalDivisionsElement.innerHTML = divisions.join(\"\");\n\nconst frame = new Frame({\n    left: \"calc(50% - 125px)\",\n    top: \"calc(50% - 250px)\",\n    width: \"250px\",\n    height: \"200px\",\n    transform: {\n        translateX: \"0px\",\n        translateY: \"0px\",\n        rotate: \"0deg\",\n        scaleX: 1,\n        scaleY: 1,\n    },\n});\nconst moveableTarget: HTMLElement = document.querySelector(\".moveable.target\");\nconst moveable = new Moveable(document.body, {\n    target: moveableTarget,\n    draggable: true,\n    resizable: true,\n    rotatable: true,\n    snappable: true,\n    snapCenter: true,\n    snapThreshold: 10,\n    throttleResize: 1,\n    throttleRotate: 1,\n    keepRatio: false,\n    origin: false,\n    bounds: {\n        left: 30,\n        top: 30,\n    },\n}).on(\"dragStart\", ({ set }) => {\n    set([\n        parseFloat(frame.get(\"transform\", \"translateX\")),\n        parseFloat(frame.get(\"transform\", \"translateY\")),\n    ]);\n}).on(\"drag\", ({ target, beforeTranslate }) => {\n    frame.set(\"transform\", \"translateX\", `${beforeTranslate[0]}px`);\n    frame.set(\"transform\", \"translateY\", `${beforeTranslate[1]}px`);\n\n    target.style.cssText += frame.toCSS();\n}).on(\"rotateStart\", ({ set }) => {\n    set(parseFloat(frame.get(\"transform\", \"rotate\")));\n}).on(\"rotate\", ({ target, beforeRotate, clientX, clientY }) => {\n    frame.set(\"transform\", \"rotate\", `${beforeRotate}deg`);\n    target.style.cssText += frame.toCSS();\n    setLabel(clientX, clientY, `${beforeRotate}`);\n}).on(\"resizeStart\", ({ setOrigin, dragStart }) => {\n    setOrigin([\"%\", \"%\"]);\n    dragStart && dragStart.set([\n        parseFloat(frame.get(\"transform\", \"translateX\")),\n        parseFloat(frame.get(\"transform\", \"translateY\")),\n    ]);\n\n}).on(\"resize\", ({ target, width, height, drag, clientX, clientY }) => {\n    frame.set(\"width\", `${width}px`);\n    frame.set(\"height\", `${height}px`);\n    frame.set(\"transform\", \"translateX\", `${drag.beforeTranslate[0]}px`);\n    frame.set(\"transform\", \"translateY\", `${drag.beforeTranslate[1]}px`);\n    target.style.cssText += frame.toCSS();\n\n    setLabel(clientX, clientY, `${width} X ${height}`);\n}).on(\"rotateEnd\", () => {\n    hideLabel();\n}).on(\"resizeEnd\", () => {\n    hideLabel();\n});\nfunction setLabel(clientX: number, clientY: number, text: string) {\n    // tslint:disable-next-line: max-line-length\n\n    labelElement.style.cssText = `\n    display: block; transform: translate(${clientX}px, ${clientY - 10}px) translate(-100%, -100%);`;\n\n    labelElement.innerHTML = text;\n}\nfunction hideLabel() {\n    labelElement.style.display = \"none\";\n}\nfunction snap(poses, targetPos) {\n    let nextPos = targetPos;\n    let snapDist = Infinity;\n\n    poses.forEach(pos => {\n        const dist = Math.abs(pos - targetPos);\n        if (dist > 10) {\n            return;\n        }\n        if (snapDist > dist) {\n            snapDist = dist;\n            nextPos = pos;\n        }\n    });\n\n    return nextPos;\n}\nfunction dragStartGuideline({ datas, clientX, clientY }) {\n    const rect = moveableTarget.getBoundingClientRect();\n    const type = datas.type;\n    const guideline = datas.guideline;\n\n    datas.verticalPoses = [rect.left, rect.left + rect.width];\n    datas.horizontalPoses = [rect.top, rect.top + rect.height];\n    datas.isHorizontal = type === \"horizontal\";\n\n    guideline.classList.add(\"dragging\");\n\n    dragGuideline({ datas, clientX, clientY });\n}\n\nfunction dragGuideline({ clientX, clientY, datas }) {\n    const { guideline, isHorizontal } = datas;\n    const style = guideline.style;\n\n    if (isHorizontal) {\n        const nextPos = snap(datas.horizontalPoses, clientY);\n\n        style.top = `${nextPos}px`;\n\n        return nextPos;\n    } else {\n        const nextPos = snap(datas.verticalPoses, clientX);\n\n        style.left = `${nextPos}px`;\n\n        return nextPos;\n    }\n}\n\nfunction dragEndGuideline({ datas, clientX, clientY }) {\n    const el = datas.guideline;\n    const clientPos = dragGuideline({ datas, clientX, clientY });\n\n    if (clientPos < 30) {\n        guidelinesElement.removeChild(el);\n        return;\n    }\n    el.setAttribute(\"data-position\", clientPos);\n\n    const horizontalGuidelines = [];\n    const verticalGuidelines = [];\n    [].slice.call(guidelinesElement.children).forEach(guideline => {\n        const type = guideline.getAttribute(\"data-type\");\n        const pos = parseFloat(guideline.getAttribute(\"data-position\"));\n        (type === \"horizontal\" ? horizontalGuidelines : verticalGuidelines).push(pos);\n    });\n    el.classList.remove(\"dragging\");\n    moveable.verticalGuidelines = verticalGuidelines;\n    moveable.horizontalGuidelines = horizontalGuidelines;\n}\nnew Dragger(guidelinesElement, {\n    container: document.body,\n    dragstart: ({ inputEvent, datas, clientX, clientY }) => {\n        const guideline = inputEvent.target;\n\n        if (guideline.classList.contains(\"horizontal\")) {\n            datas.type = \"horizontal\";\n        } else if (guideline.classList.contains(\"vertical\")) {\n            datas.type = \"vertical\";\n        } else {\n            return false;\n        }\n        datas.guideline = guideline;\n\n        dragStartGuideline({ datas, clientX, clientY });\n    },\n    drag: dragGuideline,\n    dragend: dragEndGuideline,\n});\n\nnew Dragger(rulersElement, {\n    container: document.body,\n    dragstart: ({ inputEvent, datas, clientX, clientY }) => {\n        const ruler = inputEvent.target;\n\n        if (ruler === horizontalRulerElement) {\n            datas.type = \"horizontal\";\n        } else if (ruler === verticalRulerElement) {\n            datas.type = \"vertical\";\n        } else {\n            return false;\n        }\n        const el = document.createElement(\"div\");\n        const type = datas.type;\n\n        el.className = `guideline ${type}`;\n        el.setAttribute(\"data-type\", type);\n\n        datas.guideline = el;\n\n        dragStartGuideline({ datas, clientX, clientY });\n        guidelinesElement.appendChild(el);\n    },\n    drag: dragGuideline,\n    dragend: dragEndGuideline,\n});\n\nfunction toggleShift(shiftKey) {\n    if (shiftKey) {\n        moveable.throttleRotate = 30;\n        moveable.keepRatio = true;\n    } else {\n        moveable.throttleRotate = 1;\n        moveable.keepRatio = false;\n    }\n}\nKeyContoller.global.on(\"keydown\", ({ shiftKey }) => {\n    toggleShift(shiftKey);\n}).on(\"keyup\", ({ shiftKey }) => {\n    toggleShift(shiftKey);\n});\n\nwindow.addEventListener(\"resize\", () => {\n    moveable.updateRect();\n});\n","import Moveable from \"../../src/Moveable\";\nimport { codes } from \"./consts\";\nimport \"./Editor\";\nimport \"./index.css\";\nimport \"./editor.css\";\n\ndeclare const hljs: any;\n\nconst draggableElement: HTMLElement = document.querySelector(\".draggable\");\nconst draggable = new Moveable(draggableElement.parentElement, {\n    target: draggableElement,\n    origin: false,\n    draggable: true,\n}).on(\"drag\", ({ target, transform }) => {\n    target.style.transform = transform;\n});\n\nconst resizableElement: HTMLElement = document.querySelector(\".resizable\");\nconst resizable = new Moveable(resizableElement.parentElement, {\n    target: resizableElement,\n    origin: false,\n    resizable: true,\n}).on(\"resize\", ({ target, width, height }) => {\n    target.style.width = `${width}px`;\n    target.style.height = `${height}px`;\n});\n\nconst scalableElement: HTMLElement = document.querySelector(\".scalable\");\nconst scalable = new Moveable(scalableElement.parentElement, {\n    target: scalableElement,\n    origin: false,\n    scalable: true,\n}).on(\"scale\", ({ target, transform }) => {\n    target.style.transform = transform;\n});\n\nconst rotatableElement: HTMLElement = document.querySelector(\".rotatable\");\nconst rotatable = new Moveable(rotatableElement.parentElement, {\n    target: rotatableElement,\n    origin: false,\n    rotatable: true,\n}).on(\"rotate\", ({ target, transform }) => {\n    target.style.transform = transform;\n});\nconst warpableElement: HTMLElement = document.querySelector(\".warpable\");\nconst warpable = new Moveable(warpableElement.parentElement, {\n    target: warpableElement,\n    warpable: true,\n    origin: false,\n}).on(\"warp\", ({ target, transform }) => {\n    target.style.transform = transform;\n});\n\nconst originElement: HTMLElement = document.querySelector(\".origin\");\nconst origin = new Moveable(originElement.parentElement, {\n    target: originElement,\n    origin: true,\n    draggable: true,\n    rotatable: true,\n}).on(\"drag\", ({ target, left, top }) => {\n    target.style.left = `${left}px`;\n    target.style.top = `${top}px`;\n}).on(\"rotate\", ({ target, transform }) => {\n    target.style.transform = transform;\n});\n\nconst pinchableElement: HTMLElement = document.querySelector(\".pinchable\");\nconst scale = [1, 1];\nlet rotate = 0;\nconst pinchable = new Moveable(pinchableElement.parentElement, {\n    target: pinchableElement,\n    pinchable: [\"rotatable\", \"scalable\"],\n    origin: false,\n}).on(\"rotate\", ({ beforeDelta }) => {\n    rotate += beforeDelta;\n\n    pinchableElement.style.transform = `scale(${scale.join(\", \")}) rotate(${rotate}deg)`;\n}).on(\"scale\", ({ delta }) => {\n    scale[0] *= delta[0];\n    scale[1] *= delta[1];\n\n    pinchableElement.style.transform = `scale(${scale.join(\", \")}) rotate(${rotate}deg)`;\n});\n\nconst groupableElement: HTMLElement = document.querySelector(\".groupable\");\nconst poses = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n];\n\nconst groupable = new Moveable(groupableElement.parentElement, {\n    target: [].slice.call(groupableElement.querySelectorAll(\"span\")),\n    origin: false,\n    draggable: true,\n}).on(\"dragGroup\", ({ events }) => {\n    events.forEach(({ target, beforeDelta }, i) => {\n        poses[i][0] += beforeDelta[0];\n        poses[i][1] += beforeDelta[1];\n\n        target.style.transform = `translate(${poses[i][0]}px, ${poses[i][1]}px)`;\n    });\n});\n\nwindow.addEventListener(\"resize\", () => {\n    // moveable.updateRect();\n    draggable.updateRect();\n    resizable.updateRect();\n    scalable.updateRect();\n    rotatable.updateRect();\n    warpable.updateRect();\n    pinchable.updateRect();\n    groupable.updateRect();\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    document.querySelectorAll(\"pre\").forEach((pre: HTMLElement) => {\n        const group = pre.getAttribute(\"data-group\");\n        const panel = pre.getAttribute(\"data-panel\");\n        const block = pre.querySelector(\"code\");\n\n        let code = codes[group][panel === \"preact\" ? \"react\" : panel].trim();\n\n        if (panel === \"preact\") {\n            code = code.replace(/react/g, \"preact\");\n        }\n        block.innerText = code;\n        hljs.highlightBlock(block);\n    });\n});\n\nconst ableElement = document.querySelector(\".buttons.able\");\nconst ableButtonElements = [].slice.call(ableElement.children);\n\nableElement.addEventListener(\"click\", e => {\n    const target = (e.target as HTMLElement);\n    const able = target.getAttribute(\"data-able\");\n\n    if (!able) {\n        return;\n    }\n    ableButtonElements.forEach((el: HTMLElement) => {\n        el.classList.remove(\"selected\");\n    });\n    target.classList.add(\"selected\");\n\n    // if (able === \"warpable\") {\n    //     moveable.resizable = false;\n    //     moveable.scalable = false;\n    //     moveable.warpable = true;\n    // } else if (able === \"scalable\") {\n    //     moveable.resizable = false;\n    //     moveable.scalable = true;\n    //     moveable.warpable = false;\n    // } else if (able === \"resizable\") {\n    //     moveable.resizable = true;\n    //     moveable.scalable = false;\n    //     moveable.warpable = false;\n    // }\n});\n\nconst tabGroups = {};\n\n[].slice.call(document.querySelectorAll(\"[data-tab]\")).forEach(tabElement => {\n    const group = tabElement.getAttribute(\"data-group\");\n    const tab = tabElement.getAttribute(\"data-tab\");\n    const panelElement = document.querySelector(`[data-group=\"${group}\"][data-panel=\"${tab}\"]`);\n\n    !tabGroups[group] && (tabGroups[group] = []);\n    tabGroups[group].push([tabElement, panelElement]);\n\n    tabElement.addEventListener(\"click\", () => {\n        tabGroups[group].forEach(([otherTabElement, otherPanelElement]) => {\n            if (tabElement === otherTabElement) {\n                return;\n            }\n            otherTabElement.classList.remove(\"selected\");\n            otherPanelElement.classList.remove(\"selected\");\n        });\n        tabElement.classList.add(\"selected\");\n        panelElement.classList.add(\"selected\");\n    });\n});\n"],"names":["tslib_1","props","_super","_this","state","h","Moveable","ref","Component","PROPERTIES","EVENTS","parentElement","options","element","document","createElement","nextOptions","container","events","forEach","name","camelize","e","trigger","render","InnerMoveable","appendChild","children","target","isArray","length","updateRect","getMoveable","isMoveableElement","dragStart","clientX","clientY","isInside","updateTarget","el","base","remove","removeChild","off","destroy","innerMoveable","preactMoveable","Properties","prototype","property","Object","defineProperty","get","set","value","setState","_a","enumerable","configurable","EgComponent","codes","draggable","vanilla","react","angular","resizable","scalable","rotatable","warpable","pinchable","origin","groupable","labelElement","querySelector","rulersElement","guidelinesElement","horizontalRulerElement","verticalRulerElement","horizontalDivisionsElement","verticalDivisionsElement","divisions","i","push","innerHTML","join","frame","Frame","left","top","width","height","transform","translateX","translateY","rotate","scaleX","scaleY","moveableTarget","moveable","body","snappable","snapCenter","snapThreshold","throttleResize","throttleRotate","keepRatio","bounds","on","parseFloat","beforeTranslate","style","cssText","toCSS","beforeRotate","setLabel","setOrigin","drag","hideLabel","text","display","snap","poses","targetPos","nextPos","snapDist","Infinity","pos","dist","Math","abs","dragStartGuideline","datas","rect","getBoundingClientRect","type","guideline","verticalPoses","horizontalPoses","isHorizontal","classList","add","dragGuideline","dragEndGuideline","clientPos","setAttribute","horizontalGuidelines","verticalGuidelines","slice","call","getAttribute","Dragger","dragstart","inputEvent","contains","dragend","ruler","className","toggleShift","shiftKey","KeyContoller","global","window","addEventListener","draggableElement","resizableElement","scalableElement","rotatableElement","warpableElement","originElement","pinchableElement","scale","beforeDelta","delta","groupableElement","querySelectorAll","pre","group","panel","block","code","trim","replace","innerText","hljs","highlightBlock","ableElement","ableButtonElements","able","tabGroups","tabElement","tab","panelElement","otherTabElement","otherPanelElement"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}