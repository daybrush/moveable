/*
Copyright (c) 2019 Daybrush
name: moveable
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/moveable.git
version: 0.4.0
*/
!function(){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function a(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t){return void 0===t}var t=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){void 0===e&&(e={});var n=this._eventHandler[t]||[];if(!(0<n.length))return!0;n=n.concat(),e.eventType=t;var r=!1,o=[e],a=0;e.stop=function(){r=!0},e.currentTarget=this;for(var i=arguments.length,s=new Array(2<i?i-2:0),l=2;l<i;l++)s[l-2]=arguments[l];for(1<=s.length&&(o=o.concat(s)),a=0;n[a];a++)n[a].apply(this,o);return!r},e.once=function(o,a){if("object"==typeof o&&s(a)){var t,e=o;for(t in e)this.once(t,e[t]);return this}if("string"==typeof o&&"function"==typeof a){var i=this;this.on(o,function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];a.apply(i,n),i.off(o,t)})}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&s(e)){var n,r=t;for(n in r)this.on(n,r[n]);return this}if("string"==typeof t&&"function"==typeof e){var o=this._eventHandler[t];s(o)&&(this._eventHandler[t]=[],o=this._eventHandler[t]),o.push(e)}return this},e.off=function(t,e){if(s(t))return this._eventHandler={},this;if(s(e)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var n,r=t;for(n in r)this.off(n,r[n]);return this}var o,a,i=this._eventHandler[t];if(i)for(o=0;void 0!==(a=i[o]);o++)if(a===e){i=i.splice(o,1);break}return this},t}();return t.VERSION="2.1.2",t}();function c(e,n){return function(t){t&&(e[n]=t)}}var l=function(){},u={},p=[],f=[];function d(t,e){var n,r,o,a,i=f;for(a=arguments.length;2<a--;)p.push(arguments[a]);for(e&&null!=e.children&&(p.length||p.push(e.children),delete e.children);p.length;)if((r=p.pop())&&void 0!==r.pop)for(a=r.length;a--;)p.push(r[a]);else"boolean"==typeof r&&(r=null),(o="function"!=typeof t)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(o=!1)),o&&n?i[i.length-1]+=r:i===f?i=[r]:i.push(r),n=o;var s=new l;return s.nodeName=t,s.children=i,s.attributes=null==e?void 0:e,s.key=null==e?void 0:e.key,void 0!==u.vnode&&u.vnode(s),s}function E(t,e){for(var n in e)t[n]=e[n];return t}function h(t,e){null!=t&&("function"==typeof t?t(e):t.current=e)}var e="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,g=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,n=[];function v(t){!t._dirty&&(t._dirty=!0)&&1==n.push(t)&&e(o)}function o(){for(var t;t=n.pop();)t._dirty&&L(t)}function D(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function R(t){var e=E({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function P(t){var e=t.parentNode;e&&e.removeChild(t)}function m(t,e,n,r,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)h(n,null),h(r,t);else if("class"!==e||o)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var a in n)a in r||(t.style[a]="");for(var a in r)t.style[a]="number"==typeof r[a]&&!1===g.test(a)?r[a]+"px":r[a]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var i=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,b,i):t.removeEventListener(e,b,i),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!o&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var s=o&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?s?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(s?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function b(t){return this._listeners[t.type](u.event&&u.event(t)||t)}var O=[],N=0,y=!1,x=!1;function Y(){for(var t;t=O.shift();)t.componentDidMount&&t.componentDidMount()}function C(t,e,n,r,o,a){N++||(y=null!=o&&void 0!==o.ownerSVGElement,x=null!=t&&!("__preactattr_"in t));var i=X(t,e,n,r,a);return o&&i.parentNode!==o&&o.appendChild(i),--N||(x=!1,a||Y()),i}function X(t,e,n,r,o){var a=t,i=y;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||o)?t.nodeValue!=e&&(t.nodeValue=e):(a=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(a,t),k(t,!0))),a.__preactattr_=!0,a;var s=e.nodeName;if("function"==typeof s)return function(t,e,n,r){var o=t&&t._component,a=o,i=t,s=o&&t._componentConstructor===e.nodeName,l=s,c=R(e);for(;o&&!l&&(o=o._parentComponent);)l=o.constructor===e.nodeName;o&&l&&(!r||o._component)?(j(o,c,3,n,r),t=o.base):(a&&!s&&(T(a),t=i=null),o=z(e.nodeName,c,n),t&&!o.nextBase&&(o.nextBase=t,i=null),j(o,c,1,n,r),t=o.base,i&&t!==i&&(i._component=null,k(i,!1)));return t}(t,e,n,r);if(y="svg"===s||"foreignObject"!==s&&y,s=String(s),(!t||!D(t,s))&&(a=function(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}(s,y),t)){for(;t.firstChild;)a.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(a,t),k(t,!0)}var l=a.firstChild,c=a.__preactattr_,u=e.children;if(null==c){c=a.__preactattr_={};for(var p=a.attributes,f=p.length;f--;)c[p[f].name]=p[f].value}return!x&&u&&1===u.length&&"string"==typeof u[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=u[0]&&(l.nodeValue=u[0]):(u&&u.length||null!=l)&&function(t,e,n,r,o){var a,i,s,l,c,u=t.childNodes,p=[],f={},d=0,h=0,g=u.length,v=0,m=e?e.length:0;if(0!==g)for(var b=0;b<g;b++){var y=u[b],x=y.__preactattr_;null!=(w=m&&x?y._component?y._component.__key:x.key:null)?(d++,f[w]=y):(x||(void 0!==y.splitText?!o||y.nodeValue.trim():o))&&(p[v++]=y)}if(0!==m)for(b=0;b<m;b++){var w;if(l=e[b],(c=null)!=(w=l.key))d&&void 0!==f[w]&&(c=f[w],f[w]=void 0,d--);else if(h<v)for(a=h;a<v;a++)if(void 0!==p[a]&&(S=i=p[a],_=o,"string"==typeof(M=l)||"number"==typeof M?void 0!==S.splitText:"string"==typeof M.nodeName?!S._componentConstructor&&D(S,M.nodeName):_||S._componentConstructor===M.nodeName)){c=i,p[a]=void 0,a===v-1&&v--,a===h&&h++;break}c=X(c,l,n,r),s=u[b],c&&c!==t&&c!==s&&(null==s?t.appendChild(c):c===s.nextSibling?P(s):t.insertBefore(c,s))}var S,M,_;if(d)for(var b in f)void 0!==f[b]&&k(f[b],!1);for(;h<=v;)void 0!==(c=p[v--])&&k(c,!1)}(a,u,n,r,x||null!=c.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||m(t,r,n[r],n[r]=void 0,y);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||m(t,r,n[r],n[r]=e[r],y)}(a,e.attributes,c),y=i,a}function k(t,e){var n=t._component;n?T(n):(null!=t.__preactattr_&&h(t.__preactattr_.ref,null),!1!==e&&null!=t.__preactattr_||P(t),w(t))}function w(t){for(t=t.lastChild;t;){var e=t.previousSibling;k(t,!0),t=e}}var S=[];function z(t,e,n){var r,o=S.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),_.call(r,e,n)):((r=new _(e,n)).constructor=t,r.render=M);o--;)if(S[o].constructor===t)return r.nextBase=S[o].nextBase,S.splice(o,1),r;return r}function M(t,e,n){return this.constructor(t,n)}function j(t,e,n,r,o){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===u.syncComponentUpdates&&t.base?v(t):L(t,1,o)),h(t.__ref,t))}function L(t,e,n,r){if(!t._disable){var o,a,i,s=t.props,l=t.state,c=t.context,u=t.prevProps||s,p=t.prevState||l,f=t.prevContext||c,d=t.base,h=t.nextBase,g=d||h,v=t._component,m=!1,b=f;if(t.constructor.getDerivedStateFromProps&&(l=E(E({},l),t.constructor.getDerivedStateFromProps(s,l)),t.state=l),d&&(t.props=u,t.state=p,t.context=f,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(s,l,c)?m=!0:t.componentWillUpdate&&t.componentWillUpdate(s,l,c),t.props=s,t.state=l,t.context=c),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!m){o=t.render(s,l,c),t.getChildContext&&(c=E(E({},c),t.getChildContext())),d&&t.getSnapshotBeforeUpdate&&(b=t.getSnapshotBeforeUpdate(u,p));var y,x,w=o&&o.nodeName;if("function"==typeof w){var S=R(o);(a=v)&&a.constructor===w&&S.key==a.__key?j(a,S,1,c,!1):(y=a,t._component=a=z(w,S,c),a.nextBase=a.nextBase||h,a._parentComponent=t,j(a,S,0,c,!1),L(a,1,n,!0)),x=a.base}else i=g,(y=v)&&(i=t._component=null),!g&&1!==e||(i&&(i._component=null),x=C(i,o,c,n||!d,g&&g.parentNode,!0));if(g&&x!==g&&a!==v){var M=g.parentNode;M&&x!==M&&(M.replaceChild(x,g),y||(g._component=null,k(g,!1)))}if(y&&T(y),(t.base=x)&&!r){for(var _=t,D=t;D=D._parentComponent;)(_=D).base=x;x._component=_,x._componentConstructor=_.constructor}}for(!d||n?O.push(t):m||t.componentDidUpdate&&t.componentDidUpdate(u,p,b);t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);N||r||Y()}}function T(t){var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?T(n):e&&(null!=e.__preactattr_&&h(e.__preactattr_.ref,null),P(t.nextBase=e),S.push(t),w(e)),h(t.__ref,null)}function _(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}E(_.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=E(E({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),v(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),L(this,2)},render:function(){}});W=function(t,e){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var W,A="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),q="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,B="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",F={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},U=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,H={},I=!1;try{I="production"!==process.env.NODE_ENV}catch(t){}var V=d("a",null).constructor;V.prototype.$$typeof=q,V.prototype.preactCompatUpgraded=!1,V.prototype.preactCompatNormalized=!1,Object.defineProperty(V.prototype,"type",{get:function(){return this.nodeName},set:function(t){this.nodeName=t},configurable:!0}),Object.defineProperty(V.prototype,"props",{get:function(){return this.attributes},set:function(t){this.attributes=t},configurable:!0});var $=u.event;u.event=function(t){return $&&(t=$(t)),t.persist=Object,t.nativeEvent=t};var G=u.vnode;u.vnode=function(t){if(!t.preactCompatUpgraded){t.preactCompatUpgraded=!0;var e=t.nodeName,n=t.attributes=null==t.attributes?{}:at({},t.attributes);"function"==typeof e?(!0===e[B]||e.prototype&&"isReactComponent"in e.prototype)&&(t.children&&""===String(t.children)&&(t.children=void 0),t.children&&(n.children=t.children),t.preactCompatNormalized||rt(t),function(t){var e=t.nodeName,n=t.attributes;t.attributes={},e.defaultProps&&at(t.attributes,e.defaultProps);n&&at(t.attributes,n)}(t)):(t.children&&""===String(t.children)&&(t.children=void 0),t.children&&(n.children=t.children),n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),function(t,e){var n,r,o;if(e){for(o in e)if(n=U.test(o))break;if(n)for(o in r=t.attributes={},e)e.hasOwnProperty(o)&&(r[U.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=e[o])}}(t,n))}G&&G(t)};var Z,J=[];for(var K,Q={},tt=A.length;tt--;)Q[A[tt]]=(K=A[tt],nt.bind(null,K));function et(t){return function(t){function e(t,e){!function(t){for(var e in t){var n=t[e];"function"!=typeof n||n.__bound||F.hasOwnProperty(e)||((t[e]=n.bind(t)).__bound=!0)}}(this),ht.call(this,t,e,H),ut.call(this,t,e)}(t=at({constructor:e},t)).mixins&&function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=ct(e[n].concat(t[n]||J),"getDefaultProps"===n||"getInitialState"===n||"getChildContext"===n))}(t,function(t){for(var e={},n=0;n<t.length;n++){var r=t[n];for(var o in r)r.hasOwnProperty(o)&&"function"==typeof r[o]&&(e[o]||(e[o]=[])).push(r[o])}return e}(t.mixins));t.statics&&at(e,t.statics);t.propTypes&&(e.propTypes=t.propTypes);t.defaultProps&&(e.defaultProps=t.defaultProps);t.getDefaultProps&&(e.defaultProps=t.getDefaultProps.call(e));return st.prototype=ht.prototype,e.prototype=at(new st,t),e.displayName=t.displayName||"Component",e}({displayName:t.displayName||t.name,render:function(){return t(this.props,this.context)}})}function nt(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function t(e,n){for(var r=n||0;r<e.length;r++){var o=e[r];Array.isArray(o)?t(o):!o||"object"!=typeof o||(a=o)&&(a instanceof V||a.$$typeof===q)||!(o.props&&o.type||o.attributes&&o.nodeName||o.children)||(e[r]=nt(o.type||o.nodeName,o.props||o.attributes,o.children))}var a}(t,2),rt(d.apply(void 0,t))}function rt(t){t.preactCompatNormalized=!0,function(t){var e=t.attributes||(t.attributes={});ot.enumerable="className"in e,e.className&&(e.class=e.className);Object.defineProperty(e,"className",ot)}(t),function(t){return"function"==typeof t&&!(t.prototype&&t.prototype.render)}(t.nodeName)&&(t.nodeName=function(t){var e=t[B];return e?!0===e?t:e:(e=et(t),Object.defineProperty(e,B,{configurable:!0,value:!0}),e.displayName=t.displayName,e.propTypes=t.propTypes,e.defaultProps=t.defaultProps,Object.defineProperty(t,B,{configurable:!0,value:e}),e)}(t.nodeName));var e=t.attributes.ref,n=e&&typeof e;return!Z||"string"!==n&&"number"!==n||(t.attributes.ref=function(e,n){return n._refProxies[e]||(n._refProxies[e]=function(t){n&&n.refs&&null===(n.refs[e]=t)&&(delete n._refProxies[e],n=null)})}(e,Z)),function(t){var e=t.nodeName,n=t.attributes;if(!n||"string"!=typeof e)return;var r={};for(var o in n)r[o.toLowerCase()]=o;r.ondoubleclick&&(n.ondblclick=n[r.ondoubleclick],delete n[r.ondoubleclick]);if(r.onchange&&("textarea"===e||"input"===e.toLowerCase()&&!/^fil|che|rad/i.test(n.type))){var a=r.oninput||"oninput";n[a]||(n[a]=ct([n[a],n[r.onchange]]),delete n[r.onchange])}}(t),t}var ot={configurable:!0,get:function(){return this.class},set:function(t){this.class=t}};function at(t){for(var e=arguments,n=1,r=void 0;n<arguments.length;n++)if(r=e[n])for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);return t}function it(t,e){for(var n in t)if(!(n in e))return!0;for(var r in e)if(t[r]!==e[r])return!0;return!1}function st(){}function lt(t,e,n){if("string"==typeof e&&(e=t.constructor.prototype[e]),"function"==typeof e)return e.apply(t,n)}function ct(a,i){return function(){for(var t,e=arguments,n=0;n<a.length;n++){var r=lt(this,a[n],e);if(i&&null!=r)for(var o in t=t||{},r)r.hasOwnProperty(o)&&(t[o]=r[o]);else void 0!==r&&(t=r)}return t}}function ut(t,e){pt.call(this,t,e),this.componentWillReceiveProps=ct([pt,this.componentWillReceiveProps||"componentWillReceiveProps"]),this.render=ct([pt,ft,this.render||"render",dt])}function pt(t,e){if(t){var n=t.children;if(n&&Array.isArray(n)&&1===n.length&&("string"==typeof n[0]||"function"==typeof n[0]||n[0]instanceof V)&&(t.children=n[0],t.children&&"object"==typeof t.children&&(t.children.length=1,t.children[0]=t.children)),I){var r="function"==typeof this?this:this.constructor;this.propTypes||r.propTypes,this.displayName||r.name}}}function ft(t){Z=this}function dt(){Z===this&&(Z=null)}function ht(t,e,n){_.call(this,t,e),this.state=this.getInitialState?this.getInitialState():{},this.refs={},this._refProxies={},n!==H&&ut.call(this,t,e)}function gt(t,e){ht.call(this,t,e)}at(ht.prototype=new _,{constructor:ht,isReactComponent:{},replaceState:function(t,e){for(var n in this.setState(t,e),this.state)n in t||delete this.state[n]},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}}),st.prototype=ht.prototype,(gt.prototype=new st).isPureReactComponent=!0,gt.prototype.shouldComponentUpdate=function(t,e){return it(this.props,t)||it(this.state,e)};function vt(t){if(!Ot)return"";var e=(Ot.body||Ot.documentElement).style,n=Nt.length;if(typeof e[t]!==Pt)return t;for(var r=0;r<n;++r){var o="-"+Nt[r]+"-"+t;if(typeof e[o]!==Pt)return o}return""}var mt="rgb",bt="rgba",yt="hsl",xt="hsla",wt=[mt,bt,yt,xt],St="function",Mt="property",_t="array",Dt="object",Et="string",Rt="number",Pt="undefined",Ot=typeof document!==Pt&&document,Nt=["webkit","ms","moz","o"],Yt=vt("transform"),Ct=vt("filter"),Xt=vt("animation");function kt(t,e,n,r){return(t*r+e*n)/(n+r)}function zt(t){return typeof t===Pt}function jt(t){return t&&typeof t===Dt}function Lt(t){return Array.isArray(t)}function Tt(t){return typeof t===Et}function Wt(t){var e=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return e?e.map(function(t){return t.trim()}):[]}function At(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function qt(t){var e=function(t){return t.replace("#","")}(t),n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16),a=parseInt(e.substring(6,8),16)/255;return isNaN(a)&&(a=1),[n,r,o,a]}function Bt(t){if("#"===t.charAt(0))return 4===t.length||5===t.length?qt(function(t){var e=t.charAt(1),n=t.charAt(2),r=t.charAt(3),o=t.charAt(4);return["#",e,e,n,n,r,r,o,o].join("")}(t)):qt(t);if(-1!==t.indexOf("(")){var e=At(t),n=e.prefix,r=e.value;if(!n||!r)return;var o=Wt(r),a=[],i=o.length;switch(n){case mt:case bt:for(var s=0;s<i;++s)a[s]=parseFloat(o[s]);return a;case yt:case xt:for(s=0;s<i;++s)-1!==o[s].indexOf("%")?a[s]=parseFloat(o[s])/100:a[s]=parseFloat(o[s]);return function(t){var e=t[0],n=t[1],r=t[2];e<0&&(e+=360*Math.floor((Math.abs(e)+360)/360)),e%=360;var o,a=(1-Math.abs(2*r-1))*n,i=a*(1-Math.abs(e/60%2-1)),s=r-a/2;return e<60?o=[a,i,0]:e<120?o=[i,a,0]:e<180?o=[0,a,i]:e<240?o=[0,i,a]:e<300?o=[i,0,a]:e<360&&(o=[a,0,i]),[Math.round(255*(o[0]+s)),Math.round(255*(o[1]+s)),Math.round(255*(o[2]+s)),3<t.length?t[3]:1]}(a)}}}function Ft(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}var Ut=function(t,e){return(Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Ht=function(){return(Ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var It=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};var Vt=function(){return(Vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function $t(t){return t.touches&&t.touches.length?t.touches[0]:t}var Gt=function(){function t(t,e){var s=this;void 0===e&&(e={}),this.el=t,this.flag=!1,this.startX=0,this.startY=0,this.prevX=0,this.prevY=0,this.datas={},this.options={},this.isDrag=!1,this.isMouse=!1,this.isTouch=!1,this.onDragStart=function(t){s.flag=!0,s.isDrag=!1;var e=$t(t),n=e.clientX,r=e.clientY;s.startX=n,s.startY=r,s.prevX=n,s.prevY=r,s.datas={};var o=s.options,a=o.dragstart;(o.preventRightClick&&3===t.which||!1===(a&&a({datas:s.datas,inputEvent:t,clientX:n,clientY:r})))&&(s.flag=!1),s.flag&&t.preventDefault()},this.onDrag=function(t){if(s.flag){var e=$t(t),n=e.clientX,r=e.clientY,o=n-s.prevX,a=r-s.prevY;if(o||a){s.isDrag=!0;var i=s.options.drag;i&&i({datas:s.datas,clientX:n,clientY:r,deltaX:o,deltaY:a,distX:n-s.startX,distY:r-s.startY,inputEvent:t}),s.prevX=n,s.prevY=r}}},this.onDragEnd=function(t){if(s.flag){s.flag=!1;var e=s.options.dragend;e&&e({datas:s.datas,isDrag:s.isDrag,inputEvent:t,clientX:s.prevX,clientY:s.prevY,distX:s.prevX-s.startX,distY:s.prevY-s.startY})}},this.options=Vt({container:t,preventRightClick:!0,events:["touch","mouse"]},e);var n=this.options,r=n.container,o=n.events;this.isTouch=-1<o.indexOf("touch"),this.isMouse=-1<o.indexOf("mouse"),this.isMouse&&(t.addEventListener("mousedown",this.onDragStart),r.addEventListener("mousemove",this.onDrag),r.addEventListener("mouseup",this.onDragEnd)),this.isTouch&&(t.addEventListener("touchstart",this.onDragStart),r.addEventListener("touchmove",this.onDrag),r.addEventListener("touchend",this.onDragEnd))}var e=t.prototype;return e.isDragging=function(){return this.isDrag},e.unset=function(){var t=this.el,e=this.options.container;this.isMouse&&(t.removeEventListener("mousedown",this.onDragStart),e.removeEventListener("mousemove",this.onDrag),e.removeEventListener("mouseup",this.onDragEnd)),this.isTouch&&(t.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("touchmove",this.onDrag),e.removeEventListener("touchend",this.onDragEnd))},t}();function Zt(t,e){return new Gt(t,e)}var Jt=function(t,e){return(Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Kt="moveable-",Qt="\n{\n    position: fixed;\n    width: 0;\n    height: 0;\n    left: 0;\n    top: 0;\n    z-index: 3000;\n}\n.line, .control {\n    left: 0;\n    top: 0;\n}\n.control {\n    position: absolute;\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    border: 2px solid #fff;\n    box-sizing: border-box;\n    background: #4af;\n    margin-top: -7px;\n    margin-left: -7px;\n}\n.line {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    background: #4af;\n    transform-origin: 0px 0.5px;\n}\n.line.rotation {\n    height: 40px;\n    width: 1px;\n    transform-origin: 0.5px 39.5px;\n}\n.line.rotation .control {\n    border-color: #4af;\n    background:#fff;\n    cursor: alias;\n}\n.control.origin {\n    border-color: #f55;\n    background: #fff;\n    width: 12px;\n    height: 12px;\n    margin-top: -6px;\n    margin-left: -6px;\n    pointer-events: none;\n}\n.control.e, .control.w {\n    cursor: ew-resize;\n}\n.control.s, .control.n {\n    cursor: ns-resize;\n}\n.control.nw, .control.se, :host.reverse .control.ne, :host.reverse .control.sw {\n    cursor: nwse-resize;\n}\n.control.ne, .control.sw, :host.reverse .control.nw, :host.reverse .control.se {\n    cursor: nesw-resize;\n}\n".replace(/\.([^{,\s\d.]+)/g,"."+Kt+"$1"),te=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],ee=1e-9;function ne(t,e,n,r,o,a){for(var i=n;i<r;++i)t[i]+=t[o+i-n]*a,e[i]+=e[o+i-n]*a}function re(t,e,n,r,o){for(var a=n;a<r;++a){var i=t[a],s=e[a];t[a]=t[o+a-n],t[o+a-n]=i,e[a]=e[o+a-n],e[o+a-n]=s}}function oe(t,e,n,r,o){for(var a=n;a<r;++a)t[a]/=o,e[a]/=o}function ae(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function ie(t,e){for(var n=ae(e),r=Math.min(t.length,e-1),o=0;o<r;++o)n[e*(o+1)-1]=t[o];return n}function se(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=ae(e),o=0;o<e;++o){var a=e*o,i=e*(o+1),s=a+o;if(0===n[s])for(var l=o+1;l<e;++l)if(n[e*l+o]){re(n,r,a,i,e*l);break}if(!n[s])return[];oe(n,r,a,i,n[s]);for(l=0;l<e;++l){var c=e*l,u=c+e,p=n[c+o];0!==p&&o!==l&&ne(n,r,c,u,a,-p)}}return r}function le(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var o=0;o<e;++o)n[o*e+r]=t[e*r+o];return n}function ce(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function ue(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=ae(n),o=Math.min(e,n),a=0;a<o-1;++a){for(var i=0;i<o-1;++i)r[a*n+i]=t[a*e+i];r[(a+1)*n-1]=t[(a+1)*e-1],r[(n-1)*n+a]=t[(e-1)*e+a]}return r[n*n-1]=t[e*e-1],r}function pe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=ae(e);return t.forEach(function(t){r=fe(r,t,e)}),r}function fe(t,e,n){for(var r=[],o=t.length/n,a=e.length/o,i=0;i<n;++i)for(var s=0;s<a;++s)for(var l=r[i*a+s]=0;l<o;++l)r[i*a+s]+=t[i*o+l]*e[l*a+s];return r}function de(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=[],o=t.length/n,a=e.length/o,i=0;i<n;++i)for(var s=0;s<a;++s)for(var l=r[i+s*a]=0;l<o;++l)r[i+s*a]+=t[i+l*o]*e[l+s*a];return r}function he(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),o=0;o<n;++o)r[o]=r[o]+e[o];return r}function ge(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),o=0;o<n;++o)r[o]=r[o]-e[o];return r}function ve(t,e,n){void 0===n&&(n=e.length);var r=fe(t,e,n),o=r[n-1];return r.map(function(t){return t/o})}function me(t){return 9===t.length?[t[0],t[3],t[1],t[4],t[2],t[5]]:le(t)}function be(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(t){return t.split(" ").map(function(t){return""+e+t}).join(" ")}).join(" ")}.apply(void 0,[Kt].concat(t))}function ye(t,r,e,n,o){void 0===e&&(e=t===r);for(var a,i,s,l,c,u,p,f=t,d=[],h=!1,g=3;f&&(e||f!==r);){var v=window.getComputedStyle(f),m=(p=v.transform,6===(u="none"===p?[1,0,0,1,0,0]:jt(p)?p:At(p).value.split(/s*,\s*/g).map(function(t){return parseFloat(t)})).length?[u[0],u[2],u[4],u[1],u[3],u[5],0,0,1]:le(u));if(!h&&16===m.length){h=!0,g=4;for(var b=d.length,y=0;y<b;++y)d[y]=ue(d[y],3,4)}h&&9===m.length&&(m=ue(m,3,4));var x=v.transformOrigin.split(" ").map(function(t){return parseFloat(t)});i=i||m,a=a||x,d.push((s=m,pe(l=g,ie(c=x,l),s,ie(c.map(function(t){return-t}),l))));var w=f.offsetLeft,S=zt(w);if(d.push(ie([S?f:w,S?x:f.offsetTop],g)),e)break;f=f.parentElement}var M=n?ue(n,o,g):ae(g),_=ae(g),D=d.length;d.reverse(),d.forEach(function(t,e){var n;D-2===e&&(_=M.slice()),jt(t[g-1])&&(n=function(t,e,n,r,o,a){var i,s=_e(t),l=s[0],c=s[1],u=(e||document.documentElement).getBoundingClientRect(),p=t.getBoundingClientRect(),f=p.left-u.left,d=p.top-u.top,h=p.width,g=p.height,v=pe(n,o,a),m=ve(v,ce([0,0],n),n),b=ve(v,ce([l,0],n),n),y=ve(v,ce([0,c],n),n),x=ve(v,ce([l,c],n),n),w=ve(v,ce(r,n),n),S=Math.min(m[0],b[0],y[0],x[0]),M=Math.min(m[1],b[1],y[1],x[1]),_=ge(w,[S,M]),D=Math.max(m[0],b[0],y[0],x[0])-S,E=Math.max(m[1],b[1],y[1],x[1])-M,R=[f+_[0]*h/D,d+_[1]*g/E],P=[0,0],O=0;for(;++O<10;){i=ge(ve(se(o,n),ce(R,n),n),ve(se(o,n),ce(w,n),n)),P[0]=i[0],P[1]=i[1];var N=pe(n,o,ie(P,n),a),Y=ve(N,ce([0,0],n),n),C=ve(N,ce([l,0],n),n),X=ve(N,ce([0,c],n),n),k=ve(N,ce([l,c],n),n),z=Math.min(Y[0],C[0],X[0],k[0]),j=Math.min(Y[1],C[1],X[1],k[1]),L=z-f,T=j-d;if(Math.abs(L)<2&&Math.abs(T)<2)break;R[0]-=L,R[1]-=T}return P.map(function(t){return Math.round(t)})}(t[g-1],r,g,t[2*g-1],M,d[e+1]),t[g-1]=n[0],t[2*g-1]=n[1]),M=fe(M,t,g)});var E=(h?"matrix3d":"matrix")+"("+me(i)+")";return[_,M,i,E,a]}function xe(t,e,n,r){var o=16===t.length?4:3,a=ve(t,ce([0,0],o),o),i=a[0],s=a[1],l=ve(t,ce([n,0],o),o),c=l[0],u=l[1],p=ve(t,ce([0,r],o),o),f=p[0],d=p[1],h=ve(t,ce([n,r],o),o),g=h[0],v=h[1],m=ve(t,ce(e,o),o),b=m[0],y=m[1],x=Math.min(i,c,f,g),w=Math.min(s,u,d,v);return[[x,w],[b=b-x||0,y=y-w||0],[i=i-x||0,s=s-w||0],[c=c-x||0,u=u-w||0],[f=f-x||0,d=d-w||0],[g=g-x||0,v=v-w||0]]}function we(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=Math.atan2(r,n);return 0<o?o:o+2*Math.PI}function Se(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=Math.sqrt(n*n+r*r),a=we(t,e);return{transform:"translate("+t[0]+"px, "+t[1]+"px) rotate("+a+"rad)",width:o+"px"}}function Me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;return{transform:"translate("+t.reduce(function(t,e){return t+e[0]},0)/n+"px, "+t.reduce(function(t,e){return t+e[1]},0)/n+"px)"}}function _e(t,e,n,r){void 0===e&&(e=window.getComputedStyle(t)),void 0===r&&(r=n||"border-box"===e.boxSizing);var o=t.offsetWidth,a=t.offsetHeight,i=!zt(o);return(n||r)&&i?[o,a]:(o=t.clientWidth,a=t.clientHeight,n||r?[o+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),a+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)]:[o-(parseFloat(e.paddingLeft)||0)-(parseFloat(e.paddingRight)||0),a-(parseFloat(e.paddingTop)||0)-(parseFloat(e.paddingBottom)||0)])}function De(t,e,n,r){var o=[(t[0]+e[0]+n[0]+r[0])/4,(t[1]+e[1]+n[1]+r[1])/4],a=we(o,t),i=we(o,e),s=a<i&&i-a<Math.PI||i<a&&i-a<-Math.PI?1:-1,l=we(0<s?t:e,0<s?e:t),c=function(t,e){var n=Math.cos(e),r=Math.sin(e);return fe([n,-r,0,r,n,0,0,0,1],t,3)}([0,-40,0],l);return[s,l,[(t[0]+e[0])/2+c[0],(t[1]+e[1])/2+c[1]]]}function Ee(t){var e=t.getAttribute("data-position");if(e){var n=[0,0];return-1<e.indexOf("w")&&(n[0]=-1),-1<e.indexOf("e")&&(n[0]=1),-1<e.indexOf("n")&&(n[1]=-1),-1<e.indexOf("s")&&(n[1]=1),n}}function Re(t,e){return e?Math.round(t/e)*e:t}function Pe(n,r){n.forEach(function(t,e){n[e]=Re(n[e],r)})}function Oe(t,e){var n=e.datas,r=t.state,o=r.matrix,a=r.beforeMatrix,i=r.is3d,s=r.left,l=r.top,c=r.origin,u=i?4:3;n.is3d=i,n.matrix=o,n.inverseMatrix=se(o,u),n.beforeMatrix=a,n.inverseBeforeMatrix=se(a,u),n.absoluteOrigin=ce(he([s,l],c),u),n.startDragBeforeDist=ve(n.inverseBeforeMatrix,n.absoluteOrigin,i?4:3),n.startDragDist=ve(n.inverseMatrix,n.absoluteOrigin,i?4:3)}function Ne(t,e){var n=t.datas,r=t.distX,o=t.distY,a=n.inverseBeforeMatrix,i=n.inverseMatrix,s=n.is3d,l=n.startDragBeforeDist,c=n.startDragDist,u=s?4:3;return ge(ve(e?a:i,he(n.absoluteOrigin,[r,o]),u),e?l:c)}function Ye(t,e){var n=e.datas,r=e.clientX,o=e.clientY,a=function(t,e,n,r){var o=t.startAbsoluteOrigin,a=t.startDeg,i=t.prevDeg,s=t.loop,l=t.direction,c=Re(we(o,[e,n])/Math.PI*180,r);c<i&&270<i&&c<90?++t.loop:i<c&&i<90&&270<c&&--t.loop;var u=360*s+i,p=360*t.loop+c;return t.prevDeg=c,{delta:l*(p-u),dist:l*(p-a),beforeDelta:p-u,beforeDist:p-a,origin:origin}}(n,r,o,t.props.throttleRotate),i=a.delta,s=a.dist,l=a.beforeDist,c=a.beforeDelta;i&&(t.props.onRotate({target:t.props.target,delta:i,dist:s,clientX:r,clientY:o,beforeDist:l,beforeDelta:c,transform:n.transform+" rotate("+s+"deg)"}),t.updateTarget())}function Ce(t,e,n){var r=we(t,e),o=we(t,n)-r;return 0<=o?o:o+2*Math.PI}function Xe(t,e,n){var r=n.datas,o=n.clientX,a=n.clientY,i=t.props.target;if(!e||!i)return!1;var s=t.state,l=s.transformOrigin,c=s.is3d,u=s.targetTransform,p=s.targetMatrix,f=s.width,d=s.height;r.targetTransform=u,r.targetMatrix=c?p:ue(p,3,4),r.targetInverseMatrix=function(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=t.slice(),o=0;o<n;++o)r[o*n+e-1]=0,r[(e-1)*n+o]=0;return r[(e-1)*(n+1)]=1,r}(se(r.targetMatrix,4),3,4),r.position=e,Oe(t,{datas:r}),r.poses=[[0,0],[f,0],[0,d],[f,d]].map(function(t,e){return ge(t,l)}),r.nextPoses=r.poses.map(function(t){var e=t[0],n=t[1];return ve(r.targetMatrix,[e,n,0,1],4)}),r.posNum=(-1===e[0]?0:1)+(-1===e[1]?0:2),r.prevMatrix=ae(4),t.props.onWarpStart({target:i,clientX:o,clientY:a})}function ke(t,e){var n=e.datas,r=e.clientX,o=e.clientY,a=e.distX,i=e.distY,s=n.posNum,l=n.poses,c=n.targetInverseMatrix,u=n.prevMatrix,p=t.props.target,f=Ne({datas:n,distX:a,distY:i},!0),d=n.nextPoses.slice();if(d[s]=[d[s][0]+f[0],d[s][1]+f[1]],te.every(function(t){return function(t,e){var n=Ce(t[0],t[1],t[2]),r=Ce(e[0],e[1],e[2]),o=Math.PI;return!(o<=n&&r<=o||n<=o&&o<=r)}(t.map(function(t){return l[t]}),t.map(function(t){return d[t]}))})){var h=function(t,e,n,r,o,a,i,s){var l=t[0],c=t[1],u=e[0],p=e[1],f=n[0],d=n[1],h=r[0],g=r[1],v=o[0],m=o[1],b=a[0],y=a[1],x=i[0],w=i[1],S=s[0],M=s[1],_=se([l,c,1,0,0,0,-v*l,-v*c,0,0,0,l,c,1,-m*l,-m*c,u,p,1,0,0,0,-b*u,-b*p,0,0,0,u,p,1,-y*u,-y*p,f,d,1,0,0,0,-x*f,-x*d,0,0,0,f,d,1,-w*f,-w*d,h,g,1,0,0,0,-S*h,-S*g,0,0,0,h,g,1,-M*h,-M*g],8);if(!_.length)return[];var D=fe(_,[v,m,b,y,x,w,S,M],8);return D[8]=1,ue(D,3,4)}(l[0],l[1],l[2],l[3],d[0],d[1],d[2],d[3]);if(h.length){var g=me(fe(c,h,4)),v=n.targetTransform+" matrix3d("+g.join(",")+")",m=fe(se(u,4),g,4);n.prevMatrix=g,t.props.onWarp({target:p,clientX:r,clientY:o,delta:m,multiply:de,dist:g,transform:v}),t.updateRect()}}}function ze(s,t){var l;return Zt(t,{container:window,dragstart:function(t){var e=t.datas,n=t.inputEvent,r=t.clientX,o=t.clientY,a=n.target;if(l="",!Ft(a,be("control")))return!1;if(Ft(a,be("rotation")))return l="rotate",function(t,e){var n=e.datas,r=e.clientX,o=e.clientY,a=t.props.target;if(!a)return!1;var i=t.state,s=i.left,l=i.top,c=i.origin,u=i.rotationPos,p=i.direction,f=i.targetTransform;n.transform=f,n.left=s,n.top=l,n.startAbsoluteOrigin=[r-u[0]+c[0],o-u[1]+c[1]],n.prevDeg=we(n.startAbsoluteOrigin,[r,o])/Math.PI*180,n.startDeg=n.prevDeg,n.loop=0,n.direction=p,"none"===n.transform&&(n.transform=""),t.props.onRotateStart({target:a,clientX:r,clientY:o})}(s,{datas:e,clientX:r,clientY:o});if(s.props.scalable){var i=Ee(a);return l="scale",function(t,e,n){var r=n.datas,o=n.clientX,a=n.clientY,i=t.props.target;if(!e||!i)return!1;var s=t.state,l=s.width,c=s.height,u=s.targetTransform;Oe(t,{datas:r}),r.transform=u,r.prevDist=[1,1],r.position=e,r.width=l,r.height=c,t.props.onScaleStart({target:i,clientX:o,clientY:a})}(s,i,{datas:e,clientX:r,clientY:o})}if(s.props.resizable){i=Ee(a);return l="resize",function(t,e,n){var r=n.datas,o=n.clientX,a=n.clientY,i=t.props.target;if(!i||!e)return!1;var s=_e(i),l=s[0],c=s[1];Oe(t,{datas:r}),r.position=e,r.width=l,r.height=c,r.prevWidth=0,r.prevHeight=0,t.props.onResizeStart({target:i,clientX:o,clientY:a})}(s,i,{datas:e,clientX:r,clientY:o})}if(s.props.warpable){i=Ee(a);return l="warp",Xe(s,i,{datas:e,clientX:r,clientY:o})}return!1},drag:function(t){if(l)return"rotate"===l?Ye(s,t):"scale"===l?function(t,e){var n=e.datas,r=e.clientX,o=e.clientY,a=e.distX,i=e.distY,s=n.prevDist,l=n.position,c=n.width,u=n.height,p=n.transform,f=Ne({datas:n,distX:a,distY:i}),d=l[0]*f[0],h=l[1]*f[1];if(t.props.keepRatio&&l[0]&&l[1]&&c&&u){var g=Math.sqrt(d*d+h*h),v=we([0,0],f),m=we([0,0],l),b=Math.cos(v-m)*g;h=(d=b)*u/c}var y=(c+d)/c,x=(u+h)/u,w=t.props.target,S=t.props.throttleScale;y=Re(y,S),x=Re(x,S),0===y&&(y=(0<s[0]?1:-1)*ee),0===x&&(x=(0<s[1]?1:-1)*ee),n.prevDist=[y,x],y===s[0]&&x===s[1]||(t.props.onScale({target:w,scale:[y,x],dist:[y/s[0],x/s[1]],delta:[y-s[0],x-s[1]],transform:p+" scale("+y+", "+x+")",clientX:r,clientY:o}),t.updateTarget())}(s,t):"resize"===l?function(t,e){var n=e.datas,r=e.clientX,o=e.clientY,a=e.distX,i=e.distY,s=n.position,l=n.width,c=n.height,u=n.prevWidth,p=n.prevHeight,f=Ne({datas:n,distX:a,distY:i}),d=s[0]*f[0],h=s[1]*f[1];if(t.props.keepRatio&&s[0]&&s[1]&&l&&c){var g=Math.sqrt(d*d+h*h),v=we([0,0],f),m=we([0,0],s),b=Math.cos(v-m)*g;h=(d=b)*c/l}var y=t.props.throttleResize,x=l+(d=Re(d,y)),w=c+(h=Re(h,y)),S=[d-u,h-p];n.prevWidth=d,n.prevHeight=h,S.every(function(t){return!t})||(t.props.onResize({target:t.props.target,width:x,height:w,dist:[d,h],delta:S,clientX:r,clientY:o}),t.updateRect())}(s,t):"warp"===l?ke(s,t):void 0},dragend:function(t){var e=t.isDrag,n=t.clientX,r=t.clientY;if(l)return"rotate"===l?function(t,e){var n=e.isDrag,r=e.clientX,o=e.clientY;t.props.onRotateEnd({clientX:r,clientY:o,target:t.props.target,isDrag:n}),n&&t.updateRect()}(s,{isDrag:e,clientX:n,clientY:r}):"scale"===l?function(t,e){var n=e.isDrag,r=e.clientX,o=e.clientY;t.props.onScaleEnd({target:t.props.target,isDrag:n,clientX:r,clientY:o}),n&&t.updateRect()}(s,{isDrag:e,clientX:n,clientY:r}):"resize"===l?function(t,e){var n=e.isDrag,r=e.clientX,o=e.clientY;t.props.onScaleEnd({target:t.props.target,clientX:r,clientY:o,isDrag:n}),n&&t.updateRect()}(s,{isDrag:e,clientX:n,clientY:r}):void 0}})}var je,Le,Te,We,Ae,qe=(je="div",We="rCS"+function(t){return It(t).toString(36)}(Le=Qt),Ae=0,function(e){function t(t){return e.call(this,t)||this}return function(t,e){function n(){this.constructor=t}Ut(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t.prototype.render=function(){var t=this.props,e=t.className,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["className"]);return nt(je,Ht({className:e+" "+We},n))},t.prototype.componentDidMount=function(){0===Ae&&(Te=function(n,t){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t.replace(/([^}{]*){/gm,function(t,e){return function(t){var e=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return e?e.map(function(t){return t.trim()}):[]}(e).map(function(t){return-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+n):"."+n+" "+t}).join(", ")+"{"}),(document.head||document.body).appendChild(e),e}(We,Le)),++Ae},t.prototype.componentWillUnmount=function(){0==--Ae&&Te&&Te.parentNode.removeChild(Te)},t.prototype.getElement=function(){return this.element||(this.element=function(t){return t&&(t.base||1===t.nodeType&&t)||null}(this))},t}(ht)),Be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={target:null,beforeMatrix:ae(3),matrix:ae(3),targetTransform:"",targetMatrix:ae(3),is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,rotationRad:0,rotationPos:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0]},t}!function(t,e){function n(){this.constructor=t}Jt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e);var n=t.prototype;return n.isMoveableElement=function(t){return t&&-1<(t.getAttribute("class")||"").indexOf(Kt)},n.render=function(){this.state.target!==this.props.target&&this.updateRect(!0);var t=this.state,e=t.left,n=t.top,r=t.pos1,o=t.pos2,a=t.pos3,i=t.pos4,s=t.target,l=t.direction;return nt(qe,{ref:c(this,"controlBox"),className:be("control-box",-1===l?"reverse":""),style:{position:this.props.container?"absolute":"fixed",display:s?"block":"none",transform:"translate("+e+"px, "+n+"px) translateZ(50px)"}},nt("div",{className:be("line"),style:Se(r,o)}),nt("div",{className:be("line"),style:Se(o,i)}),nt("div",{className:be("line"),style:Se(r,a)}),nt("div",{className:be("line"),style:Se(a,i)}),this.renderRotation(),this.renderPosition(),this.renderMiddleLine(),this.renderDiagonalPosition(),this.renderOrigin())},n.renderRotation=function(){if(!this.props.rotatable)return null;var t=this.state,e=t.pos1,n=t.pos2,r=t.rotationRad;return nt("div",{className:be("line rotation"),style:{transform:"translate("+(e[0]+n[0])/2+"px, "+(e[1]+n[1])/2+"px) translateY(-40px) rotate("+r+"rad)"}},nt("div",{className:be("control","rotation"),ref:c(this,"rotationElement")}))},n.renderOrigin=function(){if(!this.props.origin)return null;var t=this.state.origin;return nt("div",{className:be("control","origin"),style:Me(t)})},n.renderDiagonalPosition=function(){var t=this.props,e=t.resizable,n=t.scalable,r=t.warpable;if(!e&&!n&&!r)return null;var o=this.state,a=o.pos1,i=o.pos2,s=o.pos3,l=o.pos4;return[nt("div",{className:be("control","nw"),"data-position":"nw",key:"nw",style:Me(a)}),nt("div",{className:be("control","ne"),"data-position":"ne",key:"ne",style:Me(i)}),nt("div",{className:be("control","sw"),"data-position":"sw",key:"sw",style:Me(s)}),nt("div",{className:be("control","se"),"data-position":"se",key:"se",style:Me(l)})]},n.renderMiddleLine=function(){var t=this.props,e=t.resizable,n=t.scalable,r=t.warpable;if(!e&&!n&&r){var o=this.state,a=o.pos1,i=o.pos2,s=o.pos3,l=o.pos4,c=a.map(function(t,e){return kt(t,i[e],1,2)}),u=a.map(function(t,e){return kt(t,i[e],2,1)}),p=a.map(function(t,e){return kt(t,s[e],1,2)}),f=a.map(function(t,e){return kt(t,s[e],2,1)}),d=s.map(function(t,e){return kt(t,l[e],1,2)}),h=s.map(function(t,e){return kt(t,l[e],2,1)}),g=i.map(function(t,e){return kt(t,l[e],1,2)}),v=i.map(function(t,e){return kt(t,l[e],2,1)});return[nt("div",{className:be("line"),key:"middeLine1",style:Se(c,d)}),nt("div",{className:be("line"),key:"middeLine2",style:Se(u,h)}),nt("div",{className:be("line"),style:Se(p,g)}),nt("div",{className:be("line"),style:Se(f,v)})]}},n.renderPosition=function(){if(!this.props.resizable&&!this.props.scalable)return null;var t=this.state,e=t.pos1,n=t.pos2,r=t.pos3,o=t.pos4;return[nt("div",{className:be("control","n"),"data-position":"n",key:"n",style:Me(e,n)}),nt("div",{className:be("control","w"),"data-position":"w",key:"w",style:Me(e,r)}),nt("div",{className:be("control","e"),"data-position":"e",key:"e",style:Me(n,o)}),nt("div",{className:be("control","s"),"data-position":"s",key:"s",style:Me(r,o)})]},n.componentDidMount=function(){this.moveableDragger=ze(this,this.controlBox.getElement())},n.componentWillUnmount=function(){this.draggableDragger&&(this.draggableDragger.unset(),this.draggableDragger=null),this.moveableDragger&&(this.moveableDragger.unset(),this.moveableDragger=null)},n.move=function(t){if(t[0]||t[1]){var e=this.state,n=e.left,r=e.top;this.setState({left:n+t[0],top:r+t[1]})}},n.updateRect=function(t){var e=this.props.target;this.state.target!==e&&(this.draggableDragger&&(this.draggableDragger.unset(),this.draggableDragger=null),e&&this.props.draggable&&(this.draggableDragger=function(y,x){return Zt(x,{container:window,dragstart:function(t){var e=t.datas,n=t.clientX,r=t.clientY,o=window.getComputedStyle(x),a=y.state.targetTransform;return e.left=parseFloat(o.left||"")||0,e.top=parseFloat(o.top||"")||0,e.bottom=parseFloat(o.bottom||"")||0,e.right=parseFloat(o.right||"")||0,e.transform=a,Oe(y,{datas:e}),e.prevDist=[0,0],e.prevBeforeDist=[0,0],y.props.onDragStart({target:x,clientX:n,clientY:r})},drag:function(t){var e=t.datas,n=t.distX,r=t.distY,o=t.clientX,a=t.clientY,i=y.props.throttleDrag,s=e.prevDist,l=e.prevBeforeDist,c=e.transform,u=Ne({datas:e,distX:n,distY:r},!0),p=Ne({datas:e,distX:n,distY:r},!1);Pe(p,i),Pe(u,i);var f=ge(p,s),d=ge(u,l);e.prevDist=p,e.prevBeforeDist=u;var h=e.left+u[0],g=e.top+u[1],v=e.right-u[0],m=e.bottom-u[1],b=c+" translate("+p[0]+"px, "+p[1]+"px)";f.every(function(t){return!t})&&d.some(function(t){return!t})||(y.props.onDrag({target:x,transform:b,dist:p,delta:f,beforeDist:u,beforeDelta:d,left:h,top:g,right:v,bottom:m,clientX:o,clientY:a}),y.updateTarget())},dragend:function(t){var e=t.isDrag,n=t.clientX,r=t.clientY;y.props.onDragEnd({target:x,isDrag:e,clientX:n,clientY:r}),e&&y.updateRect()}})}(this,e)));var n=this.props.container;this.updateState(function(t,e){var n,r,o,a,i,s=0,l=0,c=[0,0],u=[0,0],p=[0,0],f=[0,0],d=[0,0],h=ae(3),g=ae(3),v=ae(3),m=0,b=0,y=[0,0],x=1,w=[0,0],S=0,M=!1,_="";if(t){var D=window.getComputedStyle(t);m=t.offsetWidth,b=t.offsetHeight,zt(m)&&(m=(n=_e(t,D,!0))[0],b=n[1]),h=(r=ye(t,e))[0],g=r[1],v=r[2],_=r[3],y=r[4],M=16===g.length,s=(a=(o=xe(g,y,m,b))[0])[0],l=a[1],c=o[1],x=(i=De(u=o[2],p=o[3],f=o[4],d=o[5]))[0],S=i[1],w=i[2]}return{direction:x,rotationRad:S,rotationPos:w,target:t,left:s,top:l,pos1:u,pos2:p,pos3:f,pos4:d,width:m,height:b,beforeMatrix:h,matrix:g,targetTransform:_,targetMatrix:v,is3d:M,origin:c,transformOrigin:y}}(e,n),t)},n.updateTarget=function(){var t=this.state,e=t.width,n=t.height,r=t.beforeMatrix,o=ye(this.props.target,this.props.container,!0,r,16===r.length?4:3),a=o[1],i=o[2],s=o[3],l=o[4],c=xe(a,l,e,n),u=c[0],p=u[0],f=u[1],d=c[1],h=c[2],g=c[3],v=c[4],m=c[5],b=De(h,g,v,m),y=b[0],x=b[1],w=b[2];this.setState({direction:y,rotationRad:x,rotationPos:w,pos1:h,pos2:g,pos3:v,pos4:m,origin:d,beforeMatrix:r,targetMatrix:i,matrix:a,transformOrigin:l,targetTransform:s,left:p,top:f})},n.updateState=function(t,e){var n=this.state;if(e)for(var r in t)n[r]=t[r];else this.setState(t)},t.defaultProps={target:null,container:null,rotatable:!1,draggable:!1,scalable:!1,resizable:!1,warpable:!1,keepRatio:!0,origin:!0,throttleDrag:0,throttleResize:0,throttleScale:0,throttleRotate:0,onRotateStart:function(){},onRotate:function(){},onRotateEnd:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onScaleStart:function(){},onScale:function(){},onScaleEnd:function(){},onResizeStart:function(){},onResize:function(){},onResizeEnd:function(){},onWarpStart:function(){},onWarp:function(){},onWarpEnd:function(){}},t}(gt),Fe=function(n){function t(t){var e=n.call(this,t)||this;return e.state={},e.state=e.props,e}return a(t,n),t.prototype.render=function(){return d(Be,i({ref:c(this,"preactMoveable")},this.state))},t}(_),Ue=function(o){function t(t,e){void 0===e&&(e={});var n=o.call(this)||this;n.onDragStart=function(t){n.trigger("dragStart",t)},n.onDrag=function(t){n.trigger("drag",t)},n.onDragEnd=function(t){n.trigger("dragEnd",t)},n.onResizeStart=function(t){n.trigger("resizeStart",t)},n.onResize=function(t){n.trigger("resize",t)},n.onResizeEnd=function(t){n.trigger("resizeEnd",t)},n.onScaleStart=function(t){n.trigger("scaleStart",t)},n.onScale=function(t){n.trigger("scale",t)},n.onScaleEnd=function(t){n.trigger("scaleEnd",t)},n.onRotateStart=function(t){n.trigger("rotateStart",t)},n.onRotate=function(t){n.trigger("rotate",t)},n.onRotateEnd=function(t){n.trigger("rotateEnd",t)},n.onWarpStart=function(t){n.trigger("warpStart",t)},n.onWarp=function(t){n.trigger("warp",t)},n.onWarpEnd=function(t){n.trigger("warpEnd",t)};var r=document.createElement("div");return function(t,e,n){C(n,t,{},!1,e,!1)}(d(Fe,i({ref:c(n,"innerMoveable")},e,{onDragStart:n.onDragStart,onDrag:n.onDrag,onDragEnd:n.onDragEnd,onResizeStart:n.onResizeStart,onResize:n.onResize,onResizeEnd:n.onResizeEnd,onScaleStart:n.onScaleStart,onScale:n.onScale,onScaleEnd:n.onScaleEnd,onRotateStart:n.onRotateStart,onRotate:n.onRotate,onRotateEnd:n.onRotateEnd,onWarpStart:n.onWarpStart,onWarp:n.onWarp,onWarpEnd:n.onWarpEnd})),r),t.appendChild(r.children[0]),n}a(t,o);var e=t.prototype;return Object.defineProperty(e,"origin",{get:function(){return this.getMoveableProps().origin},set:function(t){this.innerMoveable.setState({origin:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e,"target",{get:function(){return this.getMoveableProps().target},set:function(t){t!==this.target?this.innerMoveable.setState({target:t}):this.updateRect()},enumerable:!0,configurable:!0}),Object.defineProperty(e,"draggable",{get:function(){return this.getMoveableProps().draggable||!1},set:function(t){this.innerMoveable.setState({draggable:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e,"resizable",{get:function(){return this.getMoveableProps().resizable},set:function(t){this.innerMoveable.setState({resizable:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e,"scalable",{get:function(){return this.getMoveableProps().scalable},set:function(t){this.innerMoveable.setState({scalable:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e,"rotatable",{get:function(){return this.getMoveableProps().rotatable},set:function(t){this.innerMoveable.setState({rotatable:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e,"warpable",{get:function(){return this.getMoveableProps().warpable},set:function(t){this.innerMoveable.setState({warpable:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e,"keepRatio",{get:function(){return this.getMoveable().keepRatio},set:function(t){this.innerMoveable.setState({keepRatio:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e,"throttleDrag",{get:function(){return this.getMoveable().throttleDrag},set:function(t){this.innerMoveable.setState({throttleDrag:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e,"throttleResize",{get:function(){return this.getMoveable().throttleResize},set:function(t){this.innerMoveable.setState({throttleResize:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e,"throttleScale",{get:function(){return this.getMoveable().throttleScale},set:function(t){this.innerMoveable.setState({throttleScale:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e,"throttleRotate",{get:function(){return this.getMoveable().throttleRotate},set:function(t){this.innerMoveable.setState({throttleRotate:t})},enumerable:!0,configurable:!0}),e.move=function(t){this.getMoveable().move(t)},e.isMoveableElement=function(t){return this.getMoveable().isMoveableElement(t)},e.updateRect=function(){this.getMoveable().updateRect()},e.updateTarget=function(){this.getMoveable().updateTarget()},e.getMoveable=function(){return this.innerMoveable.preactMoveable},e.getMoveableProps=function(){return this.getMoveable().props},t}(t),He={draggable:{vanilla:'\nimport Moveable from "moveable";\n\n/* const translate = [0, 0]; */\nconst draggable = new Moveable(document.body, {\n    target: document.querySelector(".draggable"),\n    draggable: true,\n    throttleDrag: 0,\n}).on("drag", ({ left, top, beforeDelta }) => {\n    e.target.style.left = left + "px";\n    e.target.style.top = top + "px";\n\n    /* translate[0] += beforeDelta[0]; */\n    /* translate[1] += beforeDelta[1]; */\n    /* e.target.style.transform\n        = "translateX(" + translate[0] + "px) "\n        + "translateY(" + translate[1] + "px)"; */\n});\n        ',react:'\nimport Moveable from "react-moveable";\nthis.translate = [0, 0];\nreturn (\n    <Moveable\n        target={document.querySelector(".draggable")}\n        draggable={true}\n        throttleDrag={0}\n        onDrag={({ left, top, beforeDelta }) => {\n            e.target.style.left = left + "px";\n            e.target.style.top = top + "px";\n\n            /* const translate = this.translate */\n            /* translate[0] += beforeDelta[0]; */\n            /* translate[1] += beforeDelta[1]; */\n            /* e.target.style.transform\n                = "translateX(" + translate[0] + "px) "\n                + "translateY(" + translate[1] + "px)"; */\n        }}\n    />\n);\n        '},resizable:{vanilla:'\nimport Moveable from "moveable";\n\nconst resizable = new Moveable(document.body, {\n    target: document.querySelector(".resizable"),\n    resizable: true,\n    throttleResize: 0,\n    keepRatio: true,\n}).on("resize", e => {\n    console.log(e.width, e.height, e.dist);\n    e.target.style.width = e.width + "px";\n    e.target.style.height = e.height + "px";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nreturn (\n    <Moveable\n        target={document.querySelector(".resizable")}\n        resizable={true}\n        throttleResize={0}\n        keepRatio={true}\n        onResize={e => {\n            console.log(e.width, e.height, e.dist);\n            e.target.style.width = e.width + "px";\n            e.target.style.height = e.height + "px";\n        }}\n    />\n);\n        '},scalable:{vanilla:'\nimport Moveable from "moveable";\n\nconst scale = [1, 1];\nconst scalable = new Moveable(document.body, {\n    target: document.querySelector(".scalable"),\n    scalable: true,\n    throttleScale: 0,\n    keepRatio: true,\n}).on("scale", ({ dist }) => {\n    scale[0] *= dist[0];\n    scale[1] *= dist[1];\n    e.target.style.transform = "scale(" + scale[0] +  "," + scale[1] + ")";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.scale = [1, 1];\nreturn (\n    <Moveable\n        target={document.querySelector(".scalable")}\n        scalable={true}\n        throttleScale={0}\n        keepRatio={true}\n        onScale={({ dist }) => {\n            const scale = this.scale;\n            scale[0] *= dist[0];\n            scale[1] *= dist[1];\n            e.target.style.transform\n                = "scale(" + scale[0] +  "," + scale[1] + ")";\n        }}\n    />\n);\n        '},rotatable:{vanilla:'\nimport Moveable from "moveable";\n\nlet rotate = 0;\n\nconst rotatable = new Moveable(document.body, {\n    target: document.querySelector(".rotatable"),\n    rotatable: true,\n    throttleRotate: 0,\n}).on("rotate", ({ delta }) => {\n    rotate += delta;\n    e.target.style.transform\n        = "rotate(" + rotate +  "deg)";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.rotate = 0;\n\nreturn (\n    <Moveable\n        target={document.querySelector(".rotatable")}\n        rotatable={true}\n        throttleRotate={0}\n        onRotate={({ delta }) => {\n            this.rotate += delta;\n            e.target.style.transform\n                = "rotate(" + this.rotate +  "deg)";\n        }}\n    />\n);\n        '},warpable:{vanilla:'\nimport Moveable from "moveable";\n\nlet matrix = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n];\n\nconst warpable = new Moveable(document.body, {\n    target: document.querySelector(".warpable"),\n    warpable: true,\n    throttleRotate: 0,\n}).on("warp", ({ multiply, delta }) => {\n    matrix = multiply(matrix, delta);\n    e.target.style.transform\n        = "matrix3d(" + matrix.join(",") +  ")";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.matrix = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n];\n\nreturn (\n    <Moveable\n        target={document.querySelector(".warpable")}\n        warpable={true}\n        onWarp={({ multiply, delta }) => {\n            this.matrix = multiply(this.matrix, delta);\n            e.target.style.transform\n                = "matrix3d(" + matrix.join(",") +  ")";\n        }}\n    />\n);\n        '},origin:{vanilla:'\nimport Moveable from "moveable";\n\nconst rotatable = new Moveable(document.body, {\n    target: document.querySelector(".origin"),\n    rotatable: true,\n    origin: true,\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nreturn (\n    <Moveable\n        target={document.querySelector(".origin")}\n        rotatable={true}\n        origin={true}\n    />\n);\n        '}};function Ie(t,e,n){var r=1-n;return n*n*n+3*n*n*r*e+3*n*r*r*t}function Ve(n,r,o,a){function t(t){var e=function(t,e,n){for(var r=n,o=1;.001<Math.abs(o);){if(o=Ie(t,e,r)-n,Math.abs(o)<.001)return r;r-=o/2}return r}(n,o,Math.max(Math.min(1,t),0));return Ie(r,a,e)}return t.easingName="cubic-bezier("+n+","+r+","+o+","+a+")",t}function $e(n,r){function t(t){var e=1/n;return 1<=t?1:("start"===r?e:0)+Math.floor(t/e)*e}return t.easingName="steps("+n+", "+r+")",t}var Ge,Ze=$e(1,"start"),Je=$e(1,"end"),Ke=Ve(0,0,1,1),Qe=Ve(.25,.1,.25,1),tn=Ve(.42,0,1,1),en=Ve(0,0,.58,1),nn=Ve(.42,0,.58,1),rn="animation-timing-function",on={transform:{},filter:{},attribute:{},html:!0},an={easing:[rn]},sn=((Ge={})[rn]=!0,Ge.contents=!0,Ge.html=!0,Ge),ln={linear:Ke,ease:Qe,"ease-in":tn,"ease-out":en,"ease-in-out":nn,"step-start":Ze,"step-end":Je},cn=function(){function i(t,e){this.prefix="",this.suffix="",this.model="",this.type="",this.separator=",",e&&this.setOptions(e),this.value=Tt(t)?t.split(this.separator):t}var t=i.prototype;return t.setOptions=function(t){for(var e in t)this[e]=t[e];return this},t.size=function(){return this.value.length},t.get=function(t){return this.value[t]},t.set=function(t,e){return this.value[t]=e,this},t.clone=function(){var t=this,e=t.separator,n=t.prefix,r=t.suffix,o=t.model,a=t.type;return new i(this.value.map(function(t){return t instanceof i?t.clone():t}),{separator:e,prefix:n,suffix:r,model:o,type:a})},t.toValue=function(){return this.prefix+this.join()+this.suffix},t.join=function(){return this.value.map(function(t){return t instanceof i?t.toValue():t}).join(this.separator)},t.forEach=function(t){return this.value.forEach(t),this},i}();function un(t){var e=bt;return 3===t.length&&(t[3]=1),new cn(t,{model:e,separator:",",type:"color",prefix:e+"(",suffix:")"})}function pn(t,e){return new cn(t,{type:"array",separator:e})}function fn(t){if(!Tt(t))return Lt(t)?pn(t,","):t;var e=Wt(t);return 1<e.length?pn(e.map(function(t){return fn(t)}),","):1<(e=function(t){return t.match(/("[^"]*")|('[^']*')|([^\s()]*(?:\((?:[^()]*|\([^()]*\))*\))[^\s()]*)|\S+/g)||[]}(t)).length?pn(e.map(function(t){return fn(t)})," "):(e=/^(['"])([^'"]*)(['"])$/g.exec(t))&&e[1]===e[3]?new cn([fn(e[2])],{prefix:e[1],suffix:e[1]}):-1!==t.indexOf("(")?function(t){var e=At(t),n=e.prefix,r=e.value,o=e.suffix;if(void 0===r)return t;if(-1!==wt.indexOf(n))return un(Bt(t));var a=fn(r),i=[r],s=",",l=n+"(",c=")"+o;return a instanceof cn&&(s=a.separator,i=a.value,l+=a.prefix,c=a.suffix+c),new cn(i,{separator:s,model:n,prefix:l,suffix:c})}(t):"#"===t.charAt(0)?function(t){var e=Bt(t);return e?un(e):t}(t):t}function dn(t){return t instanceof cn}function hn(t){var e=typeof t;if(e===Dt){if(Lt(t))return _t;if(dn(t))return Mt}else if(e===Et||e===Rt)return"value";return e}function gn(t,e){var n=[];if(function(t){return jt(t)&&t.constructor===Object}(t))for(var r in t)e.push(r),n=n.concat(gn(t[r],e)),e.pop();else n.push(e.slice());return n}function vn(t,e,n){void 0===n&&(n=t.length);for(var r=e,o=0;o<n;++o){if(!jt(r))return;r=r[t[o]]}return r}function mn(t,e,n){var r=e.length,o=t;if(0===r)return!1;for(var a=0;a<r;++a){if(!0===o)return!1;if(!(o=o[e[a]])||!n&&!0===o)return!1}return!0}function bn(t,e){return mn(on,t,e)}function yn(t){if(!t)return"";var e=[];for(var n in t)e.push(n.replace(/\d$/g,"")+"("+t[n]+")");return e.join(" ")}function xn(t,e){return void 0===e&&(e=!1),wn({},t,e)}function wn(t,e,n){for(var r in void 0===n&&(n=!1),e){var o=e[r],a=hn(o);a===Mt?t[r]=n?o.toValue():o.clone():a===St?t[r]=n?Mn([r],o):o:a===_t?t[r]=o.slice():a===Dt?jt(t[r])&&!dn(t[r])?wn(t[r],o,n):t[r]=xn(o,n):t[r]=e[r]}return t}function Sn(t){return t[0]in an?an[t[0]]:t}function Mn(t,e){var n=hn(e);if(n===Mt)return e.toValue();if(n===St){if(t[0]!==rn)return Mn(t,e())}else if(n===Dt)return xn(e,!0);return e}var _n=function(){function f(t){void 0===t&&(t={}),this.properties={},this.set(t)}var t=f.prototype;return t.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.raw.apply(this,t);return Mn(Sn(t),n)},t.raw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return vn(Sn(t),this.properties)},t.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Sn(t),r=n.length;if(!r)return this;var o=vn(n,this.properties,r-1);return jt(o)&&delete o[n[r-1]],this},t.set=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this,r=t.length,o=t.slice(0,-1),a=t[r-1],i=o[0];if(1===r&&a instanceof f)n.merge(a);else if(i in an)n._set(an[i],a);else if(2===r&&Lt(i))n._set(i,a);else if(dn(a))bn(o)?n.set.apply(n,o.concat([function e(t,n){void 0===n&&(n={});var r=t.model;if(r){t.setOptions({model:"",suffix:"",prefix:""});var o=1<t.size()?t:t.get(0);n[r]=o}else t.forEach(function(t){e(t,n)});return n}(a)])):n._set(o,a);else if(Lt(a))n._set(o,a);else if(jt(a))for(var s in!n.has.apply(n,o)&&bn(o)&&n._set(o,{}),a)n.set.apply(n,o.concat([s,a[s]]));else if(Tt(a)){if(bn(o,!0)){if(function(t){return mn(sn,t,!0)}(o)||!bn(o))this._set(o,a);else{var l=fn(a);jt(l)&&n.set.apply(n,o.concat([l]))}return this}var c=function(t){for(var e=t.split(";"),n={},r=e.length,o=0;o<r;++o){var a=/([^:]*):([\S\s]*)/g.exec(e[o]);!a||a.length<3||!a[1]?--r:n[a[1].trim()]=fn(a[2].trim())}return{styles:n,length:r}}(a),u=c.styles,p=c.length;for(var s in u)n.set.apply(n,o.concat([s,u[s]]));if(p)return this;n._set(o,a)}else n._set(o,a);return n},t.getNames=function(){return gn(this.properties,[])},t.has=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Sn(t),r=n.length;return!!r&&!zt(vn(n,this.properties,r))},t.clone=function(){return(new f).merge(this)},t.merge=function(t){var e=this.properties,n=t.properties;return n&&wn(e,n),this},t.toCSSObject=function(){var t=this.get(),e={};for(var n in t)if(!bn([n],!0)){var r=t[n];n===rn?e[rn.replace("animation",Xt)]=(Tt(r)?r:r.easingName)||"initial":e[n]=r}var o=yn(t.transform),a=yn(t.filter);return Yt&&o&&(e[Yt]=o),Ct&&a&&(e[Ct]=a),e},t.toCSS=function(){var t=this.toCSSObject(),e=[];for(var n in t)e.push(n+":"+t[n]+";");return e.join("")},t._set=function(t,e){for(var n=this.properties,r=t.length,o=0;o<r-1;++o){var a=t[o];a in n||(n[a]={}),n=n[a]}r&&(1===t.length&&t[0]===rn?n[rn]=function(t){var e;if(Tt(t))if(t in ln)e=ln[t];else{var n=fn(t);if(Tt(n))return 0;if("cubic-bezier"===n.model)e=Ve((t=n.value.map(function(t){return parseFloat(t)}))[0],t[1],t[2],t[3]);else{if("steps"!==n.model)return 0;e=$e(parseFloat(n.value[0]),n.value[1])}}else e=Lt(t)?Ve(t[0],t[1],t[2],t[3]):t;return e}(e):n[t[r-1]]=Tt(e)?fn(e):e)},f}(),Dn=document.querySelector(".moveable"),En=document.querySelector(".label"),Rn=new _n({width:"250px",height:"200px",left:"0px",top:"0px",transform:{rotate:"0deg",scaleX:1,scaleY:1,matrix3d:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}});function Pn(t){t.style.cssText=Rn.toCSS()}function On(t,e,n){En.style.cssText="display: block; transform: translate("+t+"px, "+(e-10)+"px) translate(-100%, -100%);",En.innerHTML=n}var Nn=new Ue(Dn.parentElement,{target:Dn,container:Dn.parentElement,origin:!1,draggable:!0,rotatable:!0,scalable:!0,keepRatio:!1,throttleDrag:1,throttleScale:.01,throttleRotate:.2,throttleResize:1}).on("drag",function(t){var e=t.target,n=t.left,r=t.top,o=t.clientX,a=t.clientY;Rn.set("left",n+"px"),Rn.set("top",r+"px"),Pn(e),On(o,a,"X: "+n+"px<br/>Y: "+r+"px")}).on("scale",function(t){var e=t.target,n=t.dist,r=t.clientX,o=t.clientY,a=Rn.get("transform","scaleX")*n[0],i=Rn.get("transform","scaleY")*n[1];Rn.set("transform","scaleX",a),Rn.set("transform","scaleY",i),Pn(e),On(r,o,"S: "+a.toFixed(2)+", "+i.toFixed(2))}).on("rotate",function(t){var e=t.target,n=t.delta,r=t.clientX,o=t.clientY,a=parseFloat(Rn.get("transform","rotate"))+n;Rn.set("transform","rotate",a+"deg"),Pn(e),On(r,o,"R: "+a.toFixed(1))}).on("resize",function(t){var e=t.target,n=t.width,r=t.height,o=t.clientX,a=t.clientY;Rn.set("width",n+"px"),Rn.set("height",r+"px"),Pn(e),On(o,a,"W: "+n+"px<br/>H: "+r+"px")}).on("warp",function(t){var e=t.target,n=t.multiply,r=t.delta,o=t.clientX,a=t.clientY;Rn.set("transform","matrix3d",n(Rn.get("transform","matrix3d"),r)),Pn(e),On(o,a,"X: "+o+"px<br/>Y: "+a+"px")}).on("dragEnd",function(){En.style.display="none"}).on("scaleEnd",function(){En.style.display="none"}).on("rotateEnd",function(){En.style.display="none"}).on("resizeEnd",function(){En.style.display="none"}).on("warpEnd",function(){En.style.display="none"}),Yn=document.querySelector(".draggable"),Cn=new Ue(Yn.parentElement,{target:Yn,container:Yn.parentElement,origin:!1,draggable:!0}).on("drag",function(t){var e=t.target,n=t.transform;e.style.transform=n}),Xn=document.querySelector(".resizable"),kn=new Ue(Xn.parentElement,{target:Xn,container:Xn.parentElement,origin:!1,resizable:!0}).on("resize",function(t){var e=t.target,n=t.width,r=t.height;e.style.width=n+"px",e.style.height=r+"px"}),zn=document.querySelector(".scalable"),jn=new Ue(zn.parentElement,{target:zn,container:zn.parentElement,origin:!1,scalable:!0}).on("scale",function(t){var e=t.target,n=t.transform;e.style.transform=n}),Ln=document.querySelector(".rotatable"),Tn=new Ue(Ln.parentElement,{target:Ln,container:Ln.parentElement,origin:!1,rotatable:!0}).on("rotate",function(t){var e=t.target,n=t.transform;e.style.transform=n}),Wn=document.querySelector(".warpable"),An=new Ue(Wn.parentElement,{target:Wn,container:Wn.parentElement,warpable:!0,origin:!1}).on("warp",function(t){var e=t.target,n=t.transform;e.style.transform=n}),qn=document.querySelector(".origin");new Ue(qn.parentElement,{target:qn,container:qn.parentElement,origin:!0,draggable:!0,rotatable:!0}).on("drag",function(t){var e=t.target,n=t.left,r=t.top;e.style.left=n+"px",e.style.top=r+"px"}).on("rotate",function(t){var e=t.target,n=t.transform;e.style.transform=n});window.addEventListener("resize",function(){Nn.updateRect(),Cn.updateRect(),kn.updateRect(),jn.updateRect(),Tn.updateRect(),An.updateRect()}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("pre").forEach(function(t){var e=t.getAttribute("data-group"),n=t.getAttribute("data-panel"),r=t.querySelector("code"),o=He[e]["preact"===n?"react":n].trim();"preact"===n&&(o=o.replace(/react/g,"preact")),r.innerText=o,hljs.highlightBlock(r)})});var Bn=document.querySelector(".buttons.able"),Fn=[].slice.call(Bn.children);Bn.addEventListener("click",function(t){var e=t.target,n=e.getAttribute("data-able");n&&(Fn.forEach(function(t){t.classList.remove("selected")}),e.classList.add("selected"),"warpable"===n?(Nn.resizable=!1,Nn.scalable=!1,Nn.warpable=!0):"scalable"===n?(Nn.resizable=!1,Nn.scalable=!0,Nn.warpable=!1):"resizable"===n&&(Nn.resizable=!0,Nn.scalable=!1,Nn.warpable=!1))});var Un={};[].slice.call(document.querySelectorAll("[data-tab]")).forEach(function(r){var t=r.getAttribute("data-group"),e=r.getAttribute("data-tab"),n=document.querySelector('[data-group="'+t+'"][data-panel="'+e+'"]');Un[t]||(Un[t]=[]),Un[t].push([r,n]),r.addEventListener("click",function(){Un[t].forEach(function(t){var e=t[0],n=t[1];r!==e&&(e.classList.remove("selected"),n.classList.remove("selected"))}),r.classList.add("selected"),n.classList.add("selected")})})}();
//# sourceMappingURL=index.js.map
