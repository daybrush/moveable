/*
Copyright (c) 2019 Daybrush
name: moveable
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/moveable.git
version: 0.14.1
*/
!function(){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function n(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function l(t){return void 0===t}var t=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){void 0===e&&(e={});var n=this._eventHandler[t]||[];if(!(0<n.length))return!0;n=n.concat(),e.eventType=t;var r=!1,i=[e],a=0;e.stop=function(){r=!0},e.currentTarget=this;for(var o=arguments.length,s=new Array(2<o?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];for(1<=s.length&&(i=i.concat(s)),a=0;n[a];a++)n[a].apply(this,i);return!r},e.once=function(i,a){if("object"==typeof i&&l(a)){var t,e=i;for(t in e)this.once(t,e[t]);return this}if("string"==typeof i&&"function"==typeof a){var o=this;this.on(i,function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];a.apply(o,n),o.off(i,t)})}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&l(e)){var n,r=t;for(n in r)this.on(n,r[n]);return this}if("string"==typeof t&&"function"==typeof e){var i=this._eventHandler[t];l(i)&&(this._eventHandler[t]=[],i=this._eventHandler[t]),i.push(e)}return this},e.off=function(t,e){if(l(t))return this._eventHandler={},this;if(l(e)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var n,r=t;for(n in r)this.off(n,r[n]);return this}var i,a,o=this._eventHandler[t];if(o)for(i=0;void 0!==(a=o[i]);i++)if(a===e){o=o.splice(i,1);break}return this},t}();return t.VERSION="2.1.2",t}();function p(e,n){return function(t){t&&(e[n]=t)}}function a(n,r){return function(t){var e=t.prototype;n.forEach(function(t){r(e,t)})}}var b=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,i=n.indexOf(t),a=-1===i?n.length:i;n[a]=t,r[a]=e},t}(),y=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),_="function"==typeof Map,o=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}();var x=function(){function t(t,e,n,r,i,a,o,s){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=i,this.maintained=a,this.changedBeforeAdded=o,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=function(t,n){var s=[],l=[];return t.forEach(function(t){var e=t[0],n=t[1],r=new o;s[e]=r,l[n]=r}),s.forEach(function(t,e){t.connect(s[e-1])}),t.filter(function(t,e){return!n[e]}).map(function(t,e){var n=t[0],r=t[1];if(n===r)return[0,0];var i=s[n],a=l[r-1],o=i.getIndex();return i.disconnect(),a?i.connect(a,a.next):i.connect(void 0,s[0]),[o,i.getIndex()]})}(this.changedBeforeAdded,this.fixed),s=this.changed,l=[];this.cacheOrdered=t.filter(function(t,e){var n=t[0],r=t[1],i=s[e],a=i[0],o=i[1];if(n!==r)return l.push([a,o]),!0}),this.cachePureChanged=l},t}();function u(t,e,n){var r=_?Map:n?y:b,i=n||function(t){return t},a=[],o=[],s=[],l=t.map(i),u=e.map(i),c=new r,f=new r,p=[],h=[],d={},g=[],v=0,m=0;return l.forEach(function(t,e){c.set(t,e)}),u.forEach(function(t,e){f.set(t,e)}),l.forEach(function(t,e){var n=f.get(t);void 0===n?(++m,o.push(e)):d[n]=m}),u.forEach(function(t,e){var n=c.get(t);void 0===n?(a.push(e),++v):(s.push([n,e]),m=d[e]||0,p.push([n-m,e-v]),h.push(e===n),n!==e&&g.push([n,e]))}),o.reverse(),new x(t,e,a,o,g,s,p,h)}function e(t){if(!O)return"";var e=(O.body||O.documentElement).style,n=P.length;if(typeof e[t]!==D)return t;for(var r=0;r<n;++r){var i="-"+P[r]+"-"+t;if(typeof e[i]!==D)return i}return""}var c=function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}return t.prototype.update=function(t){var e=[].slice.call(t),n=u(this.list,e,this.findKeyCallback);return this.list=e,n},t}(),f="rgb",h="rgba",d="hsl",g="hsla",v=[f,h,d,g],m="function",w="property",E="array",S="object",M="string",C="number",D="undefined",O=typeof document!==D&&document,P=["webkit","ms","moz","o"],R=e("transform"),k=e("filter"),z=e("animation");function L(t){return typeof t===D}function W(t){return t&&typeof t===S}function V(t){return Array.isArray(t)}function G(t){return typeof t===M}function A(t){var e=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return e?e.map(function(t){return t.trim()}):[]}function q(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function N(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2];return{prefix:n,unit:e[3],value:parseFloat(r)}}function T(t){var e=function(t){return t.replace("#","")}(t),n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16),a=parseInt(e.substring(6,8),16)/255;return isNaN(a)&&(a=1),[n,r,i,a]}function j(t){if("#"===t.charAt(0))return 4===t.length||5===t.length?T(function(t){var e=t.charAt(1),n=t.charAt(2),r=t.charAt(3),i=t.charAt(4);return["#",e,e,n,n,r,r,i,i].join("")}(t)):T(t);if(-1!==t.indexOf("(")){var e=q(t),n=e.prefix,r=e.value;if(!n||!r)return;var i=A(r),a=[],o=i.length;switch(n){case f:case h:for(var s=0;s<o;++s)a[s]=parseFloat(i[s]);return a;case d:case g:for(s=0;s<o;++s)-1!==i[s].indexOf("%")?a[s]=parseFloat(i[s])/100:a[s]=parseFloat(i[s]);return function(t){var e=t[0],n=t[1],r=t[2];e<0&&(e+=360*Math.floor((Math.abs(e)+360)/360)),e%=360;var i,a=(1-Math.abs(2*r-1))*n,o=a*(1-Math.abs(e/60%2-1)),s=r-a/2;return e<60?i=[a,o,0]:e<120?i=[o,a,0]:e<180?i=[0,a,o]:e<240?i=[0,o,a]:e<300?i=[o,0,a]:e<360&&(i=[a,0,o]),[Math.round(255*(i[0]+s)),Math.round(255*(i[1]+s)),Math.round(255*(i[2]+s)),3<t.length?t[3]:1]}(a)}}}function X(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function Y(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function F(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function I(t,e,n,r){t.addEventListener(e,n,r)}function B(t,e,n){t.removeEventListener(e,n)}var H=function(t,e){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function U(t,e){function n(){this.constructor=t}H(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var K=function(){return(K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function $(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Z(t,e){if(t===e)return!1;for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1}function J(i,a){var o=Object.keys(i),n=Object.keys(a),t=u(o,n,function(t){return t}),r={},s={},l={};return t.added.forEach(function(t){var e=n[t];r[e]=a[e]}),t.removed.forEach(function(t){var e=o[t];s[e]=i[e]}),t.maintained.forEach(function(t){var e=t[0],n=o[e],r=[i[n],a[n]];i[n]!==a[n]&&(l[n]=r)}),{added:r,removed:s,changed:l}}function Q(t){t.forEach(function(t){t()})}function tt(t){var e=0;return t.map(function(t){return null==t?"$compat"+ ++e:""+t})}function et(t,e,n,r){return G(t)?new st("text_"+t,e,n,r,null,{}):new("string"==typeof t.type?lt:t.type.prototype.render?pt:ct)(t.type,e,n,r,t.ref,t.props)}function nt(t){var e=t.className,n=$(t,["className"]);return null!=e&&(n.class=e),delete n.style,delete n.children,n}function rt(t,e){if(!e)return t;for(var n in e)L(t[n])&&(t[n]=e[n]);return t}function it(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=e||{},a=i.key,o=i.ref,s=$(i,["key","ref"]);return{type:t,key:a,ref:o,props:K(K({},s),{children:function e(t){var n=[];return t.forEach(function(t){n=n.concat(V(t)?e(t):t)}),n}(n).filter(function(t){return null!=t})})}}var at=function(){function t(t,e,n,r,i,a){void 0===a&&(a={}),this.type=t,this.key=e,this.index=n,this.container=r,this.ref=i,this.props=a,this._providers=[]}var e=t.prototype;return e._should=function(t,e){return!0},e._update=function(t,e,n,r){if(this.base&&!G(e)&&!r&&!this._should(e.props,n))return!1;this.original=e,this._setState(n);var i=this.props;return G(e)||(this.props=e.props,this.ref=e.ref),this._render(t,this.base?i:{},n),!0},e._mounted=function(){var t=this.ref;t&&t(this.base)},e._setState=function(t){},e._updated=function(){var t=this.ref;t&&t(this.base)},e._destroy=function(){var t=this.ref;t&&t(null)},t}();function ot(t){var e={},n={};for(var r in t)0===r.indexOf("on")?n[r.replace("on","").toLowerCase()]=t[r]:e[r]=t[r];return{attributes:e,events:n}}var st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}U(e,t);var n=e.prototype;return n._render=function(t){var e=this,n=!this.base;return n&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push(function(){n?e._mounted():e._updated()}),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(at),lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events={},t}U(t,e);var n=t.prototype;return n.addEventListener=function(t,e){var n=this.events;n[t]=function(t){t.nativeEvent=t,e(t)},this.base.addEventListener(t,n[t])},n.removeEventListener=function(t){var e=this.events;this.base.removeEventListener(t,e[t]),delete e[t]},n._should=function(t){return Z(this.props,t)},n._render=function(t,e){var n=this,r=!this.base;r&&(this.base=document.createElement(this.type)),mt(this,this._providers,this.props.children,t,null);var i=this.base,a=ot(e),o=a.attributes,s=a.events,l=ot(this.props),u=l.attributes,c=l.events;return function(t,e,n){var r=J(t,e),i=r.added,a=r.removed,o=r.changed;for(var s in i)n.setAttribute(s,i[s]);for(var s in o)n.setAttribute(s,o[s][1]);for(var s in a)n.removeAttribute(s)}(nt(o),nt(u),i),function(t,e,n){var r=J(t,e),i=r.added,a=r.removed,o=r.changed;for(var s in a)n.removeEventListener(s);for(var s in i)n.addEventListener(s,i[s]);for(var s in o)n.removeEventListener(s),n.addEventListener(s,o[s][1]);for(var s in a)n.removeEventListener(s)}(s,c,this),function(t,e,n){var r=n.style,i=J(t,e),a=i.added,o=i.removed,s=i.changed;for(var l in a)r[l]=a[l];for(var l in s)r[l]=s[l][1];for(var l in o)r[l]=""}(e.style||{},this.props.style||{},i),t.push(function(){r?n._mounted():n._updated()}),!0},n._unmount=function(){var t=this.events,e=this.base;for(var n in t)e.removeEventListener(n,t[n]);this._providers.forEach(function(t){t._unmount()}),this.events={},e.parentNode.removeChild(e)},t}(at);function ut(t){if(!t)return null;if(t instanceof Node)return t;var e=t._provider._providers;return e.length?ut(e[0].base):null}var ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}U(e,t);var n=e.prototype;return n._render=function(t){var e=this.type(this.props);return mt(this,this._providers,e?[e]:[],t),!0},n._unmount=function(){this._providers.forEach(function(t){t._unmount()})},e}(at),ft=function(n){function t(t){var e=n.call(this,"container","container",0,null)||this;return e.base=t,e}U(t,n);var e=t.prototype;return e._render=function(){return!0},e._unmount=function(){},t}(at),pt=function(o){function t(t,e,n,r,i,a){return void 0===a&&(a={}),o.call(this,t,e,n,r,i,rt(a,t.defaultProps))||this}U(t,o);var e=t.prototype;return e._should=function(t,e){return this.base.shouldComponentUpdate(rt(t,this.type.defaultProps),e||this.base.state)},e._render=function(t,e,n){var r=this;this.props=rt(this.props,this.type.defaultProps);var i=!this.base;i?(this.base=new this.type(this.props),this.base._provider=this):this.base.props=this.props;var a=this.base,o=a.state,s=a.render();s&&s.props&&!s.props.children.length&&(s.props.children=this.props.children),mt(this,this._providers,s?[s]:[],t,n,null),t.push(function(){i?(r._mounted(),a.componentDidMount()):(r._updated(),a.componentDidUpdate(e,o))})},e._setState=function(t){t&&(this.base.state=t)},e._unmount=function(){this._providers.forEach(function(t){t._unmount()}),this.base.componentWillUnmount()},t}(at),ht=function(){function t(t){void 0===t&&(t={}),this.props=t,this.state={}}var e=t.prototype;return e.shouldComponentUpdate=function(t,e){return!0},e.render=function(){return null},e.setState=function(t,e,n){var r=[],i=this._provider;mt(i.container,[i],[i.original],r,K(K({},this.state),t),n)&&(e&&r.push(e),Q(r))},e.forceUpdate=function(t){this.setState(this.state,t,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(t,e){},e.componentWillUnmount=function(){},t}(),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.shouldComponentUpdate=function(t,e){return Z(this.props,t)||Z(this.state,e)},e}(ht),gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}U(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props,e=t.element,n=t.container;this._portalProvider=bt(e,n)},n.componentDidUpdate=function(){var t=this.props,e=t.element,n=t.container;this._portalProvider=bt(e,n)},n.componentWillUnmount=function(){var t=this.props.container;bt(this._portalProvider=null,t)},e}(dt);function vt(i,o,a){var s=a.map(function(t){return G(t)?null:t.key}),t=u(tt(o.map(function(t){return t.key})),tt(s),function(t){return t});t.removed.forEach(function(t){o.splice(t,1)[0]._unmount()}),t.ordered.forEach(function(t){var e=t[0],n=t[1],r=o.splice(e,1)[0];o.splice(n,0,r);var i=ut(r.base),a=ut(o[n+1]&&o[n+1].base);i&&i.parentNode.insertBefore(i,a)}),t.added.forEach(function(t){o.splice(t,0,et(a[t],s[t],t,i))});var e=t.maintained.filter(function(t){t[0];var e=t[1],n=a[e],r=o[e];return(G(n)?"text_"+n:n.type)!==r.type?(r._unmount(),o.splice(e,1,et(n,s[e],e,i)),!0):(r.index=e,!1)});return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}(t.added,e.map(function(t){t[0];return t[1]}))}function mt(i,a,n,r,o,s){var t=vt(i,a,n),e=a.filter(function(t,e){return t._update(r,n[e],o,s)}),l=function t(e){if(!e)return null;var n=e.base;return n instanceof Node?n:t(e.container)}(i);return l&&t.reverse().forEach(function(t){var e=a[t],n=ut(e.base);if(n&&l!==n&&!n.parentNode){var r=function(t,e){for(var n=t._providers,r=n.length,i=e.index+1;i<r;++i){var a=ut(n[i].base);if(a)return a}return null}(i,e);l.insertBefore(n,r)}}),0<e.length}function bt(t,e,n){return void 0===n&&(n=e.__REACT_COMPAT__),function(t,e,n){var r=[];mt(t,t._providers,e,r,n),Q(r)}(n=n||new ft(e),t?[t]:[]),e.__REACT_COMPAT__=n}function yt(t,e,n){var r=e.__REACT_COMPAT__;t&&!r&&(e.innerHTML=""),bt(t,e,r),n&&n()}function _t(e,n){return function(t){t&&(e[n]=t)}}var xt=("undefined"!=typeof window&&window||{}).navigator,wt={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Whale/,identity:"Whale",versionSearch:"Whale"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/MiuiBrowser/,identity:"MIUI Browser",versionSearch:"MiuiBrowser"},{criteria:/SamsungBrowser/,identity:"Samsung Internet",versionSearch:"SamsungBrowser"},{criteria:/SAMSUNG /,identity:"Samsung Internet",versionSearch:"Version"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"Android Browser",versionSearch:"Version"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone/,identity:"Windows Phone",versionSearch:"Windows Phone"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/Windows NT/,identity:"Window",versionSearch:"Windows NT"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"},{criteria:/Tizen/,identity:"Tizen"},{criteria:/Web0S/,identity:"WebOS"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"unknown"},os:{version:"-1",name:"unknown"}}};function Et(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r])&&n.push(t[r]);return n}var St=void 0;function Mt(t,e){return e&&e.test?!!e.test(t):-1<t.indexOf(e)}function Ct(t,e){var n=Et(t,function(t){return Mt(St,t.criteria)})[0];return n&&n.identity||e.name}function Dt(t,r){return Et(t,function(t){var e=t.criteria,n=new RegExp(t.identity,"i").test(r);return!!(e?n&&Mt(St,e):n)})[0]}function Ot(t,e){var n=wt.defaultString.browser.version,r=new RegExp("("+t+")","i").exec(e);if(!r)return n;var i=r.index,a=r[0];if(-1<i){var o=i+a.length+1;n=e.substring(o).split(" ")[0].replace(/_/g,".").replace(/;|\)/g,"")}return n}function Pt(t){if(t)return Ot(function(t){var e=Dt(wt.browser,t);return e=e||{criteria:t,versionSearch:t,identity:t}}(t).versionSearch||t,St)}function Rt(){var t=wt.webview,e=void 0;return function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(Et(t,function(t){return Mt(St,t.criteria)}),function(t){return e=Ot(t.browserVersionSearch,St),!(!Mt(St,t.webviewToken)&&!Mt(e,t.webviewBrowserVersion))})}function kt(t){var e=function(t){return Dt(wt.os,t)}(t)||{},n=wt.defaultString.os.version,r=void 0;if(t){if(e.versionAlias)return e.versionAlias;var i=e.versionSearch||t,a=new RegExp("("+i+")\\s([\\d_\\.]+|\\d_0)","i");return a.exec(St)&&(r=a.exec(St)[2].replace(/_/g,".").replace(/;|\)/g,"")),r||n}}function zt(){var t=Ct(wt.os,wt.defaultString.os);return{name:t,version:kt(t)}}function Gt(){var t=Ct(wt.browser,wt.defaultString.browser);return{name:t,version:Pt(t),webview:Rt()}}function At(){!function(t){St=t}(0<arguments.length&&void 0!==arguments[0]?arguments[0]:xt.userAgent);var t={os:zt(),browser:Gt(),isMobile:-1!==St.indexOf("Mobi")};return t.browser.name=t.browser.name.toLowerCase(),t.os.name=t.os.name.toLowerCase(),t.os.version=t.os.version.toLowerCase(),"ios"===t.os.name&&t.browser.webview&&(t.browser.version="-1"),t}function Nt(t,e,n,r,i,a){for(var o=n;o<r;++o)t[o]+=t[i+o-n]*a,e[o]+=e[i+o-n]*a}function Tt(t,e,n,r,i){for(var a=n;a<r;++a){var o=t[a],s=e[a];t[a]=t[i+a-n],t[i+a-n]=o,e[a]=e[i+a-n],e[i+a-n]=s}}function jt(t,e,n,r,i){for(var a=n;a<r;++a)t[a]/=i,e[a]/=i}function Xt(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=Qt(e),i=0;i<e;++i){var a=e*i,o=e*(i+1),s=a+i;if(0===n[s])for(var l=i+1;l<e;++l)if(n[e*l+i]){Tt(n,r,a,o,e*l);break}if(!n[s])return[];jt(n,r,a,o,n[s]);for(l=0;l<e;++l){var u=e*l,c=u+e,f=n[u+i];0!==f&&i!==l&&Nt(n,r,u,c,a,-f)}}return r}function Yt(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var i=0;i<e;++i)n[i*e+r]=t[e*r+i];return n}function Ft(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.atan2(r,n);return 0<=i?i:i+2*Math.PI}function It(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function Bt(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=Qt(n),i=Math.min(e,n),a=0;a<i-1;++a){for(var o=0;o<i-1;++o)r[a*n+o]=t[a*e+o];r[(a+1)*n-1]=t[(a+1)*e-1],r[(n-1)*n+a]=t[(e-1)*e+a]}return r[n*n-1]=t[e*e-1],r}function Lt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Qt(e);return t.forEach(function(t){r=Wt(r,t,e)}),r}function Wt(t,e,n){var r=[],i=t.length/n,a=e.length/i;if(!i)return e;if(!a)return t;for(var o=0;o<n;++o)for(var s=0;s<a;++s)for(var l=r[o*a+s]=0;l<i;++l)r[o*a+s]+=t[o*i+l]*e[l*a+s];return r}function qt(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=[],i=t.length/n,a=e.length/i,o=0;o<n;++o)for(var s=0;s<a;++s)for(var l=r[o+s*a]=0;l<i;++l)r[o+s*a]+=t[o+l*i]*e[l+s*a];return r}function Ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length,r=0,i=n-1;0<=i;--i)r+=t[i];return n?r/n:0}function Ut(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]+e[i];return r}function Kt(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]-e[i];return r}function Vt(t,e,n){void 0===n&&(n=e.length);var r=Wt(t,e,n),i=r[n-1];return r.map(function(t){return t/i})}function $t(t,e){return Vt(Jt(e,3),It(t,3))}function Zt(t){return 9===t.length?[t[0],t[3],t[1],t[4],t[2],t[5]]:Yt(t)}function Jt(t,e){var n=Math.cos(t),r=Math.sin(t),i=Qt(e);return i[0]=n,i[1]=-r,i[e]=r,i[e+1]=n,i}function Qt(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function te(t,e){for(var n=Qt(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[(e+1)*i]=t[i];return n}function ee(t,e){for(var n=Qt(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[e*(i+1)-1]=t[i];return n}function ne(t,e,n,r,i,a,o,s){var l=t[0],u=t[1],c=e[0],f=e[1],p=n[0],h=n[1],d=r[0],g=r[1],v=i[0],m=i[1],b=a[0],y=a[1],_=o[0],x=o[1],w=s[0],E=s[1],S=Xt([l,u,1,0,0,0,-v*l,-v*u,0,0,0,l,u,1,-m*l,-m*u,c,f,1,0,0,0,-b*c,-b*f,0,0,0,c,f,1,-y*c,-y*f,p,h,1,0,0,0,-_*p,-_*h,0,0,0,p,h,1,-x*p,-x*h,d,g,1,0,0,0,-w*d,-w*g,0,0,0,d,g,1,-E*d,-E*g],8);if(!S.length)return[];var M=Wt(S,[v,m,b,y,_,x,w,E],8);return M[8]=1,Bt(M,3,4)}At.VERSION="2.1.5";var re=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function ie(i){var a,o="rCS"+function(t){return re(t).toString(36)}(i),s=0;return{className:o,inject:function(t){var e,n=function(t){if(t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(t),r=0===s;return(n||r)&&(e=function(n,t,e){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerHTML=t.replace(/([^}{]*){/gm,function(t,e){return A(e).map(function(t){return-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+n):"."+n+" "+t}).join(", ")+"{"}),(e||document.head||document.body).appendChild(r),r}(o,i,n)),r&&(a=e),n||++s,{destroy:function(){n?(t.removeChild(e),e=null):(0<s&&--s,0===s&&a&&(a.parentNode.removeChild(a),a=null))}}}}}var ae=function(t,e){return(ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var oe=function(){return(oe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var se=function(){return(se=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function le(t,e,n,r){var i=ge(t),a=ge(e),o=ge(r);return ce(ve(r[0],me(i,o)),ve(r[0],me(a,o)),n[0])}function ue(t){return t.touches?he(t.touches):[de(t)]}function ce(t,e,n){var r=t.clientX,i=t.clientY;return{clientX:r,clientY:i,deltaX:r-e.clientX,deltaY:i-e.clientY,distX:r-n.clientX,distY:i-n.clientY}}function fe(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function pe(t,n,r){return t.map(function(t,e){return ce(t,n[e],r[e])})}function he(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(de(t[r]));return n}function de(t){return{clientX:t.clientX,clientY:t.clientY}}function ge(t){return{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function ve(t,e){return{clientX:t.clientX+e.clientX,clientY:t.clientY+e.clientY}}function me(t,e){return{clientX:t.clientX-e.clientX,clientY:t.clientY-e.clientY}}var be=function(){function t(t,e){var s=this;void 0===e&&(e={}),this.el=t,this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.onDragStart=function(t){if(s.flag||!1!==t.cancelable){if(function(t){return t.touches&&2<=t.touches.length}(t)){if(!s.flag&&t.touches.length!==t.changedTouches.length)return;s.pinchFlag||s.onPinchStart(t)}if(!s.flag){var e=s.startClients[0]?s.startClients:ue(t);s.customDist=[0,0],s.flag=!0,s.isDrag=!1,s.startClients=e,s.prevClients=e,s.datas={};var n=ce(e[s.movement=0],s.prevClients[0],s.startClients[0]),r=s.options,i=r.dragstart,a=r.preventRightClick,o=r.preventDefault;(a&&3===t.which||!1===(i&&i(se({datas:s.datas,inputEvent:t},n))))&&(s.startClients=[],s.prevClients=[],s.flag=!1),s.flag&&o&&t.preventDefault()}}},this.onDrag=function(t,e){if(s.flag){var n=ue(t);s.pinchFlag&&s.onPinch(t,n);var r=s.move([0,0],t,n);if(r&&(r.deltaX||r.deltaY)){var i=s.options.drag;i&&i(se({},r,{isScroll:!!e,inputEvent:t}))}}},this.onDragEnd=function(t){if(s.flag){s.pinchFlag&&s.onPinchEnd(t),s.flag=!1;var e=s.options.dragend,n=s.prevClients,r=s.startClients,i=s.pinchFlag?le(n,n,r,s.startPinchClients):ce(n[0],n[0],r[0]);s.startClients=[],s.prevClients=[],e&&e(se({datas:s.datas,isDrag:s.isDrag,inputEvent:t},i))}},this.options=se({container:t,preventRightClick:!0,preventDefault:!0,pinchThreshold:0,events:["touch","mouse"]},e);var n=this.options,r=n.container,i=n.events;if(this.isTouch=-1<i.indexOf("touch"),this.isMouse=-1<i.indexOf("mouse"),this.customDist=[0,0],this.isMouse&&(I(t,"mousedown",this.onDragStart),I(r,"mousemove",this.onDrag),I(r,"mouseup",this.onDragEnd)),this.isTouch){var a={passive:!1};I(t,"touchstart",this.onDragStart,a),I(r,"touchmove",this.onDrag,a),I(r,"touchend",this.onDragEnd,a)}}var e=t.prototype;return e.isDragging=function(){return this.isDrag},e.isFlag=function(){return this.flag},e.isPinching=function(){return this.isPinch},e.scrollBy=function(e,n,t,r){void 0===r&&(r=!0),this.flag&&(this.startClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),this.prevClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),r&&this.onDrag(t,!0))},e.move=function(t,e,n){var r=t[0],i=t[1];void 0===n&&(n=this.prevClients);var a=this.customDist,o=this.prevClients,s=this.startClients,l=this.pinchFlag?le(n,o,s,this.startPinchClients):ce(n[0],o[0],s[0]);a[0]+=r,a[1]+=i,l.deltaX+=r,l.deltaY+=i;var u=l.deltaX,c=l.deltaY;return l.distX+=a[0],l.distY+=a[1],this.movement+=Math.sqrt(u*u+c*c),this.prevClients=n,this.isDrag=!0,se({datas:this.datas},l,{isScroll:!1,inputEvent:e})},e.onPinchStart=function(t){var e,n,r=this.options,i=r.pinchstart,a=r.pinchThreshold;if(!(this.isDrag&&this.movement>a)){var o=he(t.changedTouches);if(this.pinchFlag=!0,(e=this.startClients).push.apply(e,o),(n=this.prevClients).push.apply(n,o),this.startDistance=fe(this.prevClients),this.startPinchClients=this.prevClients.slice(),i){var s=this.prevClients,l=ge(s),u=ce(l,l,l);i(se({datas:this.datas,touches:pe(s,s,s)},u,{inputEvent:t}))}}},e.onPinch=function(t,e){if(this.flag&&this.pinchFlag){this.isPinch=!0;var n=this.options.pinch;if(n){var r=this.prevClients,i=this.startClients,a=ce(ge(e),ge(r),ge(i)),o=fe(e);n(se({datas:this.datas,touches:pe(e,r,i),scale:o/this.startDistance,distance:o},a,{inputEvent:t}))}}},e.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var r=this.prevClients,i=this.startClients,a=ce(ge(r),ge(r),ge(i));n(se({datas:this.datas,isPinch:e,touches:pe(r,r,i)},a,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},e.unset=function(){var t=this.el,e=this.options.container;this.isMouse&&(B(t,"mousedown",this.onDragStart),B(e,"mousemove",this.onDrag),B(e,"mouseup",this.onDragEnd)),this.isTouch&&(B(t,"touchstart",this.onDragStart),B(e,"touchmove",this.onDrag),B(e,"touchend",this.onDragEnd))},t}(),ye=function(t,e){return(ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function _e(t){var e=t.container;return[e.scrollLeft,e.scrollTop]}var xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startRect=null,t.startPos=[],t.prevTime=0,t.timer=0,t}!function(t,e){function n(){this.constructor=t}ye(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e);var n=t.prototype;return n.dragStart=function(t,e){var n=e.container.getBoundingClientRect(),r=n.top,i=n.left,a=n.width,o=n.height;this.startPos=[t.clientX,t.clientY],this.startRect={top:r,left:i,width:a,height:o}},n.drag=function(t,e){var n=this,r=t.clientX,i=t.clientY,a=e.container,o=e.threshold,s=void 0===o?0:o,l=e.throttleTime,u=void 0===l?0:l,c=e.getScrollPosition,f=void 0===c?_e:c,p=this.startRect,h=this.startPos,d=Date.now?Date.now():(new Date).getTime(),g=Math.max(u+this.prevTime-d,0),v=[0,0];if(p.top>i-s?(h[1]>p.top||i<h[1])&&(v[1]=-1):p.top+p.height<i+s&&(h[1]<p.top+p.height||i>h[1])&&(v[1]=1),p.left>r-s?(h[0]>p.left||r<h[0])&&(v[0]=-1):p.left+p.width<r+s&&(h[0]<p.left+p.width||r>h[0])&&(v[0]=1),clearTimeout(this.timer),!v[0]&&!v[1])return!1;if(0<g)return this.timer=window.setTimeout(function(){n.drag(t,e)},g),!1;this.prevTime=d;var m=f({container:a,direction:v});this.trigger("scroll",{container:a,direction:v,inputEvent:t});var b=f({container:a,direction:v}),y=b[0]-m[0],_=b[1]-m[1];return!(!y&&!_)&&(this.trigger("move",{offsetX:v[0]?y:0,offsetY:v[1]?_:0,inputEvent:t}),u&&(this.timer=window.setTimeout(function(){n.drag(t,e)},u)),!0)},n.dragEnd=function(){clearTimeout(this.timer)},t}(t),we=function(t,e){return(we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Ee,Se="function"==typeof Map?void 0:(Ee=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++Ee)}),Me=function(e){function t(t){return void 0===t&&(t=[]),e.call(this,t,Se)||this}return function(t,e){function n(){this.constructor=t}we(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t}(c),Ce=function(t,e){return(Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function De(t,e){function n(){this.constructor=t}Ce(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Oe=function(){return(Oe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Pe(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*t+'px" height="'+32*t+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+e+'deg);transform-origin: 16px 16px"></path></svg>'}var Re,ke=At(),ze=-1<ke.os.name.indexOf("ios")||-1<ke.browser.name.indexOf("safari"),Ge="moveable-",Ae=(Re=Ge,("\n{\n\tposition: fixed;\n\twidth: 0;\n\theight: 0;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 3000;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n\tbackground: #4af;\n\tmargin-top: -7px;\n    margin-left: -7px;\n    z-index: 10;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tbackground: #4af;\n\ttransform-origin: 0px 0.5px;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n}\n.line.dashed:before {\n    position: absolute;\n    content: attr(data-size);\n    color: #4af;\n    font-size: 12px;\n    font-weight: bold;\n}\n.line.dashed.horizontal:before {\n    left: 50%;\n    transform: translateX(-50%);\n    bottom: 5px;\n}\n.line.dashed.vertical:before {\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.line.rotation-line {\n\theight: 40px;\n\twidth: 1px;\n    transform-origin: 0.5px 39.5px;\n    top: -40px;\n}\n.line.rotation-line .control {\n\tborder-color: #4af;\n\tbackground:#fff;\n\tcursor: alias;\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n}\n.line.horizontal.bold {\n    height: 2px;\n}\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n\tmargin-left: -6px;\n\tpointer-events: none;\n}\n"+[0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return'\n.direction[data-rotation="'+t+'"] {\n\t'+function(t){var e=Pe(1,t),n=Pe(2,t),r=45*Math.round(t/45)%180,i=135==r?"nwse-resize":45==r?"nesw-resize":90==r?"ew-resize":"ns-resize";return"cursor:"+i+";cursor: url('"+e+"') 16 16, "+i+";cursor: -webkit-image-set(url('"+e+"') 1x, url('"+n+"') 2x) 16 16, "+i+";"}(t)+"\n}\n"}).join("\n")+"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n"+(ze?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n").replace(/([^}{]*){/gm,function(t,e){return e.replace(/\.([^{,\s\d.]+)/g,"."+Re+"$1")+"{"})),Ne=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Te=1e-7,je=Math.pow(10,10),Xe=-je,Ye={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},Fe={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135};function Ie(t,e){return[t[0]*e[0],t[1]*e[1]]}function Be(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(t){return t.split(" ").map(function(t){return t?""+e+t:""}).join(" ")}).join(" ")}.apply(void 0,[Ge].concat(t))}function Le(){return Qt(3)}function We(t,e,n){return Lt(e,ee(n,e),t,ee(n.map(function(t){return-t}),e))}function qe(a){return He(_n(a,":before")).map(function(t,e){var n=N(t),r=n.value,i=n.unit;return r*function(t,e,n){return"%"!==e?1:t.ownerSVGElement.viewBox.baseVal[n?"width":"height"]/100}(a,i,0===e)})}function He(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function Ue(t,e,n){for(var r=document.body,i=!t||n?t:t.parentElement,a=!1,o="relative";i&&i!==r;){e===i&&(a=!0);var s=_n(i),l=s.transform;if("static"!==(o=s.position)||l&&"none"!==l)break;i=i.parentElement,o="relative"}return{isStatic:"static"===o,isEnd:a||!i||i===r,offsetParent:i||r}}function Ke(t,e,n,r){var i,a,o,s,l,u=t,c=[],f="svg"!==u.tagName.toLowerCase()&&"ownerSVGElement"in u,p=e||document.body,h=!1,d=!1,g=3,v=Ue(e,e,!0).offsetParent;for(n&&(e=t.parentElement);u&&!h;){var m=_n(u),b=u.tagName.toLowerCase(),y=m.position,_="fixed"===y,x=m.transform,w=6===(s=(l=x)&&"none"!==l?W(l)?l:q(l).value.split(/s*,\s*/g).map(function(t){return parseFloat(t)}):[1,0,0,1,0,0]).length?[s[0],s[2],s[4],s[1],s[3],s[5],0,0,1]:Yt(s);if(!d&&16===w.length){d=!0,g=4;for(var E=c.length,S=0;S<E;++S)c[S]=Bt(c[S],3,4)}d&&9===w.length&&(w=Bt(w,3,4));var M=u.offsetLeft,C=u.offsetTop;if(_){var D=(e||document.documentElement).getBoundingClientRect();M-=D.left,C-=D.top}var O=L(M),P=O,R=void 0;P&&"svg"!==b?(R=ze?qe(u):He(m).map(function(t){return parseFloat(t)}),P=!1,"g"===b?C=M=0:(M=(i=$e(u,R))[0],C=i[1],R[0]=i[2],R[1]=i[3])):R=He(m).map(function(t){return parseFloat(t)}),"svg"===b&&o&&c.push(Ve(u,g),Qt(g));var k=Ue(u,e),z=k.offsetParent,G=k.isEnd,A=k.isStatic;ze&&!P&&!O&&A&&"relative"===y&&(M-=z.offsetLeft,C-=z.offsetTop,h=h||G);var N=0,T=0;if(P||v===z||(N=z.clientLeft,T=z.clientTop),c.push(We(w,g,R),ee([P?u:M-u.scrollLeft+N,P?R:C-u.scrollTop+T],g)),o=o||w,a=a||R,h||_)break;u=z,h=G}var j=n?Bt(n,r,g):Qt(g),X=n?Bt(n,r,g):Qt(g),Y=Qt(g),F=c.length,I=Ue(p,p,!0).offsetParent;c.reverse(),c.forEach(function(t,e){var n;F-2===e&&(X=j.slice()),F-1===e&&(Y=j.slice()),W(t[g-1])&&(n=function(t,e,n,r,i,a){var o,s=on(t),l=s[0],u=s[1],c=e.getBoundingClientRect(),f=t.getBoundingClientRect(),p=f.left-c.left+e.scrollLeft,h=f.top-c.top+e.scrollTop,d=f.width,g=f.height,v=Lt(n,i,a),m=tn(v,l,u,n),b=m.left,y=m.top,_=m.width,x=m.height,w=Ze(v,r,n),E=Kt(w,[b,y]),S=[p+E[0]*d/_,h+E[1]*g/x],M=[0,0],C=0;for(;++C<10;){var D=Xt(i,n);o=Kt(Ze(D,S,n),Ze(D,w,n)),M[0]=o[0],M[1]=o[1];var O=tn(Lt(n,i,ee(M,n),a),l,u,n),P=O.left,R=O.top,k=P-p,z=R-h;if(Math.abs(k)<2&&Math.abs(z)<2)break;S[0]-=k,S[1]-=z}return M.map(function(t){return Math.round(t)})}(t[g-1],I,g,t[2*g-1],j,c[e+1]),t[g-1]=n[0],t[2*g-1]=n[1]),j=Wt(j,t,g)});var B=(!f&&d?"matrix3d":"matrix")+"("+Zt(f&&16===o.length?Bt(o,4,3):o)+")";return[X,Y,j,o,B,a,d]}function Ve(t,e){var n=t.clientWidth,r=t.clientHeight,i=t.viewBox.baseVal,a=i.width||n,o=i.height||r,s=n/a,l=r/o,u=t.preserveAspectRatio.baseVal,c=u.align,f=u.meetOrSlice,p=[0,0],h=[s,l],d=[0,0];if(1!==c){var g=(c-2)%3,v=Math.floor((c-2)/3);p[0]=a*g/2,p[1]=o*v/2;var m=2===f?Math.max(l,s):Math.min(s,l);h[0]=m,h[1]=m,d[0]=(n-a)/2*g,d[1]=(r-o)/2*v}var b=te(h,e);return b[e-1]=d[0],b[2*e-1]=d[1],We(b,e,p)}function $e(t,e){if(!t.getBBox)return[0,0];var n=t.getBBox(),r=t.ownerSVGElement.viewBox.baseVal,i=n.x-r.x,a=n.y-r.y;return[i,a,e[0]-i,e[1]-a]}function Ze(t,e,n){return Vt(t,It(e,n),n)}function Je(t,e,n,r){return[Ze(t,[0,0],r),Ze(t,[e,0],r),Ze(t,[0,n],r),Ze(t,[e,n],r)]}function Qe(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]}),r=Math.min.apply(Math,e),i=Math.min.apply(Math,n),a=Math.max.apply(Math,e),o=Math.max.apply(Math,n);return{left:r,top:i,right:a,bottom:o,width:a-r,height:o-i}}function tn(t,e,n,r){return Qe(Je(t,e,n,r))}function en(t,e,n,r){var i=16===t.length?4:3,a=Je(t,n,r,i),o=a[0],s=o[0],l=o[1],u=a[1],c=u[0],f=u[1],p=a[2],h=p[0],d=p[1],g=a[3],v=g[0],m=g[1],b=Ze(t,e,i),y=b[0],_=b[1],x=Math.min(s,c,h,v),w=Math.min(l,f,d,m),E=Math.max(s,c,h,v),S=Math.max(l,f,d,m);y=y-x||0,_=_-w||0;var M=[((s=s-x||0)+(c=c-x||0)+(h=h-x||0)+(v=v-x||0))/4,((l=l-w||0)+(f=f-w||0)+(d=d-w||0)+(m=m-w||0))/4],C=Ft(M,[s,l]),D=Ft(M,[c,f]);return[[x,w,E,S],[y,_],[s,l],[c,f],[h,d],[v,m],C<D&&D-C<Math.PI||D<C&&D-C<-Math.PI?1:-1]}function nn(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function rn(t,e,n){void 0===n&&(n=Ft(t,e));var r=function(t,e){return nn([e[0]-t[0],e[1]-t[1]])}(t,e);return{transform:"translate("+t[0]+"px, "+t[1]+"px) rotate("+n+"rad)",width:r+"px"}}function an(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.length;return{transform:"translate("+e.reduce(function(t,e){return t+e[0]},0)/r+"px, "+e.reduce(function(t,e){return t+e[1]},0)/r+"px) rotate("+t+"rad)"}}function on(t,e,n,r){void 0===e&&(e=window.getComputedStyle(t)),void 0===r&&(r=n||"border-box"===e.boxSizing);var i=t.offsetWidth,a=t.offsetHeight,o=!L(i);if((n||r)&&o)return[i,a];if(i=t.clientWidth,a=t.clientHeight,o||i||a)return n||r?[i+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),a+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)]:[i-(parseFloat(e.paddingLeft)||0)-(parseFloat(e.paddingRight)||0),a-(parseFloat(e.paddingTop)||0)-(parseFloat(e.paddingBottom)||0)];var s=t.getBBox();return[s.width,s.height]}function sn(t,e){return Ft(0<e?t[0]:t[1],0<e?t[1]:t[0])}function ln(t,e,n,r){var i,a,o,s,l,u=0,c=0,f=0,p=0,h=[0,0],d=[0,0],g=[0,0],v=[0,0],m=[0,0],b=Le(),y=Le(),_=Le(),x=Le(),w=0,E=0,S=[0,0],M=1,C=1,D=!1,O="",P=[0,0],R={left:0,right:0,top:0,width:0,height:0,bottom:0},k={left:0,right:0,top:0,width:0,height:0,bottom:0},z=0,G=r?r.beforeMatrix:void 0,A=r?r.is3d?4:3:void 0;if(t){if(r)w=r.width,E=r.height;else{var N=_n(t);w=t.offsetWidth,E=t.offsetHeight,L(w)&&(w=(i=on(t,N,!0))[0],E=i[1])}y=(a=Ke(t,e,G,A))[0],b=a[1],_=a[2],x=a[3],O=a[4],S=a[5],D=a[6],u=(s=(o=en(_,S,w,E))[0])[0],c=s[1],f=s[2],p=s[3],h=o[1],d=o[2],g=o[3],v=o[4],m=o[5],M=o[6];var T;T=(l=en(b,Ut(S,function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e-1;++r)n[r]=t[(r+1)*e-1];return n[e-1]=0,n}(x,D?4:3)),w,E))[0],P=l[1],C=l[6],P=[P[0]+T[0]-u,P[1]+T[1]-c],R=un(t),k=un(Ue(n,n,!0).offsetParent||document.body),z=sn([d,g],M)}return{rotation:z,targetClientRect:R,containerClientRect:k,beforeDirection:C,direction:M,target:t,left:u,top:c,right:f,bottom:p,pos1:d,pos2:g,pos3:v,pos4:m,width:w,height:E,beforeMatrix:y,matrix:_,targetTransform:O,offsetMatrix:b,targetMatrix:x,is3d:D,beforeOrigin:P,origin:h,transformOrigin:S}}function un(t){var e=t.getBoundingClientRect(),n=e.left,r=e.width,i=e.top,a=e.bottom;return{left:n,right:e.right,top:i,bottom:a,width:r,height:e.height}}function cn(t){if(t){var e=t.getAttribute("data-direction");if(e){var n=[0,0];return-1<e.indexOf("w")&&(n[0]=-1),-1<e.indexOf("e")&&(n[0]=1),-1<e.indexOf("n")&&(n[1]=-1),-1<e.indexOf("s")&&(n[1]=1),n}}}function fn(t,e){return[Ut(e,t[0]),Ut(e,t[1]),Ut(e,t[2]),Ut(e,t[3])]}function pn(t){var e=t.left,n=t.top;return fn([t.pos1,t.pos2,t.pos3,t.pos4],[e,n])}function hn(t){return Math.round(t%1==-.5?t-1:t)}function dn(t,e){return e?Math.round(t/e)*e:t}function gn(n,r){return n.forEach(function(t,e){n[e]=dn(n[e],r)}),n}function vn(t,e){t[e]&&(t[e].unset(),t[e]=null)}function mn(t,e,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function bn(t,e,n){var r=e.datas;return r.datas||(r.datas={}),Oe({},n,{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,datas:r.datas})}function yn(t,e,n){return t.triggerEvent(e,n)}function _n(t,e){return window.getComputedStyle(t,e)}function xn(t,n){var r={},i={};return t.filter(function(e){var t=e.name;if(r[t]||!n.some(function(t){return e[t]}))return!1;if(e.ableGroup){if(i[e.ableGroup])return!1;i[e.ableGroup]=!0}return r[t]=!0})}function wn(t,e,n){return t*(e?n:1/n)}function En(t,e,n){return t*(e?1/n:n)}function Sn(t,e){return t===e||null==t&&null==e}function Mn(r,i){var a=[],o={};return r.forEach(function(t,e){var n=i(t,e,r);o[n]||(o[n]=[],a.push(o[n])),o[n].push(t)}),a}function Cn(t){return t.reduce(function(t,e){return t.concat(e)},[])}function Dn(n,t,e,r,i,a){var o="Start"===i;if(o&&-1<r.indexOf("Control")&&n.areaElement===a.inputEvent.target)return!1;var s=""+e+r+i,l=""+e+r+"Condition",u="End"===i,c=-1<i.indexOf("After");o&&n.updateRect(i,!0,!1);var f=-1<r.indexOf("Group"),p=n[t].filter(function(t){return t[s]}),h=p.filter(function(t){var e=o&&t[l];return!(e&&!e(a.inputEvent.target,n))&&t[s](n,a)}),d=h.length;if(o){if(p.length&&!d)return n.state.dragger=null,n.moveables&&n.moveables.forEach(function(t){t.state.dragger=null}),!1;!function(t,e,n){var r=bn(t,n,{isPinch:!!n.isPinch}),i=e?"Group":"";e&&(r.targets=t.props.targets),yn(t,"onRender"+i+"Start",r)}(n,f,a)}else u?function(t,e,n){var r=bn(t,n,{isPinch:!!n.sPinch,isDrag:n.isDrag}),i=e?"Group":"";e&&(r.targets=t.props.targets),yn(t,"onRender"+i+"End",r)}(n,f,a):d&&function(t,e,n){var r=bn(t,n,{isPinch:!!n.isPinch}),i=e?"Group":"";e&&(r.targets=t.props.targets),yn(t,"onRender"+i,r)}(n,f,a);u&&(n.state.dragger=null),!o&&d&&(h.some(function(t){return t.updateRect})&&!f?n.updateRect(i,!1,!1):n.updateRect(i,!0,!1)),(!o&&d||u&&!d)&&n.forceUpdate(),o||u||c||!d||Dn(n,t,e,r,i+"After",a)}function On(r,t,i,a){var o={container:window,pinchThreshold:r.props.pinchThreshold};return["drag","pinch"].forEach(function(n){["Start","","End"].forEach(function(e){o[""+n+e.toLowerCase()]=function(t){return Dn(r,i,n,a,e,t)}})}),new be(t,o)}var Pn,Rn,kn=(Pn="div",Rn=ie(Ae),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function n(){this.constructor=t}ae(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=void 0===e?"":e,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["className"]);return it(Pn,oe({ref:_t(this,"element"),className:n+" "+Rn.className},r))},e.prototype.componentDidMount=function(){this.injectResult=Rn.inject(this.element)},e.prototype.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},e.prototype.getElement=function(){return this.element},e}(ht));function zn(t,e,n,r){var i=Ft(e,n),a=t?dn(i/Math.PI*180,15)%180:-1;return it("div",{key:"line"+r,className:Be("line","direction",t),"data-rotation":a,"data-direction":t,style:rn(e,n,i)})}var Gn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={conatainer:null,target:null,beforeMatrix:Le(),matrix:Le(),targetMatrix:Le(),targetTransform:"",is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,beforeDirection:1,beforeOrigin:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],targetClientRect:{left:0,right:0,top:0,width:0,height:0,bottom:0},containerClientRect:{left:0,right:0,top:0,width:0,height:0,bottom:0},rotation:0},t.targetAbles=[],t.controlAbles=[],t}De(t,e);var n=t.prototype;return n.render=function(){var t=this.props,e=this.props,n=e.edge,r=e.parentPosition,i=e.className,a=e.target;this.checkUpdate();var o=r||{left:0,top:0},s=o.left,l=o.top,u=this.state,c=u.left,f=u.top,p=u.pos1,h=u.pos2,d=u.pos3,g=u.pos4,v=u.target,m=u.direction,b=t.targets,y=(b&&b.length||a)&&v;return it(kn,{ref:_t(this,"controlBox"),className:Be("control-box",-1===m?"reverse":"")+" "+i,style:{position:"absolute",display:y?"block":"none",transform:"translate("+(c-s)+"px, "+(f-l)+"px) translateZ(50px)"}},this.renderAbles(),zn(n?"n":"",p,h,0),zn(n?"e":"",h,g,1),zn(n?"w":"",p,d,2),zn(n?"s":"",d,g,3))},n.componentDidMount=function(){this.controlBox.getElement();var t=this.props,e=t.parentMoveable,n=t.container;this.updateEvent(t),n||e||this.updateRect("End",!1,!0)},n.componentDidUpdate=function(t){this.updateEvent(t)},n.componentWillUnmount=function(){vn(this,"targetDragger"),vn(this,"controlDragger")},n.getContainer=function(){var t=this.props,e=t.parentMoveable;return t.container||e&&e.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(t){return t&&-1<(t.getAttribute("class")||"").indexOf(Ge)},n.dragStart=function(t){this.targetDragger&&this.targetDragger.onDragStart(t)},n.isInside=function(t,e){var n=this.state,r=n.pos1,i=n.pos2,a=n.pos3,o=n.pos4,s=n.target,l=n.targetClientRect;return!!s&&function(t,e,n,r,i){var a=[mn(t,e,n),mn(t,n,i),mn(t,i,e)],o=[mn(t,n,i),mn(t,i,r),mn(t,r,n)];return!!(a.every(function(t){return 0<=t})||a.every(function(t){return t<=0})||o.every(function(t){return 0<=t})||o.every(function(t){return t<=0}))}([t-l.left,e-l.top],r,i,o,a)},n.updateRect=function(t,e,n){void 0===n&&(n=!0);var r=this.props.parentMoveable,i=this.state,a=i.target||this.props.target,o=this.getContainer();this.updateState(ln(a,o,o,e?i:void 0),!r&&n)},n.updateEvent=function(t){var e=this.controlBox.getElement(),n=this.targetAbles.length,r=this.controlAbles.length,i=this.props.target,a=t.target,o=this.props.dragArea,s=t.dragArea,l=!o&&a!==i,u=!n&&this.targetDragger||l||s!==o;u&&(vn(this,"targetDragger"),this.updateState({dragger:null})),r||vn(this,"controlDragger"),i&&n&&!this.targetDragger&&(this.targetDragger=On(this,o?this.areaElement:i,"targetAbles","")),!this.controlDragger&&r&&(this.controlDragger=On(this,e,"controlAbles","Control")),u&&this.unsetAbles()},n.updateTarget=function(t){this.updateRect(t,!0)},n.getRect=function(){var t=this.state,e=pn(this.state),n=e[0],r=e[1],i=e[2],a=e[3],o=Qe(e),s=t.width,l=t.height;return{width:o.width,height:o.height,left:o.left,top:o.top,pos1:n,pos2:r,pos3:i,pos4:a,offsetWidth:s,offsetHeight:l}},n.checkUpdate=function(){var t=this.props,e=t.target,n=t.container,r=t.parentMoveable,i=this.state,a=i.target,o=i.container;(a||e)&&(this.updateAbles(),Sn(a,e)&&Sn(o,n)||(this.updateState({target:e,container:n}),r||!n&&!this.controlBox||this.updateRect("End",!1,!1)))},n.triggerEvent=function(t,e){var n=this.props[t];return n&&n(e)},n.unsetAbles=function(){var e=this;this.targetAbles.filter(function(t){return!!t.unset&&(t.unset(e),!0)}).length&&this.forceUpdate()},n.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props,r=t.filter(function(t){return t&&n[t.name]}),i="drag"+e+"ControlStart",a=xn(r,["drag"+e+"Start","pinch"+e+"Start"]),o=xn(r,[i]);this.targetAbles=a,this.controlAbles=o},n.updateState=function(t,e){if(e)this.setState(t);else{var n=this.state;for(var r in t)n[r]=t[r]}},n.renderAbles=function(){var e=this,n=this.props,t=n.ables.filter(function(t){return t&&n[t.name]}),r={createElement:it};return Cn(xn(t,["render"]).map(function(t){return(0,t.render)(e,r)}))},t.defaultProps={target:null,container:null,origin:!0,edge:!1,parentMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,transformOrigin:"",className:""},t}(dt);function An(t){return Ft([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}var Nn={name:"pinchable",updateRect:!0,props:{pinchable:Boolean,pinchThreshold:Number},pinchStart:function(n,t){var r=t.datas,i=t.clientX,a=t.clientY,e=t.touches,o=t.inputEvent,s=t.targets,l=n.props,u=l.pinchable,c=l.ables;if(!u)return!1;var f="onPinch"+(s?"Group":"")+"Start",p="drag"+(s?"Group":"")+"ControlStart",h=(!0===u?n.controlAbles:c.filter(function(t){return-1<u.indexOf(t.name)})).filter(function(t){return t.canPinch&&t[p]}),d=bn(n,t,{});s&&(d.targets=s);var g=yn(n,f,d);r.isPinch=!1!==g,r.ables=h;var v=r.isPinch;if(!v)return!1;var m=An(e);return h.forEach(function(t){r[t.name+"Datas"]={};var e={datas:r[t.name+"Datas"],clientX:i,clientY:a,inputEvent:o,parentRotate:m,pinchFlag:!0};t[p](n,e)}),n.state.snapRenderInfo={direction:[0,0]},v},pinch:function(e,t){var n=t.datas,r=t.clientX,i=t.clientY,a=t.scale,o=t.distance,s=t.touches,l=t.inputEvent,u=t.targets;if(n.isPinch){var c=An(s),f=o*(1-1/a),p=bn(e,t,{});u&&(p.targets=u),yn(e,"onPinch"+(u?"Group":""),p);var h=n.ables,d="drag"+(u?"Group":"")+"Control";return h.forEach(function(t){t[d](e,{clientX:r,clientY:i,datas:n[t.name+"Datas"],inputEvent:l,parentDistance:f,parentRotate:c,pinchFlag:!0})}),p}},pinchEnd:function(e,t){var n=t.datas,r=t.clientX,i=t.clientY,a=t.isPinch,o=t.inputEvent,s=t.targets;if(n.isPinch){var l="onPinch"+(s?"Group":"")+"End",u=bn(e,t,{isDrag:a});s&&(u.targets=s),yn(e,l,u);var c=n.ables,f="drag"+(s?"Group":"")+"ControlEnd";return c.forEach(function(t){t[f](e,{clientX:r,clientY:i,isDrag:a,datas:n[t.name+"Datas"],inputEvent:o,pinchFlag:!0})}),a}},pinchGroupStart:function(t,e){return this.pinchStart(t,Oe({},e,{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,Oe({},e,{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,Oe({},e,{targets:t.props.targets}))}};function Tn(t,a,o,e,s,l){var n=a.name,u=e[n]||(e[n]=[]),c=!!o.match(/End$/g);return t.moveables.map(function(t,e){var n=u[e]||(u[e]={}),r=function(t){return typeof t===m}(s)?s(t,n):s,i=a[o](t,Oe({},r,{datas:n,parentFlag:!0}));return i&&l&&l(t,n,i,e),c&&(t.state.dragger=null),i})}function jn(t){return X(t,Be("direction"))}function Xn(t,e){var n=e.datas,r=t.state,i=r.matrix,a=r.beforeMatrix,o=r.is3d,s=r.left,l=r.top,u=r.origin,c=r.offsetMatrix,f=r.targetMatrix,p=r.transformOrigin,h=o?4:3;n.is3d=o,n.matrix=i,n.targetMatrix=f,n.beforeMatrix=a,n.offsetMatrix=c,n.transformOrigin=p,n.inverseMatrix=Xt(i,h),n.inverseBeforeMatrix=Xt(a,h),n.absoluteOrigin=It(Ut([s,l],u),h),n.startDragBeforeDist=Vt(n.inverseBeforeMatrix,n.absoluteOrigin,h),n.startDragDist=Vt(n.inverseMatrix,n.absoluteOrigin,h)}function Yn(t,e){var n=t.datas,r=t.distX,i=t.distY,a=n.inverseBeforeMatrix,o=n.inverseMatrix,s=n.is3d,l=n.startDragBeforeDist,u=n.startDragDist,c=s?4:3;return Kt(Vt(e?a:o,Ut(n.absoluteOrigin,[r,i]),c),e?l:u)}function Fn(t){var e=[];return 0<=t[1]&&(0<=t[0]&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(0<=t[0]&&e.push(1),t[0]<=0&&e.push(0)),e}function In(e,t){return Fn(t).map(function(t){return e[t]})}function Bn(t,e){var n=In(t,e);return[Ht.apply(void 0,n.map(function(t){return t[0]})),Ht.apply(void 0,n.map(function(t){return t[1]}))]}function Ln(t,e){var n=t[0],r=t[1],i=t[2];return Bn([t[3],i,r,n],e)}function Wn(t,e){return Ln([t[0],t[1],t[2],t[3]],e)}function qn(t,e,n,r,i,a){var o=Ln(Je(e,n,r,i),a);return[t[0]-o[0],t[1]-o[1]]}function Hn(t,e,n,r){return Wt(t,We(e,r,n),r)}function Un(t,e){var n=t.transformOrigin,r=t.offsetMatrix,i=t.is3d?4:3;return Hn(r,Wt(t.targetMatrix,te(e,i),i),n,i)}function Kn(t,e,n,r,i,a){var o=t.props.groupable,s=t.state,l=s.transformOrigin,u=s.targetMatrix,c=s.offsetMatrix,f=s.is3d,p=s.width,h=s.height,d=s.left,g=s.top,v=f?4:3,m=o?d:0,b=o?g:0;return Kt(qn(i,Hn(c,u,function(t,s,l,u,c,f){return void 0===u&&(u=s),void 0===c&&(c=l),void 0===f&&(f=[0,0]),t?t.map(function(t,e){var n=N(t),r=n.value,i=n.unit,a=e?c:u,o=e?l:s;return"%"===t||isNaN(r)?o*(a?f[e]/a:0):"%"!==i?r:o*r/100}):f}(a,e,n,p,h,l),v),e,n,v,r),[m,b])}function Vn(t,e){return Wn(pn(t.state),e)}function $n(t){var e=t.state;if(!e.guidelines||!e.guidelines.length){var n=t.props,r=n.horizontalGuidelines,i=void 0===r?[]:r,a=n.verticalGuidelines,o=void 0===a?[]:a,s=n.elementGuidelines,l=void 0===s?[]:s,u=n.bounds,c=n.snapCenter;if(u||i.length||o.length||l.length){var f=e.containerClientRect,p=f.top,h=f.left,d=e.targetClientRect,g=d.top,v=d.left,m=pn(e),b=Math.min.apply(Math,m.map(function(t){return t[0]})),y=Math.min.apply(Math,m.map(function(t){return t[1]})),_=hn(b-(v-h)),x=hn(y-(g-p)),w=[];l.forEach(function(t){var e=t.getBoundingClientRect(),n=e.top,r=e.left,i=e.width,a=e.height,o=n-p,s=o+a,l=r-h,u=l+i;w.push({type:"vertical",element:t,pos:[dn(l+_,.1),o],size:a}),w.push({type:"vertical",element:t,pos:[dn(u+_,.1),o],size:a}),w.push({type:"horizontal",element:t,pos:[l,dn(o+x,.1)],size:i}),w.push({type:"horizontal",element:t,pos:[l,dn(s+x,.1)],size:i}),c&&(w.push({type:"vertical",element:t,pos:[dn((l+u)/2+_,.1),o],size:a,center:!0}),w.push({type:"horizontal",element:t,pos:[l,dn((o+s)/2+x,.1)],size:i,center:!0}))}),e.guidelines=w,e.enableSnap=!0}}}function Zn(t,e,n,r){return{vertical:Jn(t,e,!0,r),horizontal:Jn(t,n,!1,r)}}function Jn(t,e,n,r){void 0===r&&(r=0);var i=t.props.bounds;if(i){var a=i[n?"left":"top"],o=i[n?"right":"bottom"],s=Math.min.apply(Math,e),l=Math.max.apply(Math,e);if(!L(a)&&s<a+r)return{isBound:!0,offset:s-a,pos:a};if(!L(o)&&o-r<l)return{isBound:!0,offset:l-o,pos:o}}return{isBound:!1,offset:0,pos:0}}function Qn(e,o,t,s,l,u){if(!e||!e.length)return{isSnap:!1,posInfos:[]};var i="vertical"===o?0:1,n=t.map(function(r){var t=e.map(function(t){var e=t.pos,n=r-e[i];return{offset:n,dist:Math.abs(n),guideline:t}}).filter(function(t){var e=t.guideline,n=t.dist,r=e.type,i=e.center,a=e.element;return!(!u&&a||!l&&i||r!==o||s<n)}).sort(function(t,e){return t.dist-e.dist});return{pos:r,guidelineInfos:t}}).filter(function(t){return 0<t.guidelineInfos.length}).sort(function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist});return{isSnap:0<n.length,posInfos:n}}function tr(t,e){var n=t.props,r=n.snappable,i=n.bounds,a=n.verticalGuidelines,o=n.horizontalGuidelines,s=t.state,l=s.guidelines,u=s.enableSnap;return!(!r||!u||e&&!0!==r&&r.indexOf(e)<0)&&!!(i||l&&l.length||a&&a.length||o&&o.length)}function er(t,e,n,r,i){var a=t.state,o=a.guidelines,s=a.containerClientRect,l=s.height,u=s.width,c=t.props,f=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,r=0;r<n;++r){var i=t[r];if(!L(i))return i}return t[n]}(i,c.snapThreshold,5),p=c.snapElement,h=void 0===p||p,d=c.snapHorizontal,g=void 0===d||d,v=c.snapVertical,m=void 0===v||v,b=c.verticalGuidelines,y=c.horizontalGuidelines,_=o.slice();return g&&y&&y.forEach(function(t){_.push({type:"horizontal",pos:[0,dn(t,.1)],size:u})}),m&&b&&b.forEach(function(t){_.push({type:"vertical",pos:[dn(t,.1),0],size:l})}),{vertical:Qn(_,"vertical",e,f,r,h),horizontal:Qn(_,"horizontal",n,f,r,h)}}function nr(t,e,n,r){var i=t.props.snapCenter&&n,a=["left","right"],o=["top","bottom"];return i&&(a.push("center"),o.push("middle")),a=a.filter(function(t){return t in e}),o=o.filter(function(t){return t in e}),er(t,a.map(function(t){return e[t]}),o.map(function(t){return e[t]}),i,r)}function rr(t,e){var n=Zn(t,[e[0]],[e[1]]),r=n.horizontal,i=r.isBound,a=r.offset,o=n.vertical,s=o.isBound,l=o.offset;if(i||s){var u=void 0,c=(u=i&&s?Math.abs(a)<Math.abs(l):s)?l:a;return{isVertical:u,offset:c,dist:Math.abs(c)}}}function ir(t,e,n,r,i,a){var o=function(t,e,n,r){var i=e[0]-t[0],a=e[1]-t[1];Math.abs(i)<Te&&(i=0);Math.abs(a)<Te&&(a=0);if(!i)return r?void 0:[0,n];if(!a)return r?[n,0]:void 0;var o=a/i,s=t[1]-o*t[0];{if(r){var l=o*(e[0]+n)+s;return[n,l-e[1]]}return[(e[1]+n-s)/o-e[0],n]}}(t,e,-n,r);if(!o)return NaN;var s=Yn({datas:a,distX:o[0],distY:o[1]}),l=s[0],u=s[1];return i?u:l}function ar(t,e,n,r,i,a){var o=Je(t,e,n,a?4:3);return fn(o,Kt(r,Ln(o,i)))}function or(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],r=n.guidelineInfos[0],i=r.offset,a=r.dist,o=r.guideline;return{isSnap:e,offset:i,dist:a,pos:n.pos,guideline:o}}function sr(r,t,i,a,o){var n,s=0,l=-1;if(t.map(function(t){return rr(r,t)}).forEach(function(t,e){t&&(!n||n.dist<t.dist)&&(n=t,l=e)}),n){var e=ir(i[l],t[l],n.offset,n.isVertical,a,o);isNaN(e)||(s=e)}else t.some(function(t,e){var n=function(t,e,n,r,i){var a,o=er(t,[e[0]],[e[1]]),s=o.horizontal,l=o.vertical,u=Math.abs(n[1]-e[1])<Te,c=Math.abs(n[0]-e[0])<Te,f=or(s),p=f.isSnap,h=f.dist,d=f.offset,g=or(l),v=g.isSnap,m=g.dist,b=g.offset;return p||v?ir(n,e,(a=p&&v?0===h&&u||(0!==b||!c)&&m<h:v)?b:d,a,r,i):NaN}(r,t,i[e],a,o);return!isNaN(n)&&(s=n,!0)});return s}function lr(t,e,n,r,i,a,o,s){var l=Ln(pn(t.state),a),u=ar(e,n,r,l,i,s);return i[0]&&i[1]?function(t,e,n,r,i,a,o,s,l){var u,c=In(e,n),f=[n[0],-1*n[1]],p=[-1*n[0],n[1]],h=Bn(e,f),d=Bn(e,p),g=Zn(t,[c[0][0]],[c[0][1]]),v=g.horizontal,m=v.isBound,b=v.offset,y=g.vertical,_=y.isBound,x=y.offset,w=0,E=0,S=rr(t,h),M=rr(t,d),C=S&&S.dist>Math.abs(x),D=M&&M.dist>Math.abs(b);if(C||D)if(C){var O=ir(Bn(e,[-1*f[0],f[1]]),h,S.offset,S.isVertical,!1,r);isNaN(O)||(w=O),E=sr(t,[Bn(P=ar(i,a+n[0]*w,o+n[1]*E,s,n,l),n)],[Bn(P,f)],!0,r)}else{var P;O=ir(Bn(e,[-1*p[0],p[1]]),h,M.offset,M.isVertical,!0,r);isNaN(O)||(E=O),w=sr(t,[Bn(P=ar(i,a+n[0]*w,o+n[1]*E,s,n,l),n)],[Bn(P,p)],!1,r)}else{var R=er(t,[c[0][0]],[c[0][1]]),k=R.horizontal,z=R.vertical,G=or(k).offset,A=or(z).offset;w=(u=Yn({datas:r,distX:-(_?x:A),distY:-(m?b:G)}))[0],E=u[1]}return[n[0]*w,n[1]*E]}(t,u,i,o,e,n,r,l,s):function(t,e,n,r){var i,a,o=0!==n[0]?0:1,s=0<o,l=e.slice().reverse();t.props.keepRatio?(i=[Bn(e,n)],a=[Bn(l,n)]):(i=In(e,n),a=In(l,n),i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]),a.reverse(),a.push([(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]));var u=sr(t,i,a,s,r),c=[0,0];return c[o]=n[o]*u,c}(t,u,i,o)}function ur(t,e,n){var r=t[0],i=t[1],a=t[2],o=t[3];return[$t(r,n),$t(i,n),$t(a,n),$t(o,n)].some(function(t){return t[0]<e.left&&Math.abs(t[0]-e.left)>Te||t[0]>e.right&&Math.abs(t[0]-e.right)>Te||t[1]<e.top&&Math.abs(t[1]-e.top)>Te||t[1]>e.bottom&&Math.abs(t[1]-e.bottom)>Te})}function cr(t,e,n,r){var i=t.props.bounds;if(!i||!tr(t,"resizable"))return r;var a=i.left,o=void 0===a?-1/0:a,s=i.top,l=void 0===s?-1/0:s,u=i.right,c=void 0===u?1/0:u,f=i.bottom,p=void 0===f?1/0:f,h=e.pos1,d=e.pos2,g=e.pos3,v=e.pos4,m=r*Math.PI/180,b=o-n[0],y=c-n[0],_=l-n[1],x=p-n[1],w={left:b,top:_,right:y,bottom:x},E=Kt(h,n),S=Kt(d,n),M=Kt(g,n),C=Kt(v,n),D=[E,S,M,C],O=[$t(E,m),$t(S,m),$t(M,m),$t(C,m)];if(!ur(O,w,0))return r;var P=[];O.forEach(function(t){t[0]<b&&P.push([t,b,0]),t[0]>y&&P.push([t,y,0]),t[1]<_&&P.push([t,_,1]),t[1]>x&&P.push([t,x,1])});for(var R=P.length,k=function(t){var e=P[t],n=e[0],r=e[1],i=e[2],a=Ft([0,0],n),o=function(n,e,r){var t=nn(n),i=Math.sqrt(t*t-e*e);return[i,-i].sort(function(t,e){return Math.abs(t-n[r?0:1])-Math.abs(e-n[r?0:1])}).map(function(t){return Ft([0,0],r?[t,e]:[e,t])})}(n,r,i).filter(function(t){return!ur(D,w,m+t-a)});if(o.length)return{value:dn(180*(m+o[0]-a)/Math.PI,Te)}},z=0;z<R;++z){var G=k(z);if("object"==typeof G)return G.value}return r}function fr(t){var n=[];return t.forEach(function(t){t.guidelineInfos.forEach(function(t){var e=t.guideline;-1<n.indexOf(e)||n.push(e)})}),n}function pr(t,e,n,r){var i=t-n,a=i<0?i+e:r;return{size:(i<0?0:i)-a,pos:a}}var hr={name:"snappable",props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object},render:function(t,l){var e=t.state,u=e.top,c=e.left,n=e.pos1,r=e.pos2,i=e.pos3,a=e.pos4,o=e.snapRenderInfo,s=e.targetClientRect,f=e.containerClientRect,p=s.left-f.left,h=s.top-f.top,d=Math.min(n[0],r[0],i[0],a[0]),g=Math.min(n[1],r[1],i[1],a[1]);if(!o||!tr(t,""))return[];var v=t.props.snapThreshold,m=void 0===v?5:v,b=pn(t.state),y=Qe(b),_=y.width,x=y.height,w=y.top,E=y.left,S=y.bottom,M=y.right,C=[],D=[],O=[],P=[],R=[];if(o.direction&&R.push(function(t,e,n){if(n[0]||n[1]){i=void 0;return t.props.keepRatio?i=[Bn(e,n)]:1<(i=In(e,n)).length&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]),er(t,i.map(function(t){return t[0]}),i.map(function(t){return t[1]}),!0,1)}for(var r=[e[0],e[1],e[3],e[2],e[0]],i=[],a=0;a<4;++a)i.push(r[a]),e.push([(r[a][0]+r[a+1][0])/2,(r[a][1]+r[a+1][1])/2]);return er(t,i.map(function(t){return t[0]}),i.map(function(t){return t[1]}),!0,1)}(t,b,o.direction)),o.snap){var k=Qe(b);o.center&&(k.middle=(k.top+k.bottom)/2,k.center=(k.left+k.right)/2),R.push(nr(t,k,!0,1))}R.forEach(function(t){var e=t.vertical.posInfos,n=t.horizontal.posInfos;C.push.apply(C,e.map(function(t){return t.pos})),D.push.apply(D,n.map(function(t){return t.pos})),O.push.apply(O,fr(e)),P.push.apply(P,fr(n))});var z=Zn(t,[E,M],[w,S],1),G=z.vertical,A=G.isBound,N=G.pos,T=z.horizontal,j=T.isBound,X=T.pos;A&&C.indexOf(N)<0&&C.push(N),j&&D.indexOf(X)<0&&D.push(X);var Y=Mn(O.filter(function(t){return t.element}),function(t){var e=t.pos;return Math.min(0,e[1]-h)<0?-e[0]:e[0]}),F=Mn(P.filter(function(t){return t.element}),function(t){var e=t.pos;return Math.min(0,e[0]-p)<0?-e[1]:e[1]});return F.forEach(function(t){t.sort(function(t,e){return pr(t.pos[0],t.size,p,_).size-pr(e.pos[0],t.size,p,_).size})}),Y.forEach(function(t){t.sort(function(t,e){return pr(t.pos[1],t.size,h,x).size-pr(e.pos[1],t.size,h,x).size})}),Cn(F.map(function(t,s){return t.map(function(t,e){var n=t.pos,r=t.size,i=pr(n[0],r,p,_),a=i.pos,o=i.size;return o<m?null:l.createElement("div",{className:Be("line","horizontal","guideline","dashed"),"data-size":e?"":parseFloat(o.toFixed(4)),key:"horizontalLinkGuidline"+s+"-"+e,style:{left:d+a+"px",top:-u+n[1]+"px",width:o+"px"}})})})).concat(Cn(Y.map(function(t,s){return t.map(function(t,e){var n=t.pos,r=t.size,i=pr(n[1],r,h,x),a=i.pos,o=i.size;return o<m?null:l.createElement("div",{className:Be("line","vertical","guideline","dashed"),"data-size":e?"":parseFloat(o.toFixed(4)),key:"verticalLinkGuidline"+s+"-"+e,style:{top:a+"px",left:-c+n[0]+"px",height:o+"px"}})})})),C.map(function(t,e){return l.createElement("div",{className:Be("line","vertical","guideline","target","bold"),key:"verticalTargetGuidline"+e,style:{top:g+"px",left:-c+t+"px",height:x+"px"}})}),D.map(function(t,e){return l.createElement("div",{className:Be("line","horizontal","guideline","target","bold"),key:"horizontalTargetGuidline"+e,style:{top:-u+t+"px",left:d+"px",width:_+"px"}})}),O.map(function(t,e){var n=t.pos,r=t.size,i=t.element;return l.createElement("div",{className:Be("line","vertical","guideline",i?"bold":""),key:"verticalGuidline"+e,style:{top:g-h+n[1]+"px",left:-c+n[0]+"px",height:r+"px"}})}),P.map(function(t,e){var n=t.pos,r=t.size,i=t.element;return l.createElement("div",{className:Be("line","horizontal","guideline",i?"bold":""),key:"horizontalGuidline"+e,style:{top:-u+n[1]+"px",left:d-p+n[0]+"px",width:r+"px"}})}))},dragStart:function(t,e){t.state.snapRenderInfo={snap:!0,center:!0},$n(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t){return jn(t)||_r(t)},dragControlStart:function(t,e){t.state.snapRenderInfo=null,$n(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t,e){t.state.snapRenderInfo=null,$n(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null}},dr={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number},render:function(t,e){var n=t.props.throttleDragRotate,r=t.state,i=r.dragInfo,a=r.beforeOrigin;if(n&&i){var o=i.dist;if(o[0]||o[1]){var s=nn(o),l=Ft(o,[0,0]);return e.createElement("div",{className:Be("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:s+"px",transform:"translate("+a[0]+"px, "+a[1]+"px) rotate("+l+"rad)"}})}}},dragStart:function(t,e){var n=e.datas,r=e.parentEvent,i=e.parentDragger,a=t.state,o=a.targetTransform,s=a.target;if(a.dragger)return!1;a.dragger=i||t.targetDragger;var l=window.getComputedStyle(s);n.datas={},n.left=parseFloat(l.left||"")||0,n.top=parseFloat(l.top||"")||0,n.bottom=parseFloat(l.bottom||"")||0,n.right=parseFloat(l.right||"")||0,n.transform=o,n.startTranslate=[0,0],Xn(t,{datas:n}),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,function(t,e){e.absolutePoses=pn(t.state)}(t,n);var u=bn(t,e,{set:function(t){n.startTranslate=t}});return!1!==(r||yn(t,"onDragStart",u))?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(a.dragger=null,n.isPinch=!1),!!n.isDrag&&u},drag:function(t,e){var n=e.datas,r=e.parentEvent,i=e.parentFlag,a=e.distX,o=e.distY,s=n.isPinch,l=n.isDrag,u=n.prevDist,c=n.prevBeforeDist,f=n.transform,p=n.startTranslate;if(l){var h=t.props,d=h.parentMoveable,g=r?0:h.throttleDrag||0,v=r?0:h.throttleDragRotate||0,m=!1,b=0;if(0<v&&a&&o){var y=dn(180*Ft([0,0],[a,o])/Math.PI,v),_=nn([a,o]);b=y*Math.PI/180,a=_*Math.cos(b),o=_*Math.sin(b)}if(!s&&!r&&!i&&a&&o){var x=function(t,e,n,r){var i={isSnap:!1,isBound:!1,offset:0},a={isSnap:!1,isBound:!1,offset:0};if(!tr(t,"draggable"))return[i,a];var o=Qe(fn(r.absolutePoses,[e,n])),s=o.left,l=o.right,u=o.top,c=o.bottom,f=nr(t,{left:s,right:l,top:u,bottom:c,center:(s+l)/2,middle:(u+c)/2},!0),p=Zn(t,[s,l],[u,c]);return p.vertical.isBound?(i.offset=p.vertical.offset,i.isSnap=!0,i.isBound=!0):f.vertical.isSnap&&(i.offset=f.vertical.posInfos[0].guidelineInfos[0].offset,i.isSnap=!0),p.horizontal.isBound?(a.offset=p.horizontal.offset,a.isSnap=!0,a.isBound=!0):f.horizontal.isSnap&&(a.offset=f.horizontal.posInfos[0].guidelineInfos[0].offset,a.isSnap=!0),[i,a]}(t,a,o,n),w=x[0],E=x[1],S=w.isSnap,M=w.isBound,C=w.offset,D=E.isSnap,O=E.isBound,P=E.offset;if(m=S||D,v){var R=[];if(M&&O?R.push([0,P],[C,0]):M?R.push([C,0]):O?R.push([0,P]):S&&D?R.push([0,P],[C,0]):S?R.push([C,0]):D&&R.push([0,P]),R.length){R.sort(function(t,e){return nn(Kt([a,o],t))-nn(Kt([a,o],e))});var k=R[0];if(k[0]&&Math.abs(a)>Te){var z=a;a-=k[0],o=o*Math.abs(a)/Math.abs(z)}else if(k[1]&&Math.abs(o)>Te){var G=o;o-=k[1],a=a*Math.abs(o)/Math.abs(G)}}}else a-=C,o-=P}n.passDistX=a,n.passDistY=o;var A=Ut(Yn({datas:n,distX:a,distY:o},!0),p),N=Ut(Yn({datas:n,distX:a,distY:o},!1),p);v||m||(gn(N,g),gn(A,g));var T=Kt(A,p),j=Kt(N,p),X=Kt(j,u),Y=Kt(T,c);n.prevDist=j,n.prevBeforeDist=T;var F=n.left+T[0],I=n.top+T[1],B=n.right-T[0],L=n.bottom-T[1],W=f+" translate("+j[0]+"px, "+j[1]+"px)";if(t.state.dragInfo.dist=j,r||d||!X.every(function(t){return!t})||!Y.some(function(t){return!t})){var q=bn(t,e,{transform:W,dist:j,delta:X,translate:N,beforeDist:T,beforeDelta:Y,beforeTranslate:A,left:F,top:I,right:B,bottom:L,isPinch:s});return r||yn(t,"onDrag",q),q}}},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas,i=e.isDrag;if(t.state.dragger=null,t.state.dragInfo=null,r.isDrag)return r.isDrag=!1,n||yn(t,"onDragEnd",bn(t,e,{isDrag:i})),i},dragGroupStart:function(t,e){var n=e.datas,r=this.dragStart(t,e);if(!r)return!1;var i=Tn(t,this,"dragStart",n,e),a=yn(t,"onDragGroupStart",Oe({},r,{targets:t.props.targets,events:i}));return n.isDrag=!1!==a,!!n.isDrag&&r},dragGroup:function(t,e){var n=e.datas;if(n.isDrag){var r=this.drag(t,e),i=e.datas,a=i.passDistX,o=i.passDistY,s=Tn(t,this,"drag",n,Oe({},e,{distX:a,distY:o}));if(r){var l=Oe({targets:t.props.targets,events:s},r);return yn(t,"onDragGroup",l),l}}},dragGroupEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isDrag)return this.dragEnd(t,e),Tn(t,this,"dragEnd",r,e),yn(t,"onDragGroupEnd",bn(t,e,{targets:t.props.targets,isDrag:n})),n},unset:function(t){t.state.dragInfo=null}};function gr(t,e,n){return Oe({},t.dragger.move(e,n),{parentEvent:!0})}var vr=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={}}var e=t.prototype;return e.dragStart=function(t,e){return this.isDrag=!1,this.isFlag=!1,this.datas={},this.move(t,e)},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var n,r;return this.isFlag?(n=this.prevX+t[0],r=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],r=t[1],this.isFlag=!0),{clientX:this.prevX=n,clientY:this.prevY=r,inputEvent:e,isDrag:this.isDrag,distX:n-this.startX,distY:r-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas,parentEvent:!0,parentDragger:this}},t}();function mr(t,e,n,r,i){t.startAbsoluteOrigin=[i.left+r[0],i.top+r[1]],t.prevDeg=Ft(t.startAbsoluteOrigin,[e,n])/Math.PI*180,t.startDeg=t.prevDeg,t.loop=0}function br(t,e,n,r,i,a,o,s){var l=n.prevDeg,u=n.startDeg,c=n.loop;r<l&&270<l&&r<90?++n.loop:l<r&&l<90&&270<r&&--n.loop;var f=n.loop,p=360*c+l-u+a,h=360*f+r-u+a,d=i*((h=dn(h,o))-a);s&&(h=(d=cr(t,e,n.origin,d))/i+a);var g=i*(h-p);return n.prevDeg=h-360*f+u-a,[g,d,h]}function yr(t,e,n,r,i,a,o,s){return br(t,e,n,Ft(n.startAbsoluteOrigin,[i,a])/Math.PI*180,r,o,s,!0)}function _r(t){return X(t,Be("rotation"))}var xr={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number},render:function(t,e){var n=t.props,r=n.rotatable,i=n.rotationPosition;if(!r)return null;var a=t.state,o=a.pos1,s=a.pos2,l=a.pos3,u=a.pos4,c=a.direction,f=function(t,e,n,r,i){return"left"===t?[r,e]:"right"===t?[n,i]:"bottom"===t?[i,r]:[e,n]}(i,o,s,l,u),p=sn(f,c);return e.createElement("div",{key:"rotation",className:Be("line rotation-line"),style:{transform:"translate("+(f[0][0]+f[1][0])/2+"px, "+(f[0][1]+f[1][1])/2+"px) rotate("+p+"rad)"}},e.createElement("div",{className:Be("control","rotation")}))},dragControlCondition:_r,dragControlStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY,a=e.parentRotate,o=e.parentFlag,s=e.pinchFlag,l=t.state,u=l.target,c=l.left,f=l.top,p=l.origin,h=l.beforeOrigin,d=l.direction,g=l.beforeDirection,v=l.targetTransform;if(!u)return!1;if(n.rect=t.getRect(),n.transform=v,n.left=c,n.top=f,s||o)n.beforeInfo={prevDeg:a,startDeg:a,loop:0},n.afterInfo={prevDeg:a,startDeg:a,loop:0};else{n.beforeInfo={origin:Ut([c,f],h)},n.afterInfo={origin:Ut([c,f],p)};var m=un(t.controlBox.getElement());mr(n.afterInfo,r,i,p,m),mr(n.beforeInfo,r,i,h,m)}n.direction=d,n.beforeDirection=g,n.startRotate=0,n.datas={};var b=bn(t,e,{set:function(t){n.startRotate=t}}),y=yn(t,"onRotateStart",b);return n.isRotate=!1!==y,t.state.snapRenderInfo={},!!n.isRotate&&b},dragControl:function(t,e){var n,r,i,a,o=e.datas,s=e.clientX,l=e.clientY,u=e.parentRotate,c=e.parentFlag,f=e.pinchFlag,p=o.direction,h=o.beforeDirection,d=o.beforeInfo,g=o.afterInfo,v=o.isRotate,m=o.startRotate,b=o.rect;if(v){var y,_,x,w,E,S,M=t.props,C=M.throttleRotate,D=void 0===C?0:C,O=M.parentMoveable;if(S=f||c?(y=(n=br(t,b,g,u,p,m,D))[0],_=n[1],x=n[2],w=(r=br(t,b,d,u,p,m,D))[0],E=r[1],r[2]):(y=(i=yr(t,b,g,p,s,l,m,D))[0],_=i[1],x=i[2],w=(a=yr(t,b,d,h,s,l,m,D))[0],E=a[1],a[2]),y||w||O){var P=bn(t,e,{delta:y,dist:_,rotate:x,beforeDist:E,beforeDelta:w,beforeRotate:S,transform:o.transform+" rotate("+_+"deg)",isPinch:!!f});return yn(t,"onRotate",P),P}}},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isRotate&&(n.isRotate=!1,yn(t,"onRotateEnd",bn(t,e,{isDrag:r})),r)},dragGroupControlCondition:_r,dragGroupControlStart:function(t,e){var n=e.datas,l=e.inputEvent,r=t.state,u=r.left,c=r.top,f=r.beforeOrigin,i=this.dragControlStart(t,e);if(!i)return!1;i.set(t.rotation);var a=Tn(t,this,"dragControlStart",n,Oe({},e,{parentRotate:0}),function(t,e,n){var r=t.state,i=r.left,a=r.top,o=r.beforeOrigin,s=Ut(Kt([i,a],[u,c]),Kt(o,f));e.prevClient=s,n.dragStart=dr.dragStart(t,(new vr).dragStart(s,l))}),o=yn(t,"onRotateGroupStart",Oe({},i,{targets:t.props.targets,events:a}));return n.isRotate=!1!==o,!!n.isRotate&&i},dragGroupControl:function(e,t){var p=t.inputEvent,n=t.datas;if(n.isRotate){var r=this.dragControl(e,t);if(r){var i=r.beforeDist,h=r.beforeDelta/180*Math.PI,a=Tn(e,this,"dragControl",n,Oe({},t,{parentRotate:i}),function(t,e,n,r){var i=e.prevClient,a=i[0],o=i[1],s=$t([a,o],h),l=s[0],u=s[1],c=[l-a,u-o];e.prevClient=[l,u];var f=dr.drag(t,gr(t.state,c,p));n.drag=f});e.rotation=r.beforeRotate;var o=Oe({targets:e.props.targets,events:a,set:function(t){e.rotation=t}},r);return yn(e,"onRotateGroup",o),o}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isRotate)return this.dragControlEnd(t,e),Tn(t,this,"dragControlEnd",r,e),yn(t,"onRotateGroupEnd",bn(t,e,{targets:t.props.targets,isDrag:n})),n}};function wr(t,e,r){var n=t.state,i=n.pos1,a=n.pos2,o=n.pos3,s=n.pos4,l=n.rotation,u=t.props.renderDirections,c=void 0===u?e:u,f=[i,a,o,s],p={};return c.forEach(function(t){p[t]=!0}),c.map(function(t){var e=Ye[t];if(!e||!p[t])return null;var n=(dn(l/Math.PI*180,15)+Fe[t])%180;return r.createElement("div",{className:Be("control","direction",t),"data-rotation":n,"data-direction":t,key:"direction-"+t,style:an.apply(void 0,[l].concat(e.map(function(t){return f[t]})))})})}function Er(t,e){return wr(t,["nw","ne","sw","se","n","w","s","e"],e)}function Sr(t,e){return wr(t,["nw","ne","sw","se"],e)}var Mr={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,baseDirection:Array,keepRatio:Boolean},render:function(t,e){var n=t.props,r=n.resizable,i=n.edge;if(r)return i?Sr(t,e):Er(t,e)},dragControlCondition:jn,dragControlStart:function(t,e){var n,r=e.inputEvent,i=e.pinchFlag,a=e.datas,o=r.target,s=i?[1,1]:cn(o),l=t.state,u=l.target,c=l.width,f=l.height;if(!s||!u)return!1;i||Xn(t,{datas:a}),a.datas={},a.direction=s,a.startOffsetWidth=c,a.startOffsetHeight=f,a.prevWidth=0,a.prevHeight=0,n=function(t){var e=window.getComputedStyle(t);return[parseFloat(e.width),parseFloat(e.height)]}(u),a.startWidth=n[0],a.startHeight=n[1],a.transformOrigin=t.props.transformOrigin,a.startDirection=function(t,e){var n=t.props.baseDirection,r=void 0===n?[-1,-1]:n;return[e[0]?e[0]:-1*r[0],e[1]?e[1]:-1*r[1]]}(t,s),a.fixedPosition=Vn(t,a.startDirection),a.fixedOriginalPosition=Vn(t,s);var p=bn(t,e,{direction:s,set:function(t){var e=t[0],n=t[1];a.startWidth=e,a.startHeight=n},setOrigin:function(t){a.transformOrigin=t},dragStart:dr.dragStart(t,(new vr).dragStart([0,0],r))});return!1!==yn(t,"onResizeStart",p)&&(a.isResize=!0,t.state.snapRenderInfo={direction:s}),!!a.isResize&&p},dragControl:function(t,e){var n=e.datas,r=e.distX,i=e.distY,a=e.parentFlag,o=e.pinchFlag,s=e.parentDistance,l=e.parentScale,u=e.inputEvent,c=e.parentKeepRatio,f=e.dragClient,p=n.direction,h=n.isResize,d=n.transformOrigin;if(h){var g=n.startWidth,v=n.startHeight,m=n.startOffsetWidth,b=n.startOffsetHeight,y=n.prevWidth,_=n.prevHeight,x=t.props,w=x.throttleResize,E=void 0===w?0:w,S=x.parentMoveable,M=t.props.keepRatio||c,C=p[0]||!p[1],D=C?b/m:m/b,O=0,P=0;if(l)O=(l[0]-1)*m,P=(l[1]-1)*b;else if(o)s&&(P=(O=s)*b/m);else{var R=Yn({datas:n,distX:r,distY:i});if(O=p[0]*R[0],P=p[1]*R[1],M&&m&&b){var k=Ft([0,0],R),z=Ft([0,0],p),G=Ft([0,0],[m,b]),A=nn([O,P]),N=Math.cos(k-z)*A;p[0]?P=p[1]?(O=Math.cos(G)*N,Math.sin(G)*N):wn(O=N,C,D):O=En(P=N,C,D)}}var T=p[0]||M?Math.max(m+O,0):m,j=p[1]||M?Math.max(b+P,0):b,X=[0,0];if(o||(X=function(t,e,n,r,i){if(!tr(t,"resizable"))return[0,0];var a=t.state;return lr(t,a.matrix,e,n,r,r,i,a.is3d)}(t,T,j,p,n)),M){p[0]&&p[1]&&X[0]&&X[1]&&(Math.abs(X[0])>Math.abs(X[1])?X[1]=0:X[0]=0);var Y=!X[0]&&!X[1];Y&&(C?T=dn(T,E):j=dn(j,E)),p[0]&&!p[1]||X[0]&&!X[1]||Y&&C?j=wn(T+=X[0],C,D):(!p[0]&&p[1]||!X[0]&&X[1]||Y&&!C)&&(T=En(j+=X[1],C,D))}else T+=X[0],j+=X[1],X[0]||(T=dn(T,E)),X[1]||(j=dn(j,E));var F=[(O=(T=Math.round(T))-m)-y,(P=(j=Math.round(j))-b)-_];if(n.prevWidth=O,n.prevHeight=P,S||!F.every(function(t){return!t})){var I=M||a?p:n.startDirection,B=f||(M?n.fixedOriginalPosition:n.fixedPosition),L=!a&&o?[0,0]:Kn(t,T,j,I,B,d),W=bn(t,e,{width:g+O,height:v+P,offsetWidth:T,offsetHeight:j,direction:p,dist:[O,P],delta:F,isPinch:!!o,drag:dr.drag(t,gr(t.state,L,u))});return yn(t,"onResize",W),W}}},dragControlAfter:function(t,e){var n=e.datas,r=n.isResize,i=n.startOffsetWidth,a=n.startOffsetHeight,o=n.prevWidth,s=n.prevHeight;if(r){var l=t.state,u=l.width-(i+o),c=l.height-(a+s),f=3<Math.abs(u),p=3<Math.abs(c);return f&&(n.startWidth+=u,n.startOffsetWidth+=u,n.prevWidth+=u),p&&(n.startHeight+=c,n.startOffsetHeight+=c,n.prevHeight+=c),f||p?(this.dragControl(t,e),!0):void 0}},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isResize&&(n.isResize=!1,yn(t,"onResizeEnd",bn(t,e,{isDrag:r})),r)},dragGroupControlCondition:jn,dragGroupControlStart:function(o,s){var t=s.datas,e=this.dragControlStart(o,s);if(!e)return!1;var l=e.direction,u=Ln(pn(o.state),l),n=Tn(o,this,"dragControlStart",t,function(t,e){var n=Ln(pn(t.state),l),r=Vt(Jt(-o.rotation/180*Math.PI,3),[n[0]-u[0],n[1]-u[1],1],3),i=r[0],a=r[1];return e.originalX=i,e.originalY=a,s}),r=Oe({},e,{targets:o.props.targets,events:n}),i=yn(o,"onResizeGroupStart",r);return t.isResize=!1!==i,!!t.isResize&&e},dragGroupControl:function(a,o){var t=o.datas;if(t.isResize){var e=this.dragControl(a,o);if(e){var n=e.offsetWidth,r=e.offsetHeight,i=e.dist,s=a.props.keepRatio,l=[n/(n-i[0]),r/(r-i[1])],u=t.fixedOriginalPosition,c=Tn(a,this,"dragControl",t,function(t,e){var n=Vt(Jt(a.rotation/180*Math.PI,3),[e.originalX*l[0],e.originalY*l[1],1],3),r=n[0],i=n[1];return Oe({},o,{parentScale:l,dragClient:Ut(u,[r,i]),parentKeepRatio:s})}),f=Oe({targets:a.props.targets,events:c},e);return yn(a,"onResizeGroup",f),f}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isResize)return this.dragControlEnd(t,e),Tn(t,this,"dragControlEnd",r,e),yn(t,"onResizeGroupEnd",bn(t,e,{targets:t.props.targets,isDrag:n})),n}},Cr={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,a=n.edge;if(!r&&i)return a?Sr(t,e):Er(t,e)},dragControlCondition:jn,dragControlStart:function(t,e){var n=e.datas,r=e.pinchFlag,i=e.inputEvent,a=i.target,o=r?[1,1]:cn(a),s=t.state,l=s.width,u=s.height,c=s.targetTransform,f=s.target;if(!o||!f)return!1;r||Xn(t,{datas:n}),n.datas={},n.transform=c,n.prevDist=[1,1],n.direction=o,n.width=l,n.height=u,n.startScale=[1,1];var p=bn(t,e,{direction:o,set:function(t){n.startScale=t},dragStart:dr.dragStart(t,(new vr).dragStart([0,0],i))});return!1!==yn(t,"onScaleStart",p)&&(n.isScale=!0,t.state.snapRenderInfo={direction:o}),!!n.isScale&&p},dragControl:function(t,e){var n=e.datas,r=e.distX,i=e.distY,a=e.parentScale,o=e.parentDistance,s=e.parentKeepRatio,l=e.parentFlag,u=e.pinchFlag,c=e.inputEvent,f=e.dragClient,p=n.prevDist,h=n.direction,d=n.width,g=n.height,v=n.transform,m=n.isScale,b=n.startScale;if(!m)return!1;var y=t.props,_=y.throttleScale,x=y.parentMoveable,w=t.props.keepRatio||s,E=t.state,S=h[0]||!h[1],M=1,C=1,D=d*b[0],O=g*b[1],P=S?O/D:D/O;if(a)M=a[0],C=a[1];else if(u)o&&(M=(d+o)/d,C=(g+o*g/d)/g);else{var R=Yn({datas:n,distX:r,distY:i}),k=h[0]*R[0],z=h[1]*R[1];if(w&&d&&g){var G=Ft([0,0],R),A=Ft([0,0],h),N=Ft([0,0],[D,O]),T=nn([k,z]),j=Math.cos(G-A)*T;h[0]?z=h[1]?(k=Math.cos(N)*j,Math.sin(N)*j):wn(k=j,S,P):k=En(z=j,S,P)}M=(d+k)/d,C=(g+z)/g}M=h[0]?M*b[0]:b[0],C=h[1]?C*b[1]:b[1],0===M&&(M=1e-9*(0<p[0]?1:-1)),0===C&&(C=1e-9*(0<p[1]?1:-1));var X,Y=[M/b[0],C/b[1]],F=h;if(t.props.groupable){F=[(0<=Y[0]?1:-1)*h[0],(0<=Y[1]?1:-1)*h[1]];var I=(E.snapRenderInfo||{}).direction;V(I)&&(I[0]||I[1])&&(E.snapRenderInfo={direction:h})}var B=[0,0];if(u||(B=function(t,e,n,r,i){var a=i.width,o=i.height;if(!tr(t,"scalable"))return[0,0];var s=lr(t,Un(i,e),a,o,n,r,i,i.is3d);return[s[0]/a,s[1]/o]}(t,Y,h,F,n)),w){h[0]&&h[1]&&B[0]&&B[1]&&(Math.abs(B[0])>Math.abs(B[1])?B[1]=0:B[0]=0);var L=!B[0]&&!B[1];if(L&&(S?Y[0]=dn(Y[0]*b[0],_)/b[0]:Y[1]=dn(Y[1]*b[1],_)/b[1]),h[0]&&!h[1]||B[0]&&!B[1]||L&&S){Y[0]+=B[0];var W=wn(d*Y[0]*b[0],S,P);Y[1]=W/g/b[1]}else if(!h[0]&&h[1]||!B[0]&&B[1]||L&&!S){Y[1]+=B[1];var q=En(g*Y[1]*b[1],S,P);Y[0]=q/d/b[0]}}else Y[0]+=B[0],Y[1]+=B[1],B[0]||(Y[0]=dn(Y[0]*b[0],_)/b[0]),B[1]||(Y[1]=dn(Y[1]*b[1],_)/b[1]);0===Y[0]&&(Y[0]=1e-9*(0<p[0]?1:-1)),0===Y[1]&&(Y[1]=1e-9*(0<p[1]?1:-1));var H=[Y[0]/p[0],Y[1]/p[1]];if(X=Ie(Y,b),n.prevDist=Y,M===p[0]&&C===p[1]&&!x)return!1;var U=!l&&u?[0,0]:function(t,e,n,r){var i=t.state,a=i.is3d,o=i.left,s=i.top,l=i.width,u=i.height,c=a?4:3,f=t.props.groupable,p=Un(t.state,e),h=f?o:0,d=f?s:0;return Kt(qn(r||Wn(pn(t.state),n),p,l,u,c,n),[h,d])}(t,H,h,f),K=bn(t,e,{scale:X,direction:h,dist:Y,delta:H,transform:v+" scale("+M+", "+C+")",isPinch:!!u,drag:dr.drag(t,gr(t.state,U,c))});return yn(t,"onScale",K),K},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isScale&&(n.isScale=!1,yn(t,"onScaleEnd",bn(t,e,{isDrag:r})),r)},dragGroupControlCondition:jn,dragGroupControlStart:function(o,s){var t=s.datas,e=this.dragControlStart(o,s);if(!e)return!1;var l=e.direction,u=Ln(pn(o.state),l),n=Tn(o,this,"dragControlStart",t,function(t,e){var n=Ln(pn(t.state),l),r=Vt(Jt(-o.rotation/180*Math.PI,3),[n[0]-u[0],n[1]-u[1],1],3),i=r[0],a=r[1];return e.originalX=i,e.originalY=a,s}),r=Oe({},e,{targets:o.props.targets,events:n}),i=yn(o,"onScaleGroupStart",r);return t.isScale=!1!==i,!!t.isScale&&r},dragGroupControl:function(a,o){var t=o.datas;if(t.isScale){var e=this.dragControl(a,o);if(e){var s=a.props.keepRatio,l=e.scale,n=e.direction,r=e.dist,u=Ln(pn(a.state),Ie(n,r)),i=Tn(a,this,"dragControl",t,function(t,e){var n=Vt(Jt(a.rotation/180*Math.PI,3),[e.originalX*l[0],e.originalY*l[1],1],3),r=n[0],i=n[1];return Oe({},o,{parentScale:l,parentKeepRatio:s,dragClient:Ut(u,[r,i])})}),c=Oe({targets:a.props.targets,events:i},e);return yn(a,"onScaleGroup",c),c}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isScale)return this.dragControlEnd(t,e),Tn(t,this,"dragControlEnd",r,e),yn(t,"onScaleGroupEnd",bn(t,e,{targets:t.props.targets,isDrag:n})),n}};function Dr(t,n){return t.map(function(t,e){return function(t,e,n,r){return(t*r+e*n)/(n+r)}(t,n[e],1,2)})}function Or(t,e,n){var r=Ft(t,e),i=Ft(t,n)-r;return 0<=i?i:i+2*Math.PI}var Pr={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,a=n.warpable;if(!r&&!i&&a){var o=t.state,s=o.pos1,l=o.pos2,u=o.pos3,c=o.pos4,f=Dr(s,l),p=Dr(l,s),h=Dr(s,u),d=Dr(u,s),g=Dr(u,c),v=Dr(c,u),m=Dr(l,c),b=Dr(c,l);return[e.createElement("div",{className:Be("line"),key:"middeLine1",style:rn(f,g)}),e.createElement("div",{className:Be("line"),key:"middeLine2",style:rn(p,v)}),e.createElement("div",{className:Be("line"),key:"middeLine3",style:rn(h,m)}),e.createElement("div",{className:Be("line"),key:"middeLine4",style:rn(d,b)})].concat(Er(t,e))}},dragControlCondition:function(t){return X(t,Be("direction"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,i=t.props.target,a=cn(n.target);if(!a||!i)return!1;var o=t.state,s=o.transformOrigin,l=o.is3d,u=o.targetTransform,c=o.targetMatrix,f=o.width,p=o.height,h=o.left,d=o.top;return r.datas={},r.targetTransform=u,r.warpTargetMatrix=l?c:Bt(c,3,4),r.targetInverseMatrix=function(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=t.slice(),i=0;i<n;++i)r[i*n+e-1]=0,r[(e-1)*n+i]=0;return r[(e-1)*(n+1)]=1,r}(Xt(r.warpTargetMatrix,4),3,4),r.direction=a,r.left=h,r.top=d,Xn(t,{datas:r}),r.poses=[[0,0],[f,0],[0,p],[f,p]].map(function(t,e){return Kt(t,s)}),r.nextPoses=r.poses.map(function(t){var e=t[0],n=t[1];return Vt(r.warpTargetMatrix,[e,n,0,1],4)}),r.startMatrix=Qt(4),r.prevMatrix=Qt(4),r.absolutePoses=pn(o),r.posIndexes=Fn(a),!(o.snapRenderInfo={direction:a})!==yn(t,"onWarpStart",bn(t,e,{set:function(t){r.startMatrix=t}}))&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var n=e.datas,r=e.distX,i=e.distY,a=n.targetInverseMatrix,o=n.prevMatrix,s=n.isWarp,l=n.startMatrix,u=n.poses,c=n.posIndexes,f=n.absolutePoses;if(!s)return!1;if(tr(t,"warpable")){var p=c.map(function(t){return f[t]});1<p.length&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var h=er(t,p.map(function(t){return t[0]+r}),p.map(function(t){return t[1]+i})),d=h.horizontal,g=h.vertical;i-=or(d).offset,r-=or(g).offset}var v=Yn({datas:n,distX:r,distY:i},!0),m=n.nextPoses.slice();if(c.forEach(function(t){m[t]=Ut(m[t],v)}),!Ne.every(function(t){return function(t,e){var n=Or(t[0],t[1],t[2]),r=Or(e[0],e[1],e[2]),i=Math.PI;return!(i<=n&&r<=i||n<=i&&i<=r)}(t.map(function(t){return u[t]}),t.map(function(t){return m[t]}))}))return!1;var b=ne(u[0],u[1],u[2],u[3],m[0],m[1],m[2],m[3]);if(!b.length)return!1;var y=Zt(Wt(a,b,4)),_=n.targetTransform+" matrix3d("+y.join(",")+")";return yn(t,"onWarp",bn(t,e,{delta:qt(Xt(o,4),y,4),matrix:qt(l,n.prevMatrix=y,4),multiply:qt,dist:y,transform:_})),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,yn(t,"onWarpEnd",bn(t,e,{isDrag:r})),r)}},Rr=Be("area"),kr=Be("area-pieces"),zr=Be("area-piece"),Gr=Be("avoid");function Ar(t){var e=t.areaElement,n=t.state,r=n.width,i=n.height;F(e,Gr),e.style.cssText+="left: 0px; top: 0px; width: "+r+"px; height: "+i+"px"}function Nr(t){return t.createElement("div",{key:"area_pieces",className:kr},t.createElement("div",{className:zr}),t.createElement("div",{className:zr}),t.createElement("div",{className:zr}),t.createElement("div",{className:zr}))}var Tr={name:"dragArea",props:{dragArea:Boolean},render:function(t,e){var n=t.props,r=n.target,i=n.dragArea,a=n.groupable,o=t.state,s=o.width,l=o.height,u=o.pos1,c=o.pos2,f=o.pos3,p=o.pos4;if(a)return[e.createElement("div",{key:"area",ref:_t(t,"areaElement"),className:Rr}),Nr(e)];if(!r||!i)return[];var h=ne([0,0],[s,0],[0,l],[s,l],u,c,f,p),d=h.length?"matrix3d("+Zt(h).join(",")+")":"none";return[e.createElement("div",{key:"area",ref:_t(t,"areaElement"),className:Rr,style:{top:"0px",left:"0px",width:s+"px",height:l+"px",transformOrigin:"0 0",transform:d}}),Nr(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY,a=e.inputEvent;n.isDragArea=!1,n.inputTarget=a.target;var o=t.areaElement,s=t.state,l=s.targetClientRect,u=s.pos1,c=s.pos2,f=s.pos3,p=s.pos4,h=l.left,d=l.top,g=l.width,v=l.height,m=Qe([u,c,f,p]),b=m.left,y=m.top,_=r-h,x=i-d,w=[{left:b,top:y,width:g,height:x-10},{left:b,top:y,width:_-10,height:v},{left:b,top:y+x+10,width:g,height:v-x-10},{left:b+_+10,top:y,width:g-_-10,height:v}],E=[].slice.call(o.nextElementSibling.children);w.forEach(function(t,e){E[e].style.cssText="left: "+t.left+"px;top: "+t.top+"px; width: "+t.width+"px; height: "+t.height+"px;"}),Y(o,Gr)},drag:function(t,e){var n=e.datas;n.isDragArea||(n.isDragArea=!0,Ar(t))},dragEnd:function(t,e){var n=e.inputEvent,r=e.isDragArea;e.datas.isDragArea||Ar(t);var i=t.state.target,a=n.target;if(!r&&!t.isMoveableElement(a)){var o=i.contains(a);yn(t,"onClick",bn(t,e,{inputTarget:a,isTarget:i===a,containsTarget:o}))}},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t,e){this.drag(t,e)},dragGroupEnd:function(t,e){var n=e.inputEvent,r=e.isDragArea,i=e.datas;r||Ar(t);var a=i.inputTarget,o=n.target;if(!r&&!t.isMoveableElement(o)&&a!==o){var s=t.props.targets,l=s.indexOf(o),u=-1<l,c=!1;-1===l&&(c=-1<(l=function(t,e,n){void 0===n&&(n=-1);for(var r=t.length,i=0;i<r;++i)if(e(t[i],i,t))return i;return n}(s,function(t){return t.contains(o)}))),yn(t,"onClickGroup",bn(t,e,{targets:s,inputTarget:o,targetIndex:l,isTarget:u,containsTarget:c}))}}},jr={name:"origin",props:{origin:Boolean},render:function(t,e){if(!t.props.origin)return null;var n=t.state,r=n.beforeOrigin,i=n.rotation;return[e.createElement("div",{className:Be("control","origin"),style:an(i,r),key:"beforeOrigin"})]}};function Xr(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var Yr={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number},dragStart:function(a,o){var t=a.props.scrollContainer,e=void 0===t?a.getContainer():t,n=new xe;o.datas.dragScroll=n;var s=o.targets;n.on("scroll",function(t){var e=t.container,n=t.direction,r=bn(a,o,{scrollContainer:e,direction:n}),i=s?"onScrollGroup":"onScroll";s&&(r.targets=s),yn(a,i,r)}).on("move",function(t){var e=t.offsetX,n=t.offsetY;a.targetDragger.scrollBy(e,n,o.inputEvent,!1)}),n.dragStart(o,{container:e})},checkScroll:function(t,e){var n=e.datas.dragScroll;if(n){var r=t.props,i=r.scrollContainer,a=void 0===i?t.getContainer():i,o=r.scrollThreshold,s=void 0===o?0:o,l=r.getScrollPosition,u=void 0===l?Xr:l;return n.drag(e,{container:a,threshold:s,getScrollPosition:function(t){return u({scrollContainer:t.container,direction:t.direction})}}),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,Oe({},e,{targets:t.props.targets}))},dragGroupEnd:function(t,e){this.dragEnd(t,e)}},Fr=[{name:"",props:{target:Object,container:Object,dragArea:Boolean,origin:Boolean,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number}},hr,Nn,dr,xr,Mr,Cr,Pr,Yr,Tr,jr],Ir={name:"groupable",props:{defaultGroupRotate:Number,groupable:Boolean},render:function(n,r){var t=n.props.targets||[];n.moveables=[];var e=n.state,i={left:e.left,top:e.top};return t.map(function(t,e){return r.createElement(Gn,{key:"moveable"+e,ref:function(e,n,r){return function(t){t&&(e[n][r]=t)}}(n,"moveables",e),target:t,origin:!1,parentMoveable:n,parentPosition:i})})}};function Br(t,a){return Math.max.apply(Math,t.map(function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.max(e[a],n[a],r[a],i[a])}))}function Lr(t,a){return Math.min.apply(Math,t.map(function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.min(e[a],n[a],r[a],i[a])}))}var Wr=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.differ=new Me,t.moveables=[],t.rotation=0,t}De(t,n);var e=t.prototype;return e.updateEvent=function(t){var e=this.state,n=this.props;e.target||(e.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetDragger=On(this,e.target,"targetAbles","Group"),this.controlDragger=On(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var r=!Sn(t.container,n.container);r&&(e.container=n.container);var i=this.differ.update(n.targets),a=i.added,o=i.changed,s=i.removed;(r||a.length||o.length||s.length)&&this.updateRect()},e.checkUpdate=function(){this.updateAbles()},e.updateRect=function(e,t,n){var r;if(void 0===n&&(n=!0),this.controlBox){this.moveables.forEach(function(t){t.updateRect(e,!1,!1)});var i=this.state,a=this.props,o=i.target||a.target;(!t||""!==e&&a.updateGroup)&&(this.rotation=a.defaultGroupRotate);var s=this.rotation,l=function(t,e){if(!t.length)return[0,0,0,0];var n=t.map(function(t){return pn(t.state)}),i=je,a=je,r=0,o=0,s=dn(e,Te);if(s%90){var l=e/180*Math.PI,u=Math.tan(l),c=-1/u,f=[Xe,je],p=[Xe,je];n.forEach(function(t){t.forEach(function(t){var e=t[1]-u*t[0],n=t[1]-c*t[0];f[0]=Math.max(f[0],e),f[1]=Math.min(f[1],e),p[0]=Math.max(p[0],n),p[1]=Math.min(p[1],n)})}),f.forEach(function(r){p.forEach(function(t){var e=(t-r)/(u-c),n=u*e+r;i=Math.min(i,e),a=Math.min(a,n)})});var h=n.map(function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return[$t(e,-l),$t(n,-l),$t(r,-l),$t(i,-l)]});r=Br(h,0)-Lr(h,0),o=Br(h,1)-Lr(h,1)}else if(i=Lr(n,0),a=Lr(n,1),r=Br(n,0)-i,o=Br(n,1)-a,s%180){var d=r;r=o,o=d}return[i,a,r,o]}(this.moveables,s),u=l[0],c=l[1],f=l[2],p=l[3];o.style.cssText+="left:0px;top:0px;width:"+f+"px; height:"+p+"px;transform:rotate("+s+"deg)",i.width=f,i.height=p;var h=ln(o,this.controlBox.getElement(),this.getContainer(),i),d=[h.left,h.top];r=pn(h),h.pos1=r[0],h.pos2=r[1],h.pos3=r[2],h.pos4=r[3],h.origin=Ut(d,h.origin),h.beforeOrigin=Ut(d,h.beforeOrigin);var g=h.targetClientRect;g.top+=c-h.top-i.top,g.left+=u-h.left-i.left,this.updateState(Oe({},h,{left:u-h.left,top:c-h.top}),n)}},e.triggerEvent=function(t,e){if(-1<t.indexOf("Group"))return n.prototype.triggerEvent.call(this,t,e)},e.updateAbles=function(){n.prototype.updateAbles.call(this,this.props.ables.concat([Ir]),"Group")},t.defaultProps=Oe({},Gn.defaultProps,{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0}),t}(Gn),qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}De(e,t);var n=e.prototype;return n.render=function(){var t=this.props.ables||[],e=this.props.target||this.props.targets,n=V(e);if(n&&1<e.length){var r=Oe({},this.props,{target:null,targets:e,ables:Fr.concat([Ir],t)});return it(Wr,Oe({key:"group",ref:_t(this,"moveable")},r))}var i=n?e[0]:e;return it(Gn,Oe({key:"single",ref:_t(this,"moveable")},Oe({},this.props,{target:i,ables:Fr.concat(t)})))},n.isMoveableElement=function(t){return this.moveable.isMoveableElement(t)},n.dragStart=function(t){this.moveable.dragStart(t)},n.isInside=function(t,e){return this.moveable.isInside(t,e)},n.updateRect=function(){this.moveable.updateRect()},n.updateTarget=function(){this.moveable.updateTarget()},n.getRect=function(){return this.moveable.getRect()},n.destroy=function(){this.moveable.componentWillUnmount()},e}(dt),Hr=function(n){function t(t){var e=n.call(this,t)||this;return e.state={},e.state=e.props,e}return i(t,n),t.prototype.render=function(){return function(t,e){return it(gt,{element:t,container:e})}(it(qr,s({ref:p(this,"moveable")},this.state)),this.state.parentElement)},t}(ht),Ur=["draggable","resizable","scalable","rotatable","warpable","pinchable","snappable","origin","target","edge","throttleDrag","throttleDragRotate","throttleResize","throttleScale","throttleRotate","keepRatio","dragArea","pinchThreshold","snapCenter","snapThreshold","horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","className","renderDirections","scrollable","getScrollPosition","scrollContainer","scrollThreshold","baseDirection","snapElement","snapVertical","snapHorizontal"],Kr=["dragStart","drag","dragEnd","resizeStart","resize","resizeEnd","scaleStart","scale","scaleEnd","rotateStart","rotate","rotateEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd","dragGroupStart","dragGroup","dragGroupEnd","resizeGroupStart","resizeGroup","resizeGroupEnd","scaleGroupStart","scaleGroup","scaleGroupEnd","rotateGroupStart","rotateGroup","rotateGroupEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","clickGroup","scroll","scrollGroup","renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],Vr=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","setState"],$r=function(o){function t(t,e){void 0===e&&(e={});var n=o.call(this)||this;n.tempElement=document.createElement("div");var r=s({container:t},e),i={};Kr.forEach(function(e){i[function(t){return t.replace(/[\s-_]([a-z])/g,function(t,e){return e.toUpperCase()})}("on "+e)]=function(t){return n.trigger(e,t)}}),yt(it(Hr,s({ref:p(n,"innerMoveable"),parentElement:t},r,i)),n.tempElement);var a=r.target;return V(a)&&1<a.length&&n.updateRect(),n}i(t,o);var e=t.prototype;return e.setState=function(t,e){this.innerMoveable.setState(t,e)},e.destroy=function(){yt(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},e.getMoveable=function(){return this.innerMoveable.moveable},t=function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(o=(a<3?i(o):3<a?i(e,n,o):i(e,n))||o);return 3<a&&o&&Object.defineProperty(e,n,o),o}([a(Vr,function(t,r){t[r]||(t[r]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.getMoveable();if(n&&n[r])return n[r].apply(n,t)})}),a(Ur,function(t,n){Object.defineProperty(t,n,{get:function(){return this.getMoveable().props[n]},set:function(t){var e;this.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})})],t)}(t),Zr={draggable:{vanilla:'\nimport Moveable from "moveable";\n\n/* const translate = [0, 0]; */\nconst draggable = new Moveable(document.body, {\n    target: document.querySelector(".draggable"),\n    draggable: true,\n    throttleDrag: 0,\n}).on("drag", ({ target, left, top, beforeDelta }) => {\n    target.style.left = left + "px";\n    target.style.top = top + "px";\n\n    /* translate[0] += beforeDelta[0]; */\n    /* translate[1] += beforeDelta[1]; */\n    /* target.style.transform\n        = "translateX(" + translate[0] + "px) "\n        + "translateY(" + translate[1] + "px)"; */\n});\n        ',react:'\nimport Moveable from "react-moveable";\nthis.translate = [0, 0];\nreturn (\n    <Moveable\n        target={document.querySelector(".draggable")}\n        draggable={true}\n        throttleDrag={0}\n        onDrag={({ target, left, top, beforeDelta }) => {\n            target.style.left = left + "px";\n            target.style.top = top + "px";\n\n            /* const translate = this.translate */\n            /* translate[0] += beforeDelta[0]; */\n            /* translate[1] += beforeDelta[1]; */\n            /* target.style.transform\n                = "translateX(" + translate[0] + "px) "\n                + "translateY(" + translate[1] + "px)"; */\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [draggable]="true"\n    [throttleDrag]="0"\n    (drag)="onDrag($event)\n    />\n`,\n})\nexport class AppComponent {\n    translate = [0, 0];\n    onDrag({ target, left, top, beforeDelta }) {\n        target.style.left = left + "px";\n        target.style.top = top + "px";\n\n        /* const translate = this.translate */\n        /* translate[0] += beforeDelta[0]; */\n        /* translate[1] += beforeDelta[1]; */\n        /* target.style.transform\n            = "translateX(" + translate[0] + "px) "\n            + "translateY(" + translate[1] + "px)"; */\n    }\n}\n',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let translate = [0, 0];\n    let target;\n<\/script>\n<div class="target draggable" bind:this={target}>Draggable</div>\n<Moveable\n    target={target}\n    draggable={true}\n    throttleDrag={0}\n    on:drag={({ detail }) => {\n        target.style.left = detail.left + "px";\n        target.style.top = detail.top + "px";\n    }}\n/>'},resizable:{vanilla:'\nimport Moveable from "moveable";\n\nconst resizable = new Moveable(document.body, {\n    target: document.querySelector(".resizable"),\n    resizable: true,\n    throttleResize: 0,\n    keepRatio: true,\n}).on("resize", ({ target, width, height, dist }) => {\n    console.log(width, height, dist);\n    target.style.width = width + "px";\n    target.style.height = height + "px";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nreturn (\n    <Moveable\n        target={document.querySelector(".resizable")}\n        resizable={true}\n        throttleResize={0}\n        keepRatio={true}\n        onResize={({ target, width, height, dist }) => {\n            console.log(width, height, dist);\n            target.style.width = width + "px";\n            target.style.height = height + "px";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [resizable]="true"\n    [throttleResize]="0"\n    [keepRatio]="true"\n    (resize)="onResize($event)\n    />\n`,\n})\nexport class AppComponent {\n    onResize({ target, width, height, dist }) {\n        console.log(width, height, dist);\n        target.style.width = width + "px";\n        target.style.height = height + "px";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let translate = [0, 0];\n    let target;\n<\/script>\n<div class="target resizable" bind:this={target}>Resizable</div>\n<Moveable\n    target={target}\n    resizable={true}\n    throttleResize={0}\n    keepRatio={true}\n    on:resize={({ detail }) => {\n        const { target, width, height, dist } = detail;\n        target.style.width = width + "px";\n        target.style.height = height + "px";\n    }}\n/>'},scalable:{vanilla:'\nimport Moveable from "moveable";\n\nconst scale = [1, 1];\nconst scalable = new Moveable(document.body, {\n    target: document.querySelector(".scalable"),\n    scalable: true,\n    throttleScale: 0,\n    keepRatio: true,\n}).on("scale", ({ target, delta }) => {\n    scale[0] *= delta[0];\n    scale[1] *= delta[1];\n    target.style.transform = "scale(" + scale[0] +  "," + scale[1] + ")";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.scale = [1, 1];\nreturn (\n    <Moveable\n        target={document.querySelector(".scalable")}\n        scalable={true}\n        throttleScale={0}\n        keepRatio={true}\n        onScale={({ target, delta }) => {\n            const scale = this.scale;\n            scale[0] *= delta[0];\n            scale[1] *= delta[1];\n            target.style.transform\n                = "scale(" + scale[0] +  "," + scale[1] + ")";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [scalable]="true"\n    [throttleScale]="0"\n    [keepRatio]="true"\n    (scale)="onScale($event)\n    />\n`,\n})\nexport class AppComponent {\n    scale = [1, 1];\n    onScale({ target, delta }) {\n        const scale = this.scale;\n        scale[0] *= delta[0];\n        scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + scale[0] +  "," + scale[1] + ")";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let scale = [1, 1];\n    let target;\n<\/script>\n<div class="target scalable" bind:this={target}>Scalable</div>\n<Moveable\n    target={target}\n    scalable={true}\n    throttleScale={0}\n    keepRatio={true}\n    on:scale={({ detail: { target, delta }}) => {\n        scale[0] *= delta[0];\n        scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + scale[0] +  "," + scale[1] + ")";\n    }}\n/>'},rotatable:{vanilla:'\nimport Moveable from "moveable";\n\nlet rotate = 0;\n\nconst rotatable = new Moveable(document.body, {\n    target: document.querySelector(".rotatable"),\n    rotatable: true,\n    throttleRotate: 0,\n}).on("rotate", ({ target, beforeDelta, delta }) => {\n    rotate += delta;\n    target.style.transform\n        = "rotate(" + rotate +  "deg)";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.rotate = 0;\n\nreturn (\n    <Moveable\n        target={document.querySelector(".rotatable")}\n        rotatable={true}\n        throttleRotate={0}\n        onRotate={({ target, beforeDelta, delta }) => {\n            this.rotate += delta;\n            target.style.transform\n                = "rotate(" + this.rotate +  "deg)";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [rotatable]="true"\n    [throttleRotate]="0"\n    [keepRatio]="true"\n    (rotate)="onRotate($event)\n    />\n`,\n})\nexport class AppComponent {\n    rotate = 0;\n    onRotate({ target, delta }) {\n        this.rotate += delta;\n        target.style.transform\n            = "rotate(" + this.rotate +  "deg)";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let rotate = 0;\n    let target;\n<\/script>\n<div class="target rotatable" bind:this={target}>Rotatable</div>\n<Moveable\n    target={target}\n    rotatable={true}\n    throttleRotate={0}\n    on:rotate={({ detail }) => {\n        const { target, beforeDelta, delta } = detail;\n        rotate += delta;\n        target.style.transform\n            = "rotate(" + rotate +  "deg)";\n    }}\n/>'},warpable:{vanilla:'\nimport Moveable from "moveable";\n\nlet matrix = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n];\n\nconst warpable = new Moveable(document.body, {\n    target: document.querySelector(".warpable"),\n    warpable: true,\n    throttleRotate: 0,\n}).on("warp", ({ target, multiply, delta }) => {\n    matrix = multiply(matrix, delta);\n    target.style.transform\n        = "matrix3d(" + matrix.join(",") +  ")";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.matrix = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n];\n\nreturn (\n    <Moveable\n        target={document.querySelector(".warpable")}\n        warpable={true}\n        onWarp={({ target, multiply, delta }) => {\n            this.matrix = multiply(this.matrix, delta);\n            target.style.transform\n                = "matrix3d(" + matrix.join(",") +  ")";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [warpable]="true"\n    (warp)="onWarp($event)\n    />\n`,\n})\nexport class AppComponent {\n    matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    onWarp({ target, dist }) {\n        this.matrix = multiply(this.matrix, delta);\n        target.style.transform\n            = "matrix3d(" + matrix.join(",") +  ")";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    let target;\n<\/script>\n<div class="target scalable" bind:this={target}>Scalable</div>\n<Moveable\n    target={target}\n    warpable={true}\n    on:warp={({ detail }) => {\n        const { target, multiply, delta } = detail;\n        matrix = multiply(matrix, delta);\n        target.style.transform\n            = "matrix3d(" + matrix.join(",") +  ")";\n    }}\n/>'},pinchable:{vanilla:'\nimport Moveable from "moveable";\nconst scale = [1, 1];\nlet rotate = 0;\n\nconst pinchable = new Moveable(document.body, {\n    target: document.querySelector(".pinchable"),\n    pinchable: ["rotatable", "scalable"],\n}).on("rotate", ({ target, beforeDelta }) => {\n    rotate += beforeDelta;\n    target.style.transform = "scale(" + scale.join(", ") + ") rotate(" + rotate + "deg)";\n}).on("scale", ({ target, delta }) => {\n    scale[0] *= delta[0];\n    scale[1] *= delta[1];\n    target.style.transform = "scale(" + scale.join(", ") + ") rotate(" + rotate + "deg)";\n});',react:'\nimport Moveable from "react-moveable";\nthis.scale = [1, 1];\nthis.rotate = 0;\n\nreturn (\n    <Moveable\n        target={document.querySelector(".pinchable")}\n        pinchable={["rotatable", "scalable"]},\n        onRotate={({ target, beforeDelta }) => {\n            this.rotate += beforeDelta;\n            target.style.transform\n                = "scale(" + this.scale.join(", ") + ") "\n                + "rotate(" + this.rotate + "deg)";\n        }}\n        onScale={({ target, beforeDelta }) => {\n            this.scale[0] *= delta[0];\n            this.scale[1] *= delta[1];\n            target.style.transform\n                = "scale(" + this.scale.join(", ") + ") "\n                + "rotate(" + this.rotate + "deg)";\n        }}\n    />\n);',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n    <div #target class="target">target</div>\n    <ngx-moveable\n        [target]="target"\n        [pinchable]="[\'rotatable\', \'scalable\']"\n        [rotate]="onRotate($event)"\n        [scale]="onScale($event)"\n/>\n`,\n})\nexport class AppComponent {\n    scale = [1, 1];\n    rotate = 0;\n    onRotate({ target, beforeDelta }) {\n        this.rotate += beforeDelta;\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }\n    onScale({ target, beforeDelta }) {\n        this.scale[0] *= delta[0];\n        this.scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }\n}\n',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    let target;\n<\/script>\n<div class="target pinchable" bind:this={target}>Pinchable</div>\n<Moveable\n    target={target}\n    pinchable={["rotatable", "scalable"]},\n    on:rotate={({ detail: { target, beforeDelta }}) => {\n        this.rotate += beforeDelta;\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }}\n    on:scale={({ detail: { target, beforeDelta }}) => {\n        this.scale[0] *= delta[0];\n        this.scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }}\n/>'},snappable:{vanilla:'\nimport Moveable from "moveable";\n\nconst snappable = new Moveable(document.body, {\n    target: document.querySelector(".snappable"),\n    snappable: true,\n    verticalGuidelines: [0, 150, 200],\n    horizontalGuidelines: [0, 150, 200],\n}).on("drag", ({ target, left, top }) => {\n    target.style.left = left + "px";\n    target.style.top = top + "px";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nreturn (\n    <Moveable\n        target={document.querySelector(".origin")}\n        origin={true}\n        snappable={true}\n        verticalGuidelines={[0, 150, 200]}\n        horizontalGuidelines={[0, 150, 200]}\n        onDrag={({ target, left, top }) => {\n            target.style.left = left + "px";\n            target.style.top = top + "px";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [snappable]="true"\n    [verticalGuidelines]="[0, 150, 200]"\n    [horizontalGuidelines]="[0, 150, 200]"\n    />\n`,\n})\nexport class AppComponent {\n    onDrag({ target, left, top }) {\n        target.style.left = left + "px";\n        target.style.top = top + "px";\n    }\n}\n',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let target;\n<\/script>\n<div class="target pinchable" bind:this={target}>Pinchable</div>\n<Moveable\n    target={target}\n    origin={true}\n    snappable={true}\n    verticalGuidelines={[0, 150, 200]}\n    horizontalGuidelines={[0, 150, 200]}\n    on:drag={({ detail: { target, left, top }}) => {\n        target.style.left = left + "px";\n        target.style.top = top + "px";\n    }}\n/>'},groupable:{vanilla:'\nimport Moveable from "moveable";\nconst poses = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n];\nconst target = [].slice.call(\n    document.querySelectorAll(".target"),\n);\nconst groupable = new Moveable(document.body, {\n    target,\n    draggable: true,\n}).on("dragGroup", ({ events }) => {\n    events.forEach(({ target, beforeDelta }, i) => {\n        poses[i][0] += beforeDelta[0];\n        poses[i][1] += beforeDelta[1];\n\n        target.style.transform\n            = "translate("\n            + poses[i][0] + "px, "\n            + poses[i][1] + "px)";\n    });\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.poses = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n];\n\nconst target = [].slice.call(\n    document.querySelectorAll(".target"),\n);\nreturn (\n    <Moveable\n        target={target}\n        draggable={true}\n        onDragGroup={({ events }) => {\n            events.forEach(({ target, beforeDelta }, i) => {\n                this.poses[i][0] += beforeDelta[0];\n                this.poses[i][1] += beforeDelta[1];\n\n                target.style.transform\n                    = "translate("\n                    + this.poses[i][0] + "px, "\n                    + this.poses[i][1] + "px)";\n            });\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target1 class="target">target1</div>\n<div #target2 class="target">target2</div>\n<div #target3 class="target">target3</div>\n<ngx-moveable\n    [target]="[target1, target2, target3]"\n    [draggable]="true"\n    (dragGroup)="onDragGroup($event)\n    />\n`,\n})\nexport class AppComponent {\n    poses = [\n        [0, 0],\n        [0, 0],\n        [0, 0],\n    ];\n    onDragGroup({ events }) {\n        events.forEach(({ target, beforeDelta }, i) => {\n            this.poses[i][0] += beforeDelta[0];\n            this.poses[i][1] += beforeDelta[1];\n\n            target.style.transform\n                = "translate("\n                + this.poses[i][0] + "px, "\n                + this.poses[i][1] + "px)";\n        });\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n    import { onMount } from "svelte";\n    let targets = [];\n    let translates = [];\n\n    onMount(() => {\n        targets = [].slice.call(document.querySelectorAll(".target"));\n        translates = targets.map(() => {\n            return [0, 0];\n        });\n    });\n<\/script>\n<div class="target">Target1</div>\n<div class="target">Target2</div>\n<div class="target">Target3</div>\n<Moveable\n    target={targets}\n    draggable={true}\n    on:dragGroup={({ detail: { events }}) => {\n        events.forEach(({ target, beforeDelta }, i) => {\n            translates[i][0] += beforeDelta[0];\n            translates[i][1] += beforeDelta[1];\n\n            target.style.transform\n                = "translate("\n                + translates[i][0] + "px, "\n                + translates[i][1] + "px)";\n        });\n    }}\n/>'}};function Jr(t,e,n){var r=1-n;return n*n*n+3*n*n*r*e+3*n*r*r*t}function Qr(n,r,i,a){function t(t){var e=function(t,e,n){for(var r=n,i=1;.001<Math.abs(i);){if(i=Jr(t,e,r)-n,Math.abs(i)<.001)return r;r-=i/2}return r}(n,i,Math.max(Math.min(1,t),0));return Jr(r,a,e)}return t.easingName="cubic-bezier("+n+","+r+","+i+","+a+")",t}function ti(n,r){function t(t){var e=1/n;return 1<=t?1:("start"===r?e:0)+Math.floor(t/e)*e}return t.easingName="steps("+n+", "+r+")",t}var ei,ni=ti(1,"start"),ri=ti(1,"end"),ii=Qr(0,0,1,1),ai=Qr(.25,.1,.25,1),oi=Qr(.42,0,1,1),si=Qr(0,0,.58,1),li=Qr(.42,0,.58,1),ui="animation-timing-function",ci={transform:{},filter:{},attribute:{},html:!0},fi={easing:[ui]},pi=((ei={})[ui]=!0,ei.contents=!0,ei.html=!0,ei),hi={linear:ii,ease:ai,"ease-in":oi,"ease-out":si,"ease-in-out":li,"step-start":ni,"step-end":ri},di=function(){function a(t,e){this.prefix="",this.suffix="",this.model="",this.type="",this.separator=",",e&&this.setOptions(e),this.value=G(t)?t.split(this.separator):t}var t=a.prototype;return t.setOptions=function(t){for(var e in t)this[e]=t[e];return this},t.size=function(){return this.value.length},t.get=function(t){return this.value[t]},t.set=function(t,e){return this.value[t]=e,this},t.clone=function(){var t=this.separator,e=this.prefix,n=this.suffix,r=this.model,i=this.type;return new a(this.value.map(function(t){return t instanceof a?t.clone():t}),{separator:t,prefix:e,suffix:n,model:r,type:i})},t.toValue=function(){return this.prefix+this.join()+this.suffix},t.join=function(){return this.value.map(function(t){return t instanceof a?t.toValue():t}).join(this.separator)},t.forEach=function(t){return this.value.forEach(t),this},a}();function gi(t){var e=h;return 3===t.length&&(t[3]=1),new di(t,{model:e,separator:",",type:"color",prefix:e+"(",suffix:")"})}function vi(t,e){return new di(t,{type:"array",separator:e})}function mi(t){if(!G(t))return V(t)?vi(t,","):t;var e=A(t);return 1<e.length?vi(e.map(function(t){return mi(t)}),","):1<(e=function(t){return t.match(/("[^"]*")|('[^']*')|([^\s()]*(?:\((?:[^()]*|\([^()]*\))*\))[^\s()]*)|\S+/g)||[]}(t)).length?vi(e.map(function(t){return mi(t)})," "):(e=/^(['"])([^'"]*)(['"])$/g.exec(t))&&e[1]===e[3]?new di([mi(e[2])],{prefix:e[1],suffix:e[1]}):-1!==t.indexOf("(")?function(t){var e=q(t),n=e.prefix,r=e.value,i=e.suffix;if(void 0===r)return t;if(-1!==v.indexOf(n))return gi(j(t));var a=mi(r),o=[r],s=",",l=n+"(",u=")"+i;return a instanceof di&&(s=a.separator,o=a.value,l+=a.prefix,u=a.suffix+u),new di(o,{separator:s,model:n,prefix:l,suffix:u})}(t):"#"===t.charAt(0)?function(t){var e=j(t);return e?gi(e):t}(t):t}function bi(t){return t instanceof di}function yi(t){var e=typeof t;if(e===S){if(V(t))return E;if(bi(t))return w}else if(e===M||e===C)return"value";return e}function _i(t,e){var n=[];if(function(t){return W(t)&&t.constructor===Object}(t))for(var r in t)e.push(r),n=n.concat(_i(t[r],e)),e.pop();else n.push(e.slice());return n}function xi(t,e,n){void 0===n&&(n=t.length);for(var r=e,i=0;i<n;++i){if(!W(r))return;r=r[t[i]]}return r}function wi(t,e,n){var r=e.length,i=t;if(0===r)return!1;for(var a=0;a<r;++a){if(!0===i)return!1;if(!(i=i[e[a]])||!n&&!0===i)return!1}return!0}function Ei(t,e){return wi(ci,t,e)}function Si(t){if(!t)return"";var e=[];for(var n in t)e.push(n.replace(/\d$/g,"")+"("+t[n]+")");return e.join(" ")}function Mi(t,e){return void 0===e&&(e=!1),Ci({},t,e)}function Ci(t,e,n){for(var r in void 0===n&&(n=!1),e){var i=e[r],a=yi(i);a===w?t[r]=n?i.toValue():i.clone():a===m?t[r]=n?Oi([r],i):i:a===E?t[r]=i.slice():a===S?W(t[r])&&!bi(t[r])?Ci(t[r],i,n):t[r]=Mi(i,n):t[r]=e[r]}return t}function Di(t){return t[0]in fi?fi[t[0]]:t}function Oi(t,e){var n=yi(e);if(n===w)return e.toValue();if(n===m){if(t[0]!==ui)return Oi(t,e())}else if(n===S)return Mi(e,!0);return e}var Pi,Ri,ki,zi,Gi,Ai=function(){function p(t){void 0===t&&(t={}),this.properties={},this.set(t)}var t=p.prototype;return t.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.raw.apply(this,t);return Oi(Di(t),n)},t.raw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xi(Di(t),this.properties)},t.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Di(t),r=n.length;if(!r)return this;var i=xi(n,this.properties,r-1);return W(i)&&delete i[n[r-1]],this},t.set=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this,r=t.length,i=t.slice(0,-1),a=t[r-1],o=i[0];if(1===r&&a instanceof p)n.merge(a);else if(o in fi)n._set(fi[o],a);else if(2===r&&V(o))n._set(o,a);else if(bi(a))Ei(i)?n.set.apply(n,i.concat([function e(t,n){void 0===n&&(n={});var r=t.model;if(r){t.setOptions({model:"",suffix:"",prefix:""});var i=1<t.size()?t:t.get(0);n[r]=i}else t.forEach(function(t){e(t,n)});return n}(a)])):n._set(i,a);else if(V(a))n._set(i,a);else if(W(a))for(var s in!n.has.apply(n,i)&&Ei(i)&&n._set(i,{}),a)n.set.apply(n,i.concat([s,a[s]]));else if(G(a)){if(Ei(i,!0)){if(function(t){return wi(pi,t,!0)}(i)||!Ei(i))this._set(i,a);else{var l=mi(a);W(l)&&n.set.apply(n,i.concat([l]))}return this}var u=function(t){for(var e=t.split(";"),n={},r=e.length,i=0;i<r;++i){var a=/([^:]*):([\S\s]*)/g.exec(e[i]);!a||a.length<3||!a[1]?--r:n[a[1].trim()]=mi(a[2].trim())}return{styles:n,length:r}}(a),c=u.styles,f=u.length;for(var s in c)n.set.apply(n,i.concat([s,c[s]]));if(f)return this;n._set(i,a)}else n._set(i,a);return n},t.getNames=function(){return _i(this.properties,[])},t.has=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Di(t),r=n.length;return!!r&&!L(xi(n,this.properties,r))},t.clone=function(){return(new p).merge(this)},t.merge=function(t){var e=this.properties,n=t.properties;return n&&Ci(e,n),this},t.toCSSObject=function(){var t=this.get(),e={};for(var n in t)if(!Ei([n],!0)){var r=t[n];n===ui?e[ui.replace("animation",z)]=(G(r)?r:r.easingName)||"initial":e[n]=r}var i=Si(t.transform),a=Si(t.filter);return R&&i&&(e[R]=i),k&&a&&(e[k]=a),e},t.toCSS=function(){var t=this.toCSSObject(),e=[];for(var n in t)e.push(n+":"+t[n]+";");return e.join("")},t._set=function(t,e){for(var n=this.properties,r=t.length,i=0;i<r-1;++i){var a=t[i];a in n||(n[a]={}),n=n[a]}r&&(1===t.length&&t[0]===ui?n[ui]=function(t){var e;if(G(t))if(t in hi)e=hi[t];else{var n=mi(t);if(G(n))return 0;if("cubic-bezier"===n.model)e=Qr((t=n.value.map(function(t){return parseFloat(t)}))[0],t[1],t[2],t[3]);else{if("steps"!==n.model)return 0;e=ti(parseFloat(n.value[0]),n.value[1])}}else e=V(t)?Qr(t[0],t[1],t[2],t[3]):t;return e}(e):n[t[r-1]]=G(e)?mi(e):e)},p}(),Ni={},Ti=[],ji=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function Xi(t,e){for(var n in e)t[n]=e[n];return t}function Yi(t){var e=t.parentNode;e&&e.removeChild(t)}function Fi(t,e,n){var r,i,a,o,s=arguments;if(e=Xi({},e),3<arguments.length)for(n=[n],r=3;r<arguments.length;r++)n.push(s[r]);if(null!=n&&(e.children=n),null!=t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===e[i]&&(e[i]=t.defaultProps[i]);return o=e.key,null!=(a=e.ref)&&delete e.ref,null!=o&&delete e.key,Ii(t,e,o,a)}function Ii(t,e,n,r){var i={type:t,props:e,key:n,ref:r,__k:null,__p:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return Pi.vnode&&Pi.vnode(i),i}function Bi(t){return t.children}function Li(t,e){this.props=t,this.context=e}function Wi(t,e){if(null==e)return t.__p?Wi(t.__p,t.__p.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?Wi(t):null}function qi(t){var e,n;if(null!=(t=t.__p)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return qi(t)}}function Hi(t){(!t.__d&&(t.__d=!0)&&1===Ri.push(t)||zi!==Pi.debounceRendering)&&(zi=Pi.debounceRendering,(Pi.debounceRendering||ki)(Ui))}function Ui(){var t,e,n,r,i,a,o;for(Ri.sort(function(t,e){return e.__v.__b-t.__v.__b});t=Ri.pop();)t.__d&&(r=n=void 0,a=(i=(e=t).__v).__e,(o=e.__P)&&(n=[],r=Qi(o,i,Xi({},i),e.__n,void 0!==o.ownerSVGElement,null,n,null==a?Wi(i):a),ta(n,i),r!=a&&qi(i)))}function Ki(e,n,t,r,i,a,o,s,l){var u,c,f,p,h,d,g,v=t&&t.__k||Ti,m=v.length;if(s==Ni&&(s=null!=a?a[0]:m?Wi(t,0):null),u=0,n.__k=Vi(n.__k,function(t){if(null!=t){if(t.__p=n,t.__b=n.__b+1,null===(f=v[u])||f&&t.key==f.key&&t.type===f.type)v[u]=void 0;else for(c=0;c<m;c++){if((f=v[c])&&t.key==f.key&&t.type===f.type){v[c]=void 0;break}f=null}if(p=Qi(e,t,f=f||Ni,r,i,a,o,s,l),(c=t.ref)&&f.ref!=c&&(g=g||[]).push(c,t.__c||p,t),null!=p){if(null==d&&(d=p),null!=t.__d)p=t.__d,t.__d=null;else if(a==f||p!=s||null==p.parentNode){t:if(null==s||s.parentNode!==e)e.appendChild(p);else{for(h=s,c=0;(h=h.nextSibling)&&c<m;c+=2)if(h==p)break t;e.insertBefore(p,s)}"option"==n.type&&(e.value="")}s=p.nextSibling,"function"==typeof n.type&&(n.__d=p)}}return u++,t}),n.__e=d,null!=a&&"function"!=typeof n.type)for(u=a.length;u--;)null!=a[u]&&Yi(a[u]);for(u=m;u--;)null!=v[u]&&na(v[u],v[u]);if(g)for(u=0;u<g.length;u++)ea(g[u],g[++u],g[++u])}function Vi(t,e,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)Vi(t[r],e,n);else n.push(e?e("string"==typeof t||"number"==typeof t?Ii(null,t,null,null):null!=t.__e||null!=t.__c?Ii(t.type,t.props,t.key,null):t):t);return n}function $i(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===ji.test(e)?n+"px":null==n?"":n}function Zi(t,e,n,r,i){var a,o,s,l,u;if("key"===(e=i?"className"===e?"class":e:"class"===e?"className":e)||"children"===e);else if("style"===e)if(a=t.style,"string"==typeof n)a.cssText=n;else{if("string"==typeof r&&(a.cssText="",r=null),r)for(o in r)n&&o in n||$i(a,o,"");if(n)for(s in n)r&&n[s]===r[s]||$i(a,s,n[s])}else"o"===e[0]&&"n"===e[1]?(l=e!==(e=e.replace(/Capture$/,"")),e=((u=e.toLowerCase())in t?u:e).slice(2),n?(r||t.addEventListener(e,Ji,l),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,Ji,l)):"list"!==e&&"tagName"!==e&&"form"!==e&&!i&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n?t.removeAttribute(e):t.setAttribute(e,n))}function Ji(t){this.l[t.type](Pi.event?Pi.event(t):t)}function Qi(t,e,n,r,i,a,o,s,l){var u,c,f,p,h,d,g,v,m,b,y=e.type;if(void 0!==e.constructor)return null;(u=Pi.__b)&&u(e);try{t:if("function"==typeof y){if(v=e.props,m=(u=y.contextType)&&r[u.__c],b=u?m?m.props.value:u.__p:r,n.__c?g=(c=e.__c=n.__c).__p=c.__E:("prototype"in y&&y.prototype.render?e.__c=c=new y(v,b):(e.__c=c=new Li(v,b),c.constructor=y,c.render=ra),m&&m.sub(c),c.props=v,c.state||(c.state={}),c.context=b,c.__n=r,f=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=y.getDerivedStateFromProps&&Xi(c.__s==c.state?c.__s=Xi({},c.__s):c.__s,y.getDerivedStateFromProps(v,c.__s)),p=c.props,h=c.state,f)null==y.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==y.getDerivedStateFromProps&&null==c.__e&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,b),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,b)){for(c.props=v,c.state=c.__s,c.__d=!1,(c.__v=e).__e=n.__e,e.__k=n.__k,u=0;u<e.__k.length;u++)e.__k[u]&&(e.__k[u].__p=e);break t}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,b),null!=c.componentDidUpdate&&c.__h.push(function(){c.componentDidUpdate(p,h,d)})}c.context=b,c.props=v,c.state=c.__s,(u=Pi.__r)&&u(e),c.__d=!1,c.__v=e,c.__P=t,u=c.render(c.props,c.state,c.context),e.__k=Vi(null!=u&&u.type==Bi&&null==u.key?u.props.children:u),null!=c.getChildContext&&(r=Xi(Xi({},r),c.getChildContext())),f||null==c.getSnapshotBeforeUpdate||(d=c.getSnapshotBeforeUpdate(p,h)),Ki(t,e,n,r,i,a,o,s,l),c.base=e.__e,c.__h.length&&o.push(c),g&&(c.__E=c.__p=null),c.__e=null}else e.__e=function(t,e,n,r,i,a,o,s){var l,u,c,f,p,h=n.props,d=e.props;if(i="svg"===e.type||i,null==t&&null!=a)for(l=0;l<a.length;l++)if(null!=(u=a[l])&&(null===e.type?3===u.nodeType:u.localName===e.type)){t=u,a[l]=null;break}if(null==t){if(null===e.type)return document.createTextNode(d);t=i?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),a=null}if(null===e.type)null!=a&&(a[a.indexOf(t)]=null),h!==d&&(t.data=d);else if(e!==n){if(null!=a&&(a=Ti.slice.call(t.childNodes)),c=(h=n.props||Ni).dangerouslySetInnerHTML,f=d.dangerouslySetInnerHTML,!s){if(h===Ni)for(h={},p=0;p<t.attributes.length;p++)h[t.attributes[p].name]=t.attributes[p].value;(f||c)&&(f&&c&&f.__html==c.__html||(t.innerHTML=f&&f.__html||""))}(function(t,e,n,r,i){var a;for(a in n)a in e||Zi(t,a,null,n[a],r);for(a in e)i&&"function"!=typeof e[a]||"value"===a||"checked"===a||n[a]===e[a]||Zi(t,a,e[a],n[a],r)})(t,d,h,i,s),e.__k=e.props.children,f||Ki(t,e,n,r,"foreignObject"!==e.type&&i,a,o,Ni,s),s||("value"in d&&void 0!==d.value&&d.value!==t.value&&(t.value=null==d.value?"":d.value),"checked"in d&&void 0!==d.checked&&d.checked!==t.checked&&(t.checked=d.checked))}return t}(n.__e,e,n,r,i,a,o,l);(u=Pi.diffed)&&u(e)}catch(t){Pi.__e(t,e,n)}return e.__e}function ta(t,e){Pi.__c&&Pi.__c(e,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(t){t.call(e)})}catch(t){Pi.__e(t,e.__v)}})}function ea(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){Pi.__e(t,n)}}function na(t,e,n){var r,i,a;if(Pi.unmount&&Pi.unmount(t),(r=t.ref)&&ea(r,null,e),n||"function"==typeof t.type||(n=null!=(i=t.__e)),t.__e=t.__d=null,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){Pi.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(a=0;a<r.length;a++)r[a]&&na(r[a],e,n);null!=i&&Yi(i)}function ra(t,e,n){return this.constructor(t,n)}function ia(t,e,n){var r,i,a;Pi.__p&&Pi.__p(t,e),i=(r=n===Gi)?null:n&&n.__k||e.__k,t=Fi(Bi,null,[t]),a=[],Qi(e,(r?e:n||e).__k=t,i||Ni,Ni,void 0!==e.ownerSVGElement,n&&!r?[n]:i?null:Ti.slice.call(e.childNodes),a,n||Ni,r),ta(a,t)}Pi={},Li.prototype.setState=function(t,e){var n=this.__s!==this.state&&this.__s||(this.__s=Xi({},this.state));"function"==typeof t&&!(t=t(n,this.props))||Xi(n,t),null!=t&&this.__v&&(this.__e=!1,e&&this.__h.push(e),Hi(this))},Li.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Hi(this))},Li.prototype.render=Bi,Ri=[],ki="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,zi=Pi.debounceRendering,Pi.__e=function(t,e,n){for(var r;e=e.__p;)if((r=e.__c)&&!r.__p)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError)r.setState(r.constructor.getDerivedStateFromError(t));else{if(null==r.componentDidCatch)continue;r.componentDidCatch(t)}return Hi(r.__E=r)}catch(e){t=e}throw t},Gi=Ni;var aa,oa=[],sa=Pi.__r;Pi.__r=function(t){sa&&sa(t),(aa=t.__c).__H&&(aa.__H.t.forEach(da),aa.__H.t.forEach(ga),aa.__H.t=[])};var la=Pi.diffed;Pi.diffed=function(t){la&&la(t);var e=t.__c;if(e){var n=e.__H;n&&n.t.length&&fa(oa.push(e))}};var ua=Pi.__c;Pi.__c=function(t,e){e.some(function(t){t.__h.forEach(da),t.__h=t.__h.filter(function(t){return!t.u||ga(t)})}),ua&&ua(t,e)};var ca=Pi.unmount;Pi.unmount=function(t){ca&&ca(t);var e=t.__c;if(e){var n=e.__H;n&&n.i.forEach(function(t){return t.m&&t.m()})}};var fa=function(){};function pa(){oa.some(function(t){t.__P&&(t.__H.t.forEach(da),t.__H.t.forEach(ga),t.__H.t=[])}),oa=[]}if("undefined"!=typeof window){var ha=Pi.requestAnimationFrame;fa=function(t){1!==t&&ha===Pi.requestAnimationFrame||((ha=Pi.requestAnimationFrame)||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(pa)}}function da(t){t.m&&t.m()}function ga(t){var e=t.u();"function"==typeof e&&(t.m=e)}var va=Pi.__e;Pi.__e=function(t,e,n){if(t.then&&n)for(var r,i=e;i=i.__p;)if((r=i.__c)&&r.o)return n&&(e.__e=n.__e,e.__k=n.__k),void r.o(t);va(t,e,n)},(new Li).o=function(t){var e=this;e.__u.push(t);function n(){e.__u[e.__u.indexOf(t)]=e.__u[e.__u.length-1],e.__u.pop(),0==e.__u.length&&(e.__f&&na(e.__f),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.__f=e.__f&&function(t,e){return e=Xi(Xi({},t.props),e),2<arguments.length&&(e.children=Ti.slice.call(arguments,2)),Ii(t.type,e,e.key||t.key,e.ref||t.ref)}(e.__f),e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?(i=r.__e,a=void 0,(a=i.parentNode)&&a.removeChild(i)):r.__k&&t(r.__k))}var i,a}(e.__v.__k),e.__v.__k=[]),t.then(n,n)};var ma="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ba=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,ya=Pi.event;Pi.event=function(t){return ya&&(t=ya(t)),t.persist=function(){},t.nativeEvent=t};var _a=function(){};function xa(t){var e=this,n=t.container,r=Fi(_a,{context:e.context},t.vnode);return e.i&&e.i!==n&&(e.l.parentNode&&e.i.removeChild(e.l),na(e.s),e.v=!1),t.vnode?e.v?(n.__k=e.__k,ia(r,n),e.__k=n.__k):(e.l=document.createTextNode(""),function(t,e){ia(t,e,Gi)}("",n),n.appendChild(e.l),e.v=!0,ia(r,e.i=n,e.l),e.__k=this.l.__k):e.v&&(e.l.parentNode&&e.i.removeChild(e.l),na(e.s)),e.s=r,e.componentWillUnmount=function(){e.l.parentNode&&e.i.removeChild(e.l),na(e.s)},null}function wa(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Fi.apply(void 0,t),r=n.type,i=n.props;return"function"!=typeof r&&(i.defaultValue&&(i.value||0===i.value||(i.value=i.defaultValue),delete i.defaultValue),Array.isArray(i.value)&&i.multiple&&"select"===r&&(Vi(i.children).forEach(function(t){-1!=i.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete i.value),function(t,e){var n,r,i;for(i in e)if(n=ba.test(i))break;if(n)for(i in r=t.props={},e)r[ba.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=e[i]}(n,i)),n.preactCompatNormalized=!1,function(e){return e.preactCompatNormalized=!0,function(){var t=e.props;(t.class||t.className)&&(Ea.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",Ea))}(),e}(n)}_a.prototype.getChildContext=function(){return this.props.context},_a.prototype.render=function(t){return t.children};var Ea={configurable:!0,get:function(){return this.class}};function Sa(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}var Ma,Ca=((Ma=Li)&&(Da.__proto__=Ma),((Da.prototype=Object.create(Ma&&Ma.prototype)).constructor=Da).prototype.shouldComponentUpdate=function(t,e){return Sa(this.props,t)||Sa(this.state,e)},Da);function Da(t){Ma.call(this,t),this.isPureReactComponent=!0}function Oa(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}Li.prototype.isReactComponent={};var Pa=Pi.vnode;Pi.vnode=function(a){a.$$typeof=ma,function(){var t=a.type,e=a.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var i=n.oninput||"oninput";e[i]||(e[i]=e[n.onchange],delete e[n.onchange])}}}();var t=a.type;t&&t.t&&a.ref&&(a.props.ref=a.ref,a.ref=null),"function"==typeof t&&!t.p&&t.prototype&&(Oa(t.prototype,"componentWillMount"),Oa(t.prototype,"componentWillReceiveProps"),Oa(t.prototype,"componentWillUpdate"),t.p=!0),Pa&&Pa(a)};var Ra=function(t,e){return(Ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var ka=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPos:0},t.width=0,t.height=0,t}!function(t,e){function n(){this.constructor=t}Ra(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e);var n=t.prototype;return n.render=function(){return wa("canvas",{ref:p(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var t=this.canvasElement.getContext("2d");this.canvasContext=t,this.resize()},n.componentDidUpdate=function(){this.resize()},n.scroll=function(t){this.draw(t)},n.resize=function(){var t=this.canvasElement,e=this.props,n=e.width,r=e.height;this.width=n||t.offsetWidth,this.height=r||t.offsetHeight,t.width=2*this.width,t.height=2*this.height,this.draw()},n.draw=function(t){void 0===t&&(t=this.state.scrollPos);var e=this.props,n=e.unit,r=e.zoom,i=e.type,a=e.backgroundColor,o=e.lineColor,s=this.width,l=this.height;this.state.scrollPos=t;var u=this.canvasContext,c="horizontal"===i;u.rect(0,0,2*s,2*l),u.fillStyle=a,u.fill(),u.save(),u.scale(2,2),u.strokeStyle=o,u.lineWidth=1,u.font="10px sans-serif",u.fillStyle="#ffffff",u.translate(.5,0),u.beginPath();for(var f=c?s:l,p=r*n,h=Math.floor(t*r/p),d=Math.ceil((t*r+f)/p)-h,g=0;g<d;++g){var v=((g+h)*n-t)*r;if(-p<=v&&v<f){var m=c?3+v:s-18,b=c?l-18:v-4;c?u.fillText(""+(g+h)*n,m,b):(u.save(),u.translate(m,b),u.rotate(-Math.PI/2),u.fillText(""+(g+h)*n,0,0),u.restore())}for(var y=0;y<10;++y){var _=v+y/10*p;if(!(_<0||f<=_)){var x=0===y?c?l:s:y%2==0?10:7,w=c?_:s-x,E=c?_:s,S=c?l-x:_,M=c?l:_;u.moveTo(w,S),u.lineTo(E,M)}}}u.stroke(),u.restore()},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,style:{width:"100%",height:"100%"},backgroundColor:"#333333",lineColor:"#777777"},t}(Ca),za=function(){return(za=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ga(t,e,n,r){var i=Fa(t),a=Fa(e),o=Fa(r);return Na(Ia(r[0],Ba(i,o)),Ia(r[0],Ba(a,o)),n[0])}function Aa(t){return t.touches?Xa(t.touches):[Ya(t)]}function Na(t,e,n){var r=t.clientX,i=t.clientY;return{clientX:r,clientY:i,deltaX:r-e.clientX,deltaY:i-e.clientY,distX:r-n.clientX,distY:i-n.clientY}}function Ta(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function ja(t,n,r){return t.map(function(t,e){return Na(t,n[e],r[e])})}function Xa(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(Ya(t[r]));return n}function Ya(t){return{clientX:t.clientX,clientY:t.clientY}}function Fa(t){return{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function Ia(t,e){return{clientX:t.clientX+e.clientX,clientY:t.clientY+e.clientY}}function Ba(t,e){return{clientX:t.clientX-e.clientX,clientY:t.clientY-e.clientY}}var La=function(){function t(t,e){var a=this;void 0===e&&(e={}),this.el=t,this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.onDragStart=function(t){if(a.flag||!1!==t.cancelable){if(function(t){return t.touches&&2<=t.touches.length}(t)){if(!a.flag&&t.touches.length!==t.changedTouches.length)return;a.pinchFlag||a.onPinchStart(t)}if(!a.flag){var e=a.startClients[0]?a.startClients:Aa(t);a.customDist=[0,0],a.flag=!0,a.isDrag=!1,a.startClients=e,a.prevClients=e,a.datas={};var n=Na(e[a.movement=0],a.prevClients[0],a.startClients[0]),r=a.options,i=r.dragstart;(r.preventRightClick&&3===t.which||!1===(i&&i(za({datas:a.datas,inputEvent:t},n))))&&(a.startClients=[],a.prevClients=[],a.flag=!1),a.flag&&t.preventDefault()}}},this.onDrag=function(t,e){if(a.flag){var n=Aa(t);a.pinchFlag&&a.onPinch(t,n);var r=a.move([0,0],t,n);if(r&&(r.deltaX||r.deltaY)){var i=a.options.drag;i&&i(za({},r,{isScroll:!!e,inputEvent:t}))}}},this.onDragEnd=function(t){if(a.flag){a.pinchFlag&&a.onPinchEnd(t),a.flag=!1;var e=a.options.dragend,n=a.prevClients,r=a.startClients,i=a.pinchFlag?Ga(n,n,r,a.startPinchClients):Na(n[0],n[0],r[0]);a.startClients=[],a.prevClients=[],e&&e(za({datas:a.datas,isDrag:a.isDrag,inputEvent:t},i))}},this.options=za({container:t,preventRightClick:!0,pinchThreshold:0,events:["touch","mouse"]},e);var n=this.options,r=n.container,i=n.events;if(this.isTouch=-1<i.indexOf("touch"),this.isMouse=-1<i.indexOf("mouse"),this.customDist=[0,0],this.isMouse&&(I(t,"mousedown",this.onDragStart),I(r,"mousemove",this.onDrag),I(r,"mouseup",this.onDragEnd)),this.isTouch){var o={passive:!1};I(t,"touchstart",this.onDragStart,o),I(r,"touchmove",this.onDrag,o),I(r,"touchend",this.onDragEnd,o)}}var e=t.prototype;return e.isDragging=function(){return this.isDrag},e.isPinching=function(){return this.isPinch},e.scrollBy=function(e,n,t,r){void 0===r&&(r=!0),this.flag&&(this.startClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),this.prevClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),r&&this.onDrag(t,!0))},e.move=function(t,e,n){var r=t[0],i=t[1];void 0===n&&(n=this.prevClients);var a=this.customDist,o=this.prevClients,s=this.startClients,l=this.pinchFlag?Ga(n,o,s,this.startPinchClients):Na(n[0],o[0],s[0]);a[0]+=r,a[1]+=i,l.deltaX+=r,l.deltaY+=i;var u=l.deltaX,c=l.deltaY;return l.distX+=a[0],l.distY+=a[1],this.movement+=Math.sqrt(u*u+c*c),this.prevClients=n,this.isDrag=!0,za({datas:this.datas},l,{isScroll:!1,inputEvent:e})},e.onPinchStart=function(t){var e,n,r=this.options,i=r.pinchstart,a=r.pinchThreshold;if(!(this.isDrag&&this.movement>a)){var o=Xa(t.changedTouches);if(this.pinchFlag=!0,(e=this.startClients).push.apply(e,o),(n=this.prevClients).push.apply(n,o),this.startDistance=Ta(this.prevClients),this.startPinchClients=this.prevClients.slice(),i){var s=this.prevClients,l=Fa(s),u=Na(l,l,l);i(za({datas:this.datas,touches:ja(s,s,s)},u,{inputEvent:t}))}}},e.onPinch=function(t,e){if(this.flag&&this.pinchFlag){this.isPinch=!0;var n=this.options.pinch;if(n){var r=this.prevClients,i=this.startClients,a=Na(Fa(e),Fa(r),Fa(i)),o=Ta(e);n(za({datas:this.datas,touches:ja(e,r,i),scale:o/this.startDistance,distance:o},a,{inputEvent:t}))}}},e.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var r=this.prevClients,i=this.startClients,a=Na(Fa(r),Fa(r),Fa(i));n(za({datas:this.datas,isPinch:e,touches:ja(r,r,i)},a,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},e.unset=function(){var t=this.el,e=this.options.container;this.isMouse&&(B(t,"mousedown",this.onDragStart),B(e,"mousemove",this.onDrag),B(e,"mouseup",this.onDragEnd)),this.isTouch&&(B(t,"touchstart",this.onDragStart),B(e,"touchmove",this.onDrag),B(e,"touchend",this.onDragEnd))},t}();var Wa=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function qa(i){var a,o="rCS"+function(t){return Wa(t).toString(36)}(i),s=0;return{className:o,inject:function(t){var e,n=function(t){if(t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(t),r=0===s;return(n||r)&&(e=function(n,t,e){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerHTML=t.replace(/([^}{]*){/gm,function(t,e){return A(e).map(function(t){return-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+n):"."+n+" "+t}).join(", ")+"{"}),(e||document.head||document.body).appendChild(r),r}(o,i)),r&&(a=e),n||++s,{destroy:function(){n?(t.removeChild(e),e=null):(0<s&&--s,0===s&&a&&(a.parentNode.removeChild(a),a=null))}}}}}var Ha=function(t,e){return(Ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Ua=function(){return(Ua=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var Ka=function(t,e){return(Ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Va(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(t){return t.split(" ").map(function(t){return t?""+e+t:""}).join(" ")}).join(" ")}.apply(void 0,["scena-"].concat(t))}Va("ruler");var $a,Za,Ja,Qa=Va("guide","adder"),to=Va("guides"),eo=Va("guide"),no=Va("dragging"),ro=($a="div",Za='\n{\n    position: relative;\n}\ncanvas {\n    position: relative;\n}\n.guides {\n    position: absolute;\n    top: 0;\n    left: 0;\n    will-change: transform;\n    z-index: 2000;\n}\n:host.horizontal .guides {\n    width: 100%;\n    height: 0;\n    top: 30px;\n}\n:host.vertical .guides {\n    height: 100%;\n    width: 0;\n    left: 30px;\n}\n.guide {\n    position: absolute;\n    background: #f33;\n    z-index: 2;\n}\n.guide.dragging:before {\n    position: absolute;\n    content: "";\n    width: 100%;\n    height: 100%;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n:host.horizontal .guide {\n    width: 100%;\n    height: 1px;\n    cursor: row-resize;\n}\n:host.vertical .guide {\n    width: 1px;\n    height: 100%;\n    cursor: col-resize;\n}\n.mobile :host.horizontal .guide {\n    transform: scale(1, 2);\n}\n.mobile :host.vertical .guide {\n    transform: scale(2, 1);\n}\n:host.horizontal .guide:before {\n    height: 20px;\n}\n:host.vertical .guide:before {\n    width: 20px;\n}\n.adder {\n    display: none;\n}\n.adder.dragging {\n    display: block;\n}\n'.replace(/\.([^{,\s\d.]+)/g,"."+"scena-"+"$1"),Ja=qa(Za),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function n(){this.constructor=t}Ha(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=void 0===e?"":e,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["className"]);return wa($a,Ua({ref:function(e,n){return function(t){t&&(e[n]=t)}}(this,"element"),className:n+" "+Ja.className},r))},e.prototype.componentDidMount=function(){this.injectResult=Ja.inject(this.element)},e.prototype.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},e.prototype.getElement=function(){return this.element},e}(Li)),io=function(t){function e(){var u=null!==t&&t.apply(this,arguments)||this;return u.state={guides:[]},u.scrollPos=0,u.guideElements=[],u.onDragStart=function(t){var e=t.datas,n=t.clientX,r=t.clientY,i=t.inputEvent,a="horizontal"===u.props.type,o=u.guidesElement.getBoundingClientRect();e.offset=a?o.top:o.left,Y(e.target,no),u.onDrag({datas:e,clientX:n,clientY:r}),i.stopPropagation(),i.preventDefault()},u.onDrag=function(t){var e=t.datas,n=t.clientX,r=t.clientY,i="horizontal"===u.props.type,a=Math.round((i?r:n)-e.offset);return e.target.style.transform=u.getTranslateName()+"("+a+"px)",a},u.onDragEnd=function(t){var e=t.datas,n=t.clientX,r=t.clientY,i=u.onDrag({datas:e,clientX:n,clientY:r}),a=u.state.guides,o=u.props.setGuides,s=Math.round(i/u.props.zoom);if(F(e.target,no),e.fromRuler)i>=u.scrollPos&&a.indexOf(s)<0&&u.setState({guides:a.concat([s])},function(){o(u.state.guides)});else{var l=e.target.getAttribute("data-index");i<u.scrollPos||-1<a.indexOf(s)?a.splice(l,1):a[l]=s,u.setState({guides:a.slice()},function(){o(u.state.guides)})}},u}!function(t,e){function n(){this.constructor=t}Ka(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.className,n=t.type,r=t.width,i=t.height,a=t.unit,o=t.zoom,s=t.style,l=t.rulerStyle,u=t.backgroundColor,c=t.lineColor,f=t.textColor;return wa(ro,{ref:p(this,"manager"),className:Va("manager",n)+" "+e,style:s},wa(ka,{ref:p(this,"ruler"),type:n,width:r,height:i,unit:a,zoom:o,backgroundColor:u,lineColor:c,style:l,textColor:f}),wa("div",{className:to,ref:p(this,"guidesElement")},wa("div",{className:Qa,ref:p(this,"adderElement")}),this.renderGuides()))},n.renderGuides=function(){var n=this,t=this.props,r=t.type,i=t.zoom,a="horizontal"===r?"translateY":"translateX",e=this.state.guides;return this.guideElements=[],e.map(function(t,e){return wa("div",{className:Va("guide",r),ref:function(e,n,r){return function(t){t&&(e[n][r]=t)}}(n,"guideElements",e),key:e,"data-index":e,style:{transform:a+"("+t*i+"px)"}})})},n.componentDidMount=function(){var r=this;this.dragger=new La(this.manager.getElement(),{container:document.body,dragstart:function(t){var e=t.inputEvent.target,n=t.datas;if(e===r.ruler.canvasElement)t.datas.fromRuler=!0,n.target=r.adderElement;else{if(!X(e,eo))return!1;n.target=e}r.onDragStart(t)},drag:this.onDrag,dragend:this.onDragEnd})},n.componentWillUnmount=function(){this.dragger.unset()},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(n){var t=this.props.zoom,e=this.guidesElement;this.scrollPos=n,e.style.transform=this.getTranslateName()+"("+-n*t+"px)";var r=this.state.guides;this.guideElements.forEach(function(t,e){t&&(t.style.display=-n+r[e]<0?"none":"block")})},n.resize=function(){this.ruler.resize()},n.scroll=function(t){this.ruler.scroll(t)},n.getTranslateName=function(){return"horizontal"===this.props.type?"translateY":"translateX"},e.defaultProps={className:"",type:"horizontal",setGuides:function(){},zoom:1,style:{width:"100%",height:"100%"}},e}(Ca),ao=function(t,e){return(ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var oo=function(){return(oo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var so=["setGuides","type","width","height","rulerStyle","unit","zoom","style","backgroundColor","lineColor","container","className","textColor"],lo=function(n){function t(t){var e=n.call(this,t)||this;return e.state={},e.state=e.props,e}return function(t,e){function n(){this.constructor=t}ao(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,n),t.prototype.render=function(){var t=this.state,e=t.container,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["container"]);return function(t,e){return Fi(xa,{vnode:t,container:e})}(Fi(io,oo({ref:p(this,"preactGuides")},n)),e)},t}(Li),uo=function(){function t(t,e){void 0===e&&(e={}),this.tempElement=document.createElement("div"),ia(Fi(lo,oo({ref:p(this,"innerGuides")},e,{container:t})),this.tempElement)}var e=t.prototype;return e.scroll=function(t){this.getPreactGuides().scroll(t)},e.scrollGuides=function(t){this.getPreactGuides().scrollGuides(t)},e.resize=function(){this.getPreactGuides().resize()},e.getGuides=function(){return this.getPreactGuides().getGuides()},e.setState=function(t,e){this.innerGuides.setState(t,e)},e.destroy=function(){ia("",this.tempElement),this.tempElement=null,this.innerGuides=null},e.getPreactGuides=function(){return this.innerGuides.preactGuides},t=function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(o=(a<3?i(o):3<a?i(e,n,o):i(e,n))||o);return 3<a&&o&&Object.defineProperty(e,n,o),o}([a(so,function(t,n){Object.defineProperty(t,n,{get:function(){return this.getPreactGuides().props[n]},set:function(t){var e;this.innerGuides.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})})],t)}(),co=function(t,e){return(co=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var fo,po=(function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return o[t];var n,r=String(t);return(n=i[r.toLowerCase()])?n:(n=a[r.toLowerCase()])||(1===r.length?r.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var r;if(r=i[e.toLowerCase()])return r===n;if(r=a[e.toLowerCase()])return r===n}else if("number"==typeof e)return e===n;return!1}};var i=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(r=97;r<123;r++)i[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)i[r-48]=r;for(r=1;r<13;r++)i["f"+r]=r+111;for(r=0;r<10;r++)i["numpad "+r]=r+96;var o=e.names=e.title={};for(r in i)o[i[r]]=r;for(var s in a)i[s]=a[s]}(fo={exports:{}},fo.exports),fo.exports),ho=(po.code,po.codes,po.aliases,po.names);po.title;function go(t){return Array.isArray(t)}function vo(t){return"string"==typeof t}function mo(t,e,n,r){t.addEventListener(e,n,r)}var bo,yo={"+":"plus","left command":"meta","right command":"meta"},_o={shift:1,ctrl:2,alt:3,meta:4};function xo(t){var e=ho[t]||"";for(var n in yo)e=e.replace(n,yo[n]);return e.replace(/\s/g,"")}function wo(t){var e=t.slice();return e.sort(function(t,e){return(_o[t]||5)-(_o[e]||5)}),e}var Eo=function(n){function t(t){void 0===t&&(t=window);var e=n.call(this)||this;return e.ctrlKey=!1,e.altKey=!1,e.shiftKey=!1,e.metaKey=!1,e.clear=function(){return e.ctrlKey=!1,e.altKey=!1,e.shiftKey=!1,e.metaKey=!1,e},e.keydownEvent=function(t){e.triggerEvent("keydown",t)},e.keyupEvent=function(t){e.triggerEvent("keyup",t)},mo(t,"blur",e.clear),mo(t,"keydown",e.keydownEvent),mo(t,"keyup",e.keyupEvent),e}!function(t,e){function n(){this.constructor=t}co(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,n);var e=t.prototype;return Object.defineProperty(t,"global",{get:function(){return bo=bo||new t},enumerable:!0,configurable:!0}),e.keydown=function(t,e){return this.addEvent("keydown",t,e)},e.offKeydown=function(t,e){return this.removeEvent("keydown",t,e)},e.offKeyup=function(t,e){return this.removeEvent("keyup",t,e)},e.keyup=function(t,e){return this.addEvent("keyup",t,e)},e.addEvent=function(t,e,n){return go(e)?this.on(t+"."+wo(e).join("."),n):vo(e)?this.on(t+"."+e,n):this.on(t,e),this},e.removeEvent=function(t,e,n){return go(e)?this.off(t+"."+wo(e).join("."),n):vo(e)?this.off(t+"."+e,n):this.off(t,e),this},e.triggerEvent=function(t,e){this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey;var n=xo(e.keyCode),r={key:n,isToggle:"ctrl"===n||"shift"===n||"meta"===n||"alt"===n,inputEvent:e,keyCode:e.keyCode,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey};this.trigger(t,r),this.trigger(t+"."+n,r);var i=function(t,e){void 0===e&&(e=xo(t.keyCode));var n=[t.shiftKey&&"shift",t.ctrlKey&&"ctrl",t.altKey&&"alt",t.metaKey&&"meta"];return-1===n.indexOf(e)&&n.push(e),n.filter(Boolean)}(e,n);1<i.length&&this.trigger(t+"."+i.join("."),r)},t}(t),So=At();(So.isMobile||-1<So.os.name.indexOf("ios")||-1<So.browser.name.indexOf("safari"))&&Y(document.body,"mobile");var Mo=document.querySelector(".editor"),Co=document.querySelector(".label"),Do=document.querySelector(".rulers"),Oo=Do.querySelector(".ruler.horizontal"),Po=Do.querySelector(".ruler.vertical"),Ro=document.querySelector('.control input[name="x"]'),ko=document.querySelector('.control input[name="y"]'),zo=document.querySelector('.control input[name="w"]'),Go=document.querySelector('.control input[name="h"]'),Ao=document.querySelector('.control input[name="r"]'),No=document.querySelector(".moveable.target"),To=new Ai({left:"0px",top:"0px",width:"250px",height:"200px",transform:{translateX:window.innerWidth/2-125+"px",translateY:Math.max(700,window.innerHeight)/2-250+"px",rotate:"0deg",scaleX:1,scaleY:1}});function jo(t,e){function n(){e(t.value),Yo(),Io.updateRect()}new Eo(t).keyup("enter",n),t.addEventListener("blur",n)}function Xo(t){To.set("transform","translateX",t[0]+"px"),To.set("transform","translateY",t[1]+"px"),Ro.value=""+t[0],ko.value=""+t[1]}function Yo(){No.style.cssText+=To.toCSS()}jo(Ro,function(t){To.set("transform","translateX",parseFloat(t)+"px")}),jo(ko,function(t){To.set("transform","translateY",parseFloat(t)+"px")}),jo(zo,function(t){To.set("width",parseFloat(t)+"px")}),jo(Go,function(t){To.set("height",parseFloat(t)+"px")}),jo(Ao,function(t){To.set("transform","rotate",parseFloat(t)+"deg")}),Ro.value=""+parseFloat(To.get("transform","translateX")),ko.value=""+parseFloat(To.get("transform","translateY")),Yo();var Fo=!1,Io=new $r(Mo,{target:No,draggable:!0,resizable:!0,rotatable:!0,snappable:!0,pinchable:!0,snapCenter:!0,snapThreshold:10,throttleResize:0,throttleRotate:1,keepRatio:!1,origin:!1,bounds:{left:30,top:30}}).on("dragStart",function(t){(0,t.set)([parseFloat(To.get("transform","translateX")),parseFloat(To.get("transform","translateY"))])}).on("drag",function(t){Xo(t.beforeTranslate)}).on("rotateStart",function(t){(0,t.set)(parseFloat(To.get("transform","rotate")))}).on("rotate",function(t){var e=t.beforeRotate,n=t.clientX,r=t.clientY,i=t.isPinch;To.set("transform","rotate",e+"deg"),Ao.value=e+"",i||qo(n,r,e+"")}).on("resizeStart",function(t){var e=t.setOrigin,n=t.dragStart;e(["%","%"]),n&&n.set([parseFloat(To.get("transform","translateX")),parseFloat(To.get("transform","translateY"))])}).on("resize",function(t){var e=t.width,n=t.height,r=t.drag,i=t.clientX,a=t.clientY,o=t.isPinch;To.set("width",e+"px"),To.set("height",n+"px"),Xo(r.beforeTranslate),zo.value=""+e,Go.value=""+n,o||qo(i,a,e+" X "+n)}).on("pinchStart",function(){Fo=!0}).on("pinch",function(t){Wo(t.clientX,t.clientY)}).on("render",function(){Fo&&(Co.innerHTML="W: "+parseFloat(To.get("width"))+"<br/>H: "+parseFloat(To.get("height"))+"<br/>R: "+parseFloat(To.get("transform","rotate"))+""),Yo()}).on("renderEnd",function(){Fo=!1,Co.style.display="none"}),Bo=new uo(Oo,{type:"horizontal",setGuides:Ho,backgroundColor:"#444444"}),Lo=new uo(Po,{type:"vertical",setGuides:Ho,backgroundColor:"#444444"});function Wo(t,e){Co.style.cssText="display: block; transform: translate("+t+"px, "+(e-10)+"px) translate(-100%, -100%);"}function qo(t,e,n){Wo(t,e),Co.innerHTML=n}function Ho(){var t=window.innerWidth/2+15,e=window.innerHeight/2;Io.verticalGuidelines=n(Lo.getGuides().map(function(t){return t+30}),[t]),Io.horizontalGuidelines=n(Bo.getGuides().map(function(t){return t+30}),[e])}function Uo(t){t?(Io.throttleRotate=30,Io.throttleDragRotate=45,Io.keepRatio=!0):(Io.throttleRotate=1,Io.throttleDragRotate=0,Io.keepRatio=!1)}Eo.global.on("keydown",function(t){Uo(t.shiftKey)}).on("keyup",function(t){Uo(t.shiftKey)}),window.addEventListener("resize",function(){Ho(),Io.updateRect(),Bo.resize(),Lo.resize()}),document.body.addEventListener("gesturestart",function(t){t.preventDefault()}),Ho();var Ko=document.querySelector(".draggable"),Vo=new $r(Ko.parentElement,{target:Ko,origin:!1,draggable:!0}).on("drag",function(t){var e=t.target,n=t.transform;e.style.transform=n}),$o=document.querySelector(".resizable"),Zo=new $r($o.parentElement,{target:$o,origin:!1,resizable:!0}).on("resize",function(t){var e=t.target,n=t.width,r=t.height;e.style.width=n+"px",e.style.height=r+"px"}),Jo=document.querySelector(".scalable"),Qo=new $r(Jo.parentElement,{target:Jo,origin:!1,scalable:!0}).on("scale",function(t){var e=t.target,n=t.transform;e.style.transform=n}),ts=document.querySelector(".rotatable"),es=new $r(ts.parentElement,{target:ts,origin:!1,rotatable:!0}).on("rotate",function(t){var e=t.target,n=t.transform;e.style.transform=n}),ns=document.querySelector(".warpable"),rs=new $r(ns.parentElement,{target:ns,warpable:!0,origin:!1}).on("warp",function(t){var e=t.target,n=t.transform;e.style.transform=n}),is=document.querySelector(".snappable"),as=(new $r(is.parentElement,{target:is,draggable:!0,snappable:!0,snapCenter:!0,origin:!1,verticalGuidelines:[0,150,200],horizontalGuidelines:[0,150,200]}).on("drag",function(t){var e=t.target,n=t.left,r=t.top;e.style.left=n+"px",e.style.top=r+"px"}),document.querySelector(".pinchable")),os=[1,1],ss=0,ls=new $r(as.parentElement,{target:as,pinchable:["rotatable","scalable"],origin:!1}).on("rotate",function(t){var e=t.beforeDelta;ss+=e,as.style.transform="scale("+os.join(", ")+") rotate("+ss+"deg)"}).on("scale",function(t){var e=t.delta;os[0]*=e[0],os[1]*=e[1],as.style.transform="scale("+os.join(", ")+") rotate("+ss+"deg)"}),us=document.querySelector(".groupable"),cs=[[0,0],[0,0],[0,0]],fs=new $r(us.parentElement,{target:[].slice.call(us.querySelectorAll("span")),origin:!1,draggable:!0}).on("dragGroup",function(t){t.events.forEach(function(t,e){var n=t.target,r=t.beforeDelta;cs[e][0]+=r[0],cs[e][1]+=r[1],n.style.transform="translate("+cs[e][0]+"px, "+cs[e][1]+"px)"})});window.addEventListener("resize",function(){Vo.updateRect(),Zo.updateRect(),Qo.updateRect(),es.updateRect(),rs.updateRect(),ls.updateRect(),fs.updateRect()}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("pre").forEach(function(t){var e=t.getAttribute("data-group"),n=t.getAttribute("data-panel"),r=t.querySelector("code"),i=Zr[e]["preact"===n?"react":n].trim();"preact"===n&&(i=i.replace(/react/g,"preact")),r.innerText=i,hljs.highlightBlock(r)})});var ps={};[].slice.call(document.querySelectorAll("[data-tab]")).forEach(function(r){var t=r.getAttribute("data-group"),e=r.getAttribute("data-tab"),n=document.querySelector('[data-group="'+t+'"][data-panel="'+e+'"]');ps[t]||(ps[t]=[]),ps[t].push([r,n]),r.addEventListener("click",function(){ps[t].forEach(function(t){var e=t[0],n=t[1];r!==e&&(e.classList.remove("selected"),n.classList.remove("selected"))}),r.classList.add("selected"),n.classList.add("selected")})})}();
