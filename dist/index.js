/*
Copyright (c) 2019 Daybrush
name: moveable
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/moveable.git
version: 0.14.0
*/
!function(){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function a(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function n(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),a=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}function l(t){return void 0===t}var t=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){void 0===e&&(e={});var n=this._eventHandler[t]||[];if(!(0<n.length))return!0;n=n.concat(),e.eventType=t;var r=!1,a=[e],i=0;e.stop=function(){r=!0},e.currentTarget=this;for(var o=arguments.length,s=new Array(2<o?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];for(1<=s.length&&(a=a.concat(s)),i=0;n[i];i++)n[i].apply(this,a);return!r},e.once=function(a,i){if("object"==typeof a&&l(i)){var t,e=a;for(t in e)this.once(t,e[t]);return this}if("string"==typeof a&&"function"==typeof i){var o=this;this.on(a,function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];i.apply(o,n),o.off(a,t)})}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&l(e)){var n,r=t;for(n in r)this.on(n,r[n]);return this}if("string"==typeof t&&"function"==typeof e){var a=this._eventHandler[t];l(a)&&(this._eventHandler[t]=[],a=this._eventHandler[t]),a.push(e)}return this},e.off=function(t,e){if(l(t))return this._eventHandler={},this;if(l(e)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var n,r=t;for(n in r)this.off(n,r[n]);return this}var a,i,o=this._eventHandler[t];if(o)for(a=0;void 0!==(i=o[a]);a++)if(i===e){o=o.splice(a,1);break}return this},t}();return t.VERSION="2.1.2",t}();function p(e,n){return function(t){t&&(e[n]=t)}}function i(n,r){return function(t){var e=t.prototype;n.forEach(function(t){r(e,t)})}}var b=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,a=n.indexOf(t),i=-1===a?n.length:a;n[i]=t,r[i]=e},t}(),y=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),_="function"==typeof Map,o=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}();var x=function(){function t(t,e,n,r,a,i,o,s){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=a,this.maintained=i,this.changedBeforeAdded=o,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=function(t,n){var s=[],l=[];return t.forEach(function(t){var e=t[0],n=t[1],r=new o;s[e]=r,l[n]=r}),s.forEach(function(t,e){t.connect(s[e-1])}),t.filter(function(t,e){return!n[e]}).map(function(t,e){var n=t[0],r=t[1];if(n===r)return[0,0];var a=s[n],i=l[r-1],o=a.getIndex();return a.disconnect(),i?a.connect(i,i.next):a.connect(void 0,s[0]),[o,a.getIndex()]})}(this.changedBeforeAdded,this.fixed),s=this.changed,l=[];this.cacheOrdered=t.filter(function(t,e){var n=t[0],r=t[1],a=s[e],i=a[0],o=a[1];if(n!==r)return l.push([i,o]),!0}),this.cachePureChanged=l},t}();function c(t,e,n){var r=_?Map:n?y:b,a=n||function(t){return t},i=[],o=[],s=[],l=t.map(a),u=e.map(a),c=new r,f=new r,p=[],h=[],d={},g=[],v=0,m=0;return l.forEach(function(t,e){c.set(t,e)}),u.forEach(function(t,e){f.set(t,e)}),l.forEach(function(t,e){var n=f.get(t);void 0===n?(++m,o.push(e)):d[n]=m}),u.forEach(function(t,e){var n=c.get(t);void 0===n?(i.push(e),++v):(s.push([n,e]),m=d[e]||0,p.push([n-m,e-v]),h.push(e===n),n!==e&&g.push([n,e]))}),o.reverse(),new x(t,e,i,o,g,s,p,h)}function e(t){if(!O)return"";var e=(O.body||O.documentElement).style,n=P.length;if(typeof e[t]!==D)return t;for(var r=0;r<n;++r){var a="-"+P[r]+"-"+t;if(typeof e[a]!==D)return a}return""}var u=function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}return t.prototype.update=function(t){var e=[].slice.call(t),n=c(this.list,e,this.findKeyCallback);return this.list=e,n},t}(),f="rgb",h="rgba",d="hsl",g="hsla",v=[f,h,d,g],m="function",w="property",E="array",S="object",M="string",C="number",D="undefined",O=typeof document!==D&&document,P=["webkit","ms","moz","o"],R=e("transform"),k=e("filter"),z=e("animation");function L(t){return typeof t===D}function W(t){return t&&typeof t===S}function V(t){return Array.isArray(t)}function G(t){return typeof t===M}function A(t){var e=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return e?e.map(function(t){return t.trim()}):[]}function q(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function N(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2];return{prefix:n,unit:e[3],value:parseFloat(r)}}function T(t){var e=function(t){return t.replace("#","")}(t),n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16),i=parseInt(e.substring(6,8),16)/255;return isNaN(i)&&(i=1),[n,r,a,i]}function j(t){if("#"===t.charAt(0))return 4===t.length||5===t.length?T(function(t){var e=t.charAt(1),n=t.charAt(2),r=t.charAt(3),a=t.charAt(4);return["#",e,e,n,n,r,r,a,a].join("")}(t)):T(t);if(-1!==t.indexOf("(")){var e=q(t),n=e.prefix,r=e.value;if(!n||!r)return;var a=A(r),i=[],o=a.length;switch(n){case f:case h:for(var s=0;s<o;++s)i[s]=parseFloat(a[s]);return i;case d:case g:for(s=0;s<o;++s)-1!==a[s].indexOf("%")?i[s]=parseFloat(a[s])/100:i[s]=parseFloat(a[s]);return function(t){var e=t[0],n=t[1],r=t[2];e<0&&(e+=360*Math.floor((Math.abs(e)+360)/360)),e%=360;var a,i=(1-Math.abs(2*r-1))*n,o=i*(1-Math.abs(e/60%2-1)),s=r-i/2;return e<60?a=[i,o,0]:e<120?a=[o,i,0]:e<180?a=[0,i,o]:e<240?a=[0,o,i]:e<300?a=[o,0,i]:e<360&&(a=[i,0,o]),[Math.round(255*(a[0]+s)),Math.round(255*(a[1]+s)),Math.round(255*(a[2]+s)),3<t.length?t[3]:1]}(i)}}}function X(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function Y(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function F(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function I(t,e,n,r){t.addEventListener(e,n,r)}function B(t,e,n){t.removeEventListener(e,n)}var H=function(t,e){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function U(t,e){function n(){this.constructor=t}H(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var K=function(){return(K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function $(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}function Z(t,e){if(t===e)return!1;for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1}function J(a,i){var o=Object.keys(a),n=Object.keys(i),t=c(o,n,function(t){return t}),r={},s={},l={};return t.added.forEach(function(t){var e=n[t];r[e]=i[e]}),t.removed.forEach(function(t){var e=o[t];s[e]=a[e]}),t.maintained.forEach(function(t){var e=t[0],n=o[e],r=[a[n],i[n]];a[n]!==i[n]&&(l[n]=r)}),{added:r,removed:s,changed:l}}function Q(t){t.forEach(function(t){t()})}function tt(t){var e=0;return t.map(function(t){return null==t?"$compat"+ ++e:""+t})}function et(t,e){return G(t)?new st("text_"+t,e,null,{}):new("string"==typeof t.type?lt:t.type.prototype.render?ft:ct)(t.type,e,t.ref,t.props)}function nt(t){var e=t.className,n=$(t,["className"]);return null!=e&&(n.class=e),delete n.style,delete n.children,n}function rt(t,e){if(!e)return t;for(var n in e)L(t[n])&&(t[n]=e[n]);return t}function at(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=e||{},i=a.key,o=a.ref,s=$(a,["key","ref"]);return{type:t,key:i,ref:o,props:K(K({},s),{children:function e(t){var n=[];return t.forEach(function(t){n=n.concat(V(t)?e(t):t)}),n}(n).filter(function(t){return null!=t})})}}var it=function(){function t(t,e,n,r){void 0===r&&(r={}),this.type=t,this.key=e,this.ref=n,this.props=r,this._providers=[]}var e=t.prototype;return e._should=function(t,e){return!0},e._update=function(t,e,n,r){if(this.base&&!G(e)&&!r&&!this._should(e.props,n))return!1;this.original=e,this._setState(n);var a=this.props;return G(e)||(this.props=e.props,this.ref=e.ref),this._render(t,this.base?a:{},n),!0},e._mounted=function(){var t=this.ref;t&&t(this.base)},e._setState=function(t){},e._updated=function(){var t=this.ref;t&&t(this.base)},e._destroy=function(){var t=this.ref;t&&t(null)},t}();function ot(t){var e={},n={};for(var r in t)0===r.indexOf("on")?n[r.replace("on","").toLowerCase()]=t[r]:e[r]=t[r];return{attributes:e,events:n}}var st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}U(e,t);var n=e.prototype;return n._render=function(t){var e=this,n=!this.base;return n&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push(function(){n?e._mounted():e._updated()}),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(it),lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events={},t}U(t,e);var n=t.prototype;return n.addEventListener=function(t,e){var n=this.events;n[t]=function(t){t.nativeEvent=t,e(t)},this.base.addEventListener(t,n[t])},n.removeEventListener=function(t){var e=this.events;this.base.removeEventListener(t,e[t]),delete e[t]},n._should=function(t){return Z(this.props,t)},n._render=function(t,e){var n=this,r=!this.base;r&&(this.base=document.createElement(this.type)),gt(this.props.children,this._providers,t,null,this.base);var a=this.base,i=ot(e),o=i.attributes,s=i.events,l=ot(this.props),u=l.attributes,c=l.events;return function(t,e,n){var r=J(t,e),a=r.added,i=r.removed,o=r.changed;for(var s in a)n.setAttribute(s,a[s]);for(var s in o)n.setAttribute(s,o[s][1]);for(var s in i)n.removeAttribute(s)}(nt(o),nt(u),a),function(t,e,n){var r=J(t,e),a=r.added,i=r.removed,o=r.changed;for(var s in i)n.removeEventListener(s);for(var s in a)n.addEventListener(s,a[s]);for(var s in o)n.removeEventListener(s),n.addEventListener(s,o[s][1]);for(var s in i)n.removeEventListener(s)}(s,c,this),function(t,e,n){var r=n.style,a=J(t,e),i=a.added,o=a.removed,s=a.changed;for(var l in i)r[l]=i[l];for(var l in s)r[l]=s[l][1];for(var l in o)r[l]=""}(e.style||{},this.props.style||{},a),t.push(function(){r?n._mounted():n._updated()}),!0},n._unmount=function(){var t=this.events,e=this.base;for(var n in t)e.removeEventListener(n,t[n]);this._providers.forEach(function(t){t._unmount()}),this.events={},e.parentNode.removeChild(e)},t}(it);function ut(t){if(!t)return null;if(t instanceof Node)return t;var e=t._provider._providers;return e.length?ut(e[0].base):null}var ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}U(e,t);var n=e.prototype;return n._render=function(t){var e=this.type(this.props);return gt(e?[e]:[],this._providers,t),!0},n._unmount=function(){this._providers.forEach(function(t){t._unmount()})},e}(it),ft=function(a){function t(t,e,n,r){return void 0===r&&(r={}),a.call(this,t,e,n,rt(r,t.defaultProps))||this}U(t,a);var e=t.prototype;return e._should=function(t,e){return this.base.shouldComponentUpdate(rt(t,this.type.defaultProps),e||this.base.state)},e._render=function(t,e,n){var r=this;this.props=rt(this.props,this.type.defaultProps);var a=!this.base;a?(this.base=new this.type(this.props),this.base._provider=this):this.base.props=this.props;var i=this.base,o=i.state,s=i.render();s&&s.props&&!s.props.children.length&&(s.props.children=this.props.children),gt(s?[s]:[],this._providers,t,n,null),t.push(function(){a?(r._mounted(),i.componentDidMount()):(r._updated(),i.componentDidUpdate(e,o))})},e._setState=function(t){t&&(this.base.state=t)},e._unmount=function(){this._providers.forEach(function(t){t._unmount()}),this.base.componentWillUnmount()},t}(it),pt=function(){function t(t){void 0===t&&(t={}),this.props=t,this.state={}}var e=t.prototype;return e.shouldComponentUpdate=function(t,e){return!0},e.render=function(){return null},e.setState=function(t,e,n){var r=[],a=this._provider;gt([a.original],[a],r,K(K({},this.state),t),null,n)&&(e&&r.push(e),Q(r))},e.forceUpdate=function(t){this.setState(this.state,t,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(t,e){},e.componentWillUnmount=function(){},t}(),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.shouldComponentUpdate=function(t,e){return Z(this.props,t)||Z(this.state,e)},e}(pt),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}U(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props,e=t.element,n=t.container;this._portalProvider=vt(e,n)},n.componentDidUpdate=function(){var t=this.props,e=t.element,n=t.container;this._portalProvider=vt(e,n)},n.componentWillUnmount=function(){var t=this.props.container;vt(this._portalProvider=null,t)},e}(ht);function gt(a,o,r,i,s,l){var u=a.map(function(t){return G(t)?null:t.key}),t=c(tt(o.map(function(t){return t.key})),tt(u),function(t){return t});t.removed.forEach(function(t){o.splice(t,1)[0]._unmount()}),t.ordered.forEach(function(t){var e=t[0],n=t[1],r=o.splice(e,1)[0];o.splice(n,0,r);var a=ut(r.base),i=ut(o[n+1]&&o[n+1].base);a&&a.parentNode.insertBefore(a,i)}),t.added.forEach(function(t){o.splice(t,0,et(a[t],u[t]))});var e=t.maintained.filter(function(t){t[0];var e=t[1],n=a[e],r=o[e];return(G(n)?"text_"+n:n.type)!==r.type&&(r._unmount(),o.splice(e,1,et(n,u[e])),!0)}),n=o.filter(function(t,e){var n=a[e];return t._update(r,n,i,l)});return s&&function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),a=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}(t.added,e.map(function(t){t[0];return t[1]})).forEach(function(t){var e=ut(o[t].base);if(e){var n=o[t+1];if(s!==e&&!e.parentNode){var r=ut(n&&n.base);s.insertBefore(e,r&&r.parentNode?r:null)}}}),0<n.length}function vt(t,e,n){void 0===n&&(n=e.__REACT_COMPAT__);var r=n?[n]:[];return function(t,e,n,r){var a=[];gt(t,e,a,n,r),Q(a)}(t?[t]:[],r,null,e),n=r[0],e.__REACT_COMPAT__=n}function mt(t,e,n){var r=e.__REACT_COMPAT__;t&&!r&&(e.innerHTML=""),vt(t,e,r),n&&n()}function bt(e,n){return function(t){t&&(e[n]=t)}}var yt=("undefined"!=typeof window&&window||{}).navigator,_t={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Whale/,identity:"Whale",versionSearch:"Whale"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/MiuiBrowser/,identity:"MIUI Browser",versionSearch:"MiuiBrowser"},{criteria:/SamsungBrowser/,identity:"Samsung Internet",versionSearch:"SamsungBrowser"},{criteria:/SAMSUNG /,identity:"Samsung Internet",versionSearch:"Version"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"Android Browser",versionSearch:"Version"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone/,identity:"Windows Phone",versionSearch:"Windows Phone"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/Windows NT/,identity:"Window",versionSearch:"Windows NT"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"},{criteria:/Tizen/,identity:"Tizen"},{criteria:/Web0S/,identity:"WebOS"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"unknown"},os:{version:"-1",name:"unknown"}}};function xt(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r])&&n.push(t[r]);return n}var wt=void 0;function Et(t,e){return e&&e.test?!!e.test(t):-1<t.indexOf(e)}function St(t,e){var n=xt(t,function(t){return Et(wt,t.criteria)})[0];return n&&n.identity||e.name}function Mt(t,r){return xt(t,function(t){var e=t.criteria,n=new RegExp(t.identity,"i").test(r);return!!(e?n&&Et(wt,e):n)})[0]}function Ct(t,e){var n=_t.defaultString.browser.version,r=new RegExp("("+t+")","i").exec(e);if(!r)return n;var a=r.index,i=r[0];if(-1<a){var o=a+i.length+1;n=e.substring(o).split(" ")[0].replace(/_/g,".").replace(/;|\)/g,"")}return n}function Dt(t){if(t)return Ct(function(t){var e=Mt(_t.browser,t);return e=e||{criteria:t,versionSearch:t,identity:t}}(t).versionSearch||t,wt)}function Ot(){var t=_t.webview,e=void 0;return function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(xt(t,function(t){return Et(wt,t.criteria)}),function(t){return e=Ct(t.browserVersionSearch,wt),!(!Et(wt,t.webviewToken)&&!Et(e,t.webviewBrowserVersion))})}function Pt(t){var e=function(t){return Mt(_t.os,t)}(t)||{},n=_t.defaultString.os.version,r=void 0;if(t){if(e.versionAlias)return e.versionAlias;var a=e.versionSearch||t,i=new RegExp("("+a+")\\s([\\d_\\.]+|\\d_0)","i");return i.exec(wt)&&(r=i.exec(wt)[2].replace(/_/g,".").replace(/;|\)/g,"")),r||n}}function Rt(){var t=St(_t.os,_t.defaultString.os);return{name:t,version:Pt(t)}}function kt(){var t=St(_t.browser,_t.defaultString.browser);return{name:t,version:Dt(t),webview:Ot()}}function zt(){!function(t){wt=t}(0<arguments.length&&void 0!==arguments[0]?arguments[0]:yt.userAgent);var t={os:Rt(),browser:kt(),isMobile:-1!==wt.indexOf("Mobi")};return t.browser.name=t.browser.name.toLowerCase(),t.os.name=t.os.name.toLowerCase(),t.os.version=t.os.version.toLowerCase(),"ios"===t.os.name&&t.browser.webview&&(t.browser.version="-1"),t}function Gt(t,e,n,r,a,i){for(var o=n;o<r;++o)t[o]+=t[a+o-n]*i,e[o]+=e[a+o-n]*i}function At(t,e,n,r,a){for(var i=n;i<r;++i){var o=t[i],s=e[i];t[i]=t[a+i-n],t[a+i-n]=o,e[i]=e[a+i-n],e[a+i-n]=s}}function Nt(t,e,n,r,a){for(var i=n;i<r;++i)t[i]/=a,e[i]/=a}function Tt(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=Zt(e),a=0;a<e;++a){var i=e*a,o=e*(a+1),s=i+a;if(0===n[s])for(var l=a+1;l<e;++l)if(n[e*l+a]){At(n,r,i,o,e*l);break}if(!n[s])return[];Nt(n,r,i,o,n[s]);for(l=0;l<e;++l){var u=e*l,c=u+e,f=n[u+a];0!==f&&a!==l&&Gt(n,r,u,c,i,-f)}}return r}function jt(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var a=0;a<e;++a)n[a*e+r]=t[e*r+a];return n}function Xt(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=Math.atan2(r,n);return 0<=a?a:a+2*Math.PI}function Yt(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function Ft(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=Zt(n),a=Math.min(e,n),i=0;i<a-1;++i){for(var o=0;o<a-1;++o)r[i*n+o]=t[i*e+o];r[(i+1)*n-1]=t[(i+1)*e-1],r[(n-1)*n+i]=t[(e-1)*e+i]}return r[n*n-1]=t[e*e-1],r}function It(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Zt(e);return t.forEach(function(t){r=Bt(r,t,e)}),r}function Bt(t,e,n){var r=[],a=t.length/n,i=e.length/a;if(!a)return e;if(!i)return t;for(var o=0;o<n;++o)for(var s=0;s<i;++s)for(var l=r[o*i+s]=0;l<a;++l)r[o*i+s]+=t[o*a+l]*e[l*i+s];return r}function Lt(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=[],a=t.length/n,i=e.length/a,o=0;o<n;++o)for(var s=0;s<i;++s)for(var l=r[o+s*i]=0;l<a;++l)r[o+s*i]+=t[o+l*a]*e[l+s*i];return r}function Wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length,r=0,a=n-1;0<=a;--a)r+=t[a];return n?r/n:0}function qt(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),a=0;a<n;++a)r[a]=r[a]+e[a];return r}function Ht(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),a=0;a<n;++a)r[a]=r[a]-e[a];return r}function Ut(t,e,n){void 0===n&&(n=e.length);var r=Bt(t,e,n),a=r[n-1];return r.map(function(t){return t/a})}function Kt(t,e){return Ut($t(e,3),Yt(t,3))}function Vt(t){return 9===t.length?[t[0],t[3],t[1],t[4],t[2],t[5]]:jt(t)}function $t(t,e){var n=Math.cos(t),r=Math.sin(t),a=Zt(e);return a[0]=n,a[1]=-r,a[e]=r,a[e+1]=n,a}function Zt(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function Jt(t,e){for(var n=Zt(e),r=Math.min(t.length,e-1),a=0;a<r;++a)n[(e+1)*a]=t[a];return n}function Qt(t,e){for(var n=Zt(e),r=Math.min(t.length,e-1),a=0;a<r;++a)n[e*(a+1)-1]=t[a];return n}function te(t,e,n,r,a,i,o,s){var l=t[0],u=t[1],c=e[0],f=e[1],p=n[0],h=n[1],d=r[0],g=r[1],v=a[0],m=a[1],b=i[0],y=i[1],_=o[0],x=o[1],w=s[0],E=s[1],S=Tt([l,u,1,0,0,0,-v*l,-v*u,0,0,0,l,u,1,-m*l,-m*u,c,f,1,0,0,0,-b*c,-b*f,0,0,0,c,f,1,-y*c,-y*f,p,h,1,0,0,0,-_*p,-_*h,0,0,0,p,h,1,-x*p,-x*h,d,g,1,0,0,0,-w*d,-w*g,0,0,0,d,g,1,-E*d,-E*g],8);if(!S.length)return[];var M=Bt(S,[v,m,b,y,_,x,w,E],8);return M[8]=1,Ft(M,3,4)}zt.VERSION="2.1.5";var ee=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function ne(a){var i,o="rCS"+function(t){return ee(t).toString(36)}(a),s=0;return{className:o,inject:function(t){var e,n=function(t){if(t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(t),r=0===s;return(n||r)&&(e=function(n,t,e){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerHTML=t.replace(/([^}{]*){/gm,function(t,e){return A(e).map(function(t){return-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+n):"."+n+" "+t}).join(", ")+"{"}),(e||document.head||document.body).appendChild(r),r}(o,a,n)),r&&(i=e),n||++s,{destroy:function(){n?(t.removeChild(e),e=null):(0<s&&--s,0===s&&i&&(i.parentNode.removeChild(i),i=null))}}}}}var re=function(t,e){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var ae=function(){return(ae=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};var ie=function(){return(ie=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function oe(t,e,n,r){var a=he(t),i=he(e),o=he(r);return le(de(r[0],ge(a,o)),de(r[0],ge(i,o)),n[0])}function se(t){return t.touches?fe(t.touches):[pe(t)]}function le(t,e,n){var r=t.clientX,a=t.clientY;return{clientX:r,clientY:a,deltaX:r-e.clientX,deltaY:a-e.clientY,distX:r-n.clientX,distY:a-n.clientY}}function ue(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function ce(t,n,r){return t.map(function(t,e){return le(t,n[e],r[e])})}function fe(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(pe(t[r]));return n}function pe(t){return{clientX:t.clientX,clientY:t.clientY}}function he(t){return{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function de(t,e){return{clientX:t.clientX+e.clientX,clientY:t.clientY+e.clientY}}function ge(t,e){return{clientX:t.clientX-e.clientX,clientY:t.clientY-e.clientY}}var ve=function(){function t(t,e){var s=this;void 0===e&&(e={}),this.el=t,this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.onDragStart=function(t){if(s.flag||!1!==t.cancelable){if(function(t){return t.touches&&2<=t.touches.length}(t)){if(!s.flag&&t.touches.length!==t.changedTouches.length)return;s.pinchFlag||s.onPinchStart(t)}if(!s.flag){var e=s.startClients[0]?s.startClients:se(t);s.customDist=[0,0],s.flag=!0,s.isDrag=!1,s.startClients=e,s.prevClients=e,s.datas={};var n=le(e[s.movement=0],s.prevClients[0],s.startClients[0]),r=s.options,a=r.dragstart,i=r.preventRightClick,o=r.preventDefault;(i&&3===t.which||!1===(a&&a(ie({datas:s.datas,inputEvent:t},n))))&&(s.startClients=[],s.prevClients=[],s.flag=!1),s.flag&&o&&t.preventDefault()}}},this.onDrag=function(t,e){if(s.flag){var n=se(t);s.pinchFlag&&s.onPinch(t,n);var r=s.move([0,0],t,n);if(r&&(r.deltaX||r.deltaY)){var a=s.options.drag;a&&a(ie({},r,{isScroll:!!e,inputEvent:t}))}}},this.onDragEnd=function(t){if(s.flag){s.pinchFlag&&s.onPinchEnd(t),s.flag=!1;var e=s.options.dragend,n=s.prevClients,r=s.startClients,a=s.pinchFlag?oe(n,n,r,s.startPinchClients):le(n[0],n[0],r[0]);s.startClients=[],s.prevClients=[],e&&e(ie({datas:s.datas,isDrag:s.isDrag,inputEvent:t},a))}},this.options=ie({container:t,preventRightClick:!0,preventDefault:!0,pinchThreshold:0,events:["touch","mouse"]},e);var n=this.options,r=n.container,a=n.events;if(this.isTouch=-1<a.indexOf("touch"),this.isMouse=-1<a.indexOf("mouse"),this.customDist=[0,0],this.isMouse&&(I(t,"mousedown",this.onDragStart),I(r,"mousemove",this.onDrag),I(r,"mouseup",this.onDragEnd)),this.isTouch){var i={passive:!1};I(t,"touchstart",this.onDragStart,i),I(r,"touchmove",this.onDrag,i),I(r,"touchend",this.onDragEnd,i)}}var e=t.prototype;return e.isDragging=function(){return this.isDrag},e.isFlag=function(){return this.flag},e.isPinching=function(){return this.isPinch},e.scrollBy=function(e,n,t,r){void 0===r&&(r=!0),this.flag&&(this.startClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),this.prevClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),r&&this.onDrag(t,!0))},e.move=function(t,e,n){var r=t[0],a=t[1];void 0===n&&(n=this.prevClients);var i=this.customDist,o=this.prevClients,s=this.startClients,l=this.pinchFlag?oe(n,o,s,this.startPinchClients):le(n[0],o[0],s[0]);i[0]+=r,i[1]+=a,l.deltaX+=r,l.deltaY+=a;var u=l.deltaX,c=l.deltaY;return l.distX+=i[0],l.distY+=i[1],this.movement+=Math.sqrt(u*u+c*c),this.prevClients=n,this.isDrag=!0,ie({datas:this.datas},l,{isScroll:!1,inputEvent:e})},e.onPinchStart=function(t){var e,n,r=this.options,a=r.pinchstart,i=r.pinchThreshold;if(!(this.isDrag&&this.movement>i)){var o=fe(t.changedTouches);if(this.pinchFlag=!0,(e=this.startClients).push.apply(e,o),(n=this.prevClients).push.apply(n,o),this.startDistance=ue(this.prevClients),this.startPinchClients=this.prevClients.slice(),a){var s=this.prevClients,l=he(s),u=le(l,l,l);a(ie({datas:this.datas,touches:ce(s,s,s)},u,{inputEvent:t}))}}},e.onPinch=function(t,e){if(this.flag&&this.pinchFlag){this.isPinch=!0;var n=this.options.pinch;if(n){var r=this.prevClients,a=this.startClients,i=le(he(e),he(r),he(a)),o=ue(e);n(ie({datas:this.datas,touches:ce(e,r,a),scale:o/this.startDistance,distance:o},i,{inputEvent:t}))}}},e.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var r=this.prevClients,a=this.startClients,i=le(he(r),he(r),he(a));n(ie({datas:this.datas,isPinch:e,touches:ce(r,r,a)},i,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},e.unset=function(){var t=this.el,e=this.options.container;this.isMouse&&(B(t,"mousedown",this.onDragStart),B(e,"mousemove",this.onDrag),B(e,"mouseup",this.onDragEnd)),this.isTouch&&(B(t,"touchstart",this.onDragStart),B(e,"touchmove",this.onDrag),B(e,"touchend",this.onDragEnd))},t}(),me=function(t,e){return(me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function be(t){var e=t.container;return[e.scrollLeft,e.scrollTop]}var ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startRect=null,t.startPos=[],t.prevTime=0,t.timer=0,t}!function(t,e){function n(){this.constructor=t}me(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e);var n=t.prototype;return n.dragStart=function(t,e){var n=e.container.getBoundingClientRect(),r=n.top,a=n.left,i=n.width,o=n.height;this.startPos=[t.clientX,t.clientY],this.startRect={top:r,left:a,width:i,height:o}},n.drag=function(t,e){var n=this,r=t.clientX,a=t.clientY,i=e.container,o=e.threshold,s=void 0===o?0:o,l=e.throttleTime,u=void 0===l?0:l,c=e.getScrollPosition,f=void 0===c?be:c,p=this.startRect,h=this.startPos,d=Date.now?Date.now():(new Date).getTime(),g=Math.max(u+this.prevTime-d,0),v=[0,0];if(p.top>a-s?(h[1]>p.top||a<h[1])&&(v[1]=-1):p.top+p.height<a+s&&(h[1]<p.top+p.height||a>h[1])&&(v[1]=1),p.left>r-s?(h[0]>p.left||r<h[0])&&(v[0]=-1):p.left+p.width<r+s&&(h[0]<p.left+p.width||r>h[0])&&(v[0]=1),clearTimeout(this.timer),!v[0]&&!v[1])return!1;if(0<g)return this.timer=window.setTimeout(function(){n.drag(t,e)},g),!1;this.prevTime=d;var m=f({container:i,direction:v});this.trigger("scroll",{container:i,direction:v,inputEvent:t});var b=f({container:i,direction:v}),y=b[0]-m[0],_=b[1]-m[1];return!(!y&&!_)&&(this.trigger("move",{offsetX:v[0]?y:0,offsetY:v[1]?_:0,inputEvent:t}),u&&(this.timer=window.setTimeout(function(){n.drag(t,e)},u)),!0)},n.dragEnd=function(){clearTimeout(this.timer)},t}(t),_e=function(t,e){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var xe,we="function"==typeof Map?void 0:(xe=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++xe)}),Ee=function(e){function t(t){return void 0===t&&(t=[]),e.call(this,t,we)||this}return function(t,e){function n(){this.constructor=t}_e(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t}(u),Se=function(t,e){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Me(t,e){function n(){this.constructor=t}Se(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ce=function(){return(Ce=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function De(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*t+'px" height="'+32*t+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+e+'deg);transform-origin: 16px 16px"></path></svg>'}var Oe,Pe=zt(),Re=-1<Pe.os.name.indexOf("ios")||-1<Pe.browser.name.indexOf("safari"),ke="moveable-",ze=(Oe=ke,("\n{\n\tposition: fixed;\n\twidth: 0;\n\theight: 0;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 3000;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n\tbackground: #4af;\n\tmargin-top: -7px;\n    margin-left: -7px;\n    z-index: 10;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tbackground: #4af;\n\ttransform-origin: 0px 0.5px;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n}\n.line.dashed:before {\n    position: absolute;\n    content: attr(data-size);\n    color: #4af;\n    font-size: 12px;\n    font-weight: bold;\n}\n.line.dashed.horizontal:before {\n    left: 50%;\n    transform: translateX(-50%);\n    bottom: 5px;\n}\n.line.dashed.vertical:before {\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.line.rotation-line {\n\theight: 40px;\n\twidth: 1px;\n    transform-origin: 0.5px 39.5px;\n    top: -40px;\n}\n.line.rotation-line .control {\n\tborder-color: #4af;\n\tbackground:#fff;\n\tcursor: alias;\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n}\n.line.horizontal.bold {\n    height: 2px;\n}\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n\tmargin-left: -6px;\n\tpointer-events: none;\n}\n"+[0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return'\n.direction[data-rotation="'+t+'"] {\n\t'+function(t){var e=De(1,t),n=De(2,t),r=45*Math.round(t/45)%180,a=135==r?"nwse-resize":45==r?"nesw-resize":90==r?"ew-resize":"ns-resize";return"cursor:"+a+";cursor: url('"+e+"') 16 16, "+a+";cursor: -webkit-image-set(url('"+e+"') 1x, url('"+n+"') 2x) 16 16, "+a+";"}(t)+"\n}\n"}).join("\n")+"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n"+(Re?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n").replace(/([^}{]*){/gm,function(t,e){return e.replace(/\.([^{,\s\d.]+)/g,"."+Oe+"$1")+"{"})),Ge=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Ae=1e-7,Ne=Math.pow(10,10),Te=-Ne,je={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},Xe={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135};function Ye(t,e){return[t[0]*e[0],t[1]*e[1]]}function Fe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(t){return t.split(" ").map(function(t){return t?""+e+t:""}).join(" ")}).join(" ")}.apply(void 0,[ke].concat(t))}function Ie(){return Zt(3)}function Be(t,e,n){return It(e,Qt(n,e),t,Qt(n.map(function(t){return-t}),e))}function Le(i){return We(bn(i,":before")).map(function(t,e){var n=N(t),r=n.value,a=n.unit;return r*function(t,e,n){return"%"!==e?1:t.ownerSVGElement.viewBox.baseVal[n?"width":"height"]/100}(i,a,0===e)})}function We(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function qe(t,e,n){for(var r=document.body,a=!t||n?t:t.parentElement,i=!1,o="relative";a&&a!==r;){e===a&&(i=!0);var s=bn(a),l=s.transform;if("static"!==(o=s.position)||l&&"none"!==l)break;a=a.parentElement,o="relative"}return{isStatic:"static"===o,isEnd:i||!a||a===r,offsetParent:a||r}}function He(t,e,n,r){var a,i,o,s,l,u=t,c=[],f="svg"!==u.tagName.toLowerCase()&&"ownerSVGElement"in u,p=e||document.body,h=!1,d=!1,g=3,v=qe(e,e,!0).offsetParent;for(n&&(e=t.parentElement);u&&!h;){var m=bn(u),b=u.tagName.toLowerCase(),y=m.position,_="fixed"===y,x=m.transform,w=6===(s=(l=x)&&"none"!==l?W(l)?l:q(l).value.split(/s*,\s*/g).map(function(t){return parseFloat(t)}):[1,0,0,1,0,0]).length?[s[0],s[2],s[4],s[1],s[3],s[5],0,0,1]:jt(s);if(!d&&16===w.length){d=!0,g=4;for(var E=c.length,S=0;S<E;++S)c[S]=Ft(c[S],3,4)}d&&9===w.length&&(w=Ft(w,3,4));var M=u.offsetLeft,C=u.offsetTop;if(_){var D=(e||document.documentElement).getBoundingClientRect();M-=D.left,C-=D.top}var O=L(M),P=O,R=void 0;P&&"svg"!==b?(R=Re?Le(u):We(m).map(function(t){return parseFloat(t)}),P=!1,"g"===b?C=M=0:(M=(a=Ke(u,R))[0],C=a[1],R[0]=a[2],R[1]=a[3])):R=We(m).map(function(t){return parseFloat(t)}),"svg"===b&&o&&c.push(Ue(u,g),Zt(g));var k=qe(u,e),z=k.offsetParent,G=k.isEnd,A=k.isStatic;Re&&!P&&!O&&A&&"relative"===y&&(M-=z.offsetLeft,C-=z.offsetTop,h=h||G);var N=0,T=0;if(P||v===z||(N=z.clientLeft,T=z.clientTop),c.push(Be(w,g,R),Qt([P?u:M-u.scrollLeft+N,P?R:C-u.scrollTop+T],g)),o=o||w,i=i||R,h||_)break;u=z,h=G}var j=n?Ft(n,r,g):Zt(g),X=n?Ft(n,r,g):Zt(g),Y=Zt(g),F=c.length,I=qe(p,p,!0).offsetParent;c.reverse(),c.forEach(function(t,e){var n;F-2===e&&(X=j.slice()),F-1===e&&(Y=j.slice()),W(t[g-1])&&(n=function(t,e,n,r,a,i){var o,s=rn(t),l=s[0],u=s[1],c=e.getBoundingClientRect(),f=t.getBoundingClientRect(),p=f.left-c.left+e.scrollLeft,h=f.top-c.top+e.scrollTop,d=f.width,g=f.height,v=It(n,a,i),m=Je(v,l,u,n),b=m.left,y=m.top,_=m.width,x=m.height,w=Ve(v,r,n),E=Ht(w,[b,y]),S=[p+E[0]*d/_,h+E[1]*g/x],M=[0,0],C=0;for(;++C<10;){var D=Tt(a,n);o=Ht(Ve(D,S,n),Ve(D,w,n)),M[0]=o[0],M[1]=o[1];var O=Je(It(n,a,Qt(M,n),i),l,u,n),P=O.left,R=O.top,k=P-p,z=R-h;if(Math.abs(k)<2&&Math.abs(z)<2)break;S[0]-=k,S[1]-=z}return M.map(function(t){return Math.round(t)})}(t[g-1],I,g,t[2*g-1],j,c[e+1]),t[g-1]=n[0],t[2*g-1]=n[1]),j=Bt(j,t,g)});var B=(!f&&d?"matrix3d":"matrix")+"("+Vt(f&&16===o.length?Ft(o,4,3):o)+")";return[X,Y,j,o,B,i,d]}function Ue(t,e){var n=t.clientWidth,r=t.clientHeight,a=t.viewBox.baseVal,i=a.width||n,o=a.height||r,s=n/i,l=r/o,u=t.preserveAspectRatio.baseVal,c=u.align,f=u.meetOrSlice,p=[0,0],h=[s,l],d=[0,0];if(1!==c){var g=(c-2)%3,v=Math.floor((c-2)/3);p[0]=i*g/2,p[1]=o*v/2;var m=2===f?Math.max(l,s):Math.min(s,l);h[0]=m,h[1]=m,d[0]=(n-i)/2*g,d[1]=(r-o)/2*v}var b=Jt(h,e);return b[e-1]=d[0],b[2*e-1]=d[1],Be(b,e,p)}function Ke(t,e){if(!t.getBBox)return[0,0];var n=t.getBBox(),r=t.ownerSVGElement.viewBox.baseVal,a=n.x-r.x,i=n.y-r.y;return[a,i,e[0]-a,e[1]-i]}function Ve(t,e,n){return Ut(t,Yt(e,n),n)}function $e(t,e,n,r){return[Ve(t,[0,0],r),Ve(t,[e,0],r),Ve(t,[0,n],r),Ve(t,[e,n],r)]}function Ze(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]}),r=Math.min.apply(Math,e),a=Math.min.apply(Math,n),i=Math.max.apply(Math,e),o=Math.max.apply(Math,n);return{left:r,top:a,right:i,bottom:o,width:i-r,height:o-a}}function Je(t,e,n,r){return Ze($e(t,e,n,r))}function Qe(t,e,n,r){var a=16===t.length?4:3,i=$e(t,n,r,a),o=i[0],s=o[0],l=o[1],u=i[1],c=u[0],f=u[1],p=i[2],h=p[0],d=p[1],g=i[3],v=g[0],m=g[1],b=Ve(t,e,a),y=b[0],_=b[1],x=Math.min(s,c,h,v),w=Math.min(l,f,d,m),E=Math.max(s,c,h,v),S=Math.max(l,f,d,m);y=y-x||0,_=_-w||0;var M=[((s=s-x||0)+(c=c-x||0)+(h=h-x||0)+(v=v-x||0))/4,((l=l-w||0)+(f=f-w||0)+(d=d-w||0)+(m=m-w||0))/4],C=Xt(M,[s,l]),D=Xt(M,[c,f]);return[[x,w,E,S],[y,_],[s,l],[c,f],[h,d],[v,m],C<D&&D-C<Math.PI||D<C&&D-C<-Math.PI?1:-1]}function tn(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function en(t,e,n){void 0===n&&(n=Xt(t,e));var r=function(t,e){return tn([e[0]-t[0],e[1]-t[1]])}(t,e);return{transform:"translate("+t[0]+"px, "+t[1]+"px) rotate("+n+"rad)",width:r+"px"}}function nn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.length;return{transform:"translate("+e.reduce(function(t,e){return t+e[0]},0)/r+"px, "+e.reduce(function(t,e){return t+e[1]},0)/r+"px) rotate("+t+"rad)"}}function rn(t,e,n,r){void 0===e&&(e=window.getComputedStyle(t)),void 0===r&&(r=n||"border-box"===e.boxSizing);var a=t.offsetWidth,i=t.offsetHeight,o=!L(a);if((n||r)&&o)return[a,i];if(a=t.clientWidth,i=t.clientHeight,o||a||i)return n||r?[a+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),i+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)]:[a-(parseFloat(e.paddingLeft)||0)-(parseFloat(e.paddingRight)||0),i-(parseFloat(e.paddingTop)||0)-(parseFloat(e.paddingBottom)||0)];var s=t.getBBox();return[s.width,s.height]}function an(t,e){return Xt(0<e?t[0]:t[1],0<e?t[1]:t[0])}function on(t,e,n,r){var a,i,o,s,l,u=0,c=0,f=0,p=0,h=[0,0],d=[0,0],g=[0,0],v=[0,0],m=[0,0],b=Ie(),y=Ie(),_=Ie(),x=Ie(),w=0,E=0,S=[0,0],M=1,C=1,D=!1,O="",P=[0,0],R={left:0,right:0,top:0,width:0,height:0,bottom:0},k={left:0,right:0,top:0,width:0,height:0,bottom:0},z=0,G=r?r.beforeMatrix:void 0,A=r?r.is3d?4:3:void 0;if(t){if(r)w=r.width,E=r.height;else{var N=bn(t);w=t.offsetWidth,E=t.offsetHeight,L(w)&&(w=(a=rn(t,N,!0))[0],E=a[1])}y=(i=He(t,e,G,A))[0],b=i[1],_=i[2],x=i[3],O=i[4],S=i[5],D=i[6],u=(s=(o=Qe(_,S,w,E))[0])[0],c=s[1],f=s[2],p=s[3],h=o[1],d=o[2],g=o[3],v=o[4],m=o[5],M=o[6];var T;T=(l=Qe(b,qt(S,function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e-1;++r)n[r]=t[(r+1)*e-1];return n[e-1]=0,n}(x,D?4:3)),w,E))[0],P=l[1],C=l[6],P=[P[0]+T[0]-u,P[1]+T[1]-c],R=sn(t),k=sn(qe(n,n,!0).offsetParent||document.body),z=an([d,g],M)}return{rotation:z,targetClientRect:R,containerClientRect:k,beforeDirection:C,direction:M,target:t,left:u,top:c,right:f,bottom:p,pos1:d,pos2:g,pos3:v,pos4:m,width:w,height:E,beforeMatrix:y,matrix:_,targetTransform:O,offsetMatrix:b,targetMatrix:x,is3d:D,beforeOrigin:P,origin:h,transformOrigin:S}}function sn(t){var e=t.getBoundingClientRect(),n=e.left,r=e.width,a=e.top,i=e.bottom;return{left:n,right:e.right,top:a,bottom:i,width:r,height:e.height}}function ln(t){if(t){var e=t.getAttribute("data-direction");if(e){var n=[0,0];return-1<e.indexOf("w")&&(n[0]=-1),-1<e.indexOf("e")&&(n[0]=1),-1<e.indexOf("n")&&(n[1]=-1),-1<e.indexOf("s")&&(n[1]=1),n}}}function un(t,e){return[qt(e,t[0]),qt(e,t[1]),qt(e,t[2]),qt(e,t[3])]}function cn(t){var e=t.left,n=t.top;return un([t.pos1,t.pos2,t.pos3,t.pos4],[e,n])}function fn(t){return Math.round(t%1==-.5?t-1:t)}function pn(t,e){return e?Math.round(t/e)*e:t}function hn(n,r){return n.forEach(function(t,e){n[e]=pn(n[e],r)}),n}function dn(t,e){t[e]&&(t[e].unset(),t[e]=null)}function gn(t,e,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function vn(t,e,n){var r=e.datas;return r.datas||(r.datas={}),Ce({},n,{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,datas:r.datas})}function mn(t,e,n){return t.triggerEvent(e,n)}function bn(t,e){return window.getComputedStyle(t,e)}function yn(t,n){var r={},a={};return t.filter(function(e){var t=e.name;if(r[t]||!n.some(function(t){return e[t]}))return!1;if(e.ableGroup){if(a[e.ableGroup])return!1;a[e.ableGroup]=!0}return r[t]=!0})}function _n(t,e,n){return t*(e?n:1/n)}function xn(t,e,n){return t*(e?1/n:n)}function wn(t,e){return t===e||null==t&&null==e}function En(r,a){var i=[],o={};return r.forEach(function(t,e){var n=a(t,e,r);o[n]||(o[n]=[],i.push(o[n])),o[n].push(t)}),i}function Sn(t){return t.reduce(function(t,e){return t.concat(e)},[])}function Mn(n,t,e,r,a,i){var o="Start"===a;if(o&&-1<r.indexOf("Control")&&n.areaElement===i.inputEvent.target)return!1;var s=""+e+r+a,l=""+e+r+"Condition",u="End"===a,c=-1<a.indexOf("After");o&&n.updateRect(a,!0,!1);var f=-1<r.indexOf("Group"),p=n[t].filter(function(t){return t[s]}),h=p.filter(function(t){var e=o&&t[l];return!(e&&!e(i.inputEvent.target,n))&&t[s](n,i)}),d=h.length;if(o){if(p.length&&!d)return n.state.dragger=null,n.moveables&&n.moveables.forEach(function(t){t.state.dragger=null}),!1;!function(t,e,n){var r=vn(t,n,{isPinch:!!n.isPinch}),a=e?"Group":"";e&&(r.targets=t.props.targets),mn(t,"onRender"+a+"Start",r)}(n,f,i)}else u?function(t,e,n){var r=vn(t,n,{isPinch:!!n.sPinch,isDrag:n.isDrag}),a=e?"Group":"";e&&(r.targets=t.props.targets),mn(t,"onRender"+a+"End",r)}(n,f,i):d&&function(t,e,n){var r=vn(t,n,{isPinch:!!n.isPinch}),a=e?"Group":"";e&&(r.targets=t.props.targets),mn(t,"onRender"+a,r)}(n,f,i);u&&(n.state.dragger=null),!o&&d&&(h.some(function(t){return t.updateRect})&&!f?n.updateRect(a,!1,!1):n.updateRect(a,!0,!1)),(!o&&d||u&&!d)&&n.forceUpdate(),o||u||c||!d||Mn(n,t,e,r,a+"After",i)}function Cn(r,t,a,i){var o={container:window,pinchThreshold:r.props.pinchThreshold};return["drag","pinch"].forEach(function(n){["Start","","End"].forEach(function(e){o[""+n+e.toLowerCase()]=function(t){return Mn(r,a,n,i,e,t)}})}),new ve(t,o)}var Dn,On,Pn=(Dn="div",On=ne(ze),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function n(){this.constructor=t}re(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=void 0===e?"":e,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}(t,["className"]);return at(Dn,ae({ref:bt(this,"element"),className:n+" "+On.className},r))},e.prototype.componentDidMount=function(){this.injectResult=On.inject(this.element)},e.prototype.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},e.prototype.getElement=function(){return this.element},e}(pt));function Rn(t,e,n,r){var a=Xt(e,n),i=t?pn(a/Math.PI*180,15)%180:-1;return at("div",{key:"line"+r,className:Fe("line","direction",t),"data-rotation":i,"data-direction":t,style:en(e,n,a)})}var kn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={conatainer:null,target:null,beforeMatrix:Ie(),matrix:Ie(),targetMatrix:Ie(),targetTransform:"",is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,beforeDirection:1,beforeOrigin:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],targetClientRect:{left:0,right:0,top:0,width:0,height:0,bottom:0},containerClientRect:{left:0,right:0,top:0,width:0,height:0,bottom:0},rotation:0},t.targetAbles=[],t.controlAbles=[],t}Me(t,e);var n=t.prototype;return n.render=function(){var t=this.props,e=this.props,n=e.edge,r=e.parentPosition,a=e.className,i=e.target;this.checkUpdate();var o=r||{left:0,top:0},s=o.left,l=o.top,u=this.state,c=u.left,f=u.top,p=u.pos1,h=u.pos2,d=u.pos3,g=u.pos4,v=u.target,m=u.direction,b=t.targets,y=(b&&b.length||i)&&v;return at(Pn,{ref:bt(this,"controlBox"),className:Fe("control-box",-1===m?"reverse":"")+" "+a,style:{position:"absolute",display:y?"block":"none",transform:"translate("+(c-s)+"px, "+(f-l)+"px) translateZ(50px)"}},this.renderAbles(),Rn(n?"n":"",p,h,0),Rn(n?"e":"",h,g,1),Rn(n?"w":"",p,d,2),Rn(n?"s":"",d,g,3))},n.componentDidMount=function(){this.controlBox.getElement();var t=this.props,e=t.parentMoveable,n=t.container;this.updateEvent(t),n||e||this.updateRect("End",!1,!0)},n.componentDidUpdate=function(t){this.updateEvent(t)},n.componentWillUnmount=function(){dn(this,"targetDragger"),dn(this,"controlDragger")},n.getContainer=function(){var t=this.props,e=t.parentMoveable;return t.container||e&&e.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(t){return t&&-1<(t.getAttribute("class")||"").indexOf(ke)},n.dragStart=function(t){this.targetDragger&&this.targetDragger.onDragStart(t)},n.isInside=function(t,e){var n=this.state,r=n.pos1,a=n.pos2,i=n.pos3,o=n.pos4,s=n.target,l=n.targetClientRect;return!!s&&function(t,e,n,r,a){var i=[gn(t,e,n),gn(t,n,a),gn(t,a,e)],o=[gn(t,n,a),gn(t,a,r),gn(t,r,n)];return!!(i.every(function(t){return 0<=t})||i.every(function(t){return t<=0})||o.every(function(t){return 0<=t})||o.every(function(t){return t<=0}))}([t-l.left,e-l.top],r,a,o,i)},n.updateRect=function(t,e,n){void 0===n&&(n=!0);var r=this.props.parentMoveable,a=this.state,i=a.target||this.props.target,o=this.getContainer();this.updateState(on(i,o,o,e?a:void 0),!r&&n)},n.updateEvent=function(t){var e=this.controlBox.getElement(),n=this.targetAbles.length,r=this.controlAbles.length,a=this.props.target,i=t.target,o=this.props.dragArea,s=t.dragArea,l=!o&&i!==a,u=!n&&this.targetDragger||l||s!==o;u&&(dn(this,"targetDragger"),this.updateState({dragger:null})),r||dn(this,"controlDragger"),a&&n&&!this.targetDragger&&(this.targetDragger=Cn(this,o?this.areaElement:a,"targetAbles","")),!this.controlDragger&&r&&(this.controlDragger=Cn(this,e,"controlAbles","Control")),u&&this.unsetAbles()},n.updateTarget=function(t){this.updateRect(t,!0)},n.getRect=function(){var t=this.state,e=cn(this.state),n=e[0],r=e[1],a=e[2],i=e[3],o=Ze(e),s=t.width,l=t.height;return{width:o.width,height:o.height,left:o.left,top:o.top,pos1:n,pos2:r,pos3:a,pos4:i,offsetWidth:s,offsetHeight:l}},n.checkUpdate=function(){var t=this.props,e=t.target,n=t.container,r=t.parentMoveable,a=this.state,i=a.target,o=a.container;(i||e)&&(this.updateAbles(),wn(i,e)&&wn(o,n)||(this.updateState({target:e,container:n}),r||!n&&!this.controlBox||this.updateRect("End",!1,!1)))},n.triggerEvent=function(t,e){var n=this.props[t];return n&&n(e)},n.unsetAbles=function(){var e=this;this.targetAbles.filter(function(t){return!!t.unset&&(t.unset(e),!0)}).length&&this.forceUpdate()},n.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props,r=t.filter(function(t){return t&&n[t.name]}),a="drag"+e+"ControlStart",i=yn(r,["drag"+e+"Start","pinch"+e+"Start"]),o=yn(r,[a]);this.targetAbles=i,this.controlAbles=o},n.updateState=function(t,e){if(e)this.setState(t);else{var n=this.state;for(var r in t)n[r]=t[r]}},n.renderAbles=function(){var e=this,n=this.props,t=n.ables.filter(function(t){return t&&n[t.name]}),r={createElement:at};return Sn(yn(t,["render"]).map(function(t){return(0,t.render)(e,r)}))},t.defaultProps={target:null,container:null,origin:!0,edge:!1,parentMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,transformOrigin:"",className:""},t}(ht);function zn(t){return Xt([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}var Gn={name:"pinchable",updateRect:!0,props:{pinchable:Boolean,pinchThreshold:Number},pinchStart:function(n,t){var r=t.datas,a=t.clientX,i=t.clientY,e=t.touches,o=t.inputEvent,s=t.targets,l=n.props,u=l.pinchable,c=l.ables;if(!u)return!1;var f="onPinch"+(s?"Group":"")+"Start",p="drag"+(s?"Group":"")+"ControlStart",h=(!0===u?n.controlAbles:c.filter(function(t){return-1<u.indexOf(t.name)})).filter(function(t){return t.canPinch&&t[p]}),d=vn(n,t,{});s&&(d.targets=s);var g=mn(n,f,d);r.isPinch=!1!==g,r.ables=h;var v=r.isPinch;if(!v)return!1;var m=zn(e);return h.forEach(function(t){r[t.name+"Datas"]={};var e={datas:r[t.name+"Datas"],clientX:a,clientY:i,inputEvent:o,parentRotate:m,pinchFlag:!0};t[p](n,e)}),n.state.snapRenderInfo={direction:[0,0]},v},pinch:function(e,t){var n=t.datas,r=t.clientX,a=t.clientY,i=t.scale,o=t.distance,s=t.touches,l=t.inputEvent,u=t.targets;if(n.isPinch){var c=zn(s),f=o*(1-1/i),p=vn(e,t,{});u&&(p.targets=u),mn(e,"onPinch"+(u?"Group":""),p);var h=n.ables,d="drag"+(u?"Group":"")+"Control";return h.forEach(function(t){t[d](e,{clientX:r,clientY:a,datas:n[t.name+"Datas"],inputEvent:l,parentDistance:f,parentRotate:c,pinchFlag:!0})}),p}},pinchEnd:function(e,t){var n=t.datas,r=t.clientX,a=t.clientY,i=t.isPinch,o=t.inputEvent,s=t.targets;if(n.isPinch){var l="onPinch"+(s?"Group":"")+"End",u=vn(e,t,{isDrag:i});s&&(u.targets=s),mn(e,l,u);var c=n.ables,f="drag"+(s?"Group":"")+"ControlEnd";return c.forEach(function(t){t[f](e,{clientX:r,clientY:a,isDrag:i,datas:n[t.name+"Datas"],inputEvent:o,pinchFlag:!0})}),i}},pinchGroupStart:function(t,e){return this.pinchStart(t,Ce({},e,{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,Ce({},e,{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,Ce({},e,{targets:t.props.targets}))}};function An(t,i,o,e,s,l){var n=i.name,u=e[n]||(e[n]=[]),c=!!o.match(/End$/g);return t.moveables.map(function(t,e){var n=u[e]||(u[e]={}),r=function(t){return typeof t===m}(s)?s(t,n):s,a=i[o](t,Ce({},r,{datas:n,parentFlag:!0}));return a&&l&&l(t,n,a,e),c&&(t.state.dragger=null),a})}function Nn(t){return X(t,Fe("direction"))}function Tn(t,e){var n=e.datas,r=t.state,a=r.matrix,i=r.beforeMatrix,o=r.is3d,s=r.left,l=r.top,u=r.origin,c=r.offsetMatrix,f=r.targetMatrix,p=r.transformOrigin,h=o?4:3;n.is3d=o,n.matrix=a,n.targetMatrix=f,n.beforeMatrix=i,n.offsetMatrix=c,n.transformOrigin=p,n.inverseMatrix=Tt(a,h),n.inverseBeforeMatrix=Tt(i,h),n.absoluteOrigin=Yt(qt([s,l],u),h),n.startDragBeforeDist=Ut(n.inverseBeforeMatrix,n.absoluteOrigin,h),n.startDragDist=Ut(n.inverseMatrix,n.absoluteOrigin,h)}function jn(t,e){var n=t.datas,r=t.distX,a=t.distY,i=n.inverseBeforeMatrix,o=n.inverseMatrix,s=n.is3d,l=n.startDragBeforeDist,u=n.startDragDist,c=s?4:3;return Ht(Ut(e?i:o,qt(n.absoluteOrigin,[r,a]),c),e?l:u)}function Xn(t){var e=[];return 0<=t[1]&&(0<=t[0]&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(0<=t[0]&&e.push(1),t[0]<=0&&e.push(0)),e}function Yn(e,t){return Xn(t).map(function(t){return e[t]})}function Fn(t,e){var n=Yn(t,e);return[Wt.apply(void 0,n.map(function(t){return t[0]})),Wt.apply(void 0,n.map(function(t){return t[1]}))]}function In(t,e){var n=t[0],r=t[1],a=t[2];return Fn([t[3],a,r,n],e)}function Bn(t,e){return In([t[0],t[1],t[2],t[3]],e)}function Ln(t,e,n,r,a,i){var o=In($e(e,n,r,a),i);return[t[0]-o[0],t[1]-o[1]]}function Wn(t,e,n,r){return Bt(t,Be(e,r,n),r)}function qn(t,e){var n=t.transformOrigin,r=t.offsetMatrix,a=t.is3d?4:3;return Wn(r,Bt(t.targetMatrix,Jt(e,a),a),n,a)}function Hn(t,e,n,r,a,i){var o=t.props.groupable,s=t.state,l=s.transformOrigin,u=s.targetMatrix,c=s.offsetMatrix,f=s.is3d,p=s.width,h=s.height,d=s.left,g=s.top,v=f?4:3,m=o?d:0,b=o?g:0;return Ht(Ln(a,Wn(c,u,function(t,s,l,u,c,f){return void 0===u&&(u=s),void 0===c&&(c=l),void 0===f&&(f=[0,0]),t?t.map(function(t,e){var n=N(t),r=n.value,a=n.unit,i=e?c:u,o=e?l:s;return"%"===t||isNaN(r)?o*(i?f[e]/i:0):"%"!==a?r:o*r/100}):f}(i,e,n,p,h,l),v),e,n,v,r),[m,b])}function Un(t,e){return Bn(cn(t.state),e)}function Kn(t){var e=t.state;if(!e.guidelines||!e.guidelines.length){var n=t.props,r=n.horizontalGuidelines,a=void 0===r?[]:r,i=n.verticalGuidelines,o=void 0===i?[]:i,s=n.elementGuidelines,l=void 0===s?[]:s,u=n.bounds,c=n.snapCenter;if(u||a.length||o.length||l.length){var f=e.containerClientRect,p=f.top,h=f.left,d=e.targetClientRect,g=d.top,v=d.left,m=cn(e),b=Math.min.apply(Math,m.map(function(t){return t[0]})),y=Math.min.apply(Math,m.map(function(t){return t[1]})),_=fn(b-(v-h)),x=fn(y-(g-p)),w=[];l.forEach(function(t){var e=t.getBoundingClientRect(),n=e.top,r=e.left,a=e.width,i=e.height,o=n-p,s=o+i,l=r-h,u=l+a;w.push({type:"vertical",element:t,pos:[pn(l+_,.1),o],size:i}),w.push({type:"vertical",element:t,pos:[pn(u+_,.1),o],size:i}),w.push({type:"horizontal",element:t,pos:[l,pn(o+x,.1)],size:a}),w.push({type:"horizontal",element:t,pos:[l,pn(s+x,.1)],size:a}),c&&(w.push({type:"vertical",element:t,pos:[pn((l+u)/2+_,.1),o],size:i,center:!0}),w.push({type:"horizontal",element:t,pos:[l,pn((o+s)/2+x,.1)],size:a,center:!0}))}),e.guidelines=w,e.enableSnap=!0}}}function Vn(t,e,n,r){return{vertical:$n(t,e,!0,r),horizontal:$n(t,n,!1,r)}}function $n(t,e,n,r){void 0===r&&(r=0);var a=t.props.bounds;if(a){var i=a[n?"left":"top"],o=a[n?"right":"bottom"],s=Math.min.apply(Math,e),l=Math.max.apply(Math,e);if(!L(i)&&s<i+r)return{isBound:!0,offset:s-i,pos:i};if(!L(o)&&o-r<l)return{isBound:!0,offset:l-o,pos:o}}return{isBound:!1,offset:0,pos:0}}function Zn(e,o,t,s,l,u){if(!e||!e.length)return{isSnap:!1,posInfos:[]};var a="vertical"===o?0:1,n=t.map(function(r){var t=e.map(function(t){var e=t.pos,n=r-e[a];return{offset:n,dist:Math.abs(n),guideline:t}}).filter(function(t){var e=t.guideline,n=t.dist,r=e.type,a=e.center,i=e.element;return!(!u&&i||!l&&a||r!==o||s<n)}).sort(function(t,e){return t.dist-e.dist});return{pos:r,guidelineInfos:t}}).filter(function(t){return 0<t.guidelineInfos.length}).sort(function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist});return{isSnap:0<n.length,posInfos:n}}function Jn(t,e){var n=t.props,r=n.snappable,a=n.bounds,i=n.verticalGuidelines,o=n.horizontalGuidelines,s=t.state,l=s.guidelines,u=s.enableSnap;return!(!r||!u||e&&!0!==r&&r.indexOf(e)<0)&&!!(a||l&&l.length||i&&i.length||o&&o.length)}function Qn(t,e,n,r,a){var i=t.state,o=i.guidelines,s=i.containerClientRect,l=s.height,u=s.width,c=t.props,f=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,r=0;r<n;++r){var a=t[r];if(!L(a))return a}return t[n]}(a,c.snapThreshold,5),p=c.snapElement,h=void 0===p||p,d=c.snapHorizontal,g=void 0===d||d,v=c.snapVertical,m=void 0===v||v,b=c.verticalGuidelines,y=c.horizontalGuidelines,_=o.slice();return g&&y&&y.forEach(function(t){_.push({type:"horizontal",pos:[0,pn(t,.1)],size:u})}),m&&b&&b.forEach(function(t){_.push({type:"vertical",pos:[pn(t,.1),0],size:l})}),{vertical:Zn(_,"vertical",e,f,r,h),horizontal:Zn(_,"horizontal",n,f,r,h)}}function tr(t,e,n,r){var a=t.props.snapCenter&&n,i=["left","right"],o=["top","bottom"];return a&&(i.push("center"),o.push("middle")),i=i.filter(function(t){return t in e}),o=o.filter(function(t){return t in e}),Qn(t,i.map(function(t){return e[t]}),o.map(function(t){return e[t]}),a,r)}function er(t,e){var n=Vn(t,[e[0]],[e[1]]),r=n.horizontal,a=r.isBound,i=r.offset,o=n.vertical,s=o.isBound,l=o.offset;if(a||s){var u=void 0,c=(u=a&&s?Math.abs(i)<Math.abs(l):s)?l:i;return{isVertical:u,offset:c,dist:Math.abs(c)}}}function nr(t,e,n,r,a,i){var o=function(t,e,n,r){var a=e[0]-t[0],i=e[1]-t[1];Math.abs(a)<Ae&&(a=0);Math.abs(i)<Ae&&(i=0);if(!a)return r?void 0:[0,n];if(!i)return r?[n,0]:void 0;var o=i/a,s=t[1]-o*t[0];{if(r){var l=o*(e[0]+n)+s;return[n,l-e[1]]}return[(e[1]+n-s)/o-e[0],n]}}(t,e,-n,r);if(!o)return NaN;var s=jn({datas:i,distX:o[0],distY:o[1]}),l=s[0],u=s[1];return a?u:l}function rr(t,e,n,r,a,i){var o=$e(t,e,n,i?4:3);return un(o,Ht(r,In(o,a)))}function ar(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],r=n.guidelineInfos[0],a=r.offset,i=r.dist,o=r.guideline;return{isSnap:e,offset:a,dist:i,pos:n.pos,guideline:o}}function ir(r,t,a,i,o){var n,s=0,l=-1;if(t.map(function(t){return er(r,t)}).forEach(function(t,e){t&&(!n||n.dist<t.dist)&&(n=t,l=e)}),n){var e=nr(a[l],t[l],n.offset,n.isVertical,i,o);isNaN(e)||(s=e)}else t.some(function(t,e){var n=function(t,e,n,r,a){var i,o=Qn(t,[e[0]],[e[1]]),s=o.horizontal,l=o.vertical,u=Math.abs(n[1]-e[1])<Ae,c=Math.abs(n[0]-e[0])<Ae,f=ar(s),p=f.isSnap,h=f.dist,d=f.offset,g=ar(l),v=g.isSnap,m=g.dist,b=g.offset;return p||v?nr(n,e,(i=p&&v?0===h&&u||(0!==b||!c)&&m<h:v)?b:d,i,r,a):NaN}(r,t,a[e],i,o);return!isNaN(n)&&(s=n,!0)});return s}function or(t,e,n,r,a,i,o,s){var l=In(cn(t.state),i),u=rr(e,n,r,l,a,s);return a[0]&&a[1]?function(t,e,n,r,a,i,o,s,l){var u,c=Yn(e,n),f=[n[0],-1*n[1]],p=[-1*n[0],n[1]],h=Fn(e,f),d=Fn(e,p),g=Vn(t,[c[0][0]],[c[0][1]]),v=g.horizontal,m=v.isBound,b=v.offset,y=g.vertical,_=y.isBound,x=y.offset,w=0,E=0,S=er(t,h),M=er(t,d),C=S&&S.dist>Math.abs(x),D=M&&M.dist>Math.abs(b);if(C||D)if(C){var O=nr(Fn(e,[-1*f[0],f[1]]),h,S.offset,S.isVertical,!1,r);isNaN(O)||(w=O),E=ir(t,[Fn(P=rr(a,i+n[0]*w,o+n[1]*E,s,n,l),n)],[Fn(P,f)],!0,r)}else{var P;O=nr(Fn(e,[-1*p[0],p[1]]),h,M.offset,M.isVertical,!0,r);isNaN(O)||(E=O),w=ir(t,[Fn(P=rr(a,i+n[0]*w,o+n[1]*E,s,n,l),n)],[Fn(P,p)],!1,r)}else{var R=Qn(t,[c[0][0]],[c[0][1]]),k=R.horizontal,z=R.vertical,G=ar(k).offset,A=ar(z).offset;w=(u=jn({datas:r,distX:-(_?x:A),distY:-(m?b:G)}))[0],E=u[1]}return[n[0]*w,n[1]*E]}(t,u,a,o,e,n,r,l,s):function(t,e,n,r){var a,i,o=0!==n[0]?0:1,s=0<o,l=e.slice().reverse();t.props.keepRatio?(a=[Fn(e,n)],i=[Fn(l,n)]):(a=Yn(e,n),i=Yn(l,n),a.push([(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]),i.reverse(),i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]));var u=ir(t,a,i,s,r),c=[0,0];return c[o]=n[o]*u,c}(t,u,a,o)}function sr(t,e,n){var r=t[0],a=t[1],i=t[2],o=t[3];return[Kt(r,n),Kt(a,n),Kt(i,n),Kt(o,n)].some(function(t){return t[0]<e.left&&Math.abs(t[0]-e.left)>Ae||t[0]>e.right&&Math.abs(t[0]-e.right)>Ae||t[1]<e.top&&Math.abs(t[1]-e.top)>Ae||t[1]>e.bottom&&Math.abs(t[1]-e.bottom)>Ae})}function lr(t,e,n,r){var a=t.props.bounds;if(!a||!Jn(t,"resizable"))return r;var i=a.left,o=void 0===i?-1/0:i,s=a.top,l=void 0===s?-1/0:s,u=a.right,c=void 0===u?1/0:u,f=a.bottom,p=void 0===f?1/0:f,h=e.pos1,d=e.pos2,g=e.pos3,v=e.pos4,m=r*Math.PI/180,b=o-n[0],y=c-n[0],_=l-n[1],x=p-n[1],w={left:b,top:_,right:y,bottom:x},E=Ht(h,n),S=Ht(d,n),M=Ht(g,n),C=Ht(v,n),D=[E,S,M,C],O=[Kt(E,m),Kt(S,m),Kt(M,m),Kt(C,m)];if(!sr(O,w,0))return r;var P=[];O.forEach(function(t){t[0]<b&&P.push([t,b,0]),t[0]>y&&P.push([t,y,0]),t[1]<_&&P.push([t,_,1]),t[1]>x&&P.push([t,x,1])});for(var R=P.length,k=function(t){var e=P[t],n=e[0],r=e[1],a=e[2],i=Xt([0,0],n),o=function(n,e,r){var t=tn(n),a=Math.sqrt(t*t-e*e);return[a,-a].sort(function(t,e){return Math.abs(t-n[r?0:1])-Math.abs(e-n[r?0:1])}).map(function(t){return Xt([0,0],r?[t,e]:[e,t])})}(n,r,a).filter(function(t){return!sr(D,w,m+t-i)});if(o.length)return{value:pn(180*(m+o[0]-i)/Math.PI,Ae)}},z=0;z<R;++z){var G=k(z);if("object"==typeof G)return G.value}return r}function ur(t){var n=[];return t.forEach(function(t){t.guidelineInfos.forEach(function(t){var e=t.guideline;-1<n.indexOf(e)||n.push(e)})}),n}function cr(t,e,n,r){var a=t-n,i=a<0?a+e:r;return{size:(a<0?0:a)-i,pos:i}}var fr={name:"snappable",props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object},render:function(t,l){var e=t.state,u=e.top,c=e.left,n=e.pos1,r=e.pos2,a=e.pos3,i=e.pos4,o=e.snapRenderInfo,s=e.targetClientRect,f=e.containerClientRect,p=s.left-f.left,h=s.top-f.top,d=Math.min(n[0],r[0],a[0],i[0]),g=Math.min(n[1],r[1],a[1],i[1]);if(!o||!Jn(t,""))return[];var v=t.props.snapThreshold,m=void 0===v?5:v,b=cn(t.state),y=Ze(b),_=y.width,x=y.height,w=y.top,E=y.left,S=y.bottom,M=y.right,C=[],D=[],O=[],P=[],R=[];if(o.direction&&R.push(function(t,e,n){if(n[0]||n[1]){a=void 0;return t.props.keepRatio?a=[Fn(e,n)]:1<(a=Yn(e,n)).length&&a.push([(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]),Qn(t,a.map(function(t){return t[0]}),a.map(function(t){return t[1]}),!0,1)}for(var r=[e[0],e[1],e[3],e[2],e[0]],a=[],i=0;i<4;++i)a.push(r[i]),e.push([(r[i][0]+r[i+1][0])/2,(r[i][1]+r[i+1][1])/2]);return Qn(t,a.map(function(t){return t[0]}),a.map(function(t){return t[1]}),!0,1)}(t,b,o.direction)),o.snap){var k=Ze(b);o.center&&(k.middle=(k.top+k.bottom)/2,k.center=(k.left+k.right)/2),R.push(tr(t,k,!0,1))}R.forEach(function(t){var e=t.vertical.posInfos,n=t.horizontal.posInfos;C.push.apply(C,e.map(function(t){return t.pos})),D.push.apply(D,n.map(function(t){return t.pos})),O.push.apply(O,ur(e)),P.push.apply(P,ur(n))});var z=Vn(t,[E,M],[w,S],1),G=z.vertical,A=G.isBound,N=G.pos,T=z.horizontal,j=T.isBound,X=T.pos;A&&C.indexOf(N)<0&&C.push(N),j&&D.indexOf(X)<0&&D.push(X);var Y=En(O.filter(function(t){return t.element}),function(t){var e=t.pos;return Math.min(0,e[1]-h)<0?-e[0]:e[0]}),F=En(P.filter(function(t){return t.element}),function(t){var e=t.pos;return Math.min(0,e[0]-p)<0?-e[1]:e[1]});return F.forEach(function(t){t.sort(function(t,e){return cr(t.pos[0],t.size,p,_).size-cr(e.pos[0],t.size,p,_).size})}),Y.forEach(function(t){t.sort(function(t,e){return cr(t.pos[1],t.size,h,x).size-cr(e.pos[1],t.size,h,x).size})}),Sn(F.map(function(t,s){return t.map(function(t,e){var n=t.pos,r=t.size,a=cr(n[0],r,p,_),i=a.pos,o=a.size;return o<m?null:l.createElement("div",{className:Fe("line","horizontal","guideline","dashed"),"data-size":e?"":parseFloat(o.toFixed(4)),key:"horizontalLinkGuidline"+s+"-"+e,style:{left:d+i+"px",top:-u+n[1]+"px",width:o+"px"}})})})).concat(Sn(Y.map(function(t,s){return t.map(function(t,e){var n=t.pos,r=t.size,a=cr(n[1],r,h,x),i=a.pos,o=a.size;return o<m?null:l.createElement("div",{className:Fe("line","vertical","guideline","dashed"),"data-size":e?"":parseFloat(o.toFixed(4)),key:"verticalLinkGuidline"+s+"-"+e,style:{top:i+"px",left:-c+n[0]+"px",height:o+"px"}})})})),C.map(function(t,e){return l.createElement("div",{className:Fe("line","vertical","guideline","target","bold"),key:"verticalTargetGuidline"+e,style:{top:g+"px",left:-c+t+"px",height:x+"px"}})}),D.map(function(t,e){return l.createElement("div",{className:Fe("line","horizontal","guideline","target","bold"),key:"horizontalTargetGuidline"+e,style:{top:-u+t+"px",left:d+"px",width:_+"px"}})}),O.map(function(t,e){var n=t.pos,r=t.size,a=t.element;return l.createElement("div",{className:Fe("line","vertical","guideline",a?"bold":""),key:"verticalGuidline"+e,style:{top:g-h+n[1]+"px",left:-c+n[0]+"px",height:r+"px"}})}),P.map(function(t,e){var n=t.pos,r=t.size,a=t.element;return l.createElement("div",{className:Fe("line","horizontal","guideline",a?"bold":""),key:"horizontalGuidline"+e,style:{top:-u+n[1]+"px",left:d-p+n[0]+"px",width:r+"px"}})}))},dragStart:function(t,e){t.state.snapRenderInfo={snap:!0,center:!0},Kn(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t){return Nn(t)||br(t)},dragControlStart:function(t,e){t.state.snapRenderInfo=null,Kn(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t,e){t.state.snapRenderInfo=null,Kn(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null}},pr={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number},render:function(t,e){var n=t.props.throttleDragRotate,r=t.state,a=r.dragInfo,i=r.beforeOrigin;if(n&&a){var o=a.dist;if(o[0]||o[1]){var s=tn(o),l=Xt(o,[0,0]);return e.createElement("div",{className:Fe("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:s+"px",transform:"translate("+i[0]+"px, "+i[1]+"px) rotate("+l+"rad)"}})}}},dragStart:function(t,e){var n=e.datas,r=e.parentEvent,a=e.parentDragger,i=t.state,o=i.targetTransform,s=i.target;if(i.dragger)return!1;i.dragger=a||t.targetDragger;var l=window.getComputedStyle(s);n.datas={},n.left=parseFloat(l.left||"")||0,n.top=parseFloat(l.top||"")||0,n.bottom=parseFloat(l.bottom||"")||0,n.right=parseFloat(l.right||"")||0,n.transform=o,n.startTranslate=[0,0],Tn(t,{datas:n}),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,function(t,e){e.absolutePoses=cn(t.state)}(t,n);var u=vn(t,e,{set:function(t){n.startTranslate=t}});return!1!==(r||mn(t,"onDragStart",u))?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(i.dragger=null,n.isPinch=!1),!!n.isDrag&&u},drag:function(t,e){var n=e.datas,r=e.parentEvent,a=e.parentFlag,i=e.distX,o=e.distY,s=n.isPinch,l=n.isDrag,u=n.prevDist,c=n.prevBeforeDist,f=n.transform,p=n.startTranslate;if(l){var h=t.props,d=h.parentMoveable,g=r?0:h.throttleDrag||0,v=r?0:h.throttleDragRotate||0,m=!1,b=0;if(0<v&&i&&o){var y=pn(180*Xt([0,0],[i,o])/Math.PI,v),_=tn([i,o]);b=y*Math.PI/180,i=_*Math.cos(b),o=_*Math.sin(b)}if(!s&&!r&&!a&&i&&o){var x=function(t,e,n,r){var a={isSnap:!1,isBound:!1,offset:0},i={isSnap:!1,isBound:!1,offset:0};if(!Jn(t,"draggable"))return[a,i];var o=Ze(un(r.absolutePoses,[e,n])),s=o.left,l=o.right,u=o.top,c=o.bottom,f=tr(t,{left:s,right:l,top:u,bottom:c,center:(s+l)/2,middle:(u+c)/2},!0),p=Vn(t,[s,l],[u,c]);return p.vertical.isBound?(a.offset=p.vertical.offset,a.isSnap=!0,a.isBound=!0):f.vertical.isSnap&&(a.offset=f.vertical.posInfos[0].guidelineInfos[0].offset,a.isSnap=!0),p.horizontal.isBound?(i.offset=p.horizontal.offset,i.isSnap=!0,i.isBound=!0):f.horizontal.isSnap&&(i.offset=f.horizontal.posInfos[0].guidelineInfos[0].offset,i.isSnap=!0),[a,i]}(t,i,o,n),w=x[0],E=x[1],S=w.isSnap,M=w.isBound,C=w.offset,D=E.isSnap,O=E.isBound,P=E.offset;if(m=S||D,v){var R=[];if(M&&O?R.push([0,P],[C,0]):M?R.push([C,0]):O?R.push([0,P]):S&&D?R.push([0,P],[C,0]):S?R.push([C,0]):D&&R.push([0,P]),R.length){R.sort(function(t,e){return tn(Ht([i,o],t))-tn(Ht([i,o],e))});var k=R[0];if(k[0]&&Math.abs(i)>Ae){var z=i;i-=k[0],o=o*Math.abs(i)/Math.abs(z)}else if(k[1]&&Math.abs(o)>Ae){var G=o;o-=k[1],i=i*Math.abs(o)/Math.abs(G)}}}else i-=C,o-=P}n.passDistX=i,n.passDistY=o;var A=qt(jn({datas:n,distX:i,distY:o},!0),p),N=qt(jn({datas:n,distX:i,distY:o},!1),p);v||m||(hn(N,g),hn(A,g));var T=Ht(A,p),j=Ht(N,p),X=Ht(j,u),Y=Ht(T,c);n.prevDist=j,n.prevBeforeDist=T;var F=n.left+T[0],I=n.top+T[1],B=n.right-T[0],L=n.bottom-T[1],W=f+" translate("+j[0]+"px, "+j[1]+"px)";if(t.state.dragInfo.dist=j,r||d||!X.every(function(t){return!t})||!Y.some(function(t){return!t})){var q=vn(t,e,{transform:W,dist:j,delta:X,translate:N,beforeDist:T,beforeDelta:Y,beforeTranslate:A,left:F,top:I,right:B,bottom:L,isPinch:s});return r||mn(t,"onDrag",q),q}}},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas,a=e.isDrag;if(t.state.dragger=null,t.state.dragInfo=null,r.isDrag)return r.isDrag=!1,n||mn(t,"onDragEnd",vn(t,e,{isDrag:a})),a},dragGroupStart:function(t,e){var n=e.datas,r=this.dragStart(t,e);if(!r)return!1;var a=An(t,this,"dragStart",n,e),i=mn(t,"onDragGroupStart",Ce({},r,{targets:t.props.targets,events:a}));return n.isDrag=!1!==i,!!n.isDrag&&r},dragGroup:function(t,e){var n=e.datas;if(n.isDrag){var r=this.drag(t,e),a=e.datas,i=a.passDistX,o=a.passDistY,s=An(t,this,"drag",n,Ce({},e,{distX:i,distY:o}));if(r){var l=Ce({targets:t.props.targets,events:s},r);return mn(t,"onDragGroup",l),l}}},dragGroupEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isDrag)return this.dragEnd(t,e),An(t,this,"dragEnd",r,e),mn(t,"onDragGroupEnd",vn(t,e,{targets:t.props.targets,isDrag:n})),n},unset:function(t){t.state.dragInfo=null}};function hr(t,e,n){return Ce({},t.dragger.move(e,n),{parentEvent:!0})}var dr=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={}}var e=t.prototype;return e.dragStart=function(t,e){return this.isDrag=!1,this.isFlag=!1,this.datas={},this.move(t,e)},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var n,r;return this.isFlag?(n=this.prevX+t[0],r=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],r=t[1],this.isFlag=!0),{clientX:this.prevX=n,clientY:this.prevY=r,inputEvent:e,isDrag:this.isDrag,distX:n-this.startX,distY:r-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas,parentEvent:!0,parentDragger:this}},t}();function gr(t,e,n,r,a){t.startAbsoluteOrigin=[a.left+r[0],a.top+r[1]],t.prevDeg=Xt(t.startAbsoluteOrigin,[e,n])/Math.PI*180,t.startDeg=t.prevDeg,t.loop=0}function vr(t,e,n,r,a,i,o,s){var l=n.prevDeg,u=n.startDeg,c=n.loop;r<l&&270<l&&r<90?++n.loop:l<r&&l<90&&270<r&&--n.loop;var f=n.loop,p=360*c+l-u+i,h=360*f+r-u+i,d=a*((h=pn(h,o))-i);s&&(h=(d=lr(t,e,n.origin,d))/a+i);var g=a*(h-p);return n.prevDeg=h-360*f+u-i,[g,d,h]}function mr(t,e,n,r,a,i,o,s){return vr(t,e,n,Xt(n.startAbsoluteOrigin,[a,i])/Math.PI*180,r,o,s,!0)}function br(t){return X(t,Fe("rotation"))}var yr={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number},render:function(t,e){var n=t.props,r=n.rotatable,a=n.rotationPosition;if(!r)return null;var i=t.state,o=i.pos1,s=i.pos2,l=i.pos3,u=i.pos4,c=i.direction,f=function(t,e,n,r,a){return"left"===t?[r,e]:"right"===t?[n,a]:"bottom"===t?[a,r]:[e,n]}(a,o,s,l,u),p=an(f,c);return e.createElement("div",{key:"rotation",className:Fe("line rotation-line"),style:{transform:"translate("+(f[0][0]+f[1][0])/2+"px, "+(f[0][1]+f[1][1])/2+"px) rotate("+p+"rad)"}},e.createElement("div",{className:Fe("control","rotation")}))},dragControlCondition:br,dragControlStart:function(t,e){var n=e.datas,r=e.clientX,a=e.clientY,i=e.parentRotate,o=e.parentFlag,s=e.pinchFlag,l=t.state,u=l.target,c=l.left,f=l.top,p=l.origin,h=l.beforeOrigin,d=l.direction,g=l.beforeDirection,v=l.targetTransform;if(!u)return!1;if(n.rect=t.getRect(),n.transform=v,n.left=c,n.top=f,s||o)n.beforeInfo={prevDeg:i,startDeg:i,loop:0},n.afterInfo={prevDeg:i,startDeg:i,loop:0};else{n.beforeInfo={origin:qt([c,f],h)},n.afterInfo={origin:qt([c,f],p)};var m=sn(t.controlBox.getElement());gr(n.afterInfo,r,a,p,m),gr(n.beforeInfo,r,a,h,m)}n.direction=d,n.beforeDirection=g,n.startRotate=0,n.datas={};var b=vn(t,e,{set:function(t){n.startRotate=t}}),y=mn(t,"onRotateStart",b);return n.isRotate=!1!==y,t.state.snapRenderInfo={},!!n.isRotate&&b},dragControl:function(t,e){var n,r,a,i,o=e.datas,s=e.clientX,l=e.clientY,u=e.parentRotate,c=e.parentFlag,f=e.pinchFlag,p=o.direction,h=o.beforeDirection,d=o.beforeInfo,g=o.afterInfo,v=o.isRotate,m=o.startRotate,b=o.rect;if(v){var y,_,x,w,E,S,M=t.props,C=M.throttleRotate,D=void 0===C?0:C,O=M.parentMoveable;if(S=f||c?(y=(n=vr(t,b,g,u,p,m,D))[0],_=n[1],x=n[2],w=(r=vr(t,b,d,u,p,m,D))[0],E=r[1],r[2]):(y=(a=mr(t,b,g,p,s,l,m,D))[0],_=a[1],x=a[2],w=(i=mr(t,b,d,h,s,l,m,D))[0],E=i[1],i[2]),y||w||O){var P=vn(t,e,{delta:y,dist:_,rotate:x,beforeDist:E,beforeDelta:w,beforeRotate:S,transform:o.transform+" rotate("+_+"deg)",isPinch:!!f});return mn(t,"onRotate",P),P}}},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isRotate&&(n.isRotate=!1,mn(t,"onRotateEnd",vn(t,e,{isDrag:r})),r)},dragGroupControlCondition:br,dragGroupControlStart:function(t,e){var n=e.datas,l=e.inputEvent,r=t.state,u=r.left,c=r.top,f=r.beforeOrigin,a=this.dragControlStart(t,e);if(!a)return!1;a.set(t.rotation);var i=An(t,this,"dragControlStart",n,Ce({},e,{parentRotate:0}),function(t,e,n){var r=t.state,a=r.left,i=r.top,o=r.beforeOrigin,s=qt(Ht([a,i],[u,c]),Ht(o,f));e.prevClient=s,n.dragStart=pr.dragStart(t,(new dr).dragStart(s,l))}),o=mn(t,"onRotateGroupStart",Ce({},a,{targets:t.props.targets,events:i}));return n.isRotate=!1!==o,!!n.isRotate&&a},dragGroupControl:function(e,t){var p=t.inputEvent,n=t.datas;if(n.isRotate){var r=this.dragControl(e,t);if(r){var a=r.beforeDist,h=r.beforeDelta/180*Math.PI,i=An(e,this,"dragControl",n,Ce({},t,{parentRotate:a}),function(t,e,n,r){var a=e.prevClient,i=a[0],o=a[1],s=Kt([i,o],h),l=s[0],u=s[1],c=[l-i,u-o];e.prevClient=[l,u];var f=pr.drag(t,hr(t.state,c,p));n.drag=f});e.rotation=r.beforeRotate;var o=Ce({targets:e.props.targets,events:i,set:function(t){e.rotation=t}},r);return mn(e,"onRotateGroup",o),o}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isRotate)return this.dragControlEnd(t,e),An(t,this,"dragControlEnd",r,e),mn(t,"onRotateGroupEnd",vn(t,e,{targets:t.props.targets,isDrag:n})),n}};function _r(t,e,r){var n=t.state,a=n.pos1,i=n.pos2,o=n.pos3,s=n.pos4,l=n.rotation,u=t.props.renderDirections,c=void 0===u?e:u,f=[a,i,o,s],p={};return c.forEach(function(t){p[t]=!0}),c.map(function(t){var e=je[t];if(!e||!p[t])return null;var n=(pn(l/Math.PI*180,15)+Xe[t])%180;return r.createElement("div",{className:Fe("control","direction",t),"data-rotation":n,"data-direction":t,key:"direction-"+t,style:nn.apply(void 0,[l].concat(e.map(function(t){return f[t]})))})})}function xr(t,e){return _r(t,["nw","ne","sw","se","n","w","s","e"],e)}function wr(t,e){return _r(t,["nw","ne","sw","se"],e)}var Er={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,baseDirection:Array,keepRatio:Boolean},render:function(t,e){var n=t.props,r=n.resizable,a=n.edge;if(r)return a?wr(t,e):xr(t,e)},dragControlCondition:Nn,dragControlStart:function(t,e){var n,r=e.inputEvent,a=e.pinchFlag,i=e.datas,o=r.target,s=a?[1,1]:ln(o),l=t.state,u=l.target,c=l.width,f=l.height;if(!s||!u)return!1;a||Tn(t,{datas:i}),i.datas={},i.direction=s,i.startOffsetWidth=c,i.startOffsetHeight=f,i.prevWidth=0,i.prevHeight=0,n=function(t){var e=window.getComputedStyle(t);return[parseFloat(e.width),parseFloat(e.height)]}(u),i.startWidth=n[0],i.startHeight=n[1],i.transformOrigin=t.props.transformOrigin,i.startDirection=function(t,e){var n=t.props.baseDirection,r=void 0===n?[-1,-1]:n;return[e[0]?e[0]:-1*r[0],e[1]?e[1]:-1*r[1]]}(t,s),i.fixedPosition=Un(t,i.startDirection),i.fixedOriginalPosition=Un(t,s);var p=vn(t,e,{direction:s,set:function(t){var e=t[0],n=t[1];i.startWidth=e,i.startHeight=n},setOrigin:function(t){i.transformOrigin=t},dragStart:pr.dragStart(t,(new dr).dragStart([0,0],r))});return!1!==mn(t,"onResizeStart",p)&&(i.isResize=!0,t.state.snapRenderInfo={direction:s}),!!i.isResize&&p},dragControl:function(t,e){var n=e.datas,r=e.distX,a=e.distY,i=e.parentFlag,o=e.pinchFlag,s=e.parentDistance,l=e.parentScale,u=e.inputEvent,c=e.parentKeepRatio,f=e.dragClient,p=n.direction,h=n.isResize,d=n.transformOrigin;if(h){var g=n.startWidth,v=n.startHeight,m=n.startOffsetWidth,b=n.startOffsetHeight,y=n.prevWidth,_=n.prevHeight,x=t.props,w=x.throttleResize,E=void 0===w?0:w,S=x.parentMoveable,M=t.props.keepRatio||c,C=p[0]||!p[1],D=C?b/m:m/b,O=0,P=0;if(l)O=(l[0]-1)*m,P=(l[1]-1)*b;else if(o)s&&(P=(O=s)*b/m);else{var R=jn({datas:n,distX:r,distY:a});if(O=p[0]*R[0],P=p[1]*R[1],M&&m&&b){var k=Xt([0,0],R),z=Xt([0,0],p),G=Xt([0,0],[m,b]),A=tn([O,P]),N=Math.cos(k-z)*A;p[0]?P=p[1]?(O=Math.cos(G)*N,Math.sin(G)*N):_n(O=N,C,D):O=xn(P=N,C,D)}}var T=p[0]||M?Math.max(m+O,0):m,j=p[1]||M?Math.max(b+P,0):b,X=[0,0];if(o||(X=function(t,e,n,r,a){if(!Jn(t,"resizable"))return[0,0];var i=t.state;return or(t,i.matrix,e,n,r,r,a,i.is3d)}(t,T,j,p,n)),M){p[0]&&p[1]&&X[0]&&X[1]&&(Math.abs(X[0])>Math.abs(X[1])?X[1]=0:X[0]=0);var Y=!X[0]&&!X[1];Y&&(C?T=pn(T,E):j=pn(j,E)),p[0]&&!p[1]||X[0]&&!X[1]||Y&&C?j=_n(T+=X[0],C,D):(!p[0]&&p[1]||!X[0]&&X[1]||Y&&!C)&&(T=xn(j+=X[1],C,D))}else T+=X[0],j+=X[1],X[0]||(T=pn(T,E)),X[1]||(j=pn(j,E));var F=[(O=(T=Math.round(T))-m)-y,(P=(j=Math.round(j))-b)-_];if(n.prevWidth=O,n.prevHeight=P,S||!F.every(function(t){return!t})){var I=M||i?p:n.startDirection,B=f||(M?n.fixedOriginalPosition:n.fixedPosition),L=!i&&o?[0,0]:Hn(t,T,j,I,B,d),W=vn(t,e,{width:g+O,height:v+P,offsetWidth:T,offsetHeight:j,direction:p,dist:[O,P],delta:F,isPinch:!!o,drag:pr.drag(t,hr(t.state,L,u))});return mn(t,"onResize",W),W}}},dragControlAfter:function(t,e){var n=e.datas,r=n.isResize,a=n.startOffsetWidth,i=n.startOffsetHeight,o=n.prevWidth,s=n.prevHeight;if(r){var l=t.state,u=l.width-(a+o),c=l.height-(i+s),f=3<Math.abs(u),p=3<Math.abs(c);return f&&(n.startWidth+=u,n.startOffsetWidth+=u,n.prevWidth+=u),p&&(n.startHeight+=c,n.startOffsetHeight+=c,n.prevHeight+=c),f||p?(this.dragControl(t,e),!0):void 0}},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isResize&&(n.isResize=!1,mn(t,"onResizeEnd",vn(t,e,{isDrag:r})),r)},dragGroupControlCondition:Nn,dragGroupControlStart:function(o,s){var t=s.datas,e=this.dragControlStart(o,s);if(!e)return!1;var l=e.direction,u=In(cn(o.state),l),n=An(o,this,"dragControlStart",t,function(t,e){var n=In(cn(t.state),l),r=Ut($t(-o.rotation/180*Math.PI,3),[n[0]-u[0],n[1]-u[1],1],3),a=r[0],i=r[1];return e.originalX=a,e.originalY=i,s}),r=Ce({},e,{targets:o.props.targets,events:n}),a=mn(o,"onResizeGroupStart",r);return t.isResize=!1!==a,!!t.isResize&&e},dragGroupControl:function(i,o){var t=o.datas;if(t.isResize){var e=this.dragControl(i,o);if(e){var n=e.offsetWidth,r=e.offsetHeight,a=e.dist,s=i.props.keepRatio,l=[n/(n-a[0]),r/(r-a[1])],u=t.fixedOriginalPosition,c=An(i,this,"dragControl",t,function(t,e){var n=Ut($t(i.rotation/180*Math.PI,3),[e.originalX*l[0],e.originalY*l[1],1],3),r=n[0],a=n[1];return Ce({},o,{parentScale:l,dragClient:qt(u,[r,a]),parentKeepRatio:s})}),f=Ce({targets:i.props.targets,events:c},e);return mn(i,"onResizeGroup",f),f}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isResize)return this.dragControlEnd(t,e),An(t,this,"dragControlEnd",r,e),mn(t,"onResizeGroupEnd",vn(t,e,{targets:t.props.targets,isDrag:n})),n}},Sr={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},render:function(t,e){var n=t.props,r=n.resizable,a=n.scalable,i=n.edge;if(!r&&a)return i?wr(t,e):xr(t,e)},dragControlCondition:Nn,dragControlStart:function(t,e){var n=e.datas,r=e.pinchFlag,a=e.inputEvent,i=a.target,o=r?[1,1]:ln(i),s=t.state,l=s.width,u=s.height,c=s.targetTransform,f=s.target;if(!o||!f)return!1;r||Tn(t,{datas:n}),n.datas={},n.transform=c,n.prevDist=[1,1],n.direction=o,n.width=l,n.height=u,n.startScale=[1,1];var p=vn(t,e,{direction:o,set:function(t){n.startScale=t},dragStart:pr.dragStart(t,(new dr).dragStart([0,0],a))});return!1!==mn(t,"onScaleStart",p)&&(n.isScale=!0,t.state.snapRenderInfo={direction:o}),!!n.isScale&&p},dragControl:function(t,e){var n=e.datas,r=e.distX,a=e.distY,i=e.parentScale,o=e.parentDistance,s=e.parentKeepRatio,l=e.parentFlag,u=e.pinchFlag,c=e.inputEvent,f=e.dragClient,p=n.prevDist,h=n.direction,d=n.width,g=n.height,v=n.transform,m=n.isScale,b=n.startScale;if(!m)return!1;var y=t.props,_=y.throttleScale,x=y.parentMoveable,w=t.props.keepRatio||s,E=t.state,S=h[0]||!h[1],M=1,C=1,D=d*b[0],O=g*b[1],P=S?O/D:D/O;if(i)M=i[0],C=i[1];else if(u)o&&(M=(d+o)/d,C=(g+o*g/d)/g);else{var R=jn({datas:n,distX:r,distY:a}),k=h[0]*R[0],z=h[1]*R[1];if(w&&d&&g){var G=Xt([0,0],R),A=Xt([0,0],h),N=Xt([0,0],[D,O]),T=tn([k,z]),j=Math.cos(G-A)*T;h[0]?z=h[1]?(k=Math.cos(N)*j,Math.sin(N)*j):_n(k=j,S,P):k=xn(z=j,S,P)}M=(d+k)/d,C=(g+z)/g}M=h[0]?M*b[0]:b[0],C=h[1]?C*b[1]:b[1],0===M&&(M=1e-9*(0<p[0]?1:-1)),0===C&&(C=1e-9*(0<p[1]?1:-1));var X,Y=[M/b[0],C/b[1]],F=h;if(t.props.groupable){F=[(0<=Y[0]?1:-1)*h[0],(0<=Y[1]?1:-1)*h[1]];var I=(E.snapRenderInfo||{}).direction;V(I)&&(I[0]||I[1])&&(E.snapRenderInfo={direction:h})}var B=[0,0];if(u||(B=function(t,e,n,r,a){var i=a.width,o=a.height;if(!Jn(t,"scalable"))return[0,0];var s=or(t,qn(a,e),i,o,n,r,a,a.is3d);return[s[0]/i,s[1]/o]}(t,Y,h,F,n)),w){h[0]&&h[1]&&B[0]&&B[1]&&(Math.abs(B[0])>Math.abs(B[1])?B[1]=0:B[0]=0);var L=!B[0]&&!B[1];if(L&&(S?Y[0]=pn(Y[0]*b[0],_)/b[0]:Y[1]=pn(Y[1]*b[1],_)/b[1]),h[0]&&!h[1]||B[0]&&!B[1]||L&&S){Y[0]+=B[0];var W=_n(d*Y[0]*b[0],S,P);Y[1]=W/g/b[1]}else if(!h[0]&&h[1]||!B[0]&&B[1]||L&&!S){Y[1]+=B[1];var q=xn(g*Y[1]*b[1],S,P);Y[0]=q/d/b[0]}}else Y[0]+=B[0],Y[1]+=B[1],B[0]||(Y[0]=pn(Y[0]*b[0],_)/b[0]),B[1]||(Y[1]=pn(Y[1]*b[1],_)/b[1]);0===Y[0]&&(Y[0]=1e-9*(0<p[0]?1:-1)),0===Y[1]&&(Y[1]=1e-9*(0<p[1]?1:-1));var H=[Y[0]/p[0],Y[1]/p[1]];if(X=Ye(Y,b),n.prevDist=Y,M===p[0]&&C===p[1]&&!x)return!1;var U=!l&&u?[0,0]:function(t,e,n,r){var a=t.state,i=a.is3d,o=a.left,s=a.top,l=a.width,u=a.height,c=i?4:3,f=t.props.groupable,p=qn(t.state,e),h=f?o:0,d=f?s:0;return Ht(Ln(r||Bn(cn(t.state),n),p,l,u,c,n),[h,d])}(t,H,h,f),K=vn(t,e,{scale:X,direction:h,dist:Y,delta:H,transform:v+" scale("+M+", "+C+")",isPinch:!!u,drag:pr.drag(t,hr(t.state,U,c))});return mn(t,"onScale",K),K},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isScale&&(n.isScale=!1,mn(t,"onScaleEnd",vn(t,e,{isDrag:r})),r)},dragGroupControlCondition:Nn,dragGroupControlStart:function(o,s){var t=s.datas,e=this.dragControlStart(o,s);if(!e)return!1;var l=e.direction,u=In(cn(o.state),l),n=An(o,this,"dragControlStart",t,function(t,e){var n=In(cn(t.state),l),r=Ut($t(-o.rotation/180*Math.PI,3),[n[0]-u[0],n[1]-u[1],1],3),a=r[0],i=r[1];return e.originalX=a,e.originalY=i,s}),r=Ce({},e,{targets:o.props.targets,events:n}),a=mn(o,"onScaleGroupStart",r);return t.isScale=!1!==a,!!t.isScale&&r},dragGroupControl:function(i,o){var t=o.datas;if(t.isScale){var e=this.dragControl(i,o);if(e){var s=i.props.keepRatio,l=e.scale,n=e.direction,r=e.dist,u=In(cn(i.state),Ye(n,r)),a=An(i,this,"dragControl",t,function(t,e){var n=Ut($t(i.rotation/180*Math.PI,3),[e.originalX*l[0],e.originalY*l[1],1],3),r=n[0],a=n[1];return Ce({},o,{parentScale:l,parentKeepRatio:s,dragClient:qt(u,[r,a])})}),c=Ce({targets:i.props.targets,events:a},e);return mn(i,"onScaleGroup",c),c}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isScale)return this.dragControlEnd(t,e),An(t,this,"dragControlEnd",r,e),mn(t,"onScaleGroupEnd",vn(t,e,{targets:t.props.targets,isDrag:n})),n}};function Mr(t,n){return t.map(function(t,e){return function(t,e,n,r){return(t*r+e*n)/(n+r)}(t,n[e],1,2)})}function Cr(t,e,n){var r=Xt(t,e),a=Xt(t,n)-r;return 0<=a?a:a+2*Math.PI}var Dr={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},render:function(t,e){var n=t.props,r=n.resizable,a=n.scalable,i=n.warpable;if(!r&&!a&&i){var o=t.state,s=o.pos1,l=o.pos2,u=o.pos3,c=o.pos4,f=Mr(s,l),p=Mr(l,s),h=Mr(s,u),d=Mr(u,s),g=Mr(u,c),v=Mr(c,u),m=Mr(l,c),b=Mr(c,l);return[e.createElement("div",{className:Fe("line"),key:"middeLine1",style:en(f,g)}),e.createElement("div",{className:Fe("line"),key:"middeLine2",style:en(p,v)}),e.createElement("div",{className:Fe("line"),key:"middeLine3",style:en(h,m)}),e.createElement("div",{className:Fe("line"),key:"middeLine4",style:en(d,b)})].concat(xr(t,e))}},dragControlCondition:function(t){return X(t,Fe("direction"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,a=t.props.target,i=ln(n.target);if(!i||!a)return!1;var o=t.state,s=o.transformOrigin,l=o.is3d,u=o.targetTransform,c=o.targetMatrix,f=o.width,p=o.height,h=o.left,d=o.top;return r.datas={},r.targetTransform=u,r.warpTargetMatrix=l?c:Ft(c,3,4),r.targetInverseMatrix=function(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=t.slice(),a=0;a<n;++a)r[a*n+e-1]=0,r[(e-1)*n+a]=0;return r[(e-1)*(n+1)]=1,r}(Tt(r.warpTargetMatrix,4),3,4),r.direction=i,r.left=h,r.top=d,Tn(t,{datas:r}),r.poses=[[0,0],[f,0],[0,p],[f,p]].map(function(t,e){return Ht(t,s)}),r.nextPoses=r.poses.map(function(t){var e=t[0],n=t[1];return Ut(r.warpTargetMatrix,[e,n,0,1],4)}),r.startMatrix=Zt(4),r.prevMatrix=Zt(4),r.absolutePoses=cn(o),r.posIndexes=Xn(i),!(o.snapRenderInfo={direction:i})!==mn(t,"onWarpStart",vn(t,e,{set:function(t){r.startMatrix=t}}))&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var n=e.datas,r=e.distX,a=e.distY,i=n.targetInverseMatrix,o=n.prevMatrix,s=n.isWarp,l=n.startMatrix,u=n.poses,c=n.posIndexes,f=n.absolutePoses;if(!s)return!1;if(Jn(t,"warpable")){var p=c.map(function(t){return f[t]});1<p.length&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var h=Qn(t,p.map(function(t){return t[0]+r}),p.map(function(t){return t[1]+a})),d=h.horizontal,g=h.vertical;a-=ar(d).offset,r-=ar(g).offset}var v=jn({datas:n,distX:r,distY:a},!0),m=n.nextPoses.slice();if(c.forEach(function(t){m[t]=qt(m[t],v)}),!Ge.every(function(t){return function(t,e){var n=Cr(t[0],t[1],t[2]),r=Cr(e[0],e[1],e[2]),a=Math.PI;return!(a<=n&&r<=a||n<=a&&a<=r)}(t.map(function(t){return u[t]}),t.map(function(t){return m[t]}))}))return!1;var b=te(u[0],u[1],u[2],u[3],m[0],m[1],m[2],m[3]);if(!b.length)return!1;var y=Vt(Bt(i,b,4)),_=n.targetTransform+" matrix3d("+y.join(",")+")";return mn(t,"onWarp",vn(t,e,{delta:Lt(Tt(o,4),y,4),matrix:Lt(l,n.prevMatrix=y,4),multiply:Lt,dist:y,transform:_})),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,mn(t,"onWarpEnd",vn(t,e,{isDrag:r})),r)}},Or=Fe("area"),Pr=Fe("area-pieces"),Rr=Fe("area-piece"),kr=Fe("avoid");function zr(t){var e=t.areaElement,n=t.state,r=n.width,a=n.height;F(e,kr),e.style.cssText+="left: 0px; top: 0px; width: "+r+"px; height: "+a+"px"}function Gr(t){return t.createElement("div",{key:"area_pieces",className:Pr},t.createElement("div",{className:Rr}),t.createElement("div",{className:Rr}),t.createElement("div",{className:Rr}),t.createElement("div",{className:Rr}))}var Ar={name:"dragArea",props:{dragArea:Boolean},render:function(t,e){var n=t.props,r=n.target,a=n.dragArea,i=n.groupable,o=t.state,s=o.width,l=o.height,u=o.pos1,c=o.pos2,f=o.pos3,p=o.pos4;if(i)return[e.createElement("div",{key:"area",ref:bt(t,"areaElement"),className:Or}),Gr(e)];if(!r||!a)return[];var h=te([0,0],[s,0],[0,l],[s,l],u,c,f,p),d=h.length?"matrix3d("+Vt(h).join(",")+")":"none";return[e.createElement("div",{key:"area",ref:bt(t,"areaElement"),className:Or,style:{top:"0px",left:"0px",width:s+"px",height:l+"px",transformOrigin:"0 0",transform:d}}),Gr(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,a=e.clientY,i=e.inputEvent;n.isDragArea=!1,n.inputTarget=i.target;var o=t.areaElement,s=t.state,l=s.targetClientRect,u=s.pos1,c=s.pos2,f=s.pos3,p=s.pos4,h=l.left,d=l.top,g=l.width,v=l.height,m=Ze([u,c,f,p]),b=m.left,y=m.top,_=r-h,x=a-d,w=[{left:b,top:y,width:g,height:x-10},{left:b,top:y,width:_-10,height:v},{left:b,top:y+x+10,width:g,height:v-x-10},{left:b+_+10,top:y,width:g-_-10,height:v}],E=[].slice.call(o.nextElementSibling.children);w.forEach(function(t,e){E[e].style.cssText="left: "+t.left+"px;top: "+t.top+"px; width: "+t.width+"px; height: "+t.height+"px;"}),Y(o,kr)},drag:function(t,e){var n=e.datas;n.isDragArea||(n.isDragArea=!0,zr(t))},dragEnd:function(t,e){var n=e.inputEvent,r=e.isDragArea;e.datas.isDragArea||zr(t);var a=t.state.target,i=n.target;if(!r&&!t.isMoveableElement(i)){var o=a.contains(i);mn(t,"onClick",vn(t,e,{inputTarget:i,isTarget:a===i,containsTarget:o}))}},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t,e){this.drag(t,e)},dragGroupEnd:function(t,e){var n=e.inputEvent,r=e.isDragArea,a=e.datas;r||zr(t);var i=a.inputTarget,o=n.target;if(!r&&!t.isMoveableElement(o)&&i!==o){var s=t.props.targets,l=s.indexOf(o),u=-1<l,c=!1;-1===l&&(c=-1<(l=function(t,e,n){void 0===n&&(n=-1);for(var r=t.length,a=0;a<r;++a)if(e(t[a],a,t))return a;return n}(s,function(t){return t.contains(o)}))),mn(t,"onClickGroup",vn(t,e,{targets:s,inputTarget:o,targetIndex:l,isTarget:u,containsTarget:c}))}}},Nr={name:"origin",props:{origin:Boolean},render:function(t,e){if(!t.props.origin)return null;var n=t.state,r=n.beforeOrigin,a=n.rotation;return[e.createElement("div",{className:Fe("control","origin"),style:nn(a,r),key:"beforeOrigin"})]}};function Tr(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var jr={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number},dragStart:function(i,o){var t=i.props.scrollContainer,e=void 0===t?i.getContainer():t,n=new ye;o.datas.dragScroll=n;var s=o.targets;n.on("scroll",function(t){var e=t.container,n=t.direction,r=vn(i,o,{scrollContainer:e,direction:n}),a=s?"onScrollGroup":"onScroll";s&&(r.targets=s),mn(i,a,r)}).on("move",function(t){var e=t.offsetX,n=t.offsetY;i.targetDragger.scrollBy(e,n,o.inputEvent,!1)}),n.dragStart(o,{container:e})},checkScroll:function(t,e){var n=e.datas.dragScroll;if(n){var r=t.props,a=r.scrollContainer,i=void 0===a?t.getContainer():a,o=r.scrollThreshold,s=void 0===o?0:o,l=r.getScrollPosition,u=void 0===l?Tr:l;return n.drag(e,{container:i,threshold:s,getScrollPosition:function(t){return u({scrollContainer:t.container,direction:t.direction})}}),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,Ce({},e,{targets:t.props.targets}))},dragGroupEnd:function(t,e){this.dragEnd(t,e)}},Xr=[{name:"",props:{target:Object,container:Object,dragArea:Boolean,origin:Boolean,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number}},fr,Gn,pr,yr,Er,Sr,Dr,jr,Ar,Nr],Yr={name:"groupable",props:{defaultGroupRotate:Number,groupable:Boolean},render:function(n,r){var t=n.props.targets||[];n.moveables=[];var e=n.state,a={left:e.left,top:e.top};return t.map(function(t,e){return r.createElement(kn,{key:"moveable"+e,ref:function(e,n,r){return function(t){t&&(e[n][r]=t)}}(n,"moveables",e),target:t,origin:!1,parentMoveable:n,parentPosition:a})})}};function Fr(t,i){return Math.max.apply(Math,t.map(function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return Math.max(e[i],n[i],r[i],a[i])}))}function Ir(t,i){return Math.min.apply(Math,t.map(function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return Math.min(e[i],n[i],r[i],a[i])}))}var Br=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.differ=new Ee,t.moveables=[],t.rotation=0,t}Me(t,n);var e=t.prototype;return e.updateEvent=function(t){var e=this.state,n=this.props;e.target||(e.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetDragger=Cn(this,e.target,"targetAbles","Group"),this.controlDragger=Cn(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var r=!wn(t.container,n.container);r&&(e.container=n.container);var a=this.differ.update(n.targets),i=a.added,o=a.changed,s=a.removed;(r||i.length||o.length||s.length)&&this.updateRect()},e.checkUpdate=function(){this.updateAbles()},e.updateRect=function(e,t,n){var r;if(void 0===n&&(n=!0),this.controlBox){this.moveables.forEach(function(t){t.updateRect(e,!1,!1)});var a=this.state,i=this.props,o=a.target||i.target;(!t||""!==e&&i.updateGroup)&&(this.rotation=i.defaultGroupRotate);var s=this.rotation,l=function(t,e){if(!t.length)return[0,0,0,0];var n=t.map(function(t){return cn(t.state)}),a=Ne,i=Ne,r=0,o=0,s=pn(e,Ae);if(s%90){var l=e/180*Math.PI,u=Math.tan(l),c=-1/u,f=[Te,Ne],p=[Te,Ne];n.forEach(function(t){t.forEach(function(t){var e=t[1]-u*t[0],n=t[1]-c*t[0];f[0]=Math.max(f[0],e),f[1]=Math.min(f[1],e),p[0]=Math.max(p[0],n),p[1]=Math.min(p[1],n)})}),f.forEach(function(r){p.forEach(function(t){var e=(t-r)/(u-c),n=u*e+r;a=Math.min(a,e),i=Math.min(i,n)})});var h=n.map(function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return[Kt(e,-l),Kt(n,-l),Kt(r,-l),Kt(a,-l)]});r=Fr(h,0)-Ir(h,0),o=Fr(h,1)-Ir(h,1)}else if(a=Ir(n,0),i=Ir(n,1),r=Fr(n,0)-a,o=Fr(n,1)-i,s%180){var d=r;r=o,o=d}return[a,i,r,o]}(this.moveables,s),u=l[0],c=l[1],f=l[2],p=l[3];o.style.cssText+="left:0px;top:0px;width:"+f+"px; height:"+p+"px;transform:rotate("+s+"deg)",a.width=f,a.height=p;var h=on(o,this.controlBox.getElement(),this.getContainer(),a),d=[h.left,h.top];r=cn(h),h.pos1=r[0],h.pos2=r[1],h.pos3=r[2],h.pos4=r[3],h.origin=qt(d,h.origin),h.beforeOrigin=qt(d,h.beforeOrigin);var g=h.targetClientRect;g.top+=c-h.top-a.top,g.left+=u-h.left-a.left,this.updateState(Ce({},h,{left:u-h.left,top:c-h.top}),n)}},e.triggerEvent=function(t,e){if(-1<t.indexOf("Group"))return n.prototype.triggerEvent.call(this,t,e)},e.updateAbles=function(){n.prototype.updateAbles.call(this,this.props.ables.concat([Yr]),"Group")},t.defaultProps=Ce({},kn.defaultProps,{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0}),t}(kn),Lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Me(e,t);var n=e.prototype;return n.render=function(){var t=this.props.ables||[],e=this.props.target||this.props.targets,n=V(e);if(n&&1<e.length){var r=Ce({},this.props,{target:null,targets:e,ables:Xr.concat([Yr],t)});return at(Br,Ce({key:"group",ref:bt(this,"moveable")},r))}var a=n?e[0]:e;return at(kn,Ce({key:"single",ref:bt(this,"moveable")},Ce({},this.props,{target:a,ables:Xr.concat(t)})))},n.isMoveableElement=function(t){return this.moveable.isMoveableElement(t)},n.dragStart=function(t){this.moveable.dragStart(t)},n.isInside=function(t,e){return this.moveable.isInside(t,e)},n.updateRect=function(){this.moveable.updateRect()},n.updateTarget=function(){this.moveable.updateTarget()},n.getRect=function(){return this.moveable.getRect()},n.destroy=function(){this.moveable.componentWillUnmount()},e}(ht),Wr=function(n){function t(t){var e=n.call(this,t)||this;return e.state={},e.state=e.props,e}return a(t,n),t.prototype.render=function(){return function(t,e){return at(dt,{element:t,container:e})}(at(Lr,s({ref:p(this,"moveable")},this.state)),this.state.parentElement)},t}(pt),qr=["draggable","resizable","scalable","rotatable","warpable","pinchable","snappable","origin","target","edge","throttleDrag","throttleDragRotate","throttleResize","throttleScale","throttleRotate","keepRatio","dragArea","pinchThreshold","snapCenter","snapThreshold","horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","className","renderDirections","scrollable","getScrollPosition","scrollContainer","scrollThreshold","baseDirection","snapElement","snapVertical","snapHorizontal"],Hr=["dragStart","drag","dragEnd","resizeStart","resize","resizeEnd","scaleStart","scale","scaleEnd","rotateStart","rotate","rotateEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd","dragGroupStart","dragGroup","dragGroupEnd","resizeGroupStart","resizeGroup","resizeGroupEnd","scaleGroupStart","scaleGroup","scaleGroupEnd","rotateGroupStart","rotateGroup","rotateGroupEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","clickGroup","scroll","scrollGroup","renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],Ur=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","setState"],Kr=function(o){function t(t,e){void 0===e&&(e={});var n=o.call(this)||this;n.tempElement=document.createElement("div");var r=s({container:t},e),a={};Hr.forEach(function(e){a[function(t){return t.replace(/[\s-_]([a-z])/g,function(t,e){return e.toUpperCase()})}("on "+e)]=function(t){return n.trigger(e,t)}}),mt(at(Wr,s({ref:p(n,"innerMoveable"),parentElement:t},r,a)),n.tempElement);var i=r.target;return V(i)&&1<i.length&&n.updateRect(),n}a(t,o);var e=t.prototype;return e.setState=function(t,e){this.innerMoveable.setState(t,e)},e.destroy=function(){mt(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},e.getMoveable=function(){return this.innerMoveable.moveable},t=function(t,e,n,r){var a,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(a=t[s])&&(o=(i<3?a(o):3<i?a(e,n,o):a(e,n))||o);return 3<i&&o&&Object.defineProperty(e,n,o),o}([i(Ur,function(t,r){t[r]||(t[r]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.getMoveable();if(n&&n[r])return n[r].apply(n,t)})}),i(qr,function(t,n){Object.defineProperty(t,n,{get:function(){return this.getMoveable().props[n]},set:function(t){var e;this.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})})],t)}(t),Vr={draggable:{vanilla:'\nimport Moveable from "moveable";\n\n/* const translate = [0, 0]; */\nconst draggable = new Moveable(document.body, {\n    target: document.querySelector(".draggable"),\n    draggable: true,\n    throttleDrag: 0,\n}).on("drag", ({ target, left, top, beforeDelta }) => {\n    target.style.left = left + "px";\n    target.style.top = top + "px";\n\n    /* translate[0] += beforeDelta[0]; */\n    /* translate[1] += beforeDelta[1]; */\n    /* target.style.transform\n        = "translateX(" + translate[0] + "px) "\n        + "translateY(" + translate[1] + "px)"; */\n});\n        ',react:'\nimport Moveable from "react-moveable";\nthis.translate = [0, 0];\nreturn (\n    <Moveable\n        target={document.querySelector(".draggable")}\n        draggable={true}\n        throttleDrag={0}\n        onDrag={({ target, left, top, beforeDelta }) => {\n            target.style.left = left + "px";\n            target.style.top = top + "px";\n\n            /* const translate = this.translate */\n            /* translate[0] += beforeDelta[0]; */\n            /* translate[1] += beforeDelta[1]; */\n            /* target.style.transform\n                = "translateX(" + translate[0] + "px) "\n                + "translateY(" + translate[1] + "px)"; */\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [draggable]="true"\n    [throttleDrag]="0"\n    (drag)="onDrag($event)\n    />\n`,\n})\nexport class AppComponent {\n    translate = [0, 0];\n    onDrag({ target, left, top, beforeDelta }) {\n        target.style.left = left + "px";\n        target.style.top = top + "px";\n\n        /* const translate = this.translate */\n        /* translate[0] += beforeDelta[0]; */\n        /* translate[1] += beforeDelta[1]; */\n        /* target.style.transform\n            = "translateX(" + translate[0] + "px) "\n            + "translateY(" + translate[1] + "px)"; */\n    }\n}\n',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let translate = [0, 0];\n    let target;\n<\/script>\n<div class="target draggable" bind:this={target}>Draggable</div>\n<Moveable\n    target={target}\n    draggable={true}\n    throttleDrag={0}\n    on:drag={({ detail }) => {\n        target.style.left = detail.left + "px";\n        target.style.top = detail.top + "px";\n    }}\n/>'},resizable:{vanilla:'\nimport Moveable from "moveable";\n\nconst resizable = new Moveable(document.body, {\n    target: document.querySelector(".resizable"),\n    resizable: true,\n    throttleResize: 0,\n    keepRatio: true,\n}).on("resize", ({ target, width, height, dist }) => {\n    console.log(width, height, dist);\n    target.style.width = width + "px";\n    target.style.height = height + "px";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nreturn (\n    <Moveable\n        target={document.querySelector(".resizable")}\n        resizable={true}\n        throttleResize={0}\n        keepRatio={true}\n        onResize={({ target, width, height, dist }) => {\n            console.log(width, height, dist);\n            target.style.width = width + "px";\n            target.style.height = height + "px";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [resizable]="true"\n    [throttleResize]="0"\n    [keepRatio]="true"\n    (resize)="onResize($event)\n    />\n`,\n})\nexport class AppComponent {\n    onResize({ target, width, height, dist }) {\n        console.log(width, height, dist);\n        target.style.width = width + "px";\n        target.style.height = height + "px";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let translate = [0, 0];\n    let target;\n<\/script>\n<div class="target resizable" bind:this={target}>Resizable</div>\n<Moveable\n    target={target}\n    resizable={true}\n    throttleResize={0}\n    keepRatio={true}\n    on:resize={({ detail }) => {\n        const { target, width, height, dist } = detail;\n        target.style.width = width + "px";\n        target.style.height = height + "px";\n    }}\n/>'},scalable:{vanilla:'\nimport Moveable from "moveable";\n\nconst scale = [1, 1];\nconst scalable = new Moveable(document.body, {\n    target: document.querySelector(".scalable"),\n    scalable: true,\n    throttleScale: 0,\n    keepRatio: true,\n}).on("scale", ({ target, delta }) => {\n    scale[0] *= delta[0];\n    scale[1] *= delta[1];\n    target.style.transform = "scale(" + scale[0] +  "," + scale[1] + ")";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.scale = [1, 1];\nreturn (\n    <Moveable\n        target={document.querySelector(".scalable")}\n        scalable={true}\n        throttleScale={0}\n        keepRatio={true}\n        onScale={({ target, delta }) => {\n            const scale = this.scale;\n            scale[0] *= delta[0];\n            scale[1] *= delta[1];\n            target.style.transform\n                = "scale(" + scale[0] +  "," + scale[1] + ")";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [scalable]="true"\n    [throttleScale]="0"\n    [keepRatio]="true"\n    (scale)="onScale($event)\n    />\n`,\n})\nexport class AppComponent {\n    scale = [1, 1];\n    onScale({ target, delta }) {\n        const scale = this.scale;\n        scale[0] *= delta[0];\n        scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + scale[0] +  "," + scale[1] + ")";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let scale = [1, 1];\n    let target;\n<\/script>\n<div class="target scalable" bind:this={target}>Scalable</div>\n<Moveable\n    target={target}\n    scalable={true}\n    throttleScale={0}\n    keepRatio={true}\n    on:scale={({ detail: { target, delta }}) => {\n        scale[0] *= delta[0];\n        scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + scale[0] +  "," + scale[1] + ")";\n    }}\n/>'},rotatable:{vanilla:'\nimport Moveable from "moveable";\n\nlet rotate = 0;\n\nconst rotatable = new Moveable(document.body, {\n    target: document.querySelector(".rotatable"),\n    rotatable: true,\n    throttleRotate: 0,\n}).on("rotate", ({ target, beforeDelta, delta }) => {\n    rotate += delta;\n    target.style.transform\n        = "rotate(" + rotate +  "deg)";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.rotate = 0;\n\nreturn (\n    <Moveable\n        target={document.querySelector(".rotatable")}\n        rotatable={true}\n        throttleRotate={0}\n        onRotate={({ target, beforeDelta, delta }) => {\n            this.rotate += delta;\n            target.style.transform\n                = "rotate(" + this.rotate +  "deg)";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [rotatable]="true"\n    [throttleRotate]="0"\n    [keepRatio]="true"\n    (rotate)="onRotate($event)\n    />\n`,\n})\nexport class AppComponent {\n    rotate = 0;\n    onRotate({ target, delta }) {\n        this.rotate += delta;\n        target.style.transform\n            = "rotate(" + this.rotate +  "deg)";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let rotate = 0;\n    let target;\n<\/script>\n<div class="target rotatable" bind:this={target}>Rotatable</div>\n<Moveable\n    target={target}\n    rotatable={true}\n    throttleRotate={0}\n    on:rotate={({ detail }) => {\n        const { target, beforeDelta, delta } = detail;\n        rotate += delta;\n        target.style.transform\n            = "rotate(" + rotate +  "deg)";\n    }}\n/>'},warpable:{vanilla:'\nimport Moveable from "moveable";\n\nlet matrix = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n];\n\nconst warpable = new Moveable(document.body, {\n    target: document.querySelector(".warpable"),\n    warpable: true,\n    throttleRotate: 0,\n}).on("warp", ({ target, multiply, delta }) => {\n    matrix = multiply(matrix, delta);\n    target.style.transform\n        = "matrix3d(" + matrix.join(",") +  ")";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.matrix = [\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n];\n\nreturn (\n    <Moveable\n        target={document.querySelector(".warpable")}\n        warpable={true}\n        onWarp={({ target, multiply, delta }) => {\n            this.matrix = multiply(this.matrix, delta);\n            target.style.transform\n                = "matrix3d(" + matrix.join(",") +  ")";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [warpable]="true"\n    (warp)="onWarp($event)\n    />\n`,\n})\nexport class AppComponent {\n    matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    onWarp({ target, dist }) {\n        this.matrix = multiply(this.matrix, delta);\n        target.style.transform\n            = "matrix3d(" + matrix.join(",") +  ")";\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    let target;\n<\/script>\n<div class="target scalable" bind:this={target}>Scalable</div>\n<Moveable\n    target={target}\n    warpable={true}\n    on:warp={({ detail }) => {\n        const { target, multiply, delta } = detail;\n        matrix = multiply(matrix, delta);\n        target.style.transform\n            = "matrix3d(" + matrix.join(",") +  ")";\n    }}\n/>'},pinchable:{vanilla:'\nimport Moveable from "moveable";\nconst scale = [1, 1];\nlet rotate = 0;\n\nconst pinchable = new Moveable(document.body, {\n    target: document.querySelector(".pinchable"),\n    pinchable: ["rotatable", "scalable"],\n}).on("rotate", ({ target, beforeDelta }) => {\n    rotate += beforeDelta;\n    target.style.transform = "scale(" + scale.join(", ") + ") rotate(" + rotate + "deg)";\n}).on("scale", ({ target, delta }) => {\n    scale[0] *= delta[0];\n    scale[1] *= delta[1];\n    target.style.transform = "scale(" + scale.join(", ") + ") rotate(" + rotate + "deg)";\n});',react:'\nimport Moveable from "react-moveable";\nthis.scale = [1, 1];\nthis.rotate = 0;\n\nreturn (\n    <Moveable\n        target={document.querySelector(".pinchable")}\n        pinchable={["rotatable", "scalable"]},\n        onRotate={({ target, beforeDelta }) => {\n            this.rotate += beforeDelta;\n            target.style.transform\n                = "scale(" + this.scale.join(", ") + ") "\n                + "rotate(" + this.rotate + "deg)";\n        }}\n        onScale={({ target, beforeDelta }) => {\n            this.scale[0] *= delta[0];\n            this.scale[1] *= delta[1];\n            target.style.transform\n                = "scale(" + this.scale.join(", ") + ") "\n                + "rotate(" + this.rotate + "deg)";\n        }}\n    />\n);',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n    <div #target class="target">target</div>\n    <ngx-moveable\n        [target]="target"\n        [pinchable]="[\'rotatable\', \'scalable\']"\n        [rotate]="onRotate($event)"\n        [scale]="onScale($event)"\n/>\n`,\n})\nexport class AppComponent {\n    scale = [1, 1];\n    rotate = 0;\n    onRotate({ target, beforeDelta }) {\n        this.rotate += beforeDelta;\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }\n    onScale({ target, beforeDelta }) {\n        this.scale[0] *= delta[0];\n        this.scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }\n}\n',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let matrix = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n    let target;\n<\/script>\n<div class="target pinchable" bind:this={target}>Pinchable</div>\n<Moveable\n    target={target}\n    pinchable={["rotatable", "scalable"]},\n    on:rotate={({ detail: { target, beforeDelta }}) => {\n        this.rotate += beforeDelta;\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }}\n    on:scale={({ detail: { target, beforeDelta }}) => {\n        this.scale[0] *= delta[0];\n        this.scale[1] *= delta[1];\n        target.style.transform\n            = "scale(" + this.scale.join(", ") + ") "\n            + "rotate(" + this.rotate + "deg)";\n    }}\n/>'},snappable:{vanilla:'\nimport Moveable from "moveable";\n\nconst snappable = new Moveable(document.body, {\n    target: document.querySelector(".snappable"),\n    snappable: true,\n    verticalGuidelines: [0, 150, 200],\n    horizontalGuidelines: [0, 150, 200],\n}).on("drag", ({ target, left, top }) => {\n    target.style.left = left + "px";\n    target.style.top = top + "px";\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nreturn (\n    <Moveable\n        target={document.querySelector(".origin")}\n        origin={true}\n        snappable={true}\n        verticalGuidelines={[0, 150, 200]}\n        horizontalGuidelines={[0, 150, 200]}\n        onDrag={({ target, left, top }) => {\n            target.style.left = left + "px";\n            target.style.top = top + "px";\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target class="target">target</div>\n<ngx-moveable\n    [target]="target"\n    [snappable]="true"\n    [verticalGuidelines]="[0, 150, 200]"\n    [horizontalGuidelines]="[0, 150, 200]"\n    />\n`,\n})\nexport class AppComponent {\n    onDrag({ target, left, top }) {\n        target.style.left = left + "px";\n        target.style.top = top + "px";\n    }\n}\n',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n\n    let target;\n<\/script>\n<div class="target pinchable" bind:this={target}>Pinchable</div>\n<Moveable\n    target={target}\n    origin={true}\n    snappable={true}\n    verticalGuidelines={[0, 150, 200]}\n    horizontalGuidelines={[0, 150, 200]}\n    on:drag={({ detail: { target, left, top }}) => {\n        target.style.left = left + "px";\n        target.style.top = top + "px";\n    }}\n/>'},groupable:{vanilla:'\nimport Moveable from "moveable";\nconst poses = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n];\nconst target = [].slice.call(\n    document.querySelectorAll(".target"),\n);\nconst groupable = new Moveable(document.body, {\n    target,\n    draggable: true,\n}).on("dragGroup", ({ events }) => {\n    events.forEach(({ target, beforeDelta }, i) => {\n        poses[i][0] += beforeDelta[0];\n        poses[i][1] += beforeDelta[1];\n\n        target.style.transform\n            = "translate("\n            + poses[i][0] + "px, "\n            + poses[i][1] + "px)";\n    });\n});\n        ',react:'\nimport Moveable from "react-moveable";\n\nthis.poses = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n];\n\nconst target = [].slice.call(\n    document.querySelectorAll(".target"),\n);\nreturn (\n    <Moveable\n        target={target}\n        draggable={true}\n        onDragGroup={({ events }) => {\n            events.forEach(({ target, beforeDelta }, i) => {\n                this.poses[i][0] += beforeDelta[0];\n                this.poses[i][1] += beforeDelta[1];\n\n                target.style.transform\n                    = "translate("\n                    + this.poses[i][0] + "px, "\n                    + this.poses[i][1] + "px)";\n            });\n        }}\n    />\n);\n        ',angular:'\nimport {\n    NgxMoveableModule,\n    NgxMoveableComponent,\n} from "ngx-moveable";\n\n@Component({\n    selector: \'AppComponent\',\n    template: `\n<div #target1 class="target">target1</div>\n<div #target2 class="target">target2</div>\n<div #target3 class="target">target3</div>\n<ngx-moveable\n    [target]="[target1, target2, target3]"\n    [draggable]="true"\n    (dragGroup)="onDragGroup($event)\n    />\n`,\n})\nexport class AppComponent {\n    poses = [\n        [0, 0],\n        [0, 0],\n        [0, 0],\n    ];\n    onDragGroup({ events }) {\n        events.forEach(({ target, beforeDelta }, i) => {\n            this.poses[i][0] += beforeDelta[0];\n            this.poses[i][1] += beforeDelta[1];\n\n            target.style.transform\n                = "translate("\n                + this.poses[i][0] + "px, "\n                + this.poses[i][1] + "px)";\n        });\n    }\n}\n        ',svelte:'\n<script>\n    import Moveable from "svelte-moveable";\n    import { onMount } from "svelte";\n    let targets = [];\n    let translates = [];\n\n    onMount(() => {\n        targets = [].slice.call(document.querySelectorAll(".target"));\n        translates = targets.map(() => {\n            return [0, 0];\n        });\n    });\n<\/script>\n<div class="target">Target1</div>\n<div class="target">Target2</div>\n<div class="target">Target3</div>\n<Moveable\n    target={targets}\n    draggable={true}\n    on:dragGroup={({ detail: { events }}) => {\n        events.forEach(({ target, beforeDelta }, i) => {\n            translates[i][0] += beforeDelta[0];\n            translates[i][1] += beforeDelta[1];\n\n            target.style.transform\n                = "translate("\n                + translates[i][0] + "px, "\n                + translates[i][1] + "px)";\n        });\n    }}\n/>'}};function $r(t,e,n){var r=1-n;return n*n*n+3*n*n*r*e+3*n*r*r*t}function Zr(n,r,a,i){function t(t){var e=function(t,e,n){for(var r=n,a=1;.001<Math.abs(a);){if(a=$r(t,e,r)-n,Math.abs(a)<.001)return r;r-=a/2}return r}(n,a,Math.max(Math.min(1,t),0));return $r(r,i,e)}return t.easingName="cubic-bezier("+n+","+r+","+a+","+i+")",t}function Jr(n,r){function t(t){var e=1/n;return 1<=t?1:("start"===r?e:0)+Math.floor(t/e)*e}return t.easingName="steps("+n+", "+r+")",t}var Qr,ta=Jr(1,"start"),ea=Jr(1,"end"),na=Zr(0,0,1,1),ra=Zr(.25,.1,.25,1),aa=Zr(.42,0,1,1),ia=Zr(0,0,.58,1),oa=Zr(.42,0,.58,1),sa="animation-timing-function",la={transform:{},filter:{},attribute:{},html:!0},ua={easing:[sa]},ca=((Qr={})[sa]=!0,Qr.contents=!0,Qr.html=!0,Qr),fa={linear:na,ease:ra,"ease-in":aa,"ease-out":ia,"ease-in-out":oa,"step-start":ta,"step-end":ea},pa=function(){function i(t,e){this.prefix="",this.suffix="",this.model="",this.type="",this.separator=",",e&&this.setOptions(e),this.value=G(t)?t.split(this.separator):t}var t=i.prototype;return t.setOptions=function(t){for(var e in t)this[e]=t[e];return this},t.size=function(){return this.value.length},t.get=function(t){return this.value[t]},t.set=function(t,e){return this.value[t]=e,this},t.clone=function(){var t=this.separator,e=this.prefix,n=this.suffix,r=this.model,a=this.type;return new i(this.value.map(function(t){return t instanceof i?t.clone():t}),{separator:t,prefix:e,suffix:n,model:r,type:a})},t.toValue=function(){return this.prefix+this.join()+this.suffix},t.join=function(){return this.value.map(function(t){return t instanceof i?t.toValue():t}).join(this.separator)},t.forEach=function(t){return this.value.forEach(t),this},i}();function ha(t){var e=h;return 3===t.length&&(t[3]=1),new pa(t,{model:e,separator:",",type:"color",prefix:e+"(",suffix:")"})}function da(t,e){return new pa(t,{type:"array",separator:e})}function ga(t){if(!G(t))return V(t)?da(t,","):t;var e=A(t);return 1<e.length?da(e.map(function(t){return ga(t)}),","):1<(e=function(t){return t.match(/("[^"]*")|('[^']*')|([^\s()]*(?:\((?:[^()]*|\([^()]*\))*\))[^\s()]*)|\S+/g)||[]}(t)).length?da(e.map(function(t){return ga(t)})," "):(e=/^(['"])([^'"]*)(['"])$/g.exec(t))&&e[1]===e[3]?new pa([ga(e[2])],{prefix:e[1],suffix:e[1]}):-1!==t.indexOf("(")?function(t){var e=q(t),n=e.prefix,r=e.value,a=e.suffix;if(void 0===r)return t;if(-1!==v.indexOf(n))return ha(j(t));var i=ga(r),o=[r],s=",",l=n+"(",u=")"+a;return i instanceof pa&&(s=i.separator,o=i.value,l+=i.prefix,u=i.suffix+u),new pa(o,{separator:s,model:n,prefix:l,suffix:u})}(t):"#"===t.charAt(0)?function(t){var e=j(t);return e?ha(e):t}(t):t}function va(t){return t instanceof pa}function ma(t){var e=typeof t;if(e===S){if(V(t))return E;if(va(t))return w}else if(e===M||e===C)return"value";return e}function ba(t,e){var n=[];if(function(t){return W(t)&&t.constructor===Object}(t))for(var r in t)e.push(r),n=n.concat(ba(t[r],e)),e.pop();else n.push(e.slice());return n}function ya(t,e,n){void 0===n&&(n=t.length);for(var r=e,a=0;a<n;++a){if(!W(r))return;r=r[t[a]]}return r}function _a(t,e,n){var r=e.length,a=t;if(0===r)return!1;for(var i=0;i<r;++i){if(!0===a)return!1;if(!(a=a[e[i]])||!n&&!0===a)return!1}return!0}function xa(t,e){return _a(la,t,e)}function wa(t){if(!t)return"";var e=[];for(var n in t)e.push(n.replace(/\d$/g,"")+"("+t[n]+")");return e.join(" ")}function Ea(t,e){return void 0===e&&(e=!1),Sa({},t,e)}function Sa(t,e,n){for(var r in void 0===n&&(n=!1),e){var a=e[r],i=ma(a);i===w?t[r]=n?a.toValue():a.clone():i===m?t[r]=n?Ca([r],a):a:i===E?t[r]=a.slice():i===S?W(t[r])&&!va(t[r])?Sa(t[r],a,n):t[r]=Ea(a,n):t[r]=e[r]}return t}function Ma(t){return t[0]in ua?ua[t[0]]:t}function Ca(t,e){var n=ma(e);if(n===w)return e.toValue();if(n===m){if(t[0]!==sa)return Ca(t,e())}else if(n===S)return Ea(e,!0);return e}var Da,Oa,Pa,Ra,ka,za=function(){function p(t){void 0===t&&(t={}),this.properties={},this.set(t)}var t=p.prototype;return t.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.raw.apply(this,t);return Ca(Ma(t),n)},t.raw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ya(Ma(t),this.properties)},t.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ma(t),r=n.length;if(!r)return this;var a=ya(n,this.properties,r-1);return W(a)&&delete a[n[r-1]],this},t.set=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this,r=t.length,a=t.slice(0,-1),i=t[r-1],o=a[0];if(1===r&&i instanceof p)n.merge(i);else if(o in ua)n._set(ua[o],i);else if(2===r&&V(o))n._set(o,i);else if(va(i))xa(a)?n.set.apply(n,a.concat([function e(t,n){void 0===n&&(n={});var r=t.model;if(r){t.setOptions({model:"",suffix:"",prefix:""});var a=1<t.size()?t:t.get(0);n[r]=a}else t.forEach(function(t){e(t,n)});return n}(i)])):n._set(a,i);else if(V(i))n._set(a,i);else if(W(i))for(var s in!n.has.apply(n,a)&&xa(a)&&n._set(a,{}),i)n.set.apply(n,a.concat([s,i[s]]));else if(G(i)){if(xa(a,!0)){if(function(t){return _a(ca,t,!0)}(a)||!xa(a))this._set(a,i);else{var l=ga(i);W(l)&&n.set.apply(n,a.concat([l]))}return this}var u=function(t){for(var e=t.split(";"),n={},r=e.length,a=0;a<r;++a){var i=/([^:]*):([\S\s]*)/g.exec(e[a]);!i||i.length<3||!i[1]?--r:n[i[1].trim()]=ga(i[2].trim())}return{styles:n,length:r}}(i),c=u.styles,f=u.length;for(var s in c)n.set.apply(n,a.concat([s,c[s]]));if(f)return this;n._set(a,i)}else n._set(a,i);return n},t.getNames=function(){return ba(this.properties,[])},t.has=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ma(t),r=n.length;return!!r&&!L(ya(n,this.properties,r))},t.clone=function(){return(new p).merge(this)},t.merge=function(t){var e=this.properties,n=t.properties;return n&&Sa(e,n),this},t.toCSSObject=function(){var t=this.get(),e={};for(var n in t)if(!xa([n],!0)){var r=t[n];n===sa?e[sa.replace("animation",z)]=(G(r)?r:r.easingName)||"initial":e[n]=r}var a=wa(t.transform),i=wa(t.filter);return R&&a&&(e[R]=a),k&&i&&(e[k]=i),e},t.toCSS=function(){var t=this.toCSSObject(),e=[];for(var n in t)e.push(n+":"+t[n]+";");return e.join("")},t._set=function(t,e){for(var n=this.properties,r=t.length,a=0;a<r-1;++a){var i=t[a];i in n||(n[i]={}),n=n[i]}r&&(1===t.length&&t[0]===sa?n[sa]=function(t){var e;if(G(t))if(t in fa)e=fa[t];else{var n=ga(t);if(G(n))return 0;if("cubic-bezier"===n.model)e=Zr((t=n.value.map(function(t){return parseFloat(t)}))[0],t[1],t[2],t[3]);else{if("steps"!==n.model)return 0;e=Jr(parseFloat(n.value[0]),n.value[1])}}else e=V(t)?Zr(t[0],t[1],t[2],t[3]):t;return e}(e):n[t[r-1]]=G(e)?ga(e):e)},p}(),Ga={},Aa=[],Na=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function Ta(t,e){for(var n in e)t[n]=e[n];return t}function ja(t){var e=t.parentNode;e&&e.removeChild(t)}function Xa(t,e,n){var r,a,i,o,s=arguments;if(e=Ta({},e),3<arguments.length)for(n=[n],r=3;r<arguments.length;r++)n.push(s[r]);if(null!=n&&(e.children=n),null!=t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===e[a]&&(e[a]=t.defaultProps[a]);return o=e.key,null!=(i=e.ref)&&delete e.ref,null!=o&&delete e.key,Ya(t,e,o,i)}function Ya(t,e,n,r){var a={type:t,props:e,key:n,ref:r,__k:null,__p:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return Da.vnode&&Da.vnode(a),a}function Fa(t){return t.children}function Ia(t,e){this.props=t,this.context=e}function Ba(t,e){if(null==e)return t.__p?Ba(t.__p,t.__p.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?Ba(t):null}function La(t){var e,n;if(null!=(t=t.__p)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return La(t)}}function Wa(t){(!t.__d&&(t.__d=!0)&&1===Oa.push(t)||Ra!==Da.debounceRendering)&&(Ra=Da.debounceRendering,(Da.debounceRendering||Pa)(qa))}function qa(){var t,e,n,r,a,i,o;for(Oa.sort(function(t,e){return e.__v.__b-t.__v.__b});t=Oa.pop();)t.__d&&(r=n=void 0,i=(a=(e=t).__v).__e,(o=e.__P)&&(n=[],r=Za(o,a,Ta({},a),e.__n,void 0!==o.ownerSVGElement,null,n,null==i?Ba(a):i),Ja(n,a),r!=i&&La(a)))}function Ha(e,n,t,r,a,i,o,s,l){var u,c,f,p,h,d,g,v=t&&t.__k||Aa,m=v.length;if(s==Ga&&(s=null!=i?i[0]:m?Ba(t,0):null),u=0,n.__k=Ua(n.__k,function(t){if(null!=t){if(t.__p=n,t.__b=n.__b+1,null===(f=v[u])||f&&t.key==f.key&&t.type===f.type)v[u]=void 0;else for(c=0;c<m;c++){if((f=v[c])&&t.key==f.key&&t.type===f.type){v[c]=void 0;break}f=null}if(p=Za(e,t,f=f||Ga,r,a,i,o,s,l),(c=t.ref)&&f.ref!=c&&(g=g||[]).push(c,t.__c||p,t),null!=p){if(null==d&&(d=p),null!=t.__d)p=t.__d,t.__d=null;else if(i==f||p!=s||null==p.parentNode){t:if(null==s||s.parentNode!==e)e.appendChild(p);else{for(h=s,c=0;(h=h.nextSibling)&&c<m;c+=2)if(h==p)break t;e.insertBefore(p,s)}"option"==n.type&&(e.value="")}s=p.nextSibling,"function"==typeof n.type&&(n.__d=p)}}return u++,t}),n.__e=d,null!=i&&"function"!=typeof n.type)for(u=i.length;u--;)null!=i[u]&&ja(i[u]);for(u=m;u--;)null!=v[u]&&ti(v[u],v[u]);if(g)for(u=0;u<g.length;u++)Qa(g[u],g[++u],g[++u])}function Ua(t,e,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)Ua(t[r],e,n);else n.push(e?e("string"==typeof t||"number"==typeof t?Ya(null,t,null,null):null!=t.__e||null!=t.__c?Ya(t.type,t.props,t.key,null):t):t);return n}function Ka(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===Na.test(e)?n+"px":null==n?"":n}function Va(t,e,n,r,a){var i,o,s,l,u;if("key"===(e=a?"className"===e?"class":e:"class"===e?"className":e)||"children"===e);else if("style"===e)if(i=t.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(o in r)n&&o in n||Ka(i,o,"");if(n)for(s in n)r&&n[s]===r[s]||Ka(i,s,n[s])}else"o"===e[0]&&"n"===e[1]?(l=e!==(e=e.replace(/Capture$/,"")),e=((u=e.toLowerCase())in t?u:e).slice(2),n?(r||t.addEventListener(e,$a,l),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,$a,l)):"list"!==e&&"tagName"!==e&&"form"!==e&&!a&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n?t.removeAttribute(e):t.setAttribute(e,n))}function $a(t){this.l[t.type](Da.event?Da.event(t):t)}function Za(t,e,n,r,a,i,o,s,l){var u,c,f,p,h,d,g,v,m,b,y=e.type;if(void 0!==e.constructor)return null;(u=Da.__b)&&u(e);try{t:if("function"==typeof y){if(v=e.props,m=(u=y.contextType)&&r[u.__c],b=u?m?m.props.value:u.__p:r,n.__c?g=(c=e.__c=n.__c).__p=c.__E:("prototype"in y&&y.prototype.render?e.__c=c=new y(v,b):(e.__c=c=new Ia(v,b),c.constructor=y,c.render=ei),m&&m.sub(c),c.props=v,c.state||(c.state={}),c.context=b,c.__n=r,f=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=y.getDerivedStateFromProps&&Ta(c.__s==c.state?c.__s=Ta({},c.__s):c.__s,y.getDerivedStateFromProps(v,c.__s)),p=c.props,h=c.state,f)null==y.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==y.getDerivedStateFromProps&&null==c.__e&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,b),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,b)){for(c.props=v,c.state=c.__s,c.__d=!1,(c.__v=e).__e=n.__e,e.__k=n.__k,u=0;u<e.__k.length;u++)e.__k[u]&&(e.__k[u].__p=e);break t}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,b),null!=c.componentDidUpdate&&c.__h.push(function(){c.componentDidUpdate(p,h,d)})}c.context=b,c.props=v,c.state=c.__s,(u=Da.__r)&&u(e),c.__d=!1,c.__v=e,c.__P=t,u=c.render(c.props,c.state,c.context),e.__k=Ua(null!=u&&u.type==Fa&&null==u.key?u.props.children:u),null!=c.getChildContext&&(r=Ta(Ta({},r),c.getChildContext())),f||null==c.getSnapshotBeforeUpdate||(d=c.getSnapshotBeforeUpdate(p,h)),Ha(t,e,n,r,a,i,o,s,l),c.base=e.__e,c.__h.length&&o.push(c),g&&(c.__E=c.__p=null),c.__e=null}else e.__e=function(t,e,n,r,a,i,o,s){var l,u,c,f,p,h=n.props,d=e.props;if(a="svg"===e.type||a,null==t&&null!=i)for(l=0;l<i.length;l++)if(null!=(u=i[l])&&(null===e.type?3===u.nodeType:u.localName===e.type)){t=u,i[l]=null;break}if(null==t){if(null===e.type)return document.createTextNode(d);t=a?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),i=null}if(null===e.type)null!=i&&(i[i.indexOf(t)]=null),h!==d&&(t.data=d);else if(e!==n){if(null!=i&&(i=Aa.slice.call(t.childNodes)),c=(h=n.props||Ga).dangerouslySetInnerHTML,f=d.dangerouslySetInnerHTML,!s){if(h===Ga)for(h={},p=0;p<t.attributes.length;p++)h[t.attributes[p].name]=t.attributes[p].value;(f||c)&&(f&&c&&f.__html==c.__html||(t.innerHTML=f&&f.__html||""))}(function(t,e,n,r,a){var i;for(i in n)i in e||Va(t,i,null,n[i],r);for(i in e)a&&"function"!=typeof e[i]||"value"===i||"checked"===i||n[i]===e[i]||Va(t,i,e[i],n[i],r)})(t,d,h,a,s),e.__k=e.props.children,f||Ha(t,e,n,r,"foreignObject"!==e.type&&a,i,o,Ga,s),s||("value"in d&&void 0!==d.value&&d.value!==t.value&&(t.value=null==d.value?"":d.value),"checked"in d&&void 0!==d.checked&&d.checked!==t.checked&&(t.checked=d.checked))}return t}(n.__e,e,n,r,a,i,o,l);(u=Da.diffed)&&u(e)}catch(t){Da.__e(t,e,n)}return e.__e}function Ja(t,e){Da.__c&&Da.__c(e,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(t){t.call(e)})}catch(t){Da.__e(t,e.__v)}})}function Qa(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){Da.__e(t,n)}}function ti(t,e,n){var r,a,i;if(Da.unmount&&Da.unmount(t),(r=t.ref)&&Qa(r,null,e),n||"function"==typeof t.type||(n=null!=(a=t.__e)),t.__e=t.__d=null,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){Da.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&ti(r[i],e,n);null!=a&&ja(a)}function ei(t,e,n){return this.constructor(t,n)}function ni(t,e,n){var r,a,i;Da.__p&&Da.__p(t,e),a=(r=n===ka)?null:n&&n.__k||e.__k,t=Xa(Fa,null,[t]),i=[],Za(e,(r?e:n||e).__k=t,a||Ga,Ga,void 0!==e.ownerSVGElement,n&&!r?[n]:a?null:Aa.slice.call(e.childNodes),i,n||Ga,r),Ja(i,t)}Da={},Ia.prototype.setState=function(t,e){var n=this.__s!==this.state&&this.__s||(this.__s=Ta({},this.state));"function"==typeof t&&!(t=t(n,this.props))||Ta(n,t),null!=t&&this.__v&&(this.__e=!1,e&&this.__h.push(e),Wa(this))},Ia.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Wa(this))},Ia.prototype.render=Fa,Oa=[],Pa="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ra=Da.debounceRendering,Da.__e=function(t,e,n){for(var r;e=e.__p;)if((r=e.__c)&&!r.__p)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError)r.setState(r.constructor.getDerivedStateFromError(t));else{if(null==r.componentDidCatch)continue;r.componentDidCatch(t)}return Wa(r.__E=r)}catch(e){t=e}throw t},ka=Ga;var ri,ai=[],ii=Da.__r;Da.__r=function(t){ii&&ii(t),(ri=t.__c).__H&&(ri.__H.t.forEach(pi),ri.__H.t.forEach(hi),ri.__H.t=[])};var oi=Da.diffed;Da.diffed=function(t){oi&&oi(t);var e=t.__c;if(e){var n=e.__H;n&&n.t.length&&ui(ai.push(e))}};var si=Da.__c;Da.__c=function(t,e){e.some(function(t){t.__h.forEach(pi),t.__h=t.__h.filter(function(t){return!t.u||hi(t)})}),si&&si(t,e)};var li=Da.unmount;Da.unmount=function(t){li&&li(t);var e=t.__c;if(e){var n=e.__H;n&&n.i.forEach(function(t){return t.m&&t.m()})}};var ui=function(){};function ci(){ai.some(function(t){t.__P&&(t.__H.t.forEach(pi),t.__H.t.forEach(hi),t.__H.t=[])}),ai=[]}if("undefined"!=typeof window){var fi=Da.requestAnimationFrame;ui=function(t){1!==t&&fi===Da.requestAnimationFrame||((fi=Da.requestAnimationFrame)||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(ci)}}function pi(t){t.m&&t.m()}function hi(t){var e=t.u();"function"==typeof e&&(t.m=e)}var di=Da.__e;Da.__e=function(t,e,n){if(t.then&&n)for(var r,a=e;a=a.__p;)if((r=a.__c)&&r.o)return n&&(e.__e=n.__e,e.__k=n.__k),void r.o(t);di(t,e,n)},(new Ia).o=function(t){var e=this;e.__u.push(t);function n(){e.__u[e.__u.indexOf(t)]=e.__u[e.__u.length-1],e.__u.pop(),0==e.__u.length&&(e.__f&&ti(e.__f),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.__f=e.__f&&function(t,e){return e=Ta(Ta({},t.props),e),2<arguments.length&&(e.children=Aa.slice.call(arguments,2)),Ya(t.type,e,e.key||t.key,e.ref||t.ref)}(e.__f),e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?(a=r.__e,i=void 0,(i=a.parentNode)&&i.removeChild(a)):r.__k&&t(r.__k))}var a,i}(e.__v.__k),e.__v.__k=[]),t.then(n,n)};var gi="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,vi=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,mi=Da.event;Da.event=function(t){return mi&&(t=mi(t)),t.persist=function(){},t.nativeEvent=t};var bi=function(){};function yi(t){var e=this,n=t.container,r=Xa(bi,{context:e.context},t.vnode);return e.i&&e.i!==n&&(e.l.parentNode&&e.i.removeChild(e.l),ti(e.s),e.v=!1),t.vnode?e.v?(n.__k=e.__k,ni(r,n),e.__k=n.__k):(e.l=document.createTextNode(""),function(t,e){ni(t,e,ka)}("",n),n.appendChild(e.l),e.v=!0,ni(r,e.i=n,e.l),e.__k=this.l.__k):e.v&&(e.l.parentNode&&e.i.removeChild(e.l),ti(e.s)),e.s=r,e.componentWillUnmount=function(){e.l.parentNode&&e.i.removeChild(e.l),ti(e.s)},null}function _i(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Xa.apply(void 0,t),r=n.type,a=n.props;return"function"!=typeof r&&(a.defaultValue&&(a.value||0===a.value||(a.value=a.defaultValue),delete a.defaultValue),Array.isArray(a.value)&&a.multiple&&"select"===r&&(Ua(a.children).forEach(function(t){-1!=a.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete a.value),function(t,e){var n,r,a;for(a in e)if(n=vi.test(a))break;if(n)for(a in r=t.props={},e)r[vi.test(a)?a.replace(/([A-Z0-9])/,"-$1").toLowerCase():a]=e[a]}(n,a)),n.preactCompatNormalized=!1,function(e){return e.preactCompatNormalized=!0,function(){var t=e.props;(t.class||t.className)&&(xi.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",xi))}(),e}(n)}bi.prototype.getChildContext=function(){return this.props.context},bi.prototype.render=function(t){return t.children};var xi={configurable:!0,get:function(){return this.class}};function wi(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}var Ei,Si=((Ei=Ia)&&(Mi.__proto__=Ei),((Mi.prototype=Object.create(Ei&&Ei.prototype)).constructor=Mi).prototype.shouldComponentUpdate=function(t,e){return wi(this.props,t)||wi(this.state,e)},Mi);function Mi(t){Ei.call(this,t),this.isPureReactComponent=!0}function Ci(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}Ia.prototype.isReactComponent={};var Di=Da.vnode;Da.vnode=function(i){i.$$typeof=gi,function(){var t=i.type,e=i.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var a=n.oninput||"oninput";e[a]||(e[a]=e[n.onchange],delete e[n.onchange])}}}();var t=i.type;t&&t.t&&i.ref&&(i.props.ref=i.ref,i.ref=null),"function"==typeof t&&!t.p&&t.prototype&&(Ci(t.prototype,"componentWillMount"),Ci(t.prototype,"componentWillReceiveProps"),Ci(t.prototype,"componentWillUpdate"),t.p=!0),Di&&Di(i)};var Oi=function(t,e){return(Oi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Pi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPos:0},t.width=0,t.height=0,t}!function(t,e){function n(){this.constructor=t}Oi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e);var n=t.prototype;return n.render=function(){return _i("canvas",{ref:p(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var t=this.canvasElement.getContext("2d");this.canvasContext=t,this.resize()},n.componentDidUpdate=function(){this.resize()},n.scroll=function(t){this.draw(t)},n.resize=function(){var t=this.canvasElement,e=this.props,n=e.width,r=e.height;this.width=n||t.offsetWidth,this.height=r||t.offsetHeight,t.width=2*this.width,t.height=2*this.height,this.draw()},n.draw=function(t){void 0===t&&(t=this.state.scrollPos);var e=this.props,n=e.unit,r=e.zoom,a=e.type,i=e.backgroundColor,o=e.lineColor,s=this.width,l=this.height;this.state.scrollPos=t;var u=this.canvasContext,c="horizontal"===a;u.rect(0,0,2*s,2*l),u.fillStyle=i,u.fill(),u.save(),u.scale(2,2),u.strokeStyle=o,u.lineWidth=1,u.font="10px sans-serif",u.fillStyle="#ffffff",u.translate(.5,0),u.beginPath();for(var f=c?s:l,p=r*n,h=Math.floor(t*r/p),d=Math.ceil((t*r+f)/p)-h,g=0;g<d;++g){var v=((g+h)*n-t)*r;if(-p<=v&&v<f){var m=c?3+v:s-18,b=c?l-18:v-4;c?u.fillText(""+(g+h)*n,m,b):(u.save(),u.translate(m,b),u.rotate(-Math.PI/2),u.fillText(""+(g+h)*n,0,0),u.restore())}for(var y=0;y<10;++y){var _=v+y/10*p;if(!(_<0||f<=_)){var x=0===y?c?l:s:y%2==0?10:7,w=c?_:s-x,E=c?_:s,S=c?l-x:_,M=c?l:_;u.moveTo(w,S),u.lineTo(E,M)}}}u.stroke(),u.restore()},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,style:{width:"100%",height:"100%"},backgroundColor:"#333333",lineColor:"#777777"},t}(Si),Ri=function(){return(Ri=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function ki(t,e,n,r){var a=Xi(t),i=Xi(e),o=Xi(r);return Gi(Yi(r[0],Fi(a,o)),Yi(r[0],Fi(i,o)),n[0])}function zi(t){return t.touches?Ti(t.touches):[ji(t)]}function Gi(t,e,n){var r=t.clientX,a=t.clientY;return{clientX:r,clientY:a,deltaX:r-e.clientX,deltaY:a-e.clientY,distX:r-n.clientX,distY:a-n.clientY}}function Ai(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Ni(t,n,r){return t.map(function(t,e){return Gi(t,n[e],r[e])})}function Ti(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(ji(t[r]));return n}function ji(t){return{clientX:t.clientX,clientY:t.clientY}}function Xi(t){return{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function Yi(t,e){return{clientX:t.clientX+e.clientX,clientY:t.clientY+e.clientY}}function Fi(t,e){return{clientX:t.clientX-e.clientX,clientY:t.clientY-e.clientY}}var Ii=function(){function t(t,e){var i=this;void 0===e&&(e={}),this.el=t,this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.onDragStart=function(t){if(i.flag||!1!==t.cancelable){if(function(t){return t.touches&&2<=t.touches.length}(t)){if(!i.flag&&t.touches.length!==t.changedTouches.length)return;i.pinchFlag||i.onPinchStart(t)}if(!i.flag){var e=i.startClients[0]?i.startClients:zi(t);i.customDist=[0,0],i.flag=!0,i.isDrag=!1,i.startClients=e,i.prevClients=e,i.datas={};var n=Gi(e[i.movement=0],i.prevClients[0],i.startClients[0]),r=i.options,a=r.dragstart;(r.preventRightClick&&3===t.which||!1===(a&&a(Ri({datas:i.datas,inputEvent:t},n))))&&(i.startClients=[],i.prevClients=[],i.flag=!1),i.flag&&t.preventDefault()}}},this.onDrag=function(t,e){if(i.flag){var n=zi(t);i.pinchFlag&&i.onPinch(t,n);var r=i.move([0,0],t,n);if(r&&(r.deltaX||r.deltaY)){var a=i.options.drag;a&&a(Ri({},r,{isScroll:!!e,inputEvent:t}))}}},this.onDragEnd=function(t){if(i.flag){i.pinchFlag&&i.onPinchEnd(t),i.flag=!1;var e=i.options.dragend,n=i.prevClients,r=i.startClients,a=i.pinchFlag?ki(n,n,r,i.startPinchClients):Gi(n[0],n[0],r[0]);i.startClients=[],i.prevClients=[],e&&e(Ri({datas:i.datas,isDrag:i.isDrag,inputEvent:t},a))}},this.options=Ri({container:t,preventRightClick:!0,pinchThreshold:0,events:["touch","mouse"]},e);var n=this.options,r=n.container,a=n.events;if(this.isTouch=-1<a.indexOf("touch"),this.isMouse=-1<a.indexOf("mouse"),this.customDist=[0,0],this.isMouse&&(I(t,"mousedown",this.onDragStart),I(r,"mousemove",this.onDrag),I(r,"mouseup",this.onDragEnd)),this.isTouch){var o={passive:!1};I(t,"touchstart",this.onDragStart,o),I(r,"touchmove",this.onDrag,o),I(r,"touchend",this.onDragEnd,o)}}var e=t.prototype;return e.isDragging=function(){return this.isDrag},e.isPinching=function(){return this.isPinch},e.scrollBy=function(e,n,t,r){void 0===r&&(r=!0),this.flag&&(this.startClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),this.prevClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),r&&this.onDrag(t,!0))},e.move=function(t,e,n){var r=t[0],a=t[1];void 0===n&&(n=this.prevClients);var i=this.customDist,o=this.prevClients,s=this.startClients,l=this.pinchFlag?ki(n,o,s,this.startPinchClients):Gi(n[0],o[0],s[0]);i[0]+=r,i[1]+=a,l.deltaX+=r,l.deltaY+=a;var u=l.deltaX,c=l.deltaY;return l.distX+=i[0],l.distY+=i[1],this.movement+=Math.sqrt(u*u+c*c),this.prevClients=n,this.isDrag=!0,Ri({datas:this.datas},l,{isScroll:!1,inputEvent:e})},e.onPinchStart=function(t){var e,n,r=this.options,a=r.pinchstart,i=r.pinchThreshold;if(!(this.isDrag&&this.movement>i)){var o=Ti(t.changedTouches);if(this.pinchFlag=!0,(e=this.startClients).push.apply(e,o),(n=this.prevClients).push.apply(n,o),this.startDistance=Ai(this.prevClients),this.startPinchClients=this.prevClients.slice(),a){var s=this.prevClients,l=Xi(s),u=Gi(l,l,l);a(Ri({datas:this.datas,touches:Ni(s,s,s)},u,{inputEvent:t}))}}},e.onPinch=function(t,e){if(this.flag&&this.pinchFlag){this.isPinch=!0;var n=this.options.pinch;if(n){var r=this.prevClients,a=this.startClients,i=Gi(Xi(e),Xi(r),Xi(a)),o=Ai(e);n(Ri({datas:this.datas,touches:Ni(e,r,a),scale:o/this.startDistance,distance:o},i,{inputEvent:t}))}}},e.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var r=this.prevClients,a=this.startClients,i=Gi(Xi(r),Xi(r),Xi(a));n(Ri({datas:this.datas,isPinch:e,touches:Ni(r,r,a)},i,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},e.unset=function(){var t=this.el,e=this.options.container;this.isMouse&&(B(t,"mousedown",this.onDragStart),B(e,"mousemove",this.onDrag),B(e,"mouseup",this.onDragEnd)),this.isTouch&&(B(t,"touchstart",this.onDragStart),B(e,"touchmove",this.onDrag),B(e,"touchend",this.onDragEnd))},t}();var Bi=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function Li(a){var i,o="rCS"+function(t){return Bi(t).toString(36)}(a),s=0;return{className:o,inject:function(t){var e,n=function(t){if(t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(t),r=0===s;return(n||r)&&(e=function(n,t,e){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerHTML=t.replace(/([^}{]*){/gm,function(t,e){return A(e).map(function(t){return-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+n):"."+n+" "+t}).join(", ")+"{"}),(e||document.head||document.body).appendChild(r),r}(o,a)),r&&(i=e),n||++s,{destroy:function(){n?(t.removeChild(e),e=null):(0<s&&--s,0===s&&i&&(i.parentNode.removeChild(i),i=null))}}}}}var Wi=function(t,e){return(Wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var qi=function(){return(qi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};var Hi=function(t,e){return(Hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Ui(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(t){return t.split(" ").map(function(t){return t?""+e+t:""}).join(" ")}).join(" ")}.apply(void 0,["scena-"].concat(t))}Ui("ruler");var Ki,Vi,$i,Zi=Ui("guide","adder"),Ji=Ui("guides"),Qi=Ui("guide"),to=Ui("dragging"),eo=(Ki="div",Vi='\n{\n    position: relative;\n}\ncanvas {\n    position: relative;\n}\n.guides {\n    position: absolute;\n    top: 0;\n    left: 0;\n    will-change: transform;\n    z-index: 2000;\n}\n:host.horizontal .guides {\n    width: 100%;\n    height: 0;\n    top: 30px;\n}\n:host.vertical .guides {\n    height: 100%;\n    width: 0;\n    left: 30px;\n}\n.guide {\n    position: absolute;\n    background: #f33;\n    z-index: 2;\n}\n.guide.dragging:before {\n    position: absolute;\n    content: "";\n    width: 100%;\n    height: 100%;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n:host.horizontal .guide {\n    width: 100%;\n    height: 1px;\n    cursor: row-resize;\n}\n:host.vertical .guide {\n    width: 1px;\n    height: 100%;\n    cursor: col-resize;\n}\n.mobile :host.horizontal .guide {\n    transform: scale(1, 2);\n}\n.mobile :host.vertical .guide {\n    transform: scale(2, 1);\n}\n:host.horizontal .guide:before {\n    height: 20px;\n}\n:host.vertical .guide:before {\n    width: 20px;\n}\n.adder {\n    display: none;\n}\n.adder.dragging {\n    display: block;\n}\n'.replace(/\.([^{,\s\d.]+)/g,"."+"scena-"+"$1"),$i=Li(Vi),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function n(){this.constructor=t}Wi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=void 0===e?"":e,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}(t,["className"]);return _i(Ki,qi({ref:function(e,n){return function(t){t&&(e[n]=t)}}(this,"element"),className:n+" "+$i.className},r))},e.prototype.componentDidMount=function(){this.injectResult=$i.inject(this.element)},e.prototype.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},e.prototype.getElement=function(){return this.element},e}(Ia)),no=function(t){function e(){var u=null!==t&&t.apply(this,arguments)||this;return u.state={guides:[]},u.scrollPos=0,u.guideElements=[],u.onDragStart=function(t){var e=t.datas,n=t.clientX,r=t.clientY,a=t.inputEvent,i="horizontal"===u.props.type,o=u.guidesElement.getBoundingClientRect();e.offset=i?o.top:o.left,Y(e.target,to),u.onDrag({datas:e,clientX:n,clientY:r}),a.stopPropagation(),a.preventDefault()},u.onDrag=function(t){var e=t.datas,n=t.clientX,r=t.clientY,a="horizontal"===u.props.type,i=Math.round((a?r:n)-e.offset);return e.target.style.transform=u.getTranslateName()+"("+i+"px)",i},u.onDragEnd=function(t){var e=t.datas,n=t.clientX,r=t.clientY,a=u.onDrag({datas:e,clientX:n,clientY:r}),i=u.state.guides,o=u.props.setGuides,s=Math.round(a/u.props.zoom);if(F(e.target,to),e.fromRuler)a>=u.scrollPos&&i.indexOf(s)<0&&u.setState({guides:i.concat([s])},function(){o(u.state.guides)});else{var l=e.target.getAttribute("data-index");a<u.scrollPos||-1<i.indexOf(s)?i.splice(l,1):i[l]=s,u.setState({guides:i.slice()},function(){o(u.state.guides)})}},u}!function(t,e){function n(){this.constructor=t}Hi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.className,n=t.type,r=t.width,a=t.height,i=t.unit,o=t.zoom,s=t.style,l=t.rulerStyle,u=t.backgroundColor,c=t.lineColor,f=t.textColor;return _i(eo,{ref:p(this,"manager"),className:Ui("manager",n)+" "+e,style:s},_i(Pi,{ref:p(this,"ruler"),type:n,width:r,height:a,unit:i,zoom:o,backgroundColor:u,lineColor:c,style:l,textColor:f}),_i("div",{className:Ji,ref:p(this,"guidesElement")},_i("div",{className:Zi,ref:p(this,"adderElement")}),this.renderGuides()))},n.renderGuides=function(){var n=this,t=this.props,r=t.type,a=t.zoom,i="horizontal"===r?"translateY":"translateX",e=this.state.guides;return this.guideElements=[],e.map(function(t,e){return _i("div",{className:Ui("guide",r),ref:function(e,n,r){return function(t){t&&(e[n][r]=t)}}(n,"guideElements",e),key:e,"data-index":e,style:{transform:i+"("+t*a+"px)"}})})},n.componentDidMount=function(){var r=this;this.dragger=new Ii(this.manager.getElement(),{container:document.body,dragstart:function(t){var e=t.inputEvent.target,n=t.datas;if(e===r.ruler.canvasElement)t.datas.fromRuler=!0,n.target=r.adderElement;else{if(!X(e,Qi))return!1;n.target=e}r.onDragStart(t)},drag:this.onDrag,dragend:this.onDragEnd})},n.componentWillUnmount=function(){this.dragger.unset()},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(n){var t=this.props.zoom,e=this.guidesElement;this.scrollPos=n,e.style.transform=this.getTranslateName()+"("+-n*t+"px)";var r=this.state.guides;this.guideElements.forEach(function(t,e){t&&(t.style.display=-n+r[e]<0?"none":"block")})},n.resize=function(){this.ruler.resize()},n.scroll=function(t){this.ruler.scroll(t)},n.getTranslateName=function(){return"horizontal"===this.props.type?"translateY":"translateX"},e.defaultProps={className:"",type:"horizontal",setGuides:function(){},zoom:1,style:{width:"100%",height:"100%"}},e}(Si),ro=function(t,e){return(ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var ao=function(){return(ao=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};var io=["setGuides","type","width","height","rulerStyle","unit","zoom","style","backgroundColor","lineColor","container","className","textColor"],oo=function(n){function t(t){var e=n.call(this,t)||this;return e.state={},e.state=e.props,e}return function(t,e){function n(){this.constructor=t}ro(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,n),t.prototype.render=function(){var t=this.state,e=t.container,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}(t,["container"]);return function(t,e){return Xa(yi,{vnode:t,container:e})}(Xa(no,ao({ref:p(this,"preactGuides")},n)),e)},t}(Ia),so=function(){function t(t,e){void 0===e&&(e={}),this.tempElement=document.createElement("div"),ni(Xa(oo,ao({ref:p(this,"innerGuides")},e,{container:t})),this.tempElement)}var e=t.prototype;return e.scroll=function(t){this.getPreactGuides().scroll(t)},e.scrollGuides=function(t){this.getPreactGuides().scrollGuides(t)},e.resize=function(){this.getPreactGuides().resize()},e.getGuides=function(){return this.getPreactGuides().getGuides()},e.setState=function(t,e){this.innerGuides.setState(t,e)},e.destroy=function(){ni("",this.tempElement),this.tempElement=null,this.innerGuides=null},e.getPreactGuides=function(){return this.innerGuides.preactGuides},t=function(t,e,n,r){var a,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(a=t[s])&&(o=(i<3?a(o):3<i?a(e,n,o):a(e,n))||o);return 3<i&&o&&Object.defineProperty(e,n,o),o}([i(io,function(t,n){Object.defineProperty(t,n,{get:function(){return this.getPreactGuides().props[n]},set:function(t){var e;this.innerGuides.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})})],t)}(),lo=function(t,e){return(lo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var uo,co=(function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return o[t];var n,r=String(t);return(n=a[r.toLowerCase()])?n:(n=i[r.toLowerCase()])||(1===r.length?r.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var r;if(r=a[e.toLowerCase()])return r===n;if(r=i[e.toLowerCase()])return r===n}else if("number"==typeof e)return e===n;return!1}};var a=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(r=97;r<123;r++)a[String.fromCharCode(r)]=r-32;for(var r=48;r<58;r++)a[r-48]=r;for(r=1;r<13;r++)a["f"+r]=r+111;for(r=0;r<10;r++)a["numpad "+r]=r+96;var o=e.names=e.title={};for(r in a)o[a[r]]=r;for(var s in i)a[s]=i[s]}(uo={exports:{}},uo.exports),uo.exports),fo=(co.code,co.codes,co.aliases,co.names);co.title;function po(t){return Array.isArray(t)}function ho(t){return"string"==typeof t}function go(t,e,n,r){t.addEventListener(e,n,r)}var vo,mo={"+":"plus","left command":"meta","right command":"meta"},bo={shift:1,ctrl:2,alt:3,meta:4};function yo(t){var e=fo[t]||"";for(var n in mo)e=e.replace(n,mo[n]);return e.replace(/\s/g,"")}function _o(t){var e=t.slice();return e.sort(function(t,e){return(bo[t]||5)-(bo[e]||5)}),e}var xo=function(n){function t(t){void 0===t&&(t=window);var e=n.call(this)||this;return e.ctrlKey=!1,e.altKey=!1,e.shiftKey=!1,e.metaKey=!1,e.clear=function(){return e.ctrlKey=!1,e.altKey=!1,e.shiftKey=!1,e.metaKey=!1,e},e.keydownEvent=function(t){e.triggerEvent("keydown",t)},e.keyupEvent=function(t){e.triggerEvent("keyup",t)},go(t,"blur",e.clear),go(t,"keydown",e.keydownEvent),go(t,"keyup",e.keyupEvent),e}!function(t,e){function n(){this.constructor=t}lo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,n);var e=t.prototype;return Object.defineProperty(t,"global",{get:function(){return vo=vo||new t},enumerable:!0,configurable:!0}),e.keydown=function(t,e){return this.addEvent("keydown",t,e)},e.offKeydown=function(t,e){return this.removeEvent("keydown",t,e)},e.offKeyup=function(t,e){return this.removeEvent("keyup",t,e)},e.keyup=function(t,e){return this.addEvent("keyup",t,e)},e.addEvent=function(t,e,n){return po(e)?this.on(t+"."+_o(e).join("."),n):ho(e)?this.on(t+"."+e,n):this.on(t,e),this},e.removeEvent=function(t,e,n){return po(e)?this.off(t+"."+_o(e).join("."),n):ho(e)?this.off(t+"."+e,n):this.off(t,e),this},e.triggerEvent=function(t,e){this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey;var n=yo(e.keyCode),r={key:n,isToggle:"ctrl"===n||"shift"===n||"meta"===n||"alt"===n,inputEvent:e,keyCode:e.keyCode,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey};this.trigger(t,r),this.trigger(t+"."+n,r);var a=function(t,e){void 0===e&&(e=yo(t.keyCode));var n=[t.shiftKey&&"shift",t.ctrlKey&&"ctrl",t.altKey&&"alt",t.metaKey&&"meta"];return-1===n.indexOf(e)&&n.push(e),n.filter(Boolean)}(e,n);1<a.length&&this.trigger(t+"."+a.join("."),r)},t}(t),wo=zt();(wo.isMobile||-1<wo.os.name.indexOf("ios")||-1<wo.browser.name.indexOf("safari"))&&Y(document.body,"mobile");var Eo=document.querySelector(".editor"),So=document.querySelector(".label"),Mo=document.querySelector(".rulers"),Co=Mo.querySelector(".ruler.horizontal"),Do=Mo.querySelector(".ruler.vertical"),Oo=document.querySelector('.control input[name="x"]'),Po=document.querySelector('.control input[name="y"]'),Ro=document.querySelector('.control input[name="w"]'),ko=document.querySelector('.control input[name="h"]'),zo=document.querySelector('.control input[name="r"]'),Go=document.querySelector(".moveable.target"),Ao=new za({left:"0px",top:"0px",width:"250px",height:"200px",transform:{translateX:window.innerWidth/2-125+"px",translateY:Math.max(700,window.innerHeight)/2-250+"px",rotate:"0deg",scaleX:1,scaleY:1}});function No(t,e){function n(){e(t.value),jo(),Yo.updateRect()}new xo(t).keyup("enter",n),t.addEventListener("blur",n)}function To(t){Ao.set("transform","translateX",t[0]+"px"),Ao.set("transform","translateY",t[1]+"px"),Oo.value=""+t[0],Po.value=""+t[1]}function jo(){Go.style.cssText+=Ao.toCSS()}No(Oo,function(t){Ao.set("transform","translateX",parseFloat(t)+"px")}),No(Po,function(t){Ao.set("transform","translateY",parseFloat(t)+"px")}),No(Ro,function(t){Ao.set("width",parseFloat(t)+"px")}),No(ko,function(t){Ao.set("height",parseFloat(t)+"px")}),No(zo,function(t){Ao.set("transform","rotate",parseFloat(t)+"deg")}),Oo.value=""+parseFloat(Ao.get("transform","translateX")),Po.value=""+parseFloat(Ao.get("transform","translateY")),jo();var Xo=!1,Yo=new Kr(Eo,{target:Go,draggable:!0,resizable:!0,rotatable:!0,snappable:!0,pinchable:!0,snapCenter:!0,snapThreshold:10,throttleResize:0,throttleRotate:1,keepRatio:!1,origin:!1,bounds:{left:30,top:30}}).on("dragStart",function(t){(0,t.set)([parseFloat(Ao.get("transform","translateX")),parseFloat(Ao.get("transform","translateY"))])}).on("drag",function(t){To(t.beforeTranslate)}).on("rotateStart",function(t){(0,t.set)(parseFloat(Ao.get("transform","rotate")))}).on("rotate",function(t){var e=t.beforeRotate,n=t.clientX,r=t.clientY,a=t.isPinch;Ao.set("transform","rotate",e+"deg"),zo.value=e+"",a||Lo(n,r,e+"")}).on("resizeStart",function(t){var e=t.setOrigin,n=t.dragStart;e(["%","%"]),n&&n.set([parseFloat(Ao.get("transform","translateX")),parseFloat(Ao.get("transform","translateY"))])}).on("resize",function(t){var e=t.width,n=t.height,r=t.drag,a=t.clientX,i=t.clientY,o=t.isPinch;Ao.set("width",e+"px"),Ao.set("height",n+"px"),To(r.beforeTranslate),Ro.value=""+e,ko.value=""+n,o||Lo(a,i,e+" X "+n)}).on("pinchStart",function(){Xo=!0}).on("pinch",function(t){Bo(t.clientX,t.clientY)}).on("render",function(){Xo&&(So.innerHTML="W: "+parseFloat(Ao.get("width"))+"<br/>H: "+parseFloat(Ao.get("height"))+"<br/>R: "+parseFloat(Ao.get("transform","rotate"))+""),jo()}).on("renderEnd",function(){Xo=!1,So.style.display="none"}),Fo=new so(Co,{type:"horizontal",setGuides:Wo,backgroundColor:"#444444"}),Io=new so(Do,{type:"vertical",setGuides:Wo,backgroundColor:"#444444"});function Bo(t,e){So.style.cssText="display: block; transform: translate("+t+"px, "+(e-10)+"px) translate(-100%, -100%);"}function Lo(t,e,n){Bo(t,e),So.innerHTML=n}function Wo(){var t=window.innerWidth/2+15,e=window.innerHeight/2;Yo.verticalGuidelines=n(Io.getGuides().map(function(t){return t+30}),[t]),Yo.horizontalGuidelines=n(Fo.getGuides().map(function(t){return t+30}),[e])}function qo(t){t?(Yo.throttleRotate=30,Yo.throttleDragRotate=45,Yo.keepRatio=!0):(Yo.throttleRotate=1,Yo.throttleDragRotate=0,Yo.keepRatio=!1)}xo.global.on("keydown",function(t){qo(t.shiftKey)}).on("keyup",function(t){qo(t.shiftKey)}),window.addEventListener("resize",function(){Wo(),Yo.updateRect(),Fo.resize(),Io.resize()}),document.body.addEventListener("gesturestart",function(t){t.preventDefault()}),Wo();var Ho=document.querySelector(".draggable"),Uo=new Kr(Ho.parentElement,{target:Ho,origin:!1,draggable:!0}).on("drag",function(t){var e=t.target,n=t.transform;e.style.transform=n}),Ko=document.querySelector(".resizable"),Vo=new Kr(Ko.parentElement,{target:Ko,origin:!1,resizable:!0}).on("resize",function(t){var e=t.target,n=t.width,r=t.height;e.style.width=n+"px",e.style.height=r+"px"}),$o=document.querySelector(".scalable"),Zo=new Kr($o.parentElement,{target:$o,origin:!1,scalable:!0}).on("scale",function(t){var e=t.target,n=t.transform;e.style.transform=n}),Jo=document.querySelector(".rotatable"),Qo=new Kr(Jo.parentElement,{target:Jo,origin:!1,rotatable:!0}).on("rotate",function(t){var e=t.target,n=t.transform;e.style.transform=n}),ts=document.querySelector(".warpable"),es=new Kr(ts.parentElement,{target:ts,warpable:!0,origin:!1}).on("warp",function(t){var e=t.target,n=t.transform;e.style.transform=n}),ns=document.querySelector(".snappable"),rs=(new Kr(ns.parentElement,{target:ns,draggable:!0,snappable:!0,snapCenter:!0,origin:!1,verticalGuidelines:[0,150,200],horizontalGuidelines:[0,150,200]}).on("drag",function(t){var e=t.target,n=t.left,r=t.top;e.style.left=n+"px",e.style.top=r+"px"}),document.querySelector(".pinchable")),as=[1,1],is=0,os=new Kr(rs.parentElement,{target:rs,pinchable:["rotatable","scalable"],origin:!1}).on("rotate",function(t){var e=t.beforeDelta;is+=e,rs.style.transform="scale("+as.join(", ")+") rotate("+is+"deg)"}).on("scale",function(t){var e=t.delta;as[0]*=e[0],as[1]*=e[1],rs.style.transform="scale("+as.join(", ")+") rotate("+is+"deg)"}),ss=document.querySelector(".groupable"),ls=[[0,0],[0,0],[0,0]],us=new Kr(ss.parentElement,{target:[].slice.call(ss.querySelectorAll("span")),origin:!1,draggable:!0}).on("dragGroup",function(t){t.events.forEach(function(t,e){var n=t.target,r=t.beforeDelta;ls[e][0]+=r[0],ls[e][1]+=r[1],n.style.transform="translate("+ls[e][0]+"px, "+ls[e][1]+"px)"})});window.addEventListener("resize",function(){Uo.updateRect(),Vo.updateRect(),Zo.updateRect(),Qo.updateRect(),es.updateRect(),os.updateRect(),us.updateRect()}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("pre").forEach(function(t){var e=t.getAttribute("data-group"),n=t.getAttribute("data-panel"),r=t.querySelector("code"),a=Vr[e]["preact"===n?"react":n].trim();"preact"===n&&(a=a.replace(/react/g,"preact")),r.innerText=a,hljs.highlightBlock(r)})});var cs={};[].slice.call(document.querySelectorAll("[data-tab]")).forEach(function(r){var t=r.getAttribute("data-group"),e=r.getAttribute("data-tab"),n=document.querySelector('[data-group="'+t+'"][data-panel="'+e+'"]');cs[t]||(cs[t]=[]),cs[t].push([r,n]),r.addEventListener("click",function(){cs[t].forEach(function(t){var e=t[0],n=t[1];r!==e&&(e.classList.remove("selected"),n.classList.remove("selected"))}),r.classList.add("selected"),n.classList.add("selected")})})}();
