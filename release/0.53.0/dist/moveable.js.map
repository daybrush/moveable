{"version":3,"file":"moveable.js","sources":["../../react-moveable/dist/moveable.esm.js","../src/InnerMoveable.tsx","../src/consts.ts","../src/MoveableManager.tsx","../src/Moveable.tsx","../src/utils.ts","../src/index.umd.ts"],"sourcesContent":["/*\nCopyright (c) 2019 Daybrush\nname: react-moveable\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/moveable/blob/master/packages/react-moveable\nversion: 0.56.0\n*/\nimport getAgent from '@egjs/agent';\nimport { prefixNames, ref, refs, prefixCSS, withMethods } from 'framework-utils';\nimport { findIndex, find, isArray, splitSpace, splitUnit, dot, isString, getDocumentElement, getDocumentBody, getWindow, throttle, getKeys, getRad, TINY_NUM as TINY_NUM$1, average, getDist as getDist$1, throttleArray, calculateBoundSize, convertUnitSize, isNumber, hasClass, isObject, flat as flat$1, decamelize, isNode, isFunction, isWindow, counter, isUndefined, between, addClass, requestAnimationFrame, removeClass, splitBracket, splitComma, cancelAnimationFrame, pushSet } from '@daybrush/utils';\nimport { minus, invert, convertPositionMatrix, plus, calculate, fromTranslation, multiply, convertDimension, createScaleMatrix, convertCSStoMatrix, createIdentityMatrix, createOriginMatrix, createRotateMatrix, rotate, getOrigin, multiplies, convertMatrixtoCSS, ignoreDimension, createWarpMatrix } from '@scena/matrix';\nimport { parse, parseMat, toMat, calculateMatrixDist } from 'css-to-mat';\nimport ChildrenDiffer, { diff } from '@egjs/children-differ';\nimport DragScroll from '@scena/dragscroll';\nimport { getMinMaxs, fitPoints, getOverlapSize, getAreaSize, isInside, getIntersectionPointsByConstants } from 'overlap-area';\nimport * as React from 'react';\nimport { createElement } from 'react';\nimport Gesto from 'gesto';\nimport { styled } from 'react-css-styled';\nimport EventEmitter from '@scena/event-emitter';\nimport { diff as diff$1 } from '@egjs/list-differ';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\n\nfunction makeAble(name, able) {\r\n    return __assign({ events: [], props: [], name: name }, able);\r\n}\n\nvar DIRECTIONS4 = [\"n\", \"w\", \"s\", \"e\"];\r\nvar DIRECTIONS = [\"n\", \"w\", \"s\", \"e\", \"nw\", \"ne\", \"sw\", \"se\"];\r\nfunction getSVGCursor(scale, degree) {\r\n    return \"data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"\".concat(32 * scale, \"px\\\" height=\\\"\").concat(32 * scale, \"px\\\" viewBox=\\\"0 0 32 32\\\" ><path d=\\\"M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1.2\\\" fill=\\\"black\\\" stroke=\\\"white\\\" style=\\\"transform:rotate(\").concat(degree, \"deg);transform-origin: 16px 16px\\\"></path></svg>\");\r\n}\r\nfunction getCursorCSS(degree) {\r\n    var x1 = getSVGCursor(1, degree);\r\n    // const x2 = getSVGCursor(2, degree);\r\n    var degree45 = (Math.round(degree / 45) * 45) % 180;\r\n    var defaultCursor = \"ns-resize\";\r\n    if (degree45 === 135) {\r\n        defaultCursor = \"nwse-resize\";\r\n    }\r\n    else if (degree45 === 45) {\r\n        defaultCursor = \"nesw-resize\";\r\n    }\r\n    else if (degree45 === 90) {\r\n        defaultCursor = \"ew-resize\";\r\n    }\r\n    // tslint:disable-next-line: max-line-length\r\n    return \"cursor:\".concat(defaultCursor, \";cursor: url('\").concat(x1, \"') 16 16, \").concat(defaultCursor, \";\");\r\n}\r\nvar agent = getAgent();\r\nvar IS_WEBKIT = agent.browser.webkit;\r\nvar IS_WEBKIT605 = IS_WEBKIT && (function () {\r\n    var navi = typeof window === \"undefined\" ? { userAgent: \"\" } : window.navigator;\r\n    var res = /applewebkit\\/([^\\s]+)/g.exec(navi.userAgent.toLowerCase());\r\n    return res ? parseFloat(res[1]) < 605 : false;\r\n})();\r\nvar browserName = agent.browser.name;\r\nvar browserVersion = parseInt(agent.browser.version, 10);\r\nvar IS_CHROME = browserName === \"chrome\";\r\nvar IS_CHROMIUM = agent.browser.chromium;\r\nvar chromiumVersion = parseInt(agent.browser.chromiumVersion, 10) || 0;\r\nvar IS_CHROMIUM109 = (IS_CHROME && browserVersion >= 109)\r\n    || (IS_CHROMIUM && chromiumVersion >= 109);\r\nvar IS_FIREFOX = browserName === \"firefox\";\r\nvar IS_SAFARI_ABOVE15 = parseInt(agent.browser.webkitVersion, 10) >= 612\r\n    || browserVersion >= 15;\r\nvar PREFIX = \"moveable-\";\r\nvar directionCSS = DIRECTIONS.map(function (dir) {\r\n    var top = \"\";\r\n    var left = \"\";\r\n    var originX = \"center\";\r\n    var originY = \"center\";\r\n    var offset = \"calc(var(--moveable-control-padding, 20) * -1px)\";\r\n    if (dir.indexOf(\"n\") > -1) {\r\n        top = \"top: \".concat(offset, \";\");\r\n        originY = \"bottom\";\r\n    }\r\n    if (dir.indexOf(\"s\") > -1) {\r\n        top = \"top: 0px;\";\r\n        originY = \"top\";\r\n    }\r\n    if (dir.indexOf(\"w\") > -1) {\r\n        left = \"left: \".concat(offset, \";\");\r\n        originX = \"right\";\r\n    }\r\n    if (dir.indexOf(\"e\") > -1) {\r\n        left = \"left: 0px;\";\r\n        originX = \"left\";\r\n    }\r\n    return \".around-control[data-direction*=\\\"\".concat(dir, \"\\\"] {\\n        \").concat(left).concat(top, \"\\n        transform-origin: \").concat(originX, \" \").concat(originY, \";\\n    }\");\r\n}).join(\"\\n\");\r\nvar MOVEABLE_CSS = \"\\n{\\nposition: absolute;\\nwidth: 1px;\\nheight: 1px;\\nleft: 0;\\ntop: 0;\\nz-index: 3000;\\n--moveable-color: #4af;\\n--zoom: 1;\\n--zoompx: 1px;\\n--moveable-line-padding: 0;\\n--moveable-control-padding: 0;\\nwill-change: transform;\\noutline: 1px solid transparent;\\n}\\n.control-box {\\nz-index: 0;\\n}\\n.line, .control {\\nposition: absolute;\\nleft: 0;\\ntop: 0;\\nwill-change: transform;\\n}\\n.control {\\nwidth: 14px;\\nheight: 14px;\\nborder-radius: 50%;\\nborder: 2px solid #fff;\\nbox-sizing: border-box;\\nbackground: #4af;\\nbackground: var(--moveable-color);\\nmargin-top: -7px;\\nmargin-left: -7px;\\nborder: 2px solid #fff;\\nz-index: 10;\\n}\\n.around-control {\\nposition: absolute;\\nwill-change: transform;\\nwidth: calc(var(--moveable-control-padding, 20) * 1px);\\nheight: calc(var(--moveable-control-padding, 20) * 1px);\\nleft: calc(var(--moveable-control-padding, 20) * -0.5px);\\ntop: calc(var(--moveable-control-padding, 20) * -0.5px);\\nbox-sizing: border-box;\\nbackground: transparent;\\nz-index: 8;\\ncursor: alias;\\ntransform-origin: center center;\\n}\\n\".concat(directionCSS, \"\\n.padding {\\nposition: absolute;\\ntop: 0px;\\nleft: 0px;\\nwidth: 100px;\\nheight: 100px;\\ntransform-origin: 0 0;\\n}\\n.line {\\nwidth: 1px;\\nheight: 1px;\\nbackground: #4af;\\nbackground: var(--moveable-color);\\ntransform-origin: 0px 50%;\\n}\\n.line.edge {\\nz-index: 1;\\nbackground: transparent;\\n}\\n.line.dashed {\\nbox-sizing: border-box;\\nbackground: transparent;\\n}\\n.line.dashed.horizontal {\\nborder-top: 1px dashed #4af;\\nborder-top-color: #4af;\\nborder-top-color: var(--moveable-color);\\n}\\n.line.dashed.vertical {\\nborder-left: 1px dashed #4af;\\nborder-left-color: #4af;\\nborder-left-color: var(--moveable-color);\\n}\\n.line.vertical {\\ntransform: translateX(-50%);\\n}\\n.line.horizontal {\\ntransform: translateY(-50%);\\n}\\n.line.vertical.bold {\\nwidth: 2px;\\n}\\n.line.horizontal.bold {\\nheight: 2px;\\n}\\n\\n.control.origin {\\nborder-color: #f55;\\nbackground: #fff;\\nwidth: 12px;\\nheight: 12px;\\nmargin-top: -6px;\\nmargin-left: -6px;\\npointer-events: none;\\n}\\n\").concat([0, 15, 30, 45, 60, 75, 90, 105, 120, 135, 150, 165].map(function (degree) { return \"\\n.direction[data-rotation=\\\"\".concat(degree, \"\\\"], :global .view-control-rotation\").concat(degree, \" {\\n\").concat(getCursorCSS(degree), \"\\n}\\n\"); }).join(\"\\n\"), \"\\n\\n.line.direction:before {\\ncontent: \\\"\\\";\\nposition: absolute;\\nwidth: 100%;\\nheight: calc(var(--moveable-line-padding, 0) * 1px);\\nbottom: 0;\\nleft: 0;\\n}\\n.group {\\nz-index: -1;\\n}\\n.area {\\nposition: absolute;\\n}\\n.area-pieces {\\nposition: absolute;\\ntop: 0;\\nleft: 0;\\ndisplay: none;\\n}\\n.area.avoid, .area.pass {\\npointer-events: none;\\n}\\n.area.avoid+.area-pieces {\\ndisplay: block;\\n}\\n.area-piece {\\nposition: absolute;\\n}\\n\\n\").concat(IS_WEBKIT605 ? \":global svg *:before {\\ncontent:\\\"\\\";\\ntransform-origin: inherit;\\n}\" : \"\", \"\\n\");\r\nvar NEARBY_POS = [\r\n    [0, 1, 2],\r\n    [1, 0, 3],\r\n    [2, 0, 3],\r\n    [3, 1, 2],\r\n];\r\nvar FLOAT_POINT_NUM = 0.0001;\r\nvar TINY_NUM = 0.0000001;\r\nvar MIN_SCALE = 0.000000001;\r\nvar MAX_NUM = Math.pow(10, 10);\r\nvar MIN_NUM = -MAX_NUM;\r\nvar DIRECTION_REGION_TO_DIRECTION = {\r\n    n: [0, -1],\r\n    e: [1, 0],\r\n    s: [0, 1],\r\n    w: [-1, 0],\r\n    nw: [-1, -1],\r\n    ne: [1, -1],\r\n    sw: [-1, 1],\r\n    se: [1, 1],\r\n};\r\nvar DIRECTION_INDEXES = {\r\n    n: [0, 1],\r\n    e: [1, 3],\r\n    s: [3, 2],\r\n    w: [2, 0],\r\n    nw: [0],\r\n    ne: [1],\r\n    sw: [2],\r\n    se: [3],\r\n};\r\nvar DIRECTION_ROTATIONS = {\r\n    n: 0,\r\n    s: 180,\r\n    w: 270,\r\n    e: 90,\r\n    nw: 315,\r\n    ne: 45,\r\n    sw: 225,\r\n    se: 135,\r\n};\r\nvar MOVEABLE_METHODS = [\r\n    \"isMoveableElement\",\r\n    \"updateRect\",\r\n    \"updateTarget\",\r\n    \"destroy\",\r\n    \"dragStart\",\r\n    \"isInside\",\r\n    \"hitTest\",\r\n    \"setState\",\r\n    \"getRect\",\r\n    \"request\",\r\n    \"isDragging\",\r\n    \"getManager\",\r\n    \"forceUpdate\",\r\n    \"waitToChangeTarget\",\r\n    \"updateSelectors\",\r\n    \"getTargets\",\r\n    \"stopDrag\",\r\n    \"getControlBoxElement\",\r\n    \"getMoveables\",\r\n    \"getDragElement\",\r\n];\n\nfunction setCustomDrag(e, state, delta, isPinch, isConvert, ableName) {\r\n    var _a, _b;\r\n    if (ableName === void 0) { ableName = \"draggable\"; }\r\n    var result = (_b = (_a = state.gestos[ableName]) === null || _a === void 0 ? void 0 : _a.move(delta, e.inputEvent)) !== null && _b !== void 0 ? _b : {};\r\n    var datas = result.originalDatas || result.datas;\r\n    var ableDatas = datas[ableName] || (datas[ableName] = {});\r\n    return __assign(__assign({}, (isConvert ? convertDragDist(state, result) : result)), { isPinch: !!isPinch, parentEvent: true, datas: ableDatas, originalDatas: e.originalDatas });\r\n}\r\nvar CustomGesto = /*#__PURE__*/ (function () {\r\n    function CustomGesto(ableName) {\r\n        var _a;\r\n        if (ableName === void 0) { ableName = \"draggable\"; }\r\n        this.ableName = ableName;\r\n        this.prevX = 0;\r\n        this.prevY = 0;\r\n        this.startX = 0;\r\n        this.startY = 0;\r\n        this.isDrag = false;\r\n        this.isFlag = false;\r\n        this.datas = {\r\n            draggable: {},\r\n        };\r\n        this.datas = (_a = {},\r\n            _a[ableName] = {},\r\n            _a);\r\n    }\r\n    CustomGesto.prototype.dragStart = function (client, e) {\r\n        this.isDrag = false;\r\n        this.isFlag = false;\r\n        var originalDatas = e.originalDatas;\r\n        this.datas = originalDatas;\r\n        if (!originalDatas[this.ableName]) {\r\n            originalDatas[this.ableName] = {};\r\n        }\r\n        return __assign(__assign({}, this.move(client, e.inputEvent)), { type: \"dragstart\" });\r\n    };\r\n    CustomGesto.prototype.drag = function (client, inputEvent) {\r\n        return this.move([\r\n            client[0] - this.prevX,\r\n            client[1] - this.prevY,\r\n        ], inputEvent);\r\n    };\r\n    CustomGesto.prototype.move = function (delta, inputEvent) {\r\n        var clientX;\r\n        var clientY;\r\n        var isFirstDrag = false;\r\n        if (!this.isFlag) {\r\n            this.prevX = delta[0];\r\n            this.prevY = delta[1];\r\n            this.startX = delta[0];\r\n            this.startY = delta[1];\r\n            clientX = delta[0];\r\n            clientY = delta[1];\r\n            this.isFlag = true;\r\n        }\r\n        else {\r\n            var isPrevDrag = this.isDrag;\r\n            clientX = this.prevX + delta[0];\r\n            clientY = this.prevY + delta[1];\r\n            if (delta[0] || delta[1]) {\r\n                this.isDrag = true;\r\n            }\r\n            if (!isPrevDrag && this.isDrag) {\r\n                isFirstDrag = true;\r\n            }\r\n        }\r\n        this.prevX = clientX;\r\n        this.prevY = clientY;\r\n        return {\r\n            type: \"drag\",\r\n            clientX: clientX,\r\n            clientY: clientY,\r\n            inputEvent: inputEvent,\r\n            isFirstDrag: isFirstDrag,\r\n            isDrag: this.isDrag,\r\n            distX: clientX - this.startX,\r\n            distY: clientY - this.startY,\r\n            deltaX: delta[0],\r\n            deltaY: delta[1],\r\n            datas: this.datas[this.ableName],\r\n            originalDatas: this.datas,\r\n            parentEvent: true,\r\n            parentGesto: this,\r\n        };\r\n    };\r\n    return CustomGesto;\r\n}());\n\nfunction calculateElementPosition(matrix, origin, width, height) {\r\n    var is3d = matrix.length === 16;\r\n    var n = is3d ? 4 : 3;\r\n    var poses = calculatePoses(matrix, width, height, n);\r\n    var _a = __read(poses, 4), _b = __read(_a[0], 2), x1 = _b[0], y1 = _b[1], _c = __read(_a[1], 2), x2 = _c[0], y2 = _c[1], _d = __read(_a[2], 2), x3 = _d[0], y3 = _d[1], _e = __read(_a[3], 2), x4 = _e[0], y4 = _e[1];\r\n    var _f = __read(calculatePosition(matrix, origin, n), 2), originX = _f[0], originY = _f[1];\r\n    var left = Math.min(x1, x2, x3, x4);\r\n    var top = Math.min(y1, y2, y3, y4);\r\n    var right = Math.max(x1, x2, x3, x4);\r\n    var bottom = Math.max(y1, y2, y3, y4);\r\n    x1 = (x1 - left) || 0;\r\n    x2 = (x2 - left) || 0;\r\n    x3 = (x3 - left) || 0;\r\n    x4 = (x4 - left) || 0;\r\n    y1 = (y1 - top) || 0;\r\n    y2 = (y2 - top) || 0;\r\n    y3 = (y3 - top) || 0;\r\n    y4 = (y4 - top) || 0;\r\n    originX = (originX - left) || 0;\r\n    originY = (originY - top) || 0;\r\n    var sx = matrix[0];\r\n    var sy = matrix[n + 1];\r\n    var direction = sign(sx * sy);\r\n    return {\r\n        left: left,\r\n        top: top,\r\n        right: right,\r\n        bottom: bottom,\r\n        origin: [originX, originY],\r\n        pos1: [x1, y1],\r\n        pos2: [x2, y2],\r\n        pos3: [x3, y3],\r\n        pos4: [x4, y4],\r\n        direction: direction,\r\n    };\r\n}\n\nfunction calculatePointerDist(moveable, e) {\r\n    var clientX = e.clientX, clientY = e.clientY, datas = e.datas;\r\n    var _a = moveable.state, moveableClientRect = _a.moveableClientRect, rootMatrix = _a.rootMatrix, is3d = _a.is3d, pos1 = _a.pos1;\r\n    var left = moveableClientRect.left, top = moveableClientRect.top;\r\n    var n = is3d ? 4 : 3;\r\n    var _b = __read(minus(calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n), pos1), 2), posX = _b[0], posY = _b[1];\r\n    var _c = __read(getDragDist({ datas: datas, distX: posX, distY: posY }), 2), distX = _c[0], distY = _c[1];\r\n    return [distX, distY];\r\n}\r\nfunction setDragStart(moveable, _a) {\r\n    var datas = _a.datas;\r\n    var _b = moveable.state, allMatrix = _b.allMatrix, beforeMatrix = _b.beforeMatrix, is3d = _b.is3d, left = _b.left, top = _b.top, origin = _b.origin, offsetMatrix = _b.offsetMatrix, targetMatrix = _b.targetMatrix, transformOrigin = _b.transformOrigin;\r\n    var n = is3d ? 4 : 3;\r\n    datas.is3d = is3d;\r\n    datas.matrix = allMatrix;\r\n    datas.targetMatrix = targetMatrix;\r\n    datas.beforeMatrix = beforeMatrix;\r\n    datas.offsetMatrix = offsetMatrix;\r\n    datas.transformOrigin = transformOrigin;\r\n    datas.inverseMatrix = invert(allMatrix, n);\r\n    datas.inverseBeforeMatrix = invert(beforeMatrix, n);\r\n    datas.absoluteOrigin = convertPositionMatrix(plus([left, top], origin), n);\r\n    datas.startDragBeforeDist = calculate(datas.inverseBeforeMatrix, datas.absoluteOrigin, n);\r\n    datas.startDragDist = calculate(datas.inverseMatrix, datas.absoluteOrigin, n);\r\n}\r\nfunction getTransformDirection(e) {\r\n    return calculateElementPosition(e.datas.beforeTransform, [50, 50], 100, 100).direction;\r\n}\r\nfunction resolveTransformEvent(moveable, event, functionName) {\r\n    var datas = event.datas, originalDatas = event.originalDatas.beforeRenderable;\r\n    var index = datas.transformIndex;\r\n    var nextTransforms = originalDatas.nextTransforms;\r\n    var length = nextTransforms.length;\r\n    var nextTransformAppendedIndexes = originalDatas.nextTransformAppendedIndexes;\r\n    var nextIndex = -1;\r\n    if (index === -1) {\r\n        // translate => rotate => scale\r\n        if (functionName === \"translate\") {\r\n            nextIndex = 0;\r\n        }\r\n        else if (functionName === \"rotate\") {\r\n            nextIndex = findIndex(nextTransforms, function (text) { return text.match(/scale\\(/g); });\r\n        }\r\n        if (nextIndex === -1) {\r\n            nextIndex = nextTransforms.length;\r\n        }\r\n        datas.transformIndex = nextIndex;\r\n    }\r\n    else if (find(nextTransformAppendedIndexes, function (info) { return info.index === index && info.functionName === functionName; })) {\r\n        nextIndex = index;\r\n    }\r\n    else {\r\n        nextIndex = index + nextTransformAppendedIndexes.filter(function (info) { return info.index < index; }).length;\r\n    }\r\n    var result = convertTransformInfo(nextTransforms, moveable.state, nextIndex);\r\n    var targetFunction = result.targetFunction;\r\n    var matFunctionName = functionName === \"rotate\" ? \"rotateZ\" : functionName;\r\n    datas.beforeFunctionTexts = result.beforeFunctionTexts;\r\n    datas.afterFunctionTexts = result.afterFunctionTexts;\r\n    datas.beforeTransform = result.beforeFunctionMatrix;\r\n    datas.beforeTransform2 = result.beforeFunctionMatrix2;\r\n    datas.targetTansform = result.targetFunctionMatrix;\r\n    datas.afterTransform = result.afterFunctionMatrix;\r\n    datas.afterTransform2 = result.afterFunctionMatrix2;\r\n    datas.targetAllTransform = result.allFunctionMatrix;\r\n    if (targetFunction.functionName === matFunctionName) {\r\n        datas.afterFunctionTexts.splice(0, 1);\r\n        datas.isAppendTransform = false;\r\n    }\r\n    else if (length > nextIndex) {\r\n        datas.isAppendTransform = true;\r\n        originalDatas.nextTransformAppendedIndexes = __spreadArray(__spreadArray([], __read(nextTransformAppendedIndexes), false), [{\r\n                functionName: functionName,\r\n                index: nextIndex,\r\n                isAppend: true,\r\n            }], false);\r\n    }\r\n}\r\nfunction convertTransformFormat(datas, value, dist) {\r\n    return \"\".concat(datas.beforeFunctionTexts.join(\" \"), \" \").concat(datas.isAppendTransform ? dist : value, \" \").concat(datas.afterFunctionTexts.join(\" \"));\r\n}\r\nfunction getTransformDist(_a) {\r\n    var datas = _a.datas, distX = _a.distX, distY = _a.distY;\r\n    var _b = __read(getBeforeDragDist({ datas: datas, distX: distX, distY: distY }), 2), bx = _b[0], by = _b[1];\r\n    // B * [tx, ty] * A = [bx, by] * targetMatrix;\r\n    // [tx, ty] = B-1 * [bx, by] * targetMatrix * A-1 * [0, 0];\r\n    var res = getTransfromMatrix(datas, fromTranslation([bx, by], 4));\r\n    return calculate(res, convertPositionMatrix([0, 0, 0], 4), 4);\r\n}\r\nfunction getTransfromMatrix(datas, targetMatrix, isAfter) {\r\n    var beforeTransform = datas.beforeTransform, afterTransform = datas.afterTransform, beforeTransform2 = datas.beforeTransform2, afterTransform2 = datas.afterTransform2, targetAllTransform = datas.targetAllTransform;\r\n    // B * afterTargetMatrix * A = (targetMatrix * targetAllTransform)\r\n    // afterTargetMatrix = B-1 * targetMatrix * targetAllTransform * A-1\r\n    // nextTargetMatrix = (targetMatrix * targetAllTransform)\r\n    var nextTargetMatrix = isAfter\r\n        ? multiply(targetAllTransform, targetMatrix, 4)\r\n        : multiply(targetMatrix, targetAllTransform, 4);\r\n    // res1 = B-1 * nextTargetMatrix\r\n    var res1 = multiply(invert(isAfter ? beforeTransform2 : beforeTransform, 4), nextTargetMatrix, 4);\r\n    // res3 = res2 * A-1\r\n    var afterTargetMatrix = multiply(res1, invert(isAfter ? afterTransform2 : afterTransform, 4), 4);\r\n    return afterTargetMatrix;\r\n}\r\nfunction getBeforeDragDist(_a) {\r\n    var datas = _a.datas, distX = _a.distX, distY = _a.distY;\r\n    // TT = BT\r\n    var inverseBeforeMatrix = datas.inverseBeforeMatrix, is3d = datas.is3d, startDragBeforeDist = datas.startDragBeforeDist, absoluteOrigin = datas.absoluteOrigin;\r\n    var n = is3d ? 4 : 3;\r\n    // ABS_ORIGIN * [distX, distY] = BM * (ORIGIN + [tx, ty])\r\n    // BM -1 * ABS_ORIGIN * [distX, distY] - ORIGIN = [tx, ty]\r\n    return minus(calculate(inverseBeforeMatrix, plus(absoluteOrigin, [distX, distY]), n), startDragBeforeDist);\r\n}\r\nfunction getDragDist(_a, isBefore) {\r\n    var datas = _a.datas, distX = _a.distX, distY = _a.distY;\r\n    var inverseBeforeMatrix = datas.inverseBeforeMatrix, inverseMatrix = datas.inverseMatrix, is3d = datas.is3d, startDragBeforeDist = datas.startDragBeforeDist, startDragDist = datas.startDragDist, absoluteOrigin = datas.absoluteOrigin;\r\n    var n = is3d ? 4 : 3;\r\n    return minus(calculate(isBefore ? inverseBeforeMatrix : inverseMatrix, plus(absoluteOrigin, [distX, distY]), n), isBefore ? startDragBeforeDist : startDragDist);\r\n}\r\nfunction getInverseDragDist(_a, isBefore) {\r\n    var datas = _a.datas, distX = _a.distX, distY = _a.distY;\r\n    var beforeMatrix = datas.beforeMatrix, matrix = datas.matrix, is3d = datas.is3d, startDragBeforeDist = datas.startDragBeforeDist, startDragDist = datas.startDragDist, absoluteOrigin = datas.absoluteOrigin;\r\n    var n = is3d ? 4 : 3;\r\n    return minus(calculate(isBefore ? beforeMatrix : matrix, plus(isBefore ? startDragBeforeDist : startDragDist, [distX, distY]), n), absoluteOrigin);\r\n}\r\nfunction calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin) {\r\n    if (prevWidth === void 0) { prevWidth = width; }\r\n    if (prevHeight === void 0) { prevHeight = height; }\r\n    if (prevOrigin === void 0) { prevOrigin = [0, 0]; }\r\n    if (!transformOrigin) {\r\n        return prevOrigin;\r\n    }\r\n    return transformOrigin.map(function (pos, i) {\r\n        var _a = splitUnit(pos), value = _a.value, unit = _a.unit;\r\n        var prevSize = (i ? prevHeight : prevWidth);\r\n        var size = (i ? height : width);\r\n        if (pos === \"%\" || isNaN(value)) {\r\n            // no value but %\r\n            var measureRatio = prevSize ? prevOrigin[i] / prevSize : 0;\r\n            return size * measureRatio;\r\n        }\r\n        else if (unit !== \"%\") {\r\n            return value;\r\n        }\r\n        return size * value / 100;\r\n    });\r\n}\r\nfunction getPosIndexesByDirection(direction) {\r\n    var indexes = [];\r\n    if (direction[1] >= 0) {\r\n        if (direction[0] >= 0) {\r\n            indexes.push(3);\r\n        }\r\n        if (direction[0] <= 0) {\r\n            indexes.push(2);\r\n        }\r\n    }\r\n    if (direction[1] <= 0) {\r\n        if (direction[0] >= 0) {\r\n            indexes.push(1);\r\n        }\r\n        if (direction[0] <= 0) {\r\n            indexes.push(0);\r\n        }\r\n    }\r\n    return indexes;\r\n}\r\nfunction getPosesByDirection(poses, direction) {\r\n    /*\r\n    [-1, -1](pos1)       [0, -1](pos1,pos2)       [1, -1](pos2)\r\n    [-1, 0](pos1, pos3)                           [1, 0](pos2, pos4)\r\n    [-1, 1](pos3)        [0, 1](pos3, pos4)       [1, 1](pos4)\r\n    */\r\n    return getPosIndexesByDirection(direction).map(function (index) { return poses[index]; });\r\n}\r\nfunction getPosBySingleDirection(poses, direction) {\r\n    var ratio = (direction + 1) / 2;\r\n    return [\r\n        dot(poses[0][0], poses[1][0], ratio, 1 - ratio),\r\n        dot(poses[0][1], poses[1][1], ratio, 1 - ratio),\r\n    ];\r\n}\r\nfunction getPosByDirection(poses, direction) {\r\n    var top = getPosBySingleDirection([poses[0], poses[1]], direction[0]);\r\n    var bottom = getPosBySingleDirection([poses[2], poses[3]], direction[0]);\r\n    return getPosBySingleDirection([top, bottom], direction[1]);\r\n}\r\nfunction getDist(startPos, matrix, width, height, n, fixedDirection) {\r\n    var poses = calculatePoses(matrix, width, height, n);\r\n    var fixedPos = getPosByDirection(poses, fixedDirection);\r\n    var distX = startPos[0] - fixedPos[0];\r\n    var distY = startPos[1] - fixedPos[1];\r\n    return [distX, distY];\r\n}\r\nfunction getNextMatrix(offsetMatrix, targetMatrix, origin, n) {\r\n    return multiply(offsetMatrix, getAbsoluteMatrix(targetMatrix, n, origin), n);\r\n}\r\nfunction getNextTransformMatrix(state, datas, transform, isAllTransform) {\r\n    var transformOrigin = state.transformOrigin, offsetMatrix = state.offsetMatrix, is3d = state.is3d;\r\n    var n = is3d ? 4 : 3;\r\n    var targetTransform;\r\n    if (isString(transform)) {\r\n        var beforeTransform = datas.beforeTransform, afterTransform = datas.afterTransform;\r\n        if (isAllTransform) {\r\n            targetTransform = convertDimension(parseMat(transform), 4, n);\r\n        }\r\n        else {\r\n            targetTransform = convertDimension(multiply(multiply(beforeTransform, parseMat([transform]), 4), afterTransform, 4), 4, n);\r\n        }\r\n    }\r\n    else {\r\n        targetTransform = transform;\r\n    }\r\n    return getNextMatrix(offsetMatrix, targetTransform, transformOrigin, n);\r\n}\r\nfunction scaleMatrix(state, scale) {\r\n    var transformOrigin = state.transformOrigin, offsetMatrix = state.offsetMatrix, is3d = state.is3d, targetMatrix = state.targetMatrix, targetAllTransform = state.targetAllTransform;\r\n    var n = is3d ? 4 : 3;\r\n    return getNextMatrix(offsetMatrix, multiply(targetAllTransform || targetMatrix, createScaleMatrix(scale, n), n), transformOrigin, n);\r\n}\r\nfunction fillTransformStartEvent(moveable, e) {\r\n    var originalDatas = getBeforeRenderableDatas(e);\r\n    return {\r\n        setTransform: function (transform, index) {\r\n            if (index === void 0) { index = -1; }\r\n            originalDatas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\r\n            setTransformIndex(moveable, e, index);\r\n        },\r\n        setTransformIndex: function (index) {\r\n            setTransformIndex(moveable, e, index);\r\n        },\r\n    };\r\n}\r\nfunction setDefaultTransformIndex(moveable, e, property) {\r\n    var originalDatas = getBeforeRenderableDatas(e);\r\n    var startTransforms = originalDatas.startTransforms;\r\n    setTransformIndex(moveable, e, findIndex(startTransforms, function (func) { return func.indexOf(\"\".concat(property, \"(\")) === 0; }));\r\n}\r\nfunction setTransformIndex(moveable, e, index) {\r\n    var originalDatas = getBeforeRenderableDatas(e);\r\n    var datas = e.datas;\r\n    datas.transformIndex = index;\r\n    if (index === -1) {\r\n        return;\r\n    }\r\n    var transform = originalDatas.startTransforms[index];\r\n    if (!transform) {\r\n        return;\r\n    }\r\n    var state = moveable.state;\r\n    var info = parse([transform], {\r\n        \"x%\": function (v) { return v / 100 * state.offsetWidth; },\r\n        \"y%\": function (v) { return v / 100 * state.offsetHeight; },\r\n    });\r\n    datas.startValue = info[0].functionValue;\r\n}\r\nfunction fillOriginalTransform(e, transform) {\r\n    var originalDatas = getBeforeRenderableDatas(e);\r\n    originalDatas.nextTransforms = splitSpace(transform);\r\n    // originalDatas.nextTargetMatrix = parseMat(transform);\r\n}\r\nfunction getBeforeRenderableDatas(e) {\r\n    return e.originalDatas.beforeRenderable;\r\n}\r\nfunction getNextTransforms(e) {\r\n    var originalDatas = e.originalDatas.beforeRenderable;\r\n    return originalDatas.nextTransforms;\r\n}\r\nfunction getNextTransformText(e) {\r\n    return (getNextTransforms(e) || []).join(\" \");\r\n}\r\nfunction getNextStyle(e) {\r\n    return getBeforeRenderableDatas(e).nextStyle;\r\n}\r\nfunction fillTransformEvent(moveable, nextTransform, delta, isPinch, e) {\r\n    fillOriginalTransform(e, nextTransform);\r\n    var drag = Draggable.drag(moveable, setCustomDrag(e, moveable.state, delta, isPinch, false));\r\n    var afterTransform = drag ? drag.transform : nextTransform;\r\n    return __assign(__assign({ transform: nextTransform, drag: drag }, fillCSSObject({\r\n        transform: afterTransform,\r\n    }, e)), { afterTransform: afterTransform });\r\n}\r\nfunction getTranslateFixedPosition(moveable, transform, fixedDirection, fixedOffset, datas, isAllTransform) {\r\n    var nextMatrix = getNextTransformMatrix(moveable.state, datas, transform, isAllTransform);\r\n    var nextFixedPosition = getDirectionOffset(moveable, fixedDirection, fixedOffset, nextMatrix);\r\n    return nextFixedPosition;\r\n}\r\nfunction getTranslateDist(moveable, transform, fixedDirection, fixedPosition, fixedOffset, datas, isAllTransform) {\r\n    var nextFixedPosition = getTranslateFixedPosition(moveable, transform, fixedDirection, fixedOffset, datas, isAllTransform);\r\n    var state = moveable.state;\r\n    var left = state.left, top = state.top;\r\n    var groupable = moveable.props.groupable;\r\n    var groupLeft = groupable ? left : 0;\r\n    var groupTop = groupable ? top : 0;\r\n    var dist = minus(fixedPosition, nextFixedPosition);\r\n    return minus(dist, [groupLeft, groupTop]);\r\n}\r\nfunction getScaleDist(moveable, transform, fixedDirection, fixedPosition, fixedOffset, datas, isAllTransform) {\r\n    var dist = getTranslateDist(moveable, transform, fixedDirection, fixedPosition, fixedOffset, datas, isAllTransform);\r\n    return dist;\r\n}\r\nfunction getDirectionByPos(pos, width, height) {\r\n    return [\r\n        width ? -1 + pos[0] / (width / 2) : 0,\r\n        height ? -1 + pos[1] / (height / 2) : 0,\r\n    ];\r\n}\r\nfunction getDirectionOffset(moveable, fixedDirection, fixedOffset, nextMatrix) {\r\n    if (nextMatrix === void 0) { nextMatrix = moveable.state.allMatrix; }\r\n    var _a = moveable.state, width = _a.width, height = _a.height, is3d = _a.is3d;\r\n    var n = is3d ? 4 : 3;\r\n    var fixedOffsetPosition = [\r\n        width / 2 * (1 + fixedDirection[0]) + fixedOffset[0],\r\n        height / 2 * (1 + fixedDirection[1]) + fixedOffset[1],\r\n    ];\r\n    return calculatePosition(nextMatrix, fixedOffsetPosition, n);\r\n}\r\nfunction getRotateDist(moveable, rotateDist, datas) {\r\n    var fixedDirection = datas.fixedDirection;\r\n    var fixedPosition = datas.fixedPosition;\r\n    var fixedOffset = datas.fixedOffset;\r\n    return getTranslateDist(moveable, \"rotate(\".concat(rotateDist, \"deg)\"), fixedDirection, fixedPosition, fixedOffset, datas);\r\n}\r\nfunction getResizeDist(moveable, width, height, fixedPosition, transformOrigin, datas) {\r\n    var groupable = moveable.props.groupable;\r\n    var state = moveable.state;\r\n    var prevOrigin = state.transformOrigin, offsetMatrix = state.offsetMatrix, is3d = state.is3d, prevWidth = state.width, prevHeight = state.height, left = state.left, top = state.top;\r\n    var fixedDirection = datas.fixedDirection;\r\n    var targetMatrix = datas.nextTargetMatrix || state.targetMatrix;\r\n    var n = is3d ? 4 : 3;\r\n    var nextOrigin = calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin);\r\n    var groupLeft = groupable ? left : 0;\r\n    var groupTop = groupable ? top : 0;\r\n    var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, nextOrigin, n);\r\n    var dist = getDist(fixedPosition, nextMatrix, width, height, n, fixedDirection);\r\n    return minus(dist, [groupLeft, groupTop]);\r\n}\r\nfunction getAbsolutePosition(moveable, direction) {\r\n    return getPosByDirection(getAbsolutePosesByState(moveable.state), direction);\r\n}\n\nfunction getGestoData(moveable, ableName) {\r\n    var targetGesto = moveable.targetGesto;\r\n    var controlGesto = moveable.controlGesto;\r\n    var data;\r\n    if (targetGesto === null || targetGesto === void 0 ? void 0 : targetGesto.isFlag()) {\r\n        data = targetGesto.getEventData()[ableName];\r\n    }\r\n    if (!data && (controlGesto === null || controlGesto === void 0 ? void 0 : controlGesto.isFlag())) {\r\n        data = controlGesto.getEventData()[ableName];\r\n    }\r\n    return data || {};\r\n}\n\nfunction getShadowRoot(parentElement) {\r\n    if (parentElement && parentElement.getRootNode) {\r\n        var rootNode = parentElement.getRootNode();\r\n        if (rootNode.nodeType === 11) {\r\n            return rootNode;\r\n        }\r\n    }\r\n    return;\r\n}\r\nfunction getIndividualTransforms(getStyle) {\r\n    var scale = getStyle(\"scale\");\r\n    var rotate = getStyle(\"rotate\");\r\n    var translate = getStyle(\"translate\");\r\n    var individualTransforms = [];\r\n    if (translate && translate !== \"0px\" && translate !== \"none\") {\r\n        individualTransforms.push(\"translate(\".concat(translate.split(/\\s+/).join(\",\"), \")\"));\r\n    }\r\n    if (rotate && rotate !== \"1\" && rotate !== \"none\") {\r\n        individualTransforms.push(\"rotate(\".concat(rotate, \")\"));\r\n    }\r\n    if (scale && scale !== \"1\" && scale !== \"none\") {\r\n        individualTransforms.push(\"scale(\".concat(scale.split(/\\s+/).join(\",\"), \")\"));\r\n    }\r\n    return individualTransforms;\r\n}\r\nfunction getMatrixStackInfo(target, container, checkContainer) {\r\n    var el = target;\r\n    var matrixes = [];\r\n    var documentElement = getDocumentElement(target) || getDocumentBody(target);\r\n    var requestEnd = !checkContainer && target === container || target === documentElement;\r\n    var isEnd = requestEnd;\r\n    var is3d = false;\r\n    var n = 3;\r\n    var transformOrigin;\r\n    var targetTransformOrigin;\r\n    var targetMatrix;\r\n    var hasFixed = false;\r\n    var offsetContainer = getOffsetInfo(container, container, true).offsetParent;\r\n    var zoom = 1;\r\n    while (el && !isEnd) {\r\n        isEnd = requestEnd;\r\n        var getStyle = getCachedStyle(el);\r\n        var position = getStyle(\"position\");\r\n        var transform = getElementTransform(el);\r\n        var isFixed = position === \"fixed\";\r\n        var individualTransforms = getIndividualTransforms(getStyle);\r\n        var matrix = convertCSStoMatrix(getTransformMatrix(transform));\r\n        var offsetParent = void 0;\r\n        var isOffsetEnd = false;\r\n        var isStatic = false;\r\n        var parentClientLeft = 0;\r\n        var parentClientTop = 0;\r\n        var fixedClientLeft = 0;\r\n        var fixedClientTop = 0;\r\n        var fixedInfo = {\r\n            hasTransform: false,\r\n            fixedContainer: null,\r\n        };\r\n        if (isFixed) {\r\n            hasFixed = true;\r\n            fixedInfo = getPositionFixedInfo(el);\r\n            offsetContainer = fixedInfo.fixedContainer;\r\n        }\r\n        // convert 3 to 4\r\n        var length_1 = matrix.length;\r\n        if (!is3d && (length_1 === 16 || individualTransforms.length)) {\r\n            is3d = true;\r\n            n = 4;\r\n            convert3DMatrixes(matrixes);\r\n            if (targetMatrix) {\r\n                targetMatrix = convertDimension(targetMatrix, 3, 4);\r\n            }\r\n        }\r\n        if (is3d && length_1 === 9) {\r\n            matrix = convertDimension(matrix, 3, 4);\r\n        }\r\n        var _a = getOffsetPosInfo(el, target), tagName = _a.tagName, hasOffset = _a.hasOffset, isSVG = _a.isSVG, origin_1 = _a.origin, targetOrigin = _a.targetOrigin, offsetPos = _a.offset;\r\n        var _b = __read(offsetPos, 2), offsetLeft = _b[0], offsetTop = _b[1];\r\n        // no target with svg\r\n        if (tagName === \"svg\" && !el.ownerSVGElement && targetMatrix) {\r\n            // scale matrix for svg's SVGElements.\r\n            matrixes.push({\r\n                type: \"target\",\r\n                target: el,\r\n                matrix: getSVGMatrix(el, n),\r\n            });\r\n            matrixes.push({\r\n                type: \"offset\",\r\n                target: el,\r\n                matrix: createIdentityMatrix(n),\r\n            });\r\n        }\r\n        var targetZoom = parseFloat(getStyle(\"zoom\")) || 1;\r\n        if (isFixed) {\r\n            offsetParent = fixedInfo.fixedContainer;\r\n            isOffsetEnd = true;\r\n        }\r\n        else {\r\n            var offsetInfo = getOffsetInfo(el, container, false, true, getStyle);\r\n            var offsetZoom = offsetInfo.offsetZoom;\r\n            offsetParent = offsetInfo.offsetParent;\r\n            isOffsetEnd = offsetInfo.isEnd;\r\n            isStatic = offsetInfo.isStatic;\r\n            zoom *= offsetZoom;\r\n            if ((offsetInfo.isCustomElement || offsetZoom !== 1) && isStatic) {\r\n                offsetLeft -= offsetParent.offsetLeft;\r\n                offsetTop -= offsetParent.offsetTop;\r\n            }\r\n            else if (IS_FIREFOX || IS_CHROMIUM109) {\r\n                var parentSlotElement = offsetInfo.parentSlotElement;\r\n                if (parentSlotElement) {\r\n                    var customOffsetParent = offsetParent;\r\n                    var customOffsetLeft = 0;\r\n                    var customOffsetTop = 0;\r\n                    while (customOffsetParent) {\r\n                        if (!getShadowRoot(customOffsetParent)) {\r\n                            break;\r\n                        }\r\n                        customOffsetLeft += customOffsetParent.offsetLeft;\r\n                        customOffsetTop += customOffsetParent.offsetTop;\r\n                        customOffsetParent = customOffsetParent.offsetParent;\r\n                    }\r\n                    offsetLeft -= customOffsetLeft;\r\n                    offsetTop -= customOffsetTop;\r\n                }\r\n            }\r\n        }\r\n        if (IS_WEBKIT && !IS_SAFARI_ABOVE15\r\n            && hasOffset && !isSVG && isStatic\r\n            && (position === \"relative\" || position === \"static\")) {\r\n            offsetLeft -= offsetParent.offsetLeft;\r\n            offsetTop -= offsetParent.offsetTop;\r\n            requestEnd = requestEnd || isOffsetEnd;\r\n        }\r\n        if (isFixed) {\r\n            if (hasOffset && fixedInfo.hasTransform) {\r\n                // border\r\n                fixedClientLeft = offsetParent.clientLeft;\r\n                fixedClientTop = offsetParent.clientTop;\r\n            }\r\n        }\r\n        else {\r\n            if (hasOffset && offsetContainer !== offsetParent) {\r\n                // border\r\n                parentClientLeft = offsetParent.clientLeft;\r\n                parentClientTop = offsetParent.clientTop;\r\n            }\r\n            if (hasOffset && offsetParent === documentElement) {\r\n                var margin = getBodyOffset(el, false);\r\n                offsetLeft += margin[0];\r\n                offsetTop += margin[1];\r\n            }\r\n        }\r\n        matrixes.push({\r\n            type: \"target\",\r\n            target: el,\r\n            matrix: getAbsoluteMatrix(matrix, n, origin_1),\r\n        });\r\n        if (individualTransforms.length) {\r\n            matrixes.push({\r\n                type: \"offset\",\r\n                target: el,\r\n                matrix: createIdentityMatrix(n),\r\n            });\r\n            matrixes.push({\r\n                type: \"target\",\r\n                target: el,\r\n                matrix: getAbsoluteMatrix(parseMat(individualTransforms), n, origin_1),\r\n            });\r\n        }\r\n        if (hasOffset) {\r\n            var isElementTarget = el === target;\r\n            var scrollLeft = isElementTarget ? 0 : el.scrollLeft;\r\n            var scrollTop = isElementTarget ? 0 : el.scrollTop;\r\n            matrixes.push({\r\n                type: \"offset\",\r\n                target: el,\r\n                matrix: createOriginMatrix([\r\n                    offsetLeft - scrollLeft + parentClientLeft - fixedClientLeft,\r\n                    offsetTop - scrollTop + parentClientTop - fixedClientTop,\r\n                ], n),\r\n            });\r\n        }\r\n        else {\r\n            // svg\r\n            matrixes.push({\r\n                type: \"offset\",\r\n                target: el,\r\n                origin: origin_1,\r\n            });\r\n        }\r\n        // transform으로 계산되지 않는 zoom을 위한 (0, 0) 을 기준 matrix 추가.\r\n        if (targetZoom !== 1) {\r\n            matrixes.push({\r\n                type: \"zoom\",\r\n                target: el,\r\n                matrix: getAbsoluteMatrix(createScaleMatrix([targetZoom, targetZoom], n), n, [0, 0]),\r\n            });\r\n        }\r\n        if (!targetMatrix) {\r\n            targetMatrix = matrix;\r\n        }\r\n        if (!transformOrigin) {\r\n            transformOrigin = origin_1;\r\n        }\r\n        if (!targetTransformOrigin) {\r\n            targetTransformOrigin = targetOrigin;\r\n        }\r\n        if (isEnd || isFixed) {\r\n            break;\r\n        }\r\n        else {\r\n            el = offsetParent;\r\n            requestEnd = isOffsetEnd;\r\n        }\r\n        if (!checkContainer || el === documentElement) {\r\n            isEnd = requestEnd;\r\n        }\r\n    }\r\n    if (!targetMatrix) {\r\n        targetMatrix = createIdentityMatrix(n);\r\n    }\r\n    if (!transformOrigin) {\r\n        transformOrigin = [0, 0];\r\n    }\r\n    if (!targetTransformOrigin) {\r\n        targetTransformOrigin = [0, 0];\r\n    }\r\n    return {\r\n        zoom: zoom,\r\n        offsetContainer: offsetContainer,\r\n        matrixes: matrixes,\r\n        targetMatrix: targetMatrix,\r\n        transformOrigin: transformOrigin,\r\n        targetOrigin: targetTransformOrigin,\r\n        is3d: is3d,\r\n        hasFixed: hasFixed,\r\n    };\r\n}\n\nvar cacheStyleMap = null;\r\nvar clientRectStyleMap = null;\r\nvar matrixContainerInfos = null;\r\nfunction setStoreCache(useCache) {\r\n    if (useCache) {\r\n        if (window.Map) {\r\n            cacheStyleMap = new Map();\r\n            clientRectStyleMap = new Map();\r\n        }\r\n        matrixContainerInfos = [];\r\n    }\r\n    else {\r\n        cacheStyleMap = null;\r\n        matrixContainerInfos = null;\r\n        clientRectStyleMap = null;\r\n    }\r\n}\r\nfunction getCachedClientRect(el) {\r\n    var clientRect = clientRectStyleMap === null || clientRectStyleMap === void 0 ? void 0 : clientRectStyleMap.get(el);\r\n    if (clientRect) {\r\n        return clientRect;\r\n    }\r\n    var nextClientRect = getClientRect(el, true);\r\n    if (clientRectStyleMap) {\r\n        clientRectStyleMap.set(el, nextClientRect);\r\n    }\r\n    return nextClientRect;\r\n}\r\nfunction getCachedMatrixContainerInfo(target, container) {\r\n    if (matrixContainerInfos) {\r\n        var result_1 = find(matrixContainerInfos, function (info) { return info[0][0] == target && info[0][1] == container; });\r\n        if (result_1) {\r\n            return result_1[1];\r\n        }\r\n    }\r\n    var result = getMatrixStackInfo(target, container, true);\r\n    if (matrixContainerInfos) {\r\n        matrixContainerInfos.push([[target, container], result]);\r\n    }\r\n    return result;\r\n}\r\nfunction getCachedStyle(element) {\r\n    var cache = cacheStyleMap === null || cacheStyleMap === void 0 ? void 0 : cacheStyleMap.get(element);\r\n    if (!cache) {\r\n        var nextStyle_1 = getWindow(element).getComputedStyle(element);\r\n        if (!cacheStyleMap) {\r\n            return function (property) {\r\n                return nextStyle_1[property];\r\n            };\r\n        }\r\n        cache = {\r\n            style: nextStyle_1,\r\n            cached: {},\r\n        };\r\n        cacheStyleMap.set(element, cache);\r\n    }\r\n    var cached = cache.cached;\r\n    var style = cache.style;\r\n    return function (property) {\r\n        if (!(property in cached)) {\r\n            cached[property] = style[property];\r\n        }\r\n        return cached[property];\r\n    };\r\n}\n\nfunction fillChildEvents(moveable, name, e) {\r\n    var datas = e.originalDatas;\r\n    datas.groupable = datas.groupable || {};\r\n    var groupableDatas = datas.groupable;\r\n    groupableDatas.childDatas = groupableDatas.childDatas || [];\r\n    var childDatas = groupableDatas.childDatas;\r\n    return moveable.moveables.map(function (_, i) {\r\n        childDatas[i] = childDatas[i] || {};\r\n        childDatas[i][name] = childDatas[i][name] || {};\r\n        return __assign(__assign({}, e), { isRequestChild: true, datas: childDatas[i][name], originalDatas: childDatas[i] });\r\n    });\r\n}\r\nfunction triggerChildGesto(moveable, able, type, delta, e, isConvert, ableName) {\r\n    var isStart = !!type.match(/Start$/g);\r\n    var isEnd = !!type.match(/End$/g);\r\n    var isPinch = e.isPinch;\r\n    var datas = e.datas;\r\n    var events = fillChildEvents(moveable, able.name, e);\r\n    var moveables = moveable.moveables;\r\n    var childEvents = [];\r\n    var eventParams = events.map(function (ev, i) {\r\n        var childMoveable = moveables[i];\r\n        var state = childMoveable.state;\r\n        var gestos = state.gestos;\r\n        var childEvent = ev;\r\n        if (isStart) {\r\n            childEvent = new CustomGesto(ableName).dragStart(delta, ev);\r\n            childEvents.push(childEvent);\r\n        }\r\n        else {\r\n            if (!gestos[ableName]) {\r\n                gestos[ableName] = datas.childGestos[i];\r\n            }\r\n            if (!gestos[ableName]) {\r\n                return;\r\n            }\r\n            childEvent = setCustomDrag(ev, state, delta, isPinch, isConvert, ableName);\r\n            childEvents.push(childEvent);\r\n        }\r\n        var result = able[type](childMoveable, __assign(__assign({}, childEvent), { parentFlag: true }));\r\n        if (isEnd) {\r\n            gestos[ableName] = null;\r\n        }\r\n        return result;\r\n    });\r\n    if (isStart) {\r\n        datas.childGestos = moveables.map(function (child) { return child.state.gestos[ableName]; });\r\n    }\r\n    return {\r\n        eventParams: eventParams,\r\n        childEvents: childEvents,\r\n    };\r\n}\r\nfunction triggerChildAbles(moveable, able, type, e, eachEvent, callback) {\r\n    if (eachEvent === void 0) { eachEvent = function (_, ev) { return ev; }; }\r\n    var isEnd = !!type.match(/End$/g);\r\n    var events = fillChildEvents(moveable, able.name, e);\r\n    var moveables = moveable.moveables;\r\n    var childs = events.map(function (ev, i) {\r\n        var childMoveable = moveables[i];\r\n        var childEvent = ev;\r\n        childEvent = eachEvent(childMoveable, ev);\r\n        var result = able[type](childMoveable, __assign(__assign({}, childEvent), { parentFlag: true }));\r\n        result && callback && callback(childMoveable, ev, result, i);\r\n        if (isEnd) {\r\n            childMoveable.state.gestos = {};\r\n        }\r\n        return result;\r\n    });\r\n    return childs;\r\n}\r\nfunction startChildDist(moveable, child, parentDatas, childEvent) {\r\n    var fixedDirection = parentDatas.fixedDirection;\r\n    var fixedPosition = parentDatas.fixedPosition;\r\n    var startPositions = childEvent.datas.startPositions || getAbsolutePosesByState(child.state);\r\n    var pos = getPosByDirection(startPositions, fixedDirection);\r\n    var _a = __read(calculate(createRotateMatrix(-moveable.rotation / 180 * Math.PI, 3), [pos[0] - fixedPosition[0], pos[1] - fixedPosition[1], 1], 3), 2), originalX = _a[0], originalY = _a[1];\r\n    childEvent.datas.originalX = originalX;\r\n    childEvent.datas.originalY = originalY;\r\n    return childEvent;\r\n}\n\nfunction renderDirectionControlsByInfos(moveable, ableName, renderDirections, React) {\r\n    var _a = moveable.getState(), renderPoses = _a.renderPoses, rotationRad = _a.rotation, direction = _a.direction;\r\n    var zoom = getProps(moveable.props, ableName).zoom;\r\n    var degRotation = absDegree(rotationRad / Math.PI * 180);\r\n    var directionMap = {};\r\n    var renderState = moveable.renderState;\r\n    if (!renderState.renderDirectionMap) {\r\n        renderState.renderDirectionMap = {};\r\n    }\r\n    var renderDirectionMap = renderState.renderDirectionMap;\r\n    renderDirections.forEach(function (_a) {\r\n        var dir = _a.dir;\r\n        directionMap[dir] = true;\r\n    });\r\n    var directionSign = sign(direction);\r\n    return renderDirections.map(function (_a) {\r\n        var data = _a.data, classNames = _a.classNames, dir = _a.dir;\r\n        var indexes = DIRECTION_INDEXES[dir];\r\n        if (!indexes || !directionMap[dir]) {\r\n            return null;\r\n        }\r\n        renderDirectionMap[dir] = true;\r\n        var directionRotation = (throttle(degRotation, 15) + directionSign * DIRECTION_ROTATIONS[dir] + 720) % 180;\r\n        var dataAttrs = {};\r\n        getKeys(data).forEach(function (name) {\r\n            dataAttrs[\"data-\".concat(name)] = data[name];\r\n        });\r\n        return (React.createElement(\"div\", __assign({ className: prefix.apply(void 0, __spreadArray([\"control\", \"direction\", dir, ableName], __read(classNames), false)), \"data-rotation\": directionRotation, \"data-direction\": dir }, dataAttrs, { key: \"direction-\".concat(dir), style: getControlTransform.apply(void 0, __spreadArray([rotationRad, zoom], __read(indexes.map(function (index) { return renderPoses[index]; })), false)) })));\r\n    });\r\n}\r\nfunction renderDirectionControls(moveable, defaultDirections, ableName, React) {\r\n    var _a = getProps(moveable.props, ableName), _b = _a.renderDirections, directions = _b === void 0 ? defaultDirections : _b, displayAroundControls = _a.displayAroundControls;\r\n    if (!directions) {\r\n        return [];\r\n    }\r\n    var renderDirections = directions === true ? DIRECTIONS : directions;\r\n    return __spreadArray(__spreadArray([], __read((displayAroundControls ? renderAroundControls(moveable, React, ableName, renderDirections) : [])), false), __read(renderDirectionControlsByInfos(moveable, ableName, renderDirections.map(function (dir) {\r\n        return {\r\n            data: {},\r\n            classNames: [],\r\n            dir: dir,\r\n        };\r\n    }), React)), false);\r\n}\r\nfunction renderLine(React, direction, pos1, pos2, zoom, key) {\r\n    var classNames = [];\r\n    for (var _i = 6; _i < arguments.length; _i++) {\r\n        classNames[_i - 6] = arguments[_i];\r\n    }\r\n    var rad = getRad(pos1, pos2);\r\n    var rotation = direction ? (throttle(rad / Math.PI * 180, 15)) % 180 : -1;\r\n    return React.createElement(\"div\", { key: \"line-\".concat(key), className: prefix.apply(void 0, __spreadArray([\"line\", \"direction\", direction ? \"edge\" : \"\", direction], __read(classNames), false)), \"data-rotation\": rotation, \"data-line-key\": key, \"data-direction\": direction, style: getLineStyle(pos1, pos2, zoom, rad) });\r\n}\r\nfunction renderEdgeLines(React, ableName, edge, poses, zoom) {\r\n    var directions = edge === true ? DIRECTIONS4 : edge;\r\n    return directions.map(function (direction, i) {\r\n        var _a = __read(DIRECTION_INDEXES[direction], 2), index1 = _a[0], index2 = _a[1];\r\n        if (index2 == null) {\r\n            return;\r\n        }\r\n        return renderLine(React, direction, poses[index1], poses[index2], zoom, \"\".concat(ableName, \"Edge\").concat(i), ableName);\r\n    }).filter(Boolean);\r\n}\r\nfunction getRenderDirections(ableName) {\r\n    return function (moveable, React) {\r\n        var edge = getProps(moveable.props, ableName).edge;\r\n        if (edge && (edge === true || edge.length)) {\r\n            return __spreadArray(__spreadArray([], __read(renderEdgeLines(React, ableName, edge, moveable.getState().renderPoses, moveable.props.zoom)), false), __read(renderDiagonalDirections(moveable, ableName, React)), false);\r\n        }\r\n        return renderAllDirections(moveable, ableName, React);\r\n    };\r\n}\r\nfunction renderAllDirections(moveable, ableName, React) {\r\n    return renderDirectionControls(moveable, DIRECTIONS, ableName, React);\r\n}\r\nfunction renderDiagonalDirections(moveable, ableName, React) {\r\n    return renderDirectionControls(moveable, [\"nw\", \"ne\", \"sw\", \"se\"], ableName, React);\r\n}\r\nfunction renderAroundControls(moveable, React, ableName, renderDirections) {\r\n    var renderState = moveable.renderState;\r\n    if (!renderState.renderDirectionMap) {\r\n        renderState.renderDirectionMap = {};\r\n    }\r\n    var _a = moveable.getState(), renderPoses = _a.renderPoses, rotationRad = _a.rotation, direction = _a.direction;\r\n    var renderDirectionMap = renderState.renderDirectionMap;\r\n    var zoom = moveable.props.zoom;\r\n    var directionSign = sign(direction);\r\n    var degRotation = rotationRad / Math.PI * 180;\r\n    return (renderDirections || getKeys(renderDirectionMap)).map(function (dir) {\r\n        var indexes = DIRECTION_INDEXES[dir];\r\n        if (!indexes) {\r\n            return null;\r\n        }\r\n        var directionRotation = (throttle(degRotation, 15) + directionSign * DIRECTION_ROTATIONS[dir] + 720) % 180;\r\n        var classNames = [\"around-control\"];\r\n        if (ableName) {\r\n            classNames.push(\"direction\", ableName);\r\n        }\r\n        return (React.createElement(\"div\", { className: prefix.apply(void 0, __spreadArray([], __read(classNames), false)), \"data-rotation\": directionRotation, \"data-direction\": dir, key: \"direction-around-\".concat(dir), style: getControlTransform.apply(void 0, __spreadArray([rotationRad, zoom], __read(indexes.map(function (index) { return renderPoses[index]; })), false)) }));\r\n    });\r\n}\n\nfunction checkBoundPoses(bounds, verticalPoses, horizontalPoses) {\r\n    var _a = bounds || {}, _b = _a.position, position = _b === void 0 ? \"client\" : _b, _c = _a.left, left = _c === void 0 ? -Infinity : _c, _d = _a.top, top = _d === void 0 ? -Infinity : _d, _e = _a.right, right = _e === void 0 ? Infinity : _e, _f = _a.bottom, bottom = _f === void 0 ? Infinity : _f;\r\n    var nextBounds = {\r\n        position: position,\r\n        left: left,\r\n        top: top,\r\n        right: right,\r\n        bottom: bottom,\r\n    };\r\n    return {\r\n        vertical: checkBounds(nextBounds, verticalPoses, true),\r\n        horizontal: checkBounds(nextBounds, horizontalPoses, false),\r\n    };\r\n}\r\nfunction getBounds(moveable, externalBounds) {\r\n    var _a = moveable.state, _b = _a.containerClientRect, containerHeight = _b.clientHeight, containerWidth = _b.clientWidth, clientLeft = _b.clientLeft, clientTop = _b.clientTop, _c = _a.snapOffset, snapOffsetLeft = _c.left, snapOffsetTop = _c.top, snapOffsetRight = _c.right, snapOffsetBottom = _c.bottom;\r\n    var bounds = externalBounds || moveable.props.bounds || {};\r\n    var position = bounds.position || \"client\";\r\n    var isCSS = position === \"css\";\r\n    var _d = bounds.left, left = _d === void 0 ? -Infinity : _d, _e = bounds.top, top = _e === void 0 ? -Infinity : _e;\r\n    var _f = bounds.right, right = _f === void 0 ? isCSS ? -Infinity : Infinity : _f, _g = bounds.bottom, bottom = _g === void 0 ? isCSS ? -Infinity : Infinity : _g;\r\n    if (isCSS) {\r\n        right = containerWidth + snapOffsetRight - snapOffsetLeft - right;\r\n        bottom = containerHeight + snapOffsetBottom - snapOffsetTop - bottom;\r\n    }\r\n    return {\r\n        left: left + snapOffsetLeft - clientLeft,\r\n        right: right + snapOffsetLeft - clientLeft,\r\n        top: top + snapOffsetTop - clientTop,\r\n        bottom: bottom + snapOffsetTop - clientTop,\r\n    };\r\n}\r\nfunction checkBoundKeepRatio(moveable, startPos, endPos) {\r\n    var _a = getBounds(moveable), left = _a.left, top = _a.top, right = _a.right, bottom = _a.bottom;\r\n    var _b = __read(endPos, 2), endX = _b[0], endY = _b[1];\r\n    var _c = __read(minus(endPos, startPos), 2), dx = _c[0], dy = _c[1];\r\n    if (abs(dx) < TINY_NUM) {\r\n        dx = 0;\r\n    }\r\n    if (abs(dy) < TINY_NUM) {\r\n        dy = 0;\r\n    }\r\n    var isBottom = dy > 0;\r\n    var isRight = dx > 0;\r\n    var verticalInfo = {\r\n        isBound: false,\r\n        offset: 0,\r\n        pos: 0,\r\n    };\r\n    var horizontalInfo = {\r\n        isBound: false,\r\n        offset: 0,\r\n        pos: 0,\r\n    };\r\n    if (dx === 0 && dy === 0) {\r\n        return {\r\n            vertical: verticalInfo,\r\n            horizontal: horizontalInfo,\r\n        };\r\n    }\r\n    else if (dx === 0) {\r\n        if (isBottom) {\r\n            if (bottom < endY) {\r\n                horizontalInfo.pos = bottom;\r\n                horizontalInfo.offset = endY - bottom;\r\n            }\r\n        }\r\n        else {\r\n            if (top > endY) {\r\n                horizontalInfo.pos = top;\r\n                horizontalInfo.offset = endY - top;\r\n            }\r\n        }\r\n    }\r\n    else if (dy === 0) {\r\n        if (isRight) {\r\n            if (right < endX) {\r\n                verticalInfo.pos = right;\r\n                verticalInfo.offset = endX - right;\r\n            }\r\n        }\r\n        else {\r\n            if (left > endX) {\r\n                verticalInfo.pos = left;\r\n                verticalInfo.offset = endX - left;\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // y - y1 = a * (x - x1)\r\n        var a = dy / dx;\r\n        var b = endPos[1] - a * endX;\r\n        var y = 0;\r\n        var x = 0;\r\n        var isBound = false;\r\n        if (isRight && right <= endX) {\r\n            y = a * right + b;\r\n            x = right;\r\n            isBound = true;\r\n        }\r\n        else if (!isRight && endX <= left) {\r\n            y = a * left + b;\r\n            x = left;\r\n            isBound = true;\r\n        }\r\n        if (isBound) {\r\n            if (y < top || y > bottom) {\r\n                isBound = false;\r\n            }\r\n        }\r\n        if (!isBound) {\r\n            if (isBottom && bottom <= endY) {\r\n                y = bottom;\r\n                x = (y - b) / a;\r\n                isBound = true;\r\n            }\r\n            else if (!isBottom && endY <= top) {\r\n                y = top;\r\n                x = (y - b) / a;\r\n                isBound = true;\r\n            }\r\n        }\r\n        if (isBound) {\r\n            verticalInfo.isBound = true;\r\n            verticalInfo.pos = x;\r\n            verticalInfo.offset = endX - x;\r\n            horizontalInfo.isBound = true;\r\n            horizontalInfo.pos = y;\r\n            horizontalInfo.offset = endY - y;\r\n        }\r\n    }\r\n    return {\r\n        vertical: verticalInfo,\r\n        horizontal: horizontalInfo,\r\n    };\r\n}\r\nfunction checkBounds(bounds, poses, isVertical) {\r\n    // 0   [100 - 200]  300\r\n    var startBoundPos = bounds[isVertical ? \"left\" : \"top\"];\r\n    var endBoundPos = bounds[isVertical ? \"right\" : \"bottom\"];\r\n    // 450\r\n    var minPos = Math.min.apply(Math, __spreadArray([], __read(poses), false));\r\n    var maxPos = Math.max.apply(Math, __spreadArray([], __read(poses), false));\r\n    var boundInfos = [];\r\n    if (startBoundPos + 1 > minPos) {\r\n        boundInfos.push({\r\n            direction: \"start\",\r\n            isBound: true,\r\n            offset: minPos - startBoundPos,\r\n            pos: startBoundPos,\r\n        });\r\n    }\r\n    if (endBoundPos - 1 < maxPos) {\r\n        boundInfos.push({\r\n            direction: \"end\",\r\n            isBound: true,\r\n            offset: maxPos - endBoundPos,\r\n            pos: endBoundPos,\r\n        });\r\n    }\r\n    if (!boundInfos.length) {\r\n        boundInfos.push({\r\n            isBound: false,\r\n            offset: 0,\r\n            pos: 0,\r\n        });\r\n    }\r\n    return boundInfos.sort(function (a, b) { return abs(b.offset) - abs(a.offset); });\r\n}\r\nfunction isBoundRotate$1(relativePoses, boundRect, rad) {\r\n    var nextPoses = rad ? relativePoses.map(function (pos) { return rotate(pos, rad); }) : relativePoses;\r\n    return nextPoses.some(function (pos) {\r\n        return (pos[0] < boundRect.left && abs(pos[0] - boundRect.left) > 0.1)\r\n            || (pos[0] > boundRect.right && abs(pos[0] - boundRect.right) > 0.1)\r\n            || (pos[1] < boundRect.top && abs(pos[1] - boundRect.top) > 0.1)\r\n            || (pos[1] > boundRect.bottom && abs(pos[1] - boundRect.bottom) > 0.1);\r\n    });\r\n}\r\nfunction boundRotate(vec, boundPos, index) {\r\n    var r = getDistSize(vec);\r\n    var nextPos = Math.sqrt(r * r - boundPos * boundPos) || 0;\r\n    return [nextPos, -nextPos].sort(function (a, b) {\r\n        return abs(a - vec[index ? 0 : 1]) - abs(b - vec[index ? 0 : 1]);\r\n    }).map(function (pos) {\r\n        return getRad([0, 0], index ? [pos, boundPos] : [boundPos, pos]);\r\n    });\r\n}\r\nfunction checkRotateBounds(moveable, prevPoses, nextPoses, origin, rotation) {\r\n    if (!moveable.props.bounds) {\r\n        return [];\r\n    }\r\n    var rad = rotation * Math.PI / 180;\r\n    var _a = getBounds(moveable), left = _a.left, top = _a.top, right = _a.right, bottom = _a.bottom;\r\n    var relativeLeft = left - origin[0];\r\n    var relativeRight = right - origin[0];\r\n    var relativeTop = top - origin[1];\r\n    var relativeBottom = bottom - origin[1];\r\n    var boundRect = {\r\n        left: relativeLeft,\r\n        top: relativeTop,\r\n        right: relativeRight,\r\n        bottom: relativeBottom,\r\n    };\r\n    if (!isBoundRotate$1(nextPoses, boundRect, 0)) {\r\n        return [];\r\n    }\r\n    var result = [];\r\n    [\r\n        [relativeLeft, 0],\r\n        [relativeRight, 0],\r\n        [relativeTop, 1],\r\n        [relativeBottom, 1],\r\n    ].forEach(function (_a) {\r\n        var _b = __read(_a, 2), boundPos = _b[0], index = _b[1];\r\n        nextPoses.forEach(function (nextPos) {\r\n            var relativeRad1 = getRad([0, 0], nextPos);\r\n            result.push.apply(result, __spreadArray([], __read(boundRotate(nextPos, boundPos, index)\r\n                .map(function (relativeRad2) { return rad + relativeRad2 - relativeRad1; })\r\n                .filter(function (nextRad) { return !isBoundRotate$1(prevPoses, boundRect, nextRad); })\r\n                .map(function (nextRad) { return throttle(nextRad * 180 / Math.PI, TINY_NUM); })), false));\r\n        });\r\n    });\r\n    return result;\r\n}\n\nvar VERTICAL_NAMES = [\"left\", \"right\", \"center\"];\r\nvar HORIZONTAL_NAMES = [\"top\", \"bottom\", \"middle\"];\r\nvar SNAP_SKIP_NAMES_MAP = {\r\n    \"left\": \"start\",\r\n    \"right\": \"end\",\r\n    \"center\": \"center\",\r\n    \"top\": \"start\",\r\n    \"bottom\": \"end\",\r\n    \"middle\": \"center\",\r\n};\r\nvar VERTICAL_NAMES_MAP = {\r\n    start: \"left\",\r\n    end: \"right\",\r\n    center: \"center\",\r\n};\r\nvar HORIZONTAL_NAMES_MAP = {\r\n    start: \"top\",\r\n    end: \"bottom\",\r\n    center: \"middle\",\r\n};\r\nfunction getInitialBounds() {\r\n    return {\r\n        left: false,\r\n        top: false,\r\n        right: false,\r\n        bottom: false,\r\n    };\r\n}\r\nfunction hasGuidelines(moveable, ableName) {\r\n    var _a = moveable.props, snappable = _a.snappable, bounds = _a.bounds, innerBounds = _a.innerBounds, verticalGuidelines = _a.verticalGuidelines, horizontalGuidelines = _a.horizontalGuidelines, snapGridWidth = _a.snapGridWidth, snapGridHeight = _a.snapGridHeight, _b = moveable.state, guidelines = _b.guidelines, enableSnap = _b.enableSnap;\r\n    if (!snappable ||\r\n        !enableSnap ||\r\n        (ableName && snappable !== true && snappable.indexOf(ableName) < 0)) {\r\n        return false;\r\n    }\r\n    if (snapGridWidth ||\r\n        snapGridHeight ||\r\n        bounds ||\r\n        innerBounds ||\r\n        (guidelines && guidelines.length) ||\r\n        (verticalGuidelines && verticalGuidelines.length) ||\r\n        (horizontalGuidelines && horizontalGuidelines.length)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction getSnapDirections(snapDirections) {\r\n    if (snapDirections === false) {\r\n        return {};\r\n    }\r\n    else if (snapDirections === true || !snapDirections) {\r\n        return { left: true, right: true, top: true, bottom: true };\r\n    }\r\n    return snapDirections;\r\n}\r\nfunction mapSnapDirectionPoses(snapDirections, snapPoses) {\r\n    var nextSnapDirections = getSnapDirections(snapDirections);\r\n    var nextSnapPoses = {};\r\n    for (var name_1 in nextSnapDirections) {\r\n        if (name_1 in snapPoses && nextSnapDirections[name_1]) {\r\n            nextSnapPoses[name_1] = snapPoses[name_1];\r\n        }\r\n    }\r\n    return nextSnapPoses;\r\n}\r\nfunction splitSnapDirectionPoses(snapDirections, snapPoses) {\r\n    var nextSnapPoses = mapSnapDirectionPoses(snapDirections, snapPoses);\r\n    var horizontalNames = HORIZONTAL_NAMES.filter(function (name) { return name in nextSnapPoses; });\r\n    var verticalNames = VERTICAL_NAMES.filter(function (name) { return name in nextSnapPoses; });\r\n    return {\r\n        horizontalNames: horizontalNames,\r\n        verticalNames: verticalNames,\r\n        horizontal: horizontalNames.map(function (name) { return nextSnapPoses[name]; }),\r\n        vertical: verticalNames.map(function (name) { return nextSnapPoses[name]; }),\r\n    };\r\n}\r\nfunction calculateContainerPos(rootMatrix, containerRect, n) {\r\n    var clientPos = calculatePosition(rootMatrix, [containerRect.clientLeft, containerRect.clientTop], n);\r\n    return [\r\n        containerRect.left + clientPos[0],\r\n        containerRect.top + clientPos[1],\r\n    ];\r\n}\r\nfunction solveLineConstants(_a) {\r\n    var _b = __read(_a, 2), point1 = _b[0], point2 = _b[1];\r\n    var dx = point2[0] - point1[0];\r\n    var dy = point2[1] - point1[1];\r\n    if (Math.abs(dx) < TINY_NUM$1) {\r\n        dx = 0;\r\n    }\r\n    if (Math.abs(dy) < TINY_NUM$1) {\r\n        dy = 0;\r\n    }\r\n    // b > 0\r\n    // ax + by + c = 0\r\n    var a = 0;\r\n    var b = 0;\r\n    var c = 0;\r\n    if (!dx) {\r\n        // -x + 1 = 0\r\n        a = -1;\r\n        c = point1[0];\r\n    }\r\n    else if (!dy) {\r\n        // y - 1 = 0\r\n        b = 1;\r\n        c = -point1[1];\r\n    }\r\n    else {\r\n        // y = -a(x - x1) + y1\r\n        // ax + y + a * x1 - y1 = 0\r\n        a = -dy / dx;\r\n        b = 1;\r\n        c = a * point1[0] - point1[1];\r\n    }\r\n    return [a, b, c].map(function (v) { return throttle(v, TINY_NUM$1); });\r\n}\n\nvar NAME_snapRotationThreshold = \"snapRotationThreshold\";\r\nvar NAME_snapRotationDegrees = \"snapRotationDegrees\";\r\nvar NAME_snapHorizontalThreshold = \"snapHorizontalThreshold\";\r\nvar NAME_snapVerticalThreshold = \"snapVerticalThreshold\";\n\nfunction checkMoveableSnapPoses(moveable, posesX, posesY, dirXs, dirYs, customSnapVerticalThreshold, customSnapHorizontalThreshold) {\r\n    var _a;\r\n    if (dirXs === void 0) { dirXs = []; }\r\n    if (dirYs === void 0) { dirYs = []; }\r\n    var props = moveable.props;\r\n    var snapThresholdMultiples = ((_a = moveable.state.snapThresholdInfo) === null || _a === void 0 ? void 0 : _a.multiples) || [1, 1];\r\n    var snapHorizontalThreshold = selectValue(customSnapHorizontalThreshold, props[NAME_snapHorizontalThreshold], 5);\r\n    var snapVerticalThreshold = selectValue(customSnapVerticalThreshold, props[NAME_snapVerticalThreshold], 5);\r\n    return checkSnapPoses(moveable.state.guidelines, posesX, posesY, dirXs, dirYs, snapHorizontalThreshold, snapVerticalThreshold, snapThresholdMultiples);\r\n}\r\nfunction checkSnapPoses(guidelines, posesX, posesY, dirXs, dirYs, snapHorizontalThreshold, snapVerticalThreshold, multiples) {\r\n    return {\r\n        vertical: checkSnap(guidelines, \"vertical\", posesX, snapVerticalThreshold * multiples[0], dirXs),\r\n        horizontal: checkSnap(guidelines, \"horizontal\", posesY, snapHorizontalThreshold * multiples[1], dirYs),\r\n    };\r\n}\r\nfunction checkSnapKeepRatio(moveable, startPos, endPos) {\r\n    var _a = __read(endPos, 2), endX = _a[0], endY = _a[1];\r\n    var _b = __read(startPos, 2), startX = _b[0], startY = _b[1];\r\n    var _c = __read(minus(endPos, startPos), 2), dx = _c[0], dy = _c[1];\r\n    var isBottom = dy > 0;\r\n    var isRight = dx > 0;\r\n    dx = getTinyDist(dx);\r\n    dy = getTinyDist(dy);\r\n    var verticalInfo = {\r\n        isSnap: false,\r\n        offset: 0,\r\n        pos: 0,\r\n    };\r\n    var horizontalInfo = {\r\n        isSnap: false,\r\n        offset: 0,\r\n        pos: 0,\r\n    };\r\n    if (dx === 0 && dy === 0) {\r\n        return {\r\n            vertical: verticalInfo,\r\n            horizontal: horizontalInfo,\r\n        };\r\n    }\r\n    var _d = checkMoveableSnapPoses(moveable, dx ? [endX] : [], dy ? [endY] : [], [], [], undefined, undefined), verticalSnapInfo = _d.vertical, horizontalSnapInfo = _d.horizontal;\r\n    verticalSnapInfo.posInfos.filter(function (_a) {\r\n        var pos = _a.pos;\r\n        return isRight ? pos >= startX : pos <= startX;\r\n    });\r\n    horizontalSnapInfo.posInfos.filter(function (_a) {\r\n        var pos = _a.pos;\r\n        return isBottom ? pos >= startY : pos <= startY;\r\n    });\r\n    verticalSnapInfo.isSnap = verticalSnapInfo.posInfos.length > 0;\r\n    horizontalSnapInfo.isSnap = horizontalSnapInfo.posInfos.length > 0;\r\n    var _e = getNearestSnapGuidelineInfo(verticalSnapInfo), isVerticalSnap = _e.isSnap, verticalGuideline = _e.guideline;\r\n    var _f = getNearestSnapGuidelineInfo(horizontalSnapInfo), isHorizontalSnap = _f.isSnap, horizontalGuideline = _f.guideline;\r\n    var horizontalPos = isHorizontalSnap ? horizontalGuideline.pos[1] : 0;\r\n    var verticalPos = isVerticalSnap ? verticalGuideline.pos[0] : 0;\r\n    if (dx === 0) {\r\n        if (isHorizontalSnap) {\r\n            horizontalInfo.isSnap = true;\r\n            horizontalInfo.pos = horizontalGuideline.pos[1];\r\n            horizontalInfo.offset = endY - horizontalInfo.pos;\r\n        }\r\n    }\r\n    else if (dy === 0) {\r\n        if (isVerticalSnap) {\r\n            verticalInfo.isSnap = true;\r\n            verticalInfo.pos = verticalPos;\r\n            verticalInfo.offset = endX - verticalPos;\r\n        }\r\n    }\r\n    else {\r\n        // y - y1 = a * (x - x1)\r\n        var a = dy / dx;\r\n        var b = endPos[1] - a * endX;\r\n        var y = 0;\r\n        var x = 0;\r\n        var isSnap = false;\r\n        if (isVerticalSnap) {\r\n            x = verticalPos;\r\n            y = a * x + b;\r\n            isSnap = true;\r\n        }\r\n        else if (isHorizontalSnap) {\r\n            y = horizontalPos;\r\n            x = (y - b) / a;\r\n            isSnap = true;\r\n        }\r\n        if (isSnap) {\r\n            verticalInfo.isSnap = true;\r\n            verticalInfo.pos = x;\r\n            verticalInfo.offset = endX - x;\r\n            horizontalInfo.isSnap = true;\r\n            horizontalInfo.pos = y;\r\n            horizontalInfo.offset = endY - y;\r\n        }\r\n    }\r\n    return {\r\n        vertical: verticalInfo,\r\n        horizontal: horizontalInfo,\r\n    };\r\n}\r\nfunction getStringDirection(dir) {\r\n    var stringDirection = \"\";\r\n    if (dir === -1 || dir === \"top\" || dir === \"left\") {\r\n        stringDirection = \"start\";\r\n    }\r\n    else if (dir === 0 || dir === \"center\" || dir === \"middle\") {\r\n        stringDirection = \"center\";\r\n    }\r\n    else if (dir === 1 || dir === \"right\" || dir === \"bottom\") {\r\n        stringDirection = \"end\";\r\n    }\r\n    return stringDirection;\r\n}\r\nfunction checkSnaps(moveable, rect, customSnapVerticalThreshold, customSnapHorizontalThreshold) {\r\n    var poses = splitSnapDirectionPoses(moveable.props.snapDirections, rect);\r\n    var result = checkMoveableSnapPoses(moveable, poses.vertical, poses.horizontal, poses.verticalNames.map(function (name) { return getStringDirection(name); }), poses.horizontalNames.map(function (name) { return getStringDirection(name); }), customSnapVerticalThreshold, customSnapHorizontalThreshold);\r\n    var horizontalDirection = getStringDirection(poses.horizontalNames[result.horizontal.index]);\r\n    var verticalDirection = getStringDirection(poses.verticalNames[result.vertical.index]);\r\n    return {\r\n        vertical: __assign(__assign({}, result.vertical), { direction: verticalDirection }),\r\n        horizontal: __assign(__assign({}, result.horizontal), { direction: horizontalDirection }),\r\n    };\r\n}\r\nfunction getNearestSnapGuidelineInfo(snapInfo) {\r\n    var isSnap = snapInfo.isSnap;\r\n    if (!isSnap) {\r\n        return {\r\n            isSnap: false,\r\n            offset: 0,\r\n            dist: -1,\r\n            pos: 0,\r\n            guideline: null,\r\n        };\r\n    }\r\n    var posInfo = snapInfo.posInfos[0];\r\n    var guidelineInfo = posInfo.guidelineInfos[0];\r\n    var offset = guidelineInfo.offset;\r\n    var dist = guidelineInfo.dist;\r\n    var guideline = guidelineInfo.guideline;\r\n    return {\r\n        isSnap: isSnap,\r\n        offset: offset,\r\n        dist: dist,\r\n        pos: posInfo.pos,\r\n        guideline: guideline,\r\n    };\r\n}\r\nfunction checkSnap(guidelines, targetType, targetPoses, snapThreshold, dirs) {\r\n    var _a, _b;\r\n    if (dirs === void 0) { dirs = []; }\r\n    if (!guidelines || !guidelines.length) {\r\n        return {\r\n            isSnap: false,\r\n            index: -1,\r\n            direction: \"\",\r\n            posInfos: [],\r\n        };\r\n    }\r\n    var isVertical = targetType === \"vertical\";\r\n    var posType = isVertical ? 0 : 1;\r\n    var snapPosInfos = targetPoses.map(function (targetPos, index) {\r\n        var direction = dirs[index] || \"\";\r\n        var guidelineInfos = guidelines.map(function (guideline) {\r\n            var pos = guideline.pos;\r\n            var offset = targetPos - pos[posType];\r\n            return {\r\n                offset: offset,\r\n                dist: abs(offset),\r\n                guideline: guideline,\r\n                direction: direction,\r\n            };\r\n        }).filter(function (_a) {\r\n            var guideline = _a.guideline, dist = _a.dist;\r\n            var type = guideline.type;\r\n            if (type !== targetType\r\n                || dist > snapThreshold) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }).sort(function (a, b) { return a.dist - b.dist; });\r\n        return {\r\n            pos: targetPos,\r\n            index: index,\r\n            guidelineInfos: guidelineInfos,\r\n            direction: direction,\r\n        };\r\n    }).filter(function (snapPosInfo) {\r\n        return snapPosInfo.guidelineInfos.length > 0;\r\n    }).sort(function (a, b) {\r\n        return a.guidelineInfos[0].dist - b.guidelineInfos[0].dist;\r\n    });\r\n    var isSnap = snapPosInfos.length > 0;\r\n    return {\r\n        isSnap: isSnap,\r\n        index: isSnap ? snapPosInfos[0].index : -1,\r\n        direction: (_b = (_a = snapPosInfos[0]) === null || _a === void 0 ? void 0 : _a.direction) !== null && _b !== void 0 ? _b : \"\",\r\n        posInfos: snapPosInfos,\r\n    };\r\n}\r\nfunction getSnapInfosByDirection(moveable, \r\n// pos1 pos2 pos3 pos4\r\nposes, snapDirection, customSnapVerticalThreshold, customSnapHorizontalThreshold) {\r\n    var dirs = [];\r\n    if (snapDirection[0] && snapDirection[1]) {\r\n        dirs = [\r\n            snapDirection,\r\n            [-snapDirection[0], snapDirection[1]],\r\n            [snapDirection[0], -snapDirection[1]],\r\n        ];\r\n    }\r\n    else if (!snapDirection[0] && !snapDirection[1]) {\r\n        [\r\n            [-1, -1],\r\n            [1, -1],\r\n            [1, 1],\r\n            [-1, 1],\r\n        ].forEach(function (dir, i, arr) {\r\n            var nextDir = (arr[i + 1] || arr[0]);\r\n            dirs.push(dir);\r\n            dirs.push([\r\n                (dir[0] + nextDir[0]) / 2,\r\n                (dir[1] + nextDir[1]) / 2,\r\n            ]);\r\n        });\r\n    }\r\n    else {\r\n        if (moveable.props.keepRatio) {\r\n            dirs.push([-1, -1], [-1, 1], [1, -1], [1, 1], snapDirection);\r\n        }\r\n        else {\r\n            dirs.push.apply(dirs, __spreadArray([], __read(getPosesByDirection([\r\n                [-1, -1],\r\n                [1, -1],\r\n                [-1, -1],\r\n                [1, 1],\r\n            ], snapDirection)), false));\r\n            if (dirs.length > 1) {\r\n                dirs.push([\r\n                    (dirs[0][0] + dirs[1][0]) / 2,\r\n                    (dirs[0][1] + dirs[1][1]) / 2,\r\n                ]);\r\n            }\r\n        }\r\n    }\r\n    var nextPoses = dirs.map(function (dir) { return getPosByDirection(poses, dir); });\r\n    var xs = nextPoses.map(function (pos) { return pos[0]; });\r\n    var ys = nextPoses.map(function (pos) { return pos[1]; });\r\n    var result = checkMoveableSnapPoses(moveable, xs, ys, dirs.map(function (dir) { return getStringDirection(dir[0]); }), dirs.map(function (dir) { return getStringDirection(dir[1]); }), customSnapVerticalThreshold, customSnapHorizontalThreshold);\r\n    var verticalDirection = getStringDirection(dirs.map(function (dir) { return dir[0]; })[result.vertical.index]);\r\n    var horizontalDirection = getStringDirection(dirs.map(function (dir) { return dir[1]; })[result.horizontal.index]);\r\n    return {\r\n        vertical: __assign(__assign({}, result.vertical), { direction: verticalDirection }),\r\n        horizontal: __assign(__assign({}, result.horizontal), { direction: horizontalDirection }),\r\n    };\r\n}\r\nfunction checkSnapBoundPriority(a, b) {\r\n    var aDist = abs(a.offset);\r\n    var bDist = abs(b.offset);\r\n    if (a.isBound && b.isBound) {\r\n        return bDist - aDist;\r\n    }\r\n    else if (a.isBound) {\r\n        return -1;\r\n    }\r\n    else if (b.isBound) {\r\n        return 1;\r\n    }\r\n    else if (a.isSnap && b.isSnap) {\r\n        return bDist - aDist;\r\n    }\r\n    else if (a.isSnap) {\r\n        return -1;\r\n    }\r\n    else if (b.isSnap) {\r\n        return 1;\r\n    }\r\n    else if (aDist < TINY_NUM) {\r\n        return 1;\r\n    }\r\n    else if (bDist < TINY_NUM) {\r\n        return -1;\r\n    }\r\n    return aDist - bDist;\r\n}\r\nfunction getNearOffsetInfo(offsets, index) {\r\n    return offsets.slice().sort(function (a, b) {\r\n        var aSign = a.sign[index];\r\n        var bSign = b.sign[index];\r\n        var aOffset = a.offset[index];\r\n        var bOffset = b.offset[index];\r\n        // -1 The positions of a and b do not change.\r\n        // 1 The positions of a and b are reversed.\r\n        if (!aSign) {\r\n            return 1;\r\n        }\r\n        else if (!bSign) {\r\n            return -1;\r\n        }\r\n        return checkSnapBoundPriority({ isBound: a.isBound, isSnap: a.isSnap, offset: aOffset }, { isBound: b.isBound, isSnap: b.isSnap, offset: bOffset });\r\n    })[0];\r\n}\r\nfunction getCheckSnapDirections(direction, fixedDirection, keepRatio) {\r\n    var directions = [];\r\n    // const fixedDirection = [-direction[0], -direction[1]];\r\n    if (keepRatio) {\r\n        if (abs(fixedDirection[0]) !== 1 || abs(fixedDirection[1]) !== 1) {\r\n            directions.push([fixedDirection, [-1, -1]], [fixedDirection, [-1, 1]], [fixedDirection, [1, -1]], [fixedDirection, [1, 1]]);\r\n        }\r\n        else {\r\n            directions.push([fixedDirection, [direction[0], -direction[1]]], [fixedDirection, [-direction[0], direction[1]]]);\r\n        }\r\n        directions.push([fixedDirection, direction]);\r\n    }\r\n    else {\r\n        if ((direction[0] && direction[1]) || (!direction[0] && !direction[1])) {\r\n            var endDirection_1 = direction[0] ? direction : [1, 1];\r\n            [1, -1].forEach(function (signX) {\r\n                [1, -1].forEach(function (signY) {\r\n                    var nextDirection = [signX * endDirection_1[0], signY * endDirection_1[1]];\r\n                    if (fixedDirection[0] === nextDirection[0]\r\n                        && fixedDirection[1] === nextDirection[1]) {\r\n                        return;\r\n                    }\r\n                    directions.push([fixedDirection, nextDirection]);\r\n                });\r\n            });\r\n        }\r\n        else if (direction[0]) {\r\n            var signs = abs(fixedDirection[0]) === 1 ? [1] : [1, -1];\r\n            signs.forEach(function (sign) {\r\n                directions.push([\r\n                    [fixedDirection[0], -1],\r\n                    [sign * direction[0], -1],\r\n                ], [\r\n                    [fixedDirection[0], 0],\r\n                    [sign * direction[0], 0],\r\n                ], [\r\n                    [fixedDirection[0], 1],\r\n                    [sign * direction[0], 1],\r\n                ]);\r\n            });\r\n        }\r\n        else if (direction[1]) {\r\n            var signs = abs(fixedDirection[1]) === 1 ? [1] : [1, -1];\r\n            signs.forEach(function (sign) {\r\n                directions.push([\r\n                    [-1, fixedDirection[1]],\r\n                    [-1, sign * direction[1]],\r\n                ], [\r\n                    [0, fixedDirection[1]],\r\n                    [0, sign * direction[1]],\r\n                ], [\r\n                    [1, fixedDirection[1]],\r\n                    [1, sign * direction[1]],\r\n                ]);\r\n            });\r\n        }\r\n    }\r\n    return directions;\r\n}\n\nfunction isStartLine(dot, line) {\r\n    // l    o     => true\r\n    // o    l    => false\r\n    var cx = average([line[0][0], line[1][0]]);\r\n    var cy = average([line[0][1], line[1][1]]);\r\n    return {\r\n        vertical: cx <= dot[0],\r\n        horizontal: cy <= dot[1],\r\n    };\r\n}\r\nfunction hitTestLine(dot, _a) {\r\n    var _b = __read(_a, 2), pos1 = _b[0], pos2 = _b[1];\r\n    var dx = pos2[0] - pos1[0];\r\n    var dy = pos2[1] - pos1[1];\r\n    if (abs(dx) < TINY_NUM) {\r\n        dx = 0;\r\n    }\r\n    if (abs(dy) < TINY_NUM) {\r\n        dy = 0;\r\n    }\r\n    var test1;\r\n    var test2;\r\n    if (!dx) {\r\n        test1 = pos1[0];\r\n        test2 = dot[0];\r\n    }\r\n    else if (!dy) {\r\n        test1 = pos1[1];\r\n        test2 = dot[1];\r\n    }\r\n    else {\r\n        var a = dy / dx;\r\n        // y = a * (x - pos1) + pos1\r\n        test1 = a * (dot[0] - pos1[0]) + pos1[1];\r\n        test2 = dot[1];\r\n    }\r\n    return test1 - test2;\r\n}\r\nfunction isSameStartLine(dots, line, centerSign, error) {\r\n    if (error === void 0) { error = TINY_NUM; }\r\n    return dots.every(function (dot) {\r\n        var value = hitTestLine(dot, line);\r\n        var sign = value <= 0;\r\n        return sign === centerSign || abs(value) <= error;\r\n    });\r\n}\r\nfunction checkInnerBoundDot(pos, start, end, isStart, threshold) {\r\n    if (threshold === void 0) { threshold = 0; }\r\n    if ((isStart && start - threshold <= pos)\r\n        || (!isStart && pos <= end + threshold)) {\r\n        // false 402 565 602 => 37 ([0, 37])\r\n        // true 400 524.9712603540036 600 => 124 ([124, 0])\r\n        // true 400 410 600 => 10 ([10, 0])\r\n        return {\r\n            isBound: true,\r\n            offset: isStart ? start - pos : end - pos,\r\n        };\r\n    }\r\n    return {\r\n        isBound: false,\r\n        offset: 0,\r\n    };\r\n}\r\nfunction checkInnerBound(moveable, _a) {\r\n    var line = _a.line, centerSign = _a.centerSign, verticalSign = _a.verticalSign, horizontalSign = _a.horizontalSign, lineConstants = _a.lineConstants;\r\n    var bounds = moveable.props.innerBounds;\r\n    if (!bounds) {\r\n        return {\r\n            isAllBound: false,\r\n            isBound: false,\r\n            isVerticalBound: false,\r\n            isHorizontalBound: false,\r\n            offset: [0, 0],\r\n        };\r\n    }\r\n    var left = bounds.left, top = bounds.top, width = bounds.width, height = bounds.height;\r\n    var leftLine = [[left, top], [left, top + height]];\r\n    var topLine = [[left, top], [left + width, top]];\r\n    var rightLine = [[left + width, top], [left + width, top + height]];\r\n    var bottomLine = [[left, top + height], [left + width, top + height]];\r\n    if (isSameStartLine([\r\n        [left, top],\r\n        [left + width, top],\r\n        [left, top + height],\r\n        [left + width, top + height],\r\n    ], line, centerSign)) {\r\n        return {\r\n            isAllBound: false,\r\n            isBound: false,\r\n            isVerticalBound: false,\r\n            isHorizontalBound: false,\r\n            offset: [0, 0],\r\n        };\r\n    }\r\n    // test vertical\r\n    var topBoundInfo = checkLineBoundCollision(line, lineConstants, topLine, verticalSign);\r\n    var bottomBoundInfo = checkLineBoundCollision(line, lineConstants, bottomLine, verticalSign);\r\n    // test horizontal\r\n    var leftBoundInfo = checkLineBoundCollision(line, lineConstants, leftLine, horizontalSign);\r\n    var rightBoundInfo = checkLineBoundCollision(line, lineConstants, rightLine, horizontalSign);\r\n    var isAllVerticalBound = topBoundInfo.isBound && bottomBoundInfo.isBound;\r\n    var isVerticalBound = topBoundInfo.isBound || bottomBoundInfo.isBound;\r\n    var isAllHorizontalBound = leftBoundInfo.isBound && rightBoundInfo.isBound;\r\n    var isHorizontalBound = leftBoundInfo.isBound || rightBoundInfo.isBound;\r\n    var verticalOffset = maxOffset(topBoundInfo.offset, bottomBoundInfo.offset);\r\n    var horizontalOffset = maxOffset(leftBoundInfo.offset, rightBoundInfo.offset);\r\n    var offset = [0, 0];\r\n    var isBound = false;\r\n    var isAllBound = false;\r\n    if (abs(horizontalOffset) < abs(verticalOffset)) {\r\n        offset = [verticalOffset, 0];\r\n        isBound = isVerticalBound;\r\n        isAllBound = isAllVerticalBound;\r\n    }\r\n    else {\r\n        offset = [0, horizontalOffset];\r\n        isBound = isHorizontalBound;\r\n        isAllBound = isAllHorizontalBound;\r\n    }\r\n    return {\r\n        isAllBound: isAllBound,\r\n        isVerticalBound: isVerticalBound,\r\n        isHorizontalBound: isHorizontalBound,\r\n        isBound: isBound,\r\n        offset: offset,\r\n    };\r\n}\r\nfunction checkLineBoundCollision(line, _a, boundLine, isStart, threshold, isRender) {\r\n    var _b = __read(_a, 2), a = _b[0], b = _b[1];\r\n    var dot1 = line[0];\r\n    // const dot2 = line[1];\r\n    var boundDot1 = boundLine[0];\r\n    var boundDot2 = boundLine[1];\r\n    // const dy1 = getTinyDist(dot2[1] - dot1[1]);\r\n    // const dx1 = getTinyDist(dot2[0] - dot1[0]);\r\n    var dy2 = getTinyDist(boundDot2[1] - boundDot1[1]);\r\n    var dx2 = getTinyDist(boundDot2[0] - boundDot1[0]);\r\n    var hasDx = b;\r\n    var hasDy = a;\r\n    var slope = -a / b;\r\n    // lineConstants\r\n    // ax + by + c = 0\r\n    // dx2 or dy2 is zero\r\n    if (!dx2) {\r\n        // vertical\r\n        // by + c = 0\r\n        if (isRender && !hasDy) {\r\n            // 90deg\r\n            return {\r\n                isBound: false,\r\n                offset: 0,\r\n            };\r\n        }\r\n        else if (hasDx) {\r\n            // ax + by + c = 0\r\n            // const y = dy1 ? dy1 / dx1 * (boundDot1[0] - dot1[0]) + dot1[1] : dot1[1];\r\n            var y = slope * (boundDot1[0] - dot1[0]) + dot1[1];\r\n            // boundDot1[1] <= y  <= boundDot2[1]\r\n            return checkInnerBoundDot(y, boundDot1[1], boundDot2[1], isStart, threshold);\r\n        }\r\n        else {\r\n            // ax + c = 0\r\n            var offset = boundDot1[0] - dot1[0];\r\n            var isBound = abs(offset) <= (threshold || 0);\r\n            return {\r\n                isBound: isBound,\r\n                offset: isBound ? offset : 0,\r\n            };\r\n        }\r\n    }\r\n    else if (!dy2) {\r\n        // horizontal\r\n        if (isRender && !hasDx) {\r\n            // 90deg\r\n            return {\r\n                isBound: false,\r\n                offset: 0,\r\n            };\r\n        }\r\n        else if (hasDy) {\r\n            // y = a * (x - x1) + y1\r\n            // x = (y - y1) / a + x1\r\n            // const a = dy1 / dx1;\r\n            // const x = dx1 ? (boundDot1[1] - dot1[1]) / a + dot1[0] : dot1[0];\r\n            var x = (boundDot1[1] - dot1[1]) / slope + dot1[0];\r\n            // boundDot1[0] <= x && x <= boundDot2[0]\r\n            return checkInnerBoundDot(x, boundDot1[0], boundDot2[0], isStart, threshold);\r\n        }\r\n        else {\r\n            var offset = boundDot1[1] - dot1[1];\r\n            var isBound = abs(offset) <= (threshold || 0);\r\n            return {\r\n                isBound: isBound,\r\n                offset: isBound ? offset : 0,\r\n            };\r\n        }\r\n    }\r\n    return {\r\n        isBound: false,\r\n        offset: 0,\r\n    };\r\n}\r\nfunction getInnerBoundInfo(moveable, lineInfos, datas) {\r\n    return lineInfos.map(function (info) {\r\n        var _a = checkInnerBound(moveable, info), isBound = _a.isBound, offset = _a.offset, isVerticalBound = _a.isVerticalBound, isHorizontalBound = _a.isHorizontalBound;\r\n        var multiple = info.multiple;\r\n        var sizeOffset = getDragDist({\r\n            datas: datas,\r\n            distX: offset[0],\r\n            distY: offset[1],\r\n        }).map(function (size, i) { return size * (multiple[i] ? 2 / multiple[i] : 0); });\r\n        return {\r\n            sign: multiple,\r\n            isBound: isBound,\r\n            isVerticalBound: isVerticalBound,\r\n            isHorizontalBound: isHorizontalBound,\r\n            isSnap: false,\r\n            offset: sizeOffset,\r\n        };\r\n    });\r\n}\r\nfunction getInnerBoundDragInfo(moveable, poses, datas) {\r\n    var _a;\r\n    var lines = getCheckInnerBoundLineInfos(moveable, poses, [0, 0], false).map(function (info) {\r\n        return __assign(__assign({}, info), { multiple: info.multiple.map(function (dir) { return abs(dir) * 2; }) });\r\n    });\r\n    var innerBoundInfo = getInnerBoundInfo(moveable, lines, datas);\r\n    var widthOffsetInfo = getNearOffsetInfo(innerBoundInfo, 0);\r\n    var heightOffsetInfo = getNearOffsetInfo(innerBoundInfo, 1);\r\n    var verticalOffset = 0;\r\n    var horizontalOffset = 0;\r\n    var isVerticalBound = widthOffsetInfo.isVerticalBound || heightOffsetInfo.isVerticalBound;\r\n    var isHorizontalBound = widthOffsetInfo.isHorizontalBound || heightOffsetInfo.isHorizontalBound;\r\n    if (isVerticalBound || isHorizontalBound) {\r\n        _a = __read(getInverseDragDist({\r\n            datas: datas,\r\n            distX: -widthOffsetInfo.offset[0],\r\n            distY: -heightOffsetInfo.offset[1],\r\n        }), 2), verticalOffset = _a[0], horizontalOffset = _a[1];\r\n    }\r\n    return {\r\n        vertical: {\r\n            isBound: isVerticalBound,\r\n            offset: verticalOffset,\r\n        },\r\n        horizontal: {\r\n            isBound: isHorizontalBound,\r\n            offset: horizontalOffset,\r\n        },\r\n    };\r\n}\r\nfunction getCheckSnapLineDirections(direction, keepRatio) {\r\n    var lineDirections = [];\r\n    var x = direction[0];\r\n    var y = direction[1];\r\n    if (x && y) {\r\n        lineDirections.push([[0, y * 2], direction, [-x, y]], [[x * 2, 0], direction, [x, -y]]);\r\n    }\r\n    else if (x) {\r\n        // vertcal\r\n        lineDirections.push([[x * 2, 0], [x, 1], [x, -1]]);\r\n        if (keepRatio) {\r\n            lineDirections.push([[0, -1], [x, -1], [-x, -1]], [[0, 1], [x, 1], [-x, 1]]);\r\n        }\r\n    }\r\n    else if (y) {\r\n        // horizontal\r\n        lineDirections.push([[0, y * 2], [1, y], [-1, y]]);\r\n        if (keepRatio) {\r\n            lineDirections.push([[-1, 0], [-1, y], [-1, -y]], [[1, 0], [1, y], [1, -y]]);\r\n        }\r\n    }\r\n    else {\r\n        // [0, 0] to all direction\r\n        lineDirections.push([[-1, 0], [-1, -1], [-1, 1]], [[1, 0], [1, -1], [1, 1]], [[0, -1], [-1, -1], [1, -1]], [[0, 1], [-1, 1], [1, 1]]);\r\n    }\r\n    return lineDirections;\r\n}\r\nfunction getCheckInnerBoundLineInfos(moveable, poses, direction, keepRatio) {\r\n    var _a = moveable.state, allMatrix = _a.allMatrix, is3d = _a.is3d;\r\n    var virtualPoses = calculatePoses(allMatrix, 100, 100, is3d ? 4 : 3);\r\n    var center = getPosByDirection(virtualPoses, [0, 0]);\r\n    return getCheckSnapLineDirections(direction, keepRatio).map(function (_a) {\r\n        var _b = __read(_a, 3), multiple = _b[0], dir1 = _b[1], dir2 = _b[2];\r\n        var virtualLine = [\r\n            getPosByDirection(virtualPoses, dir1),\r\n            getPosByDirection(virtualPoses, dir2),\r\n        ];\r\n        var lineConstants = solveLineConstants(virtualLine);\r\n        var _c = isStartLine(center, virtualLine), verticalSign = _c.vertical, horizontalSign = _c.horizontal;\r\n        var centerSign = hitTestLine(center, virtualLine) <= 0;\r\n        return {\r\n            multiple: multiple,\r\n            centerSign: centerSign,\r\n            verticalSign: verticalSign,\r\n            horizontalSign: horizontalSign,\r\n            lineConstants: lineConstants,\r\n            line: [\r\n                getPosByDirection(poses, dir1),\r\n                getPosByDirection(poses, dir2),\r\n            ],\r\n        };\r\n    });\r\n}\r\nfunction isBoundRotate(relativePoses, boundDots, center, rad) {\r\n    var nextPoses = rad ? relativePoses.map(function (pos) { return rotate(pos, rad); }) : relativePoses;\r\n    return [\r\n        [nextPoses[0], nextPoses[1]],\r\n        [nextPoses[1], nextPoses[3]],\r\n        [nextPoses[3], nextPoses[2]],\r\n        [nextPoses[2], nextPoses[0]],\r\n    ].some(function (line) {\r\n        var centerSign = hitTestLine(center, line) <= 0;\r\n        return !isSameStartLine(boundDots, line, centerSign);\r\n    });\r\n}\r\nfunction getDistPointLine(_a) {\r\n    // x = 0, y = 0\r\n    // d = (ax + by + c) / root(a2 + b2)\r\n    var _b = __read(_a, 2), pos1 = _b[0], pos2 = _b[1];\r\n    var dx = pos2[0] - pos1[0];\r\n    var dy = pos2[1] - pos1[1];\r\n    if (!dx) {\r\n        return abs(pos1[0]);\r\n    }\r\n    if (!dy) {\r\n        return abs(pos1[1]);\r\n    }\r\n    // y - y1 = a(x - x1)\r\n    // 0 = ax -y + -a * x1 + y1\r\n    var a = dy / dx;\r\n    return abs((-a * pos1[0] + pos1[1]) / Math.sqrt(Math.pow(a, 2) + 1));\r\n}\r\nfunction solveReverseLine(_a) {\r\n    var _b = __read(_a, 2), pos1 = _b[0], pos2 = _b[1];\r\n    var dx = pos2[0] - pos1[0];\r\n    var dy = pos2[1] - pos1[1];\r\n    if (!dx) {\r\n        return [pos1[0], 0];\r\n    }\r\n    if (!dy) {\r\n        return [0, pos1[1]];\r\n    }\r\n    var a = dy / dx;\r\n    // y - y1 = a (x  - x1)\r\n    // y = ax - a * x1 + y1\r\n    var b = -a * pos1[0] + pos1[1];\r\n    // y = ax + b = -1/a x\r\n    // x = -b / (a + 1 / a)\r\n    // y = b / (1 + 1 / a^2)\r\n    return [\r\n        -b / (a + 1 / a),\r\n        b / ((a * a) + 1),\r\n    ];\r\n}\r\nfunction checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin, rotation) {\r\n    var bounds = moveable.props.innerBounds;\r\n    var rad = rotation * Math.PI / 180;\r\n    if (!bounds) {\r\n        return [];\r\n    }\r\n    var left = bounds.left, top = bounds.top, width = bounds.width, height = bounds.height;\r\n    var relativeLeft = left - origin[0];\r\n    var relativeRight = left + width - origin[0];\r\n    var relativeTop = top - origin[1];\r\n    var relativeBottom = top + height - origin[1];\r\n    var dots = [\r\n        [relativeLeft, relativeTop],\r\n        [relativeRight, relativeTop],\r\n        [relativeLeft, relativeBottom],\r\n        [relativeRight, relativeBottom],\r\n    ];\r\n    var center = getPosByDirection(nextPoses, [0, 0]);\r\n    if (!isBoundRotate(nextPoses, dots, center, 0)) {\r\n        return [];\r\n    }\r\n    var result = [];\r\n    var dotInfos = dots.map(function (dot) { return [\r\n        getDistSize(dot),\r\n        getRad([0, 0], dot),\r\n    ]; });\r\n    [\r\n        [nextPoses[0], nextPoses[1]],\r\n        [nextPoses[1], nextPoses[3]],\r\n        [nextPoses[3], nextPoses[2]],\r\n        [nextPoses[2], nextPoses[0]],\r\n    ].forEach(function (line) {\r\n        var lineRad = getRad([0, 0], solveReverseLine(line));\r\n        var lineDist = getDistPointLine(line);\r\n        result.push.apply(result, __spreadArray([], __read(dotInfos\r\n            .filter(function (_a) {\r\n            var _b = __read(_a, 1), dotDist = _b[0];\r\n            return dotDist && lineDist <= dotDist;\r\n        })\r\n            .map(function (_a) {\r\n            var _b = __read(_a, 2), dotDist = _b[0], dotRad = _b[1];\r\n            var distRad = Math.acos(dotDist ? lineDist / dotDist : 0);\r\n            var nextRad1 = dotRad + distRad;\r\n            var nextRad2 = dotRad - distRad;\r\n            return [\r\n                rad + nextRad1 - lineRad,\r\n                rad + nextRad2 - lineRad,\r\n            ];\r\n        })\r\n            .reduce(function (prev, cur) {\r\n            prev.push.apply(prev, __spreadArray([], __read(cur), false));\r\n            return prev;\r\n        }, [])\r\n            .filter(function (nextRad) { return !isBoundRotate(prevPoses, dots, center, nextRad); })\r\n            .map(function (nextRad) { return throttle(nextRad * 180 / Math.PI, TINY_NUM); })), false));\r\n    });\r\n    return result;\r\n}\r\nfunction checkInnerBoundPoses(moveable) {\r\n    var innerBounds = moveable.props.innerBounds;\r\n    var boundMap = getInitialBounds();\r\n    if (!innerBounds) {\r\n        return {\r\n            boundMap: boundMap,\r\n            vertical: [],\r\n            horizontal: [],\r\n        };\r\n    }\r\n    var _a = moveable.getRect(), pos1 = _a.pos1, pos2 = _a.pos2, pos3 = _a.pos3, pos4 = _a.pos4;\r\n    var poses = [pos1, pos2, pos3, pos4];\r\n    var center = getPosByDirection(poses, [0, 0]);\r\n    var left = innerBounds.left, top = innerBounds.top, width = innerBounds.width, height = innerBounds.height;\r\n    var leftLine = [[left, top], [left, top + height]];\r\n    var topLine = [[left, top], [left + width, top]];\r\n    var rightLine = [[left + width, top], [left + width, top + height]];\r\n    var bottomLine = [[left, top + height], [left + width, top + height]];\r\n    var lineInfos = getCheckInnerBoundLineInfos(moveable, poses, [0, 0], false);\r\n    var horizontalPoses = [];\r\n    var verticalPoses = [];\r\n    lineInfos.forEach(function (lineInfo) {\r\n        var line = lineInfo.line, lineConstants = lineInfo.lineConstants;\r\n        var _a = isStartLine(center, line), isHorizontalStart = _a.horizontal, isVerticalStart = _a.vertical;\r\n        // test vertical\r\n        var topBoundInfo = checkLineBoundCollision(line, lineConstants, topLine, isVerticalStart, 1, true);\r\n        var bottomBoundInfo = checkLineBoundCollision(line, lineConstants, bottomLine, isVerticalStart, 1, true);\r\n        // test horizontal\r\n        var leftBoundInfo = checkLineBoundCollision(line, lineConstants, leftLine, isHorizontalStart, 1, true);\r\n        var rightBoundInfo = checkLineBoundCollision(line, lineConstants, rightLine, isHorizontalStart, 1, true);\r\n        if (topBoundInfo.isBound && !boundMap.top) {\r\n            horizontalPoses.push(top);\r\n            boundMap.top = true;\r\n        }\r\n        if (bottomBoundInfo.isBound && !boundMap.bottom) {\r\n            horizontalPoses.push(top + height);\r\n            boundMap.bottom = true;\r\n        }\r\n        if (leftBoundInfo.isBound && !boundMap.left) {\r\n            verticalPoses.push(left);\r\n            boundMap.left = true;\r\n        }\r\n        if (rightBoundInfo.isBound && !boundMap.right) {\r\n            verticalPoses.push(left + width);\r\n            boundMap.right = true;\r\n        }\r\n    });\r\n    return {\r\n        boundMap: boundMap,\r\n        horizontal: horizontalPoses,\r\n        vertical: verticalPoses,\r\n    };\r\n}\n\nfunction solveEquation(pos1, pos2, snapOffset, isVertical) {\r\n    var dx = pos2[0] - pos1[0];\r\n    var dy = pos2[1] - pos1[1];\r\n    if (abs(dx) < TINY_NUM$1) {\r\n        dx = 0;\r\n    }\r\n    if (abs(dy) < TINY_NUM$1) {\r\n        dy = 0;\r\n    }\r\n    if (!dx) {\r\n        // y = 0 * x + b\r\n        // only horizontal\r\n        if (!isVertical) {\r\n            return [0, snapOffset];\r\n        }\r\n        return [0, 0];\r\n    }\r\n    if (!dy) {\r\n        // only vertical\r\n        if (isVertical) {\r\n            return [snapOffset, 0];\r\n        }\r\n        return [0, 0];\r\n    }\r\n    // y = ax + b\r\n    var a = dy / dx;\r\n    var b = pos1[1] - a * pos1[0];\r\n    if (isVertical) {\r\n        // y = a * x + b\r\n        var y = a * (pos2[0] + snapOffset) + b;\r\n        return [snapOffset, y - pos2[1]];\r\n    }\r\n    else {\r\n        // x = (y - b) / a\r\n        var x = (pos2[1] + snapOffset - b) / a;\r\n        return [x - pos2[0], snapOffset];\r\n    }\r\n}\r\nfunction solveNextOffset(pos1, pos2, offset, isVertical, datas) {\r\n    var sizeOffset = solveEquation(pos1, pos2, offset, isVertical);\r\n    if (!sizeOffset) {\r\n        return {\r\n            isOutside: false,\r\n            offset: [0, 0],\r\n        };\r\n    }\r\n    var size = getDist$1(pos1, pos2);\r\n    var dist1 = getDist$1(sizeOffset, pos1);\r\n    var dist2 = getDist$1(sizeOffset, pos2);\r\n    var isOutside = dist1 > size || dist2 > size;\r\n    var _a = __read(getDragDist({\r\n        datas: datas,\r\n        distX: sizeOffset[0],\r\n        distY: sizeOffset[1],\r\n    }), 2), widthOffset = _a[0], heightOffset = _a[1];\r\n    return {\r\n        offset: [widthOffset, heightOffset],\r\n        isOutside: isOutside,\r\n    };\r\n}\r\nfunction getSnapBound(boundInfo, snapInfo) {\r\n    if (boundInfo.isBound) {\r\n        return boundInfo.offset;\r\n    }\r\n    else if (snapInfo.isSnap) {\r\n        return getNearestSnapGuidelineInfo(snapInfo).offset;\r\n    }\r\n    return 0;\r\n}\r\nfunction checkThrottleDragRotate(throttleDragRotate, _a, _b, _c, _d) {\r\n    var _e = __read(_a, 2), distX = _e[0], distY = _e[1];\r\n    var _f = __read(_b, 2), isVerticalBound = _f[0], isHorizontalBound = _f[1];\r\n    var _g = __read(_c, 2), isVerticalSnap = _g[0], isHorizontalSnap = _g[1];\r\n    var _h = __read(_d, 2), verticalOffset = _h[0], horizontalOffset = _h[1];\r\n    var offsetX = -verticalOffset;\r\n    var offsetY = -horizontalOffset;\r\n    if (throttleDragRotate && distX && distY) {\r\n        offsetX = 0;\r\n        offsetY = 0;\r\n        var adjustPoses = [];\r\n        if (isVerticalBound && isHorizontalBound) {\r\n            adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\r\n        }\r\n        else if (isVerticalBound) {\r\n            adjustPoses.push([verticalOffset, 0]);\r\n        }\r\n        else if (isHorizontalBound) {\r\n            adjustPoses.push([0, horizontalOffset]);\r\n        }\r\n        else if (isVerticalSnap && isHorizontalSnap) {\r\n            adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\r\n        }\r\n        else if (isVerticalSnap) {\r\n            adjustPoses.push([verticalOffset, 0]);\r\n        }\r\n        else if (isHorizontalSnap) {\r\n            adjustPoses.push([0, horizontalOffset]);\r\n        }\r\n        if (adjustPoses.length) {\r\n            adjustPoses.sort(function (a, b) {\r\n                return (getDistSize(minus([distX, distY], a)) -\r\n                    getDistSize(minus([distX, distY], b)));\r\n            });\r\n            var adjustPos = adjustPoses[0];\r\n            if (adjustPos[0] && abs(distX) > TINY_NUM$1) {\r\n                offsetX = -adjustPos[0];\r\n                offsetY =\r\n                    (distY * abs(distX + offsetX)) / abs(distX) -\r\n                        distY;\r\n            }\r\n            else if (adjustPos[1] && abs(distY) > TINY_NUM$1) {\r\n                var prevDistY = distY;\r\n                offsetY = -adjustPos[1];\r\n                offsetX =\r\n                    (distX * abs(distY + offsetY)) / abs(prevDistY) -\r\n                        distX;\r\n            }\r\n            if (throttleDragRotate && isHorizontalBound && isVerticalBound) {\r\n                if (abs(offsetX) > TINY_NUM$1 &&\r\n                    abs(offsetX) < abs(verticalOffset)) {\r\n                    var scale = abs(verticalOffset) / abs(offsetX);\r\n                    offsetX *= scale;\r\n                    offsetY *= scale;\r\n                }\r\n                else if (abs(offsetY) > TINY_NUM$1 &&\r\n                    abs(offsetY) < abs(horizontalOffset)) {\r\n                    var scale = abs(horizontalOffset) / abs(offsetY);\r\n                    offsetX *= scale;\r\n                    offsetY *= scale;\r\n                }\r\n                else {\r\n                    offsetX = maxOffset(-verticalOffset, offsetX);\r\n                    offsetY = maxOffset(-horizontalOffset, offsetY);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        offsetX = distX || isVerticalBound ? -verticalOffset : 0;\r\n        offsetY = distY || isHorizontalBound ? -horizontalOffset : 0;\r\n    }\r\n    return [offsetX, offsetY];\r\n}\r\nfunction checkSnapBoundsDrag(moveable, distX, distY, throttleDragRotate, ignoreSnap, datas) {\r\n    if (!hasGuidelines(moveable, \"draggable\")) {\r\n        return [\r\n            {\r\n                isSnap: false,\r\n                isBound: false,\r\n                offset: 0,\r\n            },\r\n            {\r\n                isSnap: false,\r\n                isBound: false,\r\n                offset: 0,\r\n            },\r\n        ];\r\n    }\r\n    var poses = getAbsolutePoses(datas.absolutePoses, [distX, distY]);\r\n    var _a = getRect(poses), left = _a.left, right = _a.right, top = _a.top, bottom = _a.bottom;\r\n    var boundPoses = {\r\n        horizontal: poses.map(function (pos) { return pos[1]; }),\r\n        vertical: poses.map(function (pos) { return pos[0]; }),\r\n    };\r\n    var snapDirections = getSnapDirections(moveable.props.snapDirections);\r\n    var snapPoses = splitSnapDirectionPoses(snapDirections, {\r\n        left: left,\r\n        right: right,\r\n        top: top,\r\n        bottom: bottom,\r\n        center: (left + right) / 2,\r\n        middle: (top + bottom) / 2,\r\n    });\r\n    var _b = checkMoveableSnapBounds(moveable, ignoreSnap, snapPoses, boundPoses), verticalSnapBoundInfo = _b.vertical, horizontalSnapBoundInfo = _b.horizontal;\r\n    var _c = getInnerBoundDragInfo(moveable, poses, datas), verticalInnerBoundInfo = _c.vertical, horizontalInnerBoundInfo = _c.horizontal;\r\n    var isVerticalSnap = verticalSnapBoundInfo.isSnap;\r\n    var isHorizontalSnap = horizontalSnapBoundInfo.isSnap;\r\n    var isVerticalBound = verticalSnapBoundInfo.isBound || verticalInnerBoundInfo.isBound;\r\n    var isHorizontalBound = horizontalSnapBoundInfo.isBound || horizontalInnerBoundInfo.isBound;\r\n    var verticalOffset = maxOffset(verticalSnapBoundInfo.offset, verticalInnerBoundInfo.offset);\r\n    var horizontalOffset = maxOffset(horizontalSnapBoundInfo.offset, horizontalInnerBoundInfo.offset);\r\n    var _d = __read(checkThrottleDragRotate(throttleDragRotate, [distX, distY], [isVerticalBound, isHorizontalBound], [isVerticalSnap, isHorizontalSnap], [verticalOffset, horizontalOffset]), 2), offsetX = _d[0], offsetY = _d[1];\r\n    return [\r\n        {\r\n            isBound: isVerticalBound,\r\n            isSnap: isVerticalSnap,\r\n            offset: offsetX,\r\n        },\r\n        {\r\n            isBound: isHorizontalBound,\r\n            isSnap: isHorizontalSnap,\r\n            offset: offsetY,\r\n        },\r\n    ];\r\n}\r\nfunction checkMoveableSnapBounds(moveable, ignoreSnap, poses, boundPoses) {\r\n    if (boundPoses === void 0) { boundPoses = poses; }\r\n    var _a = checkBoundPoses(getBounds(moveable), boundPoses.vertical, boundPoses.horizontal), horizontalBoundInfos = _a.horizontal, verticalBoundInfos = _a.vertical;\r\n    var _b = ignoreSnap ? {\r\n        horizontal: { isSnap: false, index: -1 },\r\n        vertical: { isSnap: false, index: -1 },\r\n    } : checkMoveableSnapPoses(moveable, poses.vertical, poses.horizontal, undefined, undefined, undefined, undefined), horizontalSnapInfo = _b.horizontal, verticalSnapInfo = _b.vertical;\r\n    var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\r\n    var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\r\n    var horizontalDist = abs(horizontalOffset);\r\n    var verticalDist = abs(verticalOffset);\r\n    return {\r\n        horizontal: {\r\n            isBound: horizontalBoundInfos[0].isBound,\r\n            isSnap: horizontalSnapInfo.isSnap,\r\n            snapIndex: horizontalSnapInfo.index,\r\n            offset: horizontalOffset,\r\n            dist: horizontalDist,\r\n            bounds: horizontalBoundInfos,\r\n            snap: horizontalSnapInfo,\r\n        },\r\n        vertical: {\r\n            isBound: verticalBoundInfos[0].isBound,\r\n            isSnap: verticalSnapInfo.isSnap,\r\n            snapIndex: verticalSnapInfo.index,\r\n            offset: verticalOffset,\r\n            dist: verticalDist,\r\n            bounds: verticalBoundInfos,\r\n            snap: verticalSnapInfo,\r\n        },\r\n    };\r\n}\r\nfunction checkSnapBounds(guideines, bounds, posesX, posesY, snapHorizontalThreshold, snapVerticalThreshold, multiples) {\r\n    if (multiples === void 0) { multiples = [1, 1]; }\r\n    var _a = checkBoundPoses(bounds, posesX, posesY), horizontalBoundInfos = _a.horizontal, verticalBoundInfos = _a.vertical;\r\n    // options.isRequest ? {\r\n    //     horizontal: { isSnap: false, index: -1 } as SnapInfo,\r\n    //     vertical: { isSnap: false, index: -1 } as SnapInfo,\r\n    // } :\r\n    var _b = checkSnapPoses(guideines, posesX, posesY, [], [], snapHorizontalThreshold, snapVerticalThreshold, multiples), horizontalSnapInfo = _b.horizontal, verticalSnapInfo = _b.vertical;\r\n    var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\r\n    var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\r\n    var horizontalDist = abs(horizontalOffset);\r\n    var verticalDist = abs(verticalOffset);\r\n    return {\r\n        horizontal: {\r\n            isBound: horizontalBoundInfos[0].isBound,\r\n            isSnap: horizontalSnapInfo.isSnap,\r\n            snapIndex: horizontalSnapInfo.index,\r\n            offset: horizontalOffset,\r\n            dist: horizontalDist,\r\n            bounds: horizontalBoundInfos,\r\n            snap: horizontalSnapInfo,\r\n        },\r\n        vertical: {\r\n            isBound: verticalBoundInfos[0].isBound,\r\n            isSnap: verticalSnapInfo.isSnap,\r\n            snapIndex: verticalSnapInfo.index,\r\n            offset: verticalOffset,\r\n            dist: verticalDist,\r\n            bounds: verticalBoundInfos,\r\n            snap: verticalSnapInfo,\r\n        },\r\n    };\r\n}\r\nfunction checkSnapRightLine(startPos, endPos, snapBoundInfo, keepRatio) {\r\n    var rad = (getRad(startPos, endPos) / Math.PI) * 180;\r\n    var _a = snapBoundInfo.vertical, isVerticalBound = _a.isBound, isVerticalSnap = _a.isSnap, verticalDist = _a.dist, _b = snapBoundInfo.horizontal, isHorizontalBound = _b.isBound, isHorizontalSnap = _b.isSnap, horizontalDist = _b.dist;\r\n    var rad180 = rad % 180;\r\n    var isHorizontalLine = rad180 < 3 || rad180 > 177;\r\n    var isVerticalLine = rad180 > 87 && rad180 < 93;\r\n    if (horizontalDist < verticalDist) {\r\n        if (isVerticalBound ||\r\n            (isVerticalSnap &&\r\n                !isVerticalLine &&\r\n                (!keepRatio || !isHorizontalLine))) {\r\n            return \"vertical\";\r\n        }\r\n    }\r\n    if (isHorizontalBound ||\r\n        (isHorizontalSnap &&\r\n            !isHorizontalLine &&\r\n            (!keepRatio || !isVerticalLine))) {\r\n        return \"horizontal\";\r\n    }\r\n    return \"\";\r\n}\r\nfunction getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas) {\r\n    return directions.map(function (_a) {\r\n        var _b = __read(_a, 2), startDirection = _b[0], endDirection = _b[1];\r\n        var otherStartPos = getPosByDirection(poses, startDirection);\r\n        var otherEndPos = getPosByDirection(poses, endDirection);\r\n        var snapBoundInfo = keepRatio\r\n            ? checkSnapBoundsKeepRatio(moveable, otherStartPos, otherEndPos, isRequest)\r\n            : checkMoveableSnapBounds(moveable, isRequest, {\r\n                vertical: [otherEndPos[0]],\r\n                horizontal: [otherEndPos[1]],\r\n            });\r\n        var _c = snapBoundInfo.horizontal, \r\n        // dist: otherHorizontalDist,\r\n        otherHorizontalOffset = _c.offset, isOtherHorizontalBound = _c.isBound, isOtherHorizontalSnap = _c.isSnap, _d = snapBoundInfo.vertical, \r\n        // dist: otherVerticalDist,\r\n        otherVerticalOffset = _d.offset, isOtherVerticalBound = _d.isBound, isOtherVerticalSnap = _d.isSnap;\r\n        var multiple = minus(endDirection, startDirection);\r\n        if (!otherVerticalOffset && !otherHorizontalOffset) {\r\n            return {\r\n                isBound: isOtherVerticalBound || isOtherHorizontalBound,\r\n                isSnap: isOtherVerticalSnap || isOtherHorizontalSnap,\r\n                sign: multiple,\r\n                offset: [0, 0],\r\n            };\r\n        }\r\n        var snapLine = checkSnapRightLine(otherStartPos, otherEndPos, snapBoundInfo, keepRatio);\r\n        if (!snapLine) {\r\n            return {\r\n                sign: multiple,\r\n                isBound: false,\r\n                isSnap: false,\r\n                offset: [0, 0],\r\n            };\r\n        }\r\n        var isVertical = snapLine === \"vertical\";\r\n        var sizeOffset = [0, 0];\r\n        if (!keepRatio\r\n            && abs(endDirection[0]) === 1\r\n            && abs(endDirection[1]) === 1\r\n            && startDirection[0] !== endDirection[0]\r\n            && startDirection[1] !== endDirection[1]) {\r\n            sizeOffset = getDragDist({\r\n                datas: datas,\r\n                distX: -otherVerticalOffset,\r\n                distY: -otherHorizontalOffset,\r\n            });\r\n        }\r\n        else {\r\n            sizeOffset = solveNextOffset(otherStartPos, otherEndPos, -(isVertical ? otherVerticalOffset : otherHorizontalOffset), isVertical, datas).offset;\r\n        }\r\n        sizeOffset = sizeOffset.map(function (size, i) { return size * (multiple[i] ? 2 / multiple[i] : 0); });\r\n        return {\r\n            sign: multiple,\r\n            isBound: isVertical ? isOtherVerticalBound : isOtherHorizontalBound,\r\n            isSnap: isVertical ? isOtherVerticalSnap : isOtherHorizontalSnap,\r\n            offset: sizeOffset,\r\n        };\r\n    });\r\n}\r\nfunction getSnapBoundOffset(boundInfo, snapInfo) {\r\n    if (boundInfo.isBound) {\r\n        return boundInfo.offset;\r\n    }\r\n    else if (snapInfo.isSnap) {\r\n        return snapInfo.offset;\r\n    }\r\n    return 0;\r\n}\r\nfunction checkSnapBoundsKeepRatio(moveable, startPos, endPos, isRequest) {\r\n    var _a = checkBoundKeepRatio(moveable, startPos, endPos), horizontalBoundInfo = _a.horizontal, verticalBoundInfo = _a.vertical;\r\n    var _b = isRequest ? {\r\n        horizontal: { isSnap: false },\r\n        vertical: { isSnap: false },\r\n    } : checkSnapKeepRatio(moveable, startPos, endPos), horizontalSnapInfo = _b.horizontal, verticalSnapInfo = _b.vertical;\r\n    var horizontalOffset = getSnapBoundOffset(horizontalBoundInfo, horizontalSnapInfo);\r\n    var verticalOffset = getSnapBoundOffset(verticalBoundInfo, verticalSnapInfo);\r\n    var horizontalDist = abs(horizontalOffset);\r\n    var verticalDist = abs(verticalOffset);\r\n    return {\r\n        horizontal: {\r\n            isBound: horizontalBoundInfo.isBound,\r\n            isSnap: horizontalSnapInfo.isSnap,\r\n            offset: horizontalOffset,\r\n            dist: horizontalDist,\r\n        },\r\n        vertical: {\r\n            isBound: verticalBoundInfo.isBound,\r\n            isSnap: verticalSnapInfo.isSnap,\r\n            offset: verticalOffset,\r\n            dist: verticalDist,\r\n        },\r\n    };\r\n}\r\nfunction checkMaxBounds(moveable, poses, direction, fixedPosition, datas) {\r\n    var fixedDirection = [-direction[0], -direction[1]];\r\n    var _a = moveable.state, width = _a.width, height = _a.height;\r\n    var bounds = moveable.props.bounds;\r\n    var maxWidth = Infinity;\r\n    var maxHeight = Infinity;\r\n    if (bounds) {\r\n        var directions = [\r\n            [direction[0], -direction[1]],\r\n            [-direction[0], direction[1]],\r\n        ];\r\n        var _b = bounds.left, left_1 = _b === void 0 ? -Infinity : _b, _c = bounds.top, top_1 = _c === void 0 ? -Infinity : _c, _d = bounds.right, right_1 = _d === void 0 ? Infinity : _d, _e = bounds.bottom, bottom_1 = _e === void 0 ? Infinity : _e;\r\n        directions.forEach(function (otherDirection) {\r\n            var isCheckVertical = otherDirection[0] !== fixedDirection[0];\r\n            var isCheckHorizontal = otherDirection[1] !== fixedDirection[1];\r\n            var otherPos = getPosByDirection(poses, otherDirection);\r\n            var deg = (getRad(fixedPosition, otherPos) * 360) / Math.PI;\r\n            if (isCheckHorizontal) {\r\n                var nextOtherPos = otherPos.slice();\r\n                if (abs(deg - 360) < 2 || abs(deg - 180) < 2) {\r\n                    nextOtherPos[1] = fixedPosition[1];\r\n                }\r\n                var _a = solveNextOffset(fixedPosition, nextOtherPos, (fixedPosition[1] < otherPos[1] ? bottom_1 : top_1) -\r\n                    otherPos[1], false, datas), _b = __read(_a.offset, 2), heightOffset = _b[1], isHeightOutside = _a.isOutside;\r\n                if (!isNaN(heightOffset)) {\r\n                    maxHeight = height + (isHeightOutside ? 1 : -1) * abs(heightOffset);\r\n                }\r\n            }\r\n            if (isCheckVertical) {\r\n                var nextOtherPos = otherPos.slice();\r\n                if (abs(deg - 90) < 2 || abs(deg - 270) < 2) {\r\n                    nextOtherPos[0] = fixedPosition[0];\r\n                }\r\n                var _c = solveNextOffset(fixedPosition, nextOtherPos, (fixedPosition[0] < otherPos[0] ? right_1 : left_1) - otherPos[0], true, datas), _d = __read(_c.offset, 1), widthOffset = _d[0], isWidthOutside = _c.isOutside;\r\n                if (!isNaN(widthOffset)) {\r\n                    maxWidth = width + (isWidthOutside ? 1 : -1) * abs(widthOffset);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return {\r\n        maxWidth: maxWidth,\r\n        maxHeight: maxHeight,\r\n    };\r\n}\n\n/**\r\n * @namespace Draggable\r\n * @memberof Moveable\r\n * @description Draggable refers to the ability to drag and move targets.\r\n */\r\nvar Draggable = {\r\n    name: \"draggable\",\r\n    props: [\r\n        \"draggable\",\r\n        \"throttleDrag\",\r\n        \"throttleDragRotate\",\r\n        \"hideThrottleDragRotateLine\",\r\n        \"startDragRotate\",\r\n        \"edgeDraggable\",\r\n    ],\r\n    events: [\r\n        \"dragStart\",\r\n        \"drag\",\r\n        \"dragEnd\",\r\n        \"dragGroupStart\",\r\n        \"dragGroup\",\r\n        \"dragGroupEnd\",\r\n    ],\r\n    requestStyle: function () {\r\n        return [\"left\", \"top\", \"right\", \"bottom\"];\r\n    },\r\n    requestChildStyle: function () {\r\n        return [\"left\", \"top\", \"right\", \"bottom\"];\r\n    },\r\n    render: function (moveable, React) {\r\n        var _a = moveable.props, hideThrottleDragRotateLine = _a.hideThrottleDragRotateLine, throttleDragRotate = _a.throttleDragRotate, zoom = _a.zoom;\r\n        var _b = moveable.getState(), dragInfo = _b.dragInfo, beforeOrigin = _b.beforeOrigin;\r\n        if (hideThrottleDragRotateLine || !throttleDragRotate || !dragInfo) {\r\n            return [];\r\n        }\r\n        var dist = dragInfo.dist;\r\n        if (!dist[0] && !dist[1]) {\r\n            return [];\r\n        }\r\n        var width = getDistSize(dist);\r\n        var rad = getRad(dist, [0, 0]);\r\n        return [React.createElement(\"div\", { className: prefix(\"line\", \"horizontal\", \"dragline\", \"dashed\"), key: \"dragRotateGuideline\", style: {\r\n                    width: \"\".concat(width, \"px\"),\r\n                    transform: \"translate(\".concat(beforeOrigin[0], \"px, \").concat(beforeOrigin[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\"),\r\n                } })];\r\n    },\r\n    dragStart: function (moveable, e) {\r\n        var datas = e.datas, parentEvent = e.parentEvent, parentGesto = e.parentGesto;\r\n        var state = moveable.state;\r\n        var gestos = state.gestos, style = state.style;\r\n        if (gestos.draggable) {\r\n            return false;\r\n        }\r\n        gestos.draggable = parentGesto || moveable.targetGesto;\r\n        datas.datas = {};\r\n        datas.left = parseFloat(style.left || \"\") || 0;\r\n        datas.top = parseFloat(style.top || \"\") || 0;\r\n        datas.bottom = parseFloat(style.bottom || \"\") || 0;\r\n        datas.right = parseFloat(style.right || \"\") || 0;\r\n        datas.startValue = [0, 0];\r\n        setDragStart(moveable, e);\r\n        setDefaultTransformIndex(moveable, e, \"translate\");\r\n        startCheckSnapDrag(moveable, datas);\r\n        datas.prevDist = [0, 0];\r\n        datas.prevBeforeDist = [0, 0];\r\n        datas.isDrag = false;\r\n        datas.deltaOffset = [0, 0];\r\n        var params = fillParams(moveable, e, __assign({ set: function (translate) {\r\n                datas.startValue = translate;\r\n            } }, fillTransformStartEvent(moveable, e)));\r\n        var result = parentEvent || triggerEvent(moveable, \"onDragStart\", params);\r\n        if (result !== false) {\r\n            datas.isDrag = true;\r\n            moveable.state.dragInfo = {\r\n                startRect: moveable.getRect(),\r\n                dist: [0, 0],\r\n            };\r\n        }\r\n        else {\r\n            gestos.draggable = null;\r\n            datas.isPinch = false;\r\n        }\r\n        return datas.isDrag ? params : false;\r\n    },\r\n    drag: function (moveable, e) {\r\n        if (!e) {\r\n            return;\r\n        }\r\n        resolveTransformEvent(moveable, e, \"translate\");\r\n        var datas = e.datas, parentEvent = e.parentEvent, parentFlag = e.parentFlag, isPinch = e.isPinch, deltaOffset = e.deltaOffset, useSnap = e.useSnap, isRequest = e.isRequest, isGroup = e.isGroup, parentThrottleDrag = e.parentThrottleDrag;\r\n        var distX = e.distX, distY = e.distY;\r\n        var isDrag = datas.isDrag, prevDist = datas.prevDist, prevBeforeDist = datas.prevBeforeDist, startValue = datas.startValue;\r\n        if (!isDrag) {\r\n            return;\r\n        }\r\n        if (deltaOffset) {\r\n            distX += deltaOffset[0];\r\n            distY += deltaOffset[1];\r\n        }\r\n        var props = moveable.props;\r\n        var parentMoveable = props.parentMoveable;\r\n        var throttleDrag = isGroup ? 0 : (props.throttleDrag || parentThrottleDrag || 0);\r\n        var throttleDragRotate = parentEvent ? 0 : (props.throttleDragRotate || 0);\r\n        var dragRotateRad = 0;\r\n        var isVerticalSnap = false;\r\n        var isVerticalBound = false;\r\n        var isHorizontalSnap = false;\r\n        var isHorizontalBound = false;\r\n        if (!parentEvent && throttleDragRotate > 0 && (distX || distY)) {\r\n            var startDragRotate = props.startDragRotate || 0;\r\n            var deg = throttle(startDragRotate + getRad([0, 0], [distX, distY]) * 180 / Math.PI, throttleDragRotate)\r\n                - startDragRotate;\r\n            var ry = distY * Math.abs(Math.cos((deg - 90) / 180 * Math.PI));\r\n            var rx = distX * Math.abs(Math.cos(deg / 180 * Math.PI));\r\n            var r = getDistSize([rx, ry]);\r\n            dragRotateRad = deg * Math.PI / 180;\r\n            distX = r * Math.cos(dragRotateRad);\r\n            distY = r * Math.sin(dragRotateRad);\r\n        }\r\n        if (!isPinch && !parentEvent && !parentFlag) {\r\n            var _a = __read(checkSnapBoundsDrag(moveable, distX, distY, throttleDragRotate, (!useSnap && isRequest) || deltaOffset, datas), 2), verticalInfo = _a[0], horizontalInfo = _a[1];\r\n            isVerticalSnap = verticalInfo.isSnap;\r\n            isVerticalBound = verticalInfo.isBound;\r\n            isHorizontalSnap = horizontalInfo.isSnap;\r\n            isHorizontalBound = horizontalInfo.isBound;\r\n            var verticalOffset = verticalInfo.offset;\r\n            var horizontalOffset = horizontalInfo.offset;\r\n            distX += verticalOffset;\r\n            distY += horizontalOffset;\r\n        }\r\n        var beforeTranslate = plus(getBeforeDragDist({ datas: datas, distX: distX, distY: distY }), startValue);\r\n        var translate = plus(getTransformDist({ datas: datas, distX: distX, distY: distY }), startValue);\r\n        throttleArray(translate, TINY_NUM);\r\n        throttleArray(beforeTranslate, TINY_NUM);\r\n        if (!throttleDragRotate) {\r\n            if (!isVerticalSnap && !isVerticalBound) {\r\n                translate[0] = throttle(translate[0], throttleDrag);\r\n                beforeTranslate[0] = throttle(beforeTranslate[0], throttleDrag);\r\n            }\r\n            if (!isHorizontalSnap && !isHorizontalBound) {\r\n                translate[1] = throttle(translate[1], throttleDrag);\r\n                beforeTranslate[1] = throttle(beforeTranslate[1], throttleDrag);\r\n            }\r\n        }\r\n        var beforeDist = minus(beforeTranslate, startValue);\r\n        var dist = minus(translate, startValue);\r\n        var delta = minus(dist, prevDist);\r\n        var beforeDelta = minus(beforeDist, prevBeforeDist);\r\n        datas.prevDist = dist;\r\n        datas.prevBeforeDist = beforeDist;\r\n        datas.passDelta = delta; //distX - (datas.passDistX || 0);\r\n        // datas.passDeltaY = distY - (datas.passDistY || 0);\r\n        datas.passDist = dist; //distX;\r\n        // datas.passDistY = distY;\r\n        var left = datas.left + beforeDist[0];\r\n        var top = datas.top + beforeDist[1];\r\n        var right = datas.right - beforeDist[0];\r\n        var bottom = datas.bottom - beforeDist[1];\r\n        var nextTransform = convertTransformFormat(datas, \"translate(\".concat(translate[0], \"px, \").concat(translate[1], \"px)\"), \"translate(\".concat(dist[0], \"px, \").concat(dist[1], \"px)\"));\r\n        fillOriginalTransform(e, nextTransform);\r\n        moveable.state.dragInfo.dist = parentEvent ? [0, 0] : dist;\r\n        if (!parentEvent && !parentMoveable && delta.every(function (num) { return !num; }) && beforeDelta.some(function (num) { return !num; })) {\r\n            return;\r\n        }\r\n        var _b = moveable.state, width = _b.width, height = _b.height;\r\n        var params = fillParams(moveable, e, __assign({ transform: nextTransform, dist: dist, delta: delta, translate: translate, beforeDist: beforeDist, beforeDelta: beforeDelta, beforeTranslate: beforeTranslate, left: left, top: top, right: right, bottom: bottom, width: width, height: height, isPinch: isPinch }, fillCSSObject({\r\n            transform: nextTransform,\r\n        }, e)));\r\n        !parentEvent && triggerEvent(moveable, \"onDrag\", params);\r\n        return params;\r\n    },\r\n    dragAfter: function (moveable, e) {\r\n        var datas = e.datas;\r\n        var deltaOffset = datas.deltaOffset;\r\n        if (deltaOffset[0] || deltaOffset[1]) {\r\n            datas.deltaOffset = [0, 0];\r\n            return this.drag(moveable, __assign(__assign({}, e), { deltaOffset: deltaOffset }));\r\n        }\r\n        return false;\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        var parentEvent = e.parentEvent, datas = e.datas;\r\n        moveable.state.dragInfo = null;\r\n        if (!datas.isDrag) {\r\n            return;\r\n        }\r\n        datas.isDrag = false;\r\n        var param = fillEndParams(moveable, e, {});\r\n        !parentEvent && triggerEvent(moveable, \"onDragEnd\", param);\r\n        return param;\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        var _a, _b;\r\n        var datas = e.datas, clientX = e.clientX, clientY = e.clientY;\r\n        var params = this.dragStart(moveable, e);\r\n        if (!params) {\r\n            return false;\r\n        }\r\n        var _c = triggerChildGesto(moveable, this, \"dragStart\", [\r\n            clientX || 0,\r\n            clientY || 0,\r\n        ], e, false, \"draggable\"), childEvents = _c.childEvents, eventParams = _c.eventParams;\r\n        var nextParams = __assign(__assign({}, params), { targets: moveable.props.targets, events: eventParams });\r\n        var result = triggerEvent(moveable, \"onDragGroupStart\", nextParams);\r\n        datas.isDrag = result !== false;\r\n        // find data.startValue and based on first child moveable\r\n        var startValue = (_b = (_a = childEvents[0]) === null || _a === void 0 ? void 0 : _a.datas.startValue) !== null && _b !== void 0 ? _b : [0, 0];\r\n        datas.throttleOffset = [startValue[0] % 1, startValue[1] % 1];\r\n        return datas.isDrag ? params : false;\r\n    },\r\n    dragGroup: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isDrag) {\r\n            return;\r\n        }\r\n        var params = this.drag(moveable, __assign(__assign({}, e), { parentThrottleDrag: moveable.props.throttleDrag }));\r\n        var passDelta = e.datas.passDelta;\r\n        var eventParams = triggerChildGesto(moveable, this, \"drag\", passDelta, e, false, \"draggable\").eventParams;\r\n        if (!params) {\r\n            return;\r\n        }\r\n        var nextParams = __assign({ targets: moveable.props.targets, events: eventParams }, params);\r\n        triggerEvent(moveable, \"onDragGroup\", nextParams);\r\n        return nextParams;\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        var isDrag = e.isDrag, datas = e.datas;\r\n        if (!datas.isDrag) {\r\n            return;\r\n        }\r\n        this.dragEnd(moveable, e);\r\n        var eventParams = triggerChildGesto(moveable, this, \"dragEnd\", [0, 0], e, false, \"draggable\").eventParams;\r\n        triggerEvent(moveable, \"onDragGroupEnd\", fillEndParams(moveable, e, {\r\n            targets: moveable.props.targets,\r\n            events: eventParams,\r\n        }));\r\n        return isDrag;\r\n    },\r\n    /**\r\n     * @method Moveable.Draggable#request\r\n     * @param {object} [e] - the draggable's request parameter\r\n     * @param {number} [e.x] - x position\r\n     * @param {number} [e.y] - y position\r\n     * @param {number} [e.deltaX] - X number to move\r\n     * @param {number} [e.deltaY] - Y number to move\r\n     * @return {Moveable.Requester} Moveable Requester\r\n     * @example\r\n\n     * // Instantly Request (requestStart - request - requestEnd)\r\n     * // Use Relative Value\r\n     * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\r\n     * // Use Absolute Value\r\n     * moveable.request(\"draggable\", { x: 200, y: 100 }, true);\r\n     *\r\n     * // requestStart\r\n     * const requester = moveable.request(\"draggable\");\r\n     *\r\n     * // request\r\n     * // Use Relative Value\r\n     * requester.request({ deltaX: 10, deltaY: 10 });\r\n     * requester.request({ deltaX: 10, deltaY: 10 });\r\n     * requester.request({ deltaX: 10, deltaY: 10 });\r\n     * // Use Absolute Value\r\n     * moveable.request(\"draggable\", { x: 200, y: 100 });\r\n     * moveable.request(\"draggable\", { x: 220, y: 100 });\r\n     * moveable.request(\"draggable\", { x: 240, y: 100 });\r\n     *\r\n     * // requestEnd\r\n     * requester.requestEnd();\r\n     */\r\n    request: function (moveable) {\r\n        var datas = {};\r\n        var rect = moveable.getRect();\r\n        var distX = 0;\r\n        var distY = 0;\r\n        var useSnap = false;\r\n        return {\r\n            isControl: false,\r\n            requestStart: function (e) {\r\n                useSnap = e.useSnap;\r\n                return { datas: datas, useSnap: useSnap };\r\n            },\r\n            request: function (e) {\r\n                if (\"x\" in e) {\r\n                    distX = e.x - rect.left;\r\n                }\r\n                else if (\"deltaX\" in e) {\r\n                    distX += e.deltaX;\r\n                }\r\n                if (\"y\" in e) {\r\n                    distY = e.y - rect.top;\r\n                }\r\n                else if (\"deltaY\" in e) {\r\n                    distY += e.deltaY;\r\n                }\r\n                return { datas: datas, distX: distX, distY: distY, useSnap: useSnap };\r\n            },\r\n            requestEnd: function () {\r\n                return { datas: datas, isDrag: true, useSnap: useSnap };\r\n            },\r\n        };\r\n    },\r\n    unset: function (moveable) {\r\n        moveable.state.gestos.draggable = null;\r\n        moveable.state.dragInfo = null;\r\n    },\r\n};\r\n/**\r\n * Whether or not target can be dragged. (default: false)\r\n * @name Moveable.Draggable#draggable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.draggable = true;\r\n */\r\n/**\r\n * throttle of x, y when drag.\r\n * @name Moveable.Draggable#throttleDrag\r\n * @default 0\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.throttleDrag = 1;\r\n */\r\n/**\r\n* throttle of angle of x, y when drag.\r\n* @name Moveable.Draggable#throttleDragRotate\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body);\r\n*\r\n* moveable.throttleDragRotate = 45;\r\n*/\r\n/**\r\n* start angle of throttleDragRotate of x, y when drag.\r\n* @name Moveable.Draggable#startDragRotate\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body);\r\n*\r\n* // 45, 135, 225, 315\r\n* moveable.throttleDragRotate = 90;\r\n* moveable.startDragRotate = 45;\r\n*/\r\n/**\r\n * When the drag starts, the dragStart event is called.\r\n * @memberof Moveable.Draggable\r\n * @event dragStart\r\n * @param {Moveable.Draggable.OnDragStart} - Parameters for the dragStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { draggable: true });\r\n * moveable.on(\"dragStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n * When dragging, the drag event is called.\r\n * @memberof Moveable.Draggable\r\n * @event drag\r\n * @param {Moveable.Draggable.OnDrag} - Parameters for the drag event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { draggable: true });\r\n * moveable.on(\"drag\", ({ target, transform }) => {\r\n *     target.style.transform = transform;\r\n * });\r\n */\r\n/**\r\n * When the drag finishes, the dragEnd event is called.\r\n * @memberof Moveable.Draggable\r\n * @event dragEnd\r\n * @param {Moveable.Draggable.OnDragEnd} - Parameters for the dragEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { draggable: true });\r\n * moveable.on(\"dragEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\r\n/**\r\n* When the group drag starts, the `dragGroupStart` event is called.\r\n* @memberof Moveable.Draggable\r\n* @event dragGroupStart\r\n* @param {Moveable.Draggable.OnDragGroupStart} - Parameters for the `dragGroupStart` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     draggable: true\r\n* });\r\n* moveable.on(\"dragGroupStart\", ({ targets }) => {\r\n*     console.log(\"onDragGroupStart\", targets);\r\n* });\r\n*/\r\n/**\r\n* When the group drag, the `dragGroup` event is called.\r\n* @memberof Moveable.Draggable\r\n* @event dragGroup\r\n* @param {Moveable.Draggable.OnDragGroup} - Parameters for the `dragGroup` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     draggable: true\r\n* });\r\n* moveable.on(\"dragGroup\", ({ targets, events }) => {\r\n*     console.log(\"onDragGroup\", targets);\r\n*     events.forEach(ev => {\r\n*          // drag event\r\n*          console.log(\"onDrag left, top\", ev.left, ev.top);\r\n*          // ev.target!.style.left = `${ev.left}px`;\r\n*          // ev.target!.style.top = `${ev.top}px`;\r\n*          console.log(\"onDrag translate\", ev.dist);\r\n*          ev.target!.style.transform = ev.transform;)\r\n*     });\r\n* });\r\n*/\r\n/**\r\n * When the group drag finishes, the `dragGroupEnd` event is called.\r\n * @memberof Moveable.Draggable\r\n * @event dragGroupEnd\r\n * @param {Moveable.Draggable.OnDragGroupEnd} - Parameters for the `dragGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     draggable: true\r\n * });\r\n * moveable.on(\"dragGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onDragGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\nfunction getFixedDirectionInfo(startPositions, fixedDirection) {\r\n    var fixedPosition = getPosByDirection(startPositions, fixedDirection);\r\n    var fixedOffset = [0, 0];\r\n    return {\r\n        fixedPosition: fixedPosition,\r\n        fixedDirection: fixedDirection,\r\n        fixedOffset: fixedOffset,\r\n    };\r\n}\r\nfunction getOffsetFixedDirectionInfo(state, fixedDirection) {\r\n    // for start\r\n    var allMatrix = state.allMatrix, is3d = state.is3d, width = state.width, height = state.height;\r\n    var n = is3d ? 4 : 3;\r\n    var nextFixedOffset = [\r\n        width / 2 * (1 + fixedDirection[0]),\r\n        height / 2 * (1 + fixedDirection[1]),\r\n    ];\r\n    var fixedPosition = calculatePosition(allMatrix, nextFixedOffset, n);\r\n    var fixedOffset = [0, 0];\r\n    return {\r\n        fixedPosition: fixedPosition,\r\n        fixedDirection: fixedDirection,\r\n        fixedOffset: fixedOffset,\r\n    };\r\n}\r\nfunction getOffsetFixedPositionInfo(state, offsetFixedPosition) {\r\n    // for start\r\n    var allMatrix = state.allMatrix, is3d = state.is3d, width = state.width, height = state.height;\r\n    var n = is3d ? 4 : 3;\r\n    var fixedDirection = getDirectionByPos(offsetFixedPosition, width, height);\r\n    var nextFixedPosition = calculatePosition(allMatrix, offsetFixedPosition, n);\r\n    var fixedOffset = [\r\n        width ? 0 : offsetFixedPosition[0],\r\n        height ? 0 : offsetFixedPosition[1],\r\n    ];\r\n    return {\r\n        fixedPosition: nextFixedPosition,\r\n        fixedDirection: fixedDirection,\r\n        fixedOffset: fixedOffset,\r\n    };\r\n}\n\n/**\r\n * @namespace Resizable\r\n * @memberof Moveable\r\n * @description Resizable indicates whether the target's width and height can be increased or decreased.\r\n */\r\nvar directionCondition$2 = getDirectionCondition(\"resizable\");\r\nvar Resizable = {\r\n    name: \"resizable\",\r\n    ableGroup: \"size\",\r\n    canPinch: true,\r\n    props: [\r\n        \"resizable\",\r\n        \"throttleResize\",\r\n        \"renderDirections\",\r\n        \"displayAroundControls\",\r\n        \"keepRatio\",\r\n        \"resizeFormat\",\r\n        \"keepRatioFinally\",\r\n        \"edge\",\r\n        \"checkResizableError\",\r\n    ],\r\n    events: [\r\n        \"resizeStart\",\r\n        \"beforeResize\",\r\n        \"resize\",\r\n        \"resizeEnd\",\r\n        \"resizeGroupStart\",\r\n        \"beforeResizeGroup\",\r\n        \"resizeGroup\",\r\n        \"resizeGroupEnd\",\r\n    ],\r\n    render: getRenderDirections(\"resizable\"),\r\n    dragControlCondition: directionCondition$2,\r\n    viewClassName: getDirectionViewClassName(\"resizable\"),\r\n    dragControlStart: function (moveable, e) {\r\n        var _a;\r\n        var inputEvent = e.inputEvent, isPinch = e.isPinch, isGroup = e.isGroup, parentDirection = e.parentDirection, parentGesto = e.parentGesto, datas = e.datas, parentFixedDirection = e.parentFixedDirection, parentEvent = e.parentEvent;\r\n        var direction = getTotalDirection(parentDirection, isPinch, inputEvent, datas);\r\n        var state = moveable.state;\r\n        var target = state.target, width = state.width, height = state.height, gestos = state.gestos;\r\n        if (!direction || !target) {\r\n            return false;\r\n        }\r\n        if (gestos.resizable) {\r\n            return false;\r\n        }\r\n        gestos.resizable = parentGesto || moveable.controlGesto;\r\n        !isPinch && setDragStart(moveable, e);\r\n        datas.datas = {};\r\n        datas.direction = direction;\r\n        datas.startOffsetWidth = width;\r\n        datas.startOffsetHeight = height;\r\n        datas.prevWidth = 0;\r\n        datas.prevHeight = 0;\r\n        datas.minSize = [0, 0];\r\n        datas.startWidth = state.inlineCSSWidth || state.cssWidth;\r\n        datas.startHeight = state.inlineCSSHeight || state.cssHeight;\r\n        datas.maxSize = [Infinity, Infinity];\r\n        if (!isGroup) {\r\n            datas.minSize = [\r\n                state.minOffsetWidth,\r\n                state.minOffsetHeight,\r\n            ];\r\n            datas.maxSize = [\r\n                state.maxOffsetWidth,\r\n                state.maxOffsetHeight,\r\n            ];\r\n        }\r\n        var transformOrigin = moveable.props.transformOrigin || \"% %\";\r\n        datas.transformOrigin = transformOrigin && isString(transformOrigin)\r\n            ? transformOrigin.split(\" \")\r\n            : transformOrigin;\r\n        datas.startOffsetMatrix = state.offsetMatrix;\r\n        datas.startTransformOrigin = state.transformOrigin;\r\n        datas.isWidth = (_a = e === null || e === void 0 ? void 0 : e.parentIsWidth) !== null && _a !== void 0 ? _a : ((!direction[0] && !direction[1]) || direction[0] || !direction[1]);\r\n        function setRatio(ratio) {\r\n            datas.ratio = ratio && isFinite(ratio) ? ratio : 0;\r\n        }\r\n        datas.startPositions = getAbsolutePosesByState(moveable.state);\r\n        function setFixedDirection(fixedDirection) {\r\n            var result = getFixedDirectionInfo(datas.startPositions, fixedDirection);\r\n            datas.fixedDirection = result.fixedDirection;\r\n            datas.fixedPosition = result.fixedPosition;\r\n            datas.fixedOffset = result.fixedOffset;\r\n        }\r\n        function setFixedPosition(fixedPosition) {\r\n            var result = getOffsetFixedPositionInfo(moveable.state, fixedPosition);\r\n            datas.fixedDirection = result.fixedDirection;\r\n            datas.fixedPosition = result.fixedPosition;\r\n            datas.fixedOffset = result.fixedOffset;\r\n        }\r\n        function setMin(minSize) {\r\n            datas.minSize = [\r\n                convertUnitSize(\"\".concat(minSize[0]), 0) || 0,\r\n                convertUnitSize(\"\".concat(minSize[1]), 0) || 0,\r\n            ];\r\n        }\r\n        function setMax(maxSize) {\r\n            var nextMaxSize = [\r\n                maxSize[0] || Infinity,\r\n                maxSize[1] || Infinity,\r\n            ];\r\n            if (!isNumber(nextMaxSize[0]) || isFinite(nextMaxSize[0])) {\r\n                nextMaxSize[0] = convertUnitSize(\"\".concat(nextMaxSize[0]), 0) || Infinity;\r\n            }\r\n            if (!isNumber(nextMaxSize[1]) || isFinite(nextMaxSize[1])) {\r\n                nextMaxSize[1] = convertUnitSize(\"\".concat(nextMaxSize[1]), 0) || Infinity;\r\n            }\r\n            datas.maxSize = nextMaxSize;\r\n        }\r\n        setRatio(width / height);\r\n        setFixedDirection(parentFixedDirection || [-direction[0], -direction[1]]);\r\n        datas.setFixedDirection = setFixedDirection;\r\n        datas.setFixedPosition = setFixedPosition;\r\n        datas.setMin = setMin;\r\n        datas.setMax = setMax;\r\n        var params = fillParams(moveable, e, {\r\n            direction: direction,\r\n            startRatio: datas.ratio,\r\n            set: function (_a) {\r\n                var _b = __read(_a, 2), startWidth = _b[0], startHeight = _b[1];\r\n                datas.startWidth = startWidth;\r\n                datas.startHeight = startHeight;\r\n            },\r\n            setMin: setMin,\r\n            setMax: setMax,\r\n            setRatio: setRatio,\r\n            setFixedDirection: setFixedDirection,\r\n            setFixedPosition: setFixedPosition,\r\n            setOrigin: function (origin) {\r\n                datas.transformOrigin = origin;\r\n            },\r\n            dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e)),\r\n        });\r\n        var result = parentEvent || triggerEvent(moveable, \"onResizeStart\", params);\r\n        datas.startFixedDirection = datas.fixedDirection;\r\n        datas.startFixedPosition = datas.fixedPosition;\r\n        if (result !== false) {\r\n            datas.isResize = true;\r\n            moveable.state.snapRenderInfo = {\r\n                request: e.isRequest,\r\n                direction: direction,\r\n            };\r\n        }\r\n        return datas.isResize ? params : false;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        var _a;\r\n        var datas = e.datas, parentFlag = e.parentFlag, isPinch = e.isPinch, parentKeepRatio = e.parentKeepRatio, dragClient = e.dragClient, parentDist = e.parentDist, useSnap = e.useSnap, isRequest = e.isRequest, isGroup = e.isGroup, parentEvent = e.parentEvent, resolveMatrix = e.resolveMatrix;\r\n        var isResize = datas.isResize, transformOrigin = datas.transformOrigin, startWidth = datas.startWidth, startHeight = datas.startHeight, prevWidth = datas.prevWidth, prevHeight = datas.prevHeight, minSize = datas.minSize, maxSize = datas.maxSize, ratio = datas.ratio, startOffsetWidth = datas.startOffsetWidth, startOffsetHeight = datas.startOffsetHeight, isWidth = datas.isWidth;\r\n        if (!isResize) {\r\n            return;\r\n        }\r\n        if (resolveMatrix) {\r\n            var is3d = moveable.state.is3d;\r\n            var startOffsetMatrix = datas.startOffsetMatrix, startTransformOrigin = datas.startTransformOrigin;\r\n            var n = is3d ? 4 : 3;\r\n            var targetMatrix = parseMat(getNextTransforms(e));\r\n            var targetN = Math.sqrt(targetMatrix.length);\r\n            if (n !== targetN) {\r\n                targetMatrix = convertDimension(targetMatrix, targetN, n);\r\n            }\r\n            var nextAllMatrix = getNextMatrix(startOffsetMatrix, targetMatrix, startTransformOrigin, n);\r\n            var poses = calculatePoses(nextAllMatrix, startOffsetWidth, startOffsetHeight, n);\r\n            datas.startPositions = poses;\r\n            datas.nextTargetMatrix = targetMatrix;\r\n            datas.nextAllMatrix = nextAllMatrix;\r\n        }\r\n        var props = getProps(moveable.props, \"resizable\");\r\n        var resizeFormat = props.resizeFormat, _b = props.throttleResize, throttleResize = _b === void 0 ? parentFlag ? 0 : 1 : _b, parentMoveable = props.parentMoveable, keepRatioFinally = props.keepRatioFinally;\r\n        var direction = datas.direction;\r\n        var sizeDirection = direction;\r\n        var distWidth = 0;\r\n        var distHeight = 0;\r\n        if (!direction[0] && !direction[1]) {\r\n            sizeDirection = [1, 1];\r\n        }\r\n        var keepRatio = (ratio && (parentKeepRatio != null ? parentKeepRatio : props.keepRatio)) || false;\r\n        function getNextBoundingSize() {\r\n            var fixedDirection = datas.fixedDirection;\r\n            var nextSize = getOffsetSizeDist(sizeDirection, keepRatio, datas, e);\r\n            distWidth = nextSize.distWidth;\r\n            distHeight = nextSize.distHeight;\r\n            var nextWidth = (sizeDirection[0] - fixedDirection[0]) || keepRatio\r\n                ? Math.max(startOffsetWidth + distWidth, TINY_NUM) : startOffsetWidth;\r\n            var nextHeight = (sizeDirection[1] - fixedDirection[1]) || keepRatio\r\n                ? Math.max(startOffsetHeight + distHeight, TINY_NUM) : startOffsetHeight;\r\n            if (keepRatio && startOffsetWidth && startOffsetHeight) {\r\n                // startOffsetWidth : startOffsetHeight = nextWidth : nextHeight\r\n                if (isWidth) {\r\n                    nextHeight = nextWidth / ratio;\r\n                }\r\n                else {\r\n                    nextWidth = nextHeight * ratio;\r\n                }\r\n            }\r\n            return [nextWidth, nextHeight];\r\n        }\r\n        var _c = __read(getNextBoundingSize(), 2), boundingWidth = _c[0], boundingHeight = _c[1];\r\n        if (!parentEvent) {\r\n            datas.setFixedDirection(datas.fixedDirection);\r\n            triggerEvent(moveable, \"onBeforeResize\", fillParams(moveable, e, {\r\n                startFixedDirection: datas.startFixedDirection,\r\n                startFixedPosition: datas.startFixedPosition,\r\n                setFixedDirection: function (nextFixedDirection) {\r\n                    var _a;\r\n                    datas.setFixedDirection(nextFixedDirection);\r\n                    _a = __read(getNextBoundingSize(), 2), boundingWidth = _a[0], boundingHeight = _a[1];\r\n                    return [boundingWidth, boundingHeight];\r\n                },\r\n                setFixedPosition: function (nextFixedPosition) {\r\n                    var _a;\r\n                    datas.setFixedPosition(nextFixedPosition);\r\n                    _a = __read(getNextBoundingSize(), 2), boundingWidth = _a[0], boundingHeight = _a[1];\r\n                    return [boundingWidth, boundingHeight];\r\n                },\r\n                boundingWidth: boundingWidth,\r\n                boundingHeight: boundingHeight,\r\n                setSize: function (size) {\r\n                    var _a;\r\n                    _a = __read(size, 2), boundingWidth = _a[0], boundingHeight = _a[1];\r\n                },\r\n            }, true));\r\n        }\r\n        var fixedPosition = dragClient;\r\n        if (!dragClient) {\r\n            if (!parentFlag && isPinch) {\r\n                fixedPosition = getAbsolutePosition(moveable, [0, 0]);\r\n            }\r\n            else {\r\n                fixedPosition = datas.fixedPosition;\r\n            }\r\n        }\r\n        var snapDist = [0, 0];\r\n        if (!isPinch) {\r\n            snapDist = checkSnapResize(moveable, boundingWidth, boundingHeight, direction, fixedPosition, !useSnap && isRequest, datas);\r\n        }\r\n        if (parentDist) {\r\n            !parentDist[0] && (snapDist[0] = 0);\r\n            !parentDist[1] && (snapDist[1] = 0);\r\n        }\r\n        function computeSize() {\r\n            var _a;\r\n            if (resizeFormat) {\r\n                _a = __read(resizeFormat([boundingWidth, boundingHeight]), 2), boundingWidth = _a[0], boundingHeight = _a[1];\r\n            }\r\n            boundingWidth = throttle(boundingWidth, throttleResize);\r\n            boundingHeight = throttle(boundingHeight, throttleResize);\r\n        }\r\n        if (keepRatio) {\r\n            if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\r\n                if (abs(snapDist[0]) > abs(snapDist[1])) {\r\n                    snapDist[1] = 0;\r\n                }\r\n                else {\r\n                    snapDist[0] = 0;\r\n                }\r\n            }\r\n            var isNoSnap = !snapDist[0] && !snapDist[1];\r\n            if (isNoSnap) {\r\n                // pre-compute before maintaining the ratio\r\n                computeSize();\r\n            }\r\n            if ((sizeDirection[0] && !sizeDirection[1])\r\n                || (snapDist[0] && !snapDist[1])\r\n                || (isNoSnap && isWidth)) {\r\n                boundingWidth += snapDist[0];\r\n                boundingHeight = boundingWidth / ratio;\r\n            }\r\n            else if ((!sizeDirection[0] && sizeDirection[1])\r\n                || (!snapDist[0] && snapDist[1])\r\n                || (isNoSnap && !isWidth)) {\r\n                boundingHeight += snapDist[1];\r\n                boundingWidth = boundingHeight * ratio;\r\n            }\r\n        }\r\n        else {\r\n            boundingWidth += snapDist[0];\r\n            boundingHeight += snapDist[1];\r\n            boundingWidth = Math.max(0, boundingWidth);\r\n            boundingHeight = Math.max(0, boundingHeight);\r\n        }\r\n        _a = __read(calculateBoundSize([boundingWidth, boundingHeight], minSize, maxSize, keepRatio ? ratio : false), 2), boundingWidth = _a[0], boundingHeight = _a[1];\r\n        computeSize();\r\n        if (keepRatio && (isGroup || keepRatioFinally)) {\r\n            if (isWidth) {\r\n                boundingHeight = boundingWidth / ratio;\r\n            }\r\n            else {\r\n                boundingWidth = boundingHeight * ratio;\r\n            }\r\n        }\r\n        distWidth = boundingWidth - startOffsetWidth;\r\n        distHeight = boundingHeight - startOffsetHeight;\r\n        var delta = [distWidth - prevWidth, distHeight - prevHeight];\r\n        datas.prevWidth = distWidth;\r\n        datas.prevHeight = distHeight;\r\n        var inverseDelta = getResizeDist(moveable, boundingWidth, boundingHeight, fixedPosition, transformOrigin, datas);\r\n        if (!parentMoveable && delta.every(function (num) { return !num; }) && inverseDelta.every(function (num) { return !num; })) {\r\n            return;\r\n        }\r\n        var drag = Draggable.drag(moveable, setCustomDrag(e, moveable.state, inverseDelta, !!isPinch, false, \"draggable\"));\r\n        var transform = drag.transform;\r\n        var nextWidth = startWidth + distWidth;\r\n        var nextHeight = startHeight + distHeight;\r\n        var params = fillParams(moveable, e, __assign({ width: nextWidth, height: nextHeight, offsetWidth: Math.round(boundingWidth), offsetHeight: Math.round(boundingHeight), startRatio: ratio, boundingWidth: boundingWidth, boundingHeight: boundingHeight, direction: direction, dist: [distWidth, distHeight], delta: delta, isPinch: !!isPinch, drag: drag }, fillAfterTransform({\r\n            style: {\r\n                width: \"\".concat(nextWidth, \"px\"),\r\n                height: \"\".concat(nextHeight, \"px\"),\r\n            },\r\n            transform: transform,\r\n        }, drag, e)));\r\n        !parentEvent && triggerEvent(moveable, \"onResize\", params);\r\n        return params;\r\n    },\r\n    dragControlAfter: function (moveable, e) {\r\n        var datas = e.datas;\r\n        var isResize = datas.isResize, startOffsetWidth = datas.startOffsetWidth, startOffsetHeight = datas.startOffsetHeight, prevWidth = datas.prevWidth, prevHeight = datas.prevHeight;\r\n        if (!isResize || moveable.props.checkResizableError === false) {\r\n            return;\r\n        }\r\n        var _a = moveable.state, width = _a.width, height = _a.height;\r\n        var errorWidth = width - (startOffsetWidth + prevWidth);\r\n        var errorHeight = height - (startOffsetHeight + prevHeight);\r\n        var isErrorWidth = abs(errorWidth) > 3;\r\n        var isErrorHeight = abs(errorHeight) > 3;\r\n        if (isErrorWidth) {\r\n            datas.startWidth += errorWidth;\r\n            datas.startOffsetWidth += errorWidth;\r\n            datas.prevWidth += errorWidth;\r\n        }\r\n        if (isErrorHeight) {\r\n            datas.startHeight += errorHeight;\r\n            datas.startOffsetHeight += errorHeight;\r\n            datas.prevHeight += errorHeight;\r\n        }\r\n        if (isErrorWidth || isErrorHeight) {\r\n            return this.dragControl(moveable, e);\r\n        }\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        var datas = e.datas, parentEvent = e.parentEvent;\r\n        if (!datas.isResize) {\r\n            return;\r\n        }\r\n        datas.isResize = false;\r\n        var params = fillEndParams(moveable, e, {});\r\n        !parentEvent && triggerEvent(moveable, \"onResizeEnd\", params);\r\n        return params;\r\n    },\r\n    dragGroupControlCondition: directionCondition$2,\r\n    dragGroupControlStart: function (moveable, e) {\r\n        var datas = e.datas;\r\n        var params = this.dragControlStart(moveable, __assign(__assign({}, e), { isGroup: true }));\r\n        if (!params) {\r\n            return false;\r\n        }\r\n        var originalEvents = fillChildEvents(moveable, \"resizable\", e);\r\n        var parentStartOffsetWidth = datas.startOffsetWidth, parentStartOffsetHeight = datas.startOffsetHeight;\r\n        function updateGroupMin() {\r\n            var originalMinSize = datas.minSize;\r\n            originalEvents.forEach(function (ev) {\r\n                var _a = ev.datas, childMinSize = _a.minSize, childStartOffsetWidth = _a.startOffsetWidth, childStartOffsetHeight = _a.startOffsetHeight;\r\n                var parentMinWidth = parentStartOffsetWidth\r\n                    * (childStartOffsetWidth ? childMinSize[0] / childStartOffsetWidth : 0);\r\n                var parentMinHeight = parentStartOffsetHeight\r\n                    * (childStartOffsetHeight ? childMinSize[1] / childStartOffsetHeight : 0);\r\n                originalMinSize[0] = Math.max(originalMinSize[0], parentMinWidth);\r\n                originalMinSize[1] = Math.max(originalMinSize[1], parentMinHeight);\r\n            });\r\n        }\r\n        function updateGroupMax() {\r\n            var originalMaxSize = datas.maxSize;\r\n            originalEvents.forEach(function (ev) {\r\n                var _a = ev.datas, childMaxSize = _a.maxSize, childStartOffsetWidth = _a.startOffsetWidth, childStartOffsetHeight = _a.startOffsetHeight;\r\n                var parentMaxWidth = parentStartOffsetWidth\r\n                    * (childStartOffsetWidth ? childMaxSize[0] / childStartOffsetWidth : 0);\r\n                var parentMaxHeight = parentStartOffsetHeight\r\n                    * (childStartOffsetHeight ? childMaxSize[1] / childStartOffsetHeight : 0);\r\n                originalMaxSize[0] = Math.min(originalMaxSize[0], parentMaxWidth);\r\n                originalMaxSize[1] = Math.min(originalMaxSize[1], parentMaxHeight);\r\n            });\r\n        }\r\n        var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\r\n            return startChildDist(moveable, child, datas, ev);\r\n        });\r\n        updateGroupMin();\r\n        updateGroupMax();\r\n        var setFixedDirection = function (fixedDirection) {\r\n            params.setFixedDirection(fixedDirection);\r\n            events.forEach(function (ev, i) {\r\n                ev.setFixedDirection(fixedDirection);\r\n                startChildDist(moveable, ev.moveable, datas, originalEvents[i]);\r\n            });\r\n        };\r\n        datas.setFixedDirection = setFixedDirection;\r\n        var nextParams = __assign(__assign({}, params), { targets: moveable.props.targets, events: events.map(function (ev) {\r\n                return __assign(__assign({}, ev), { setMin: function (minSize) {\r\n                        ev.setMin(minSize);\r\n                        updateGroupMin();\r\n                    }, setMax: function (maxSize) {\r\n                        ev.setMax(maxSize);\r\n                        updateGroupMax();\r\n                    } });\r\n            }), setFixedDirection: setFixedDirection, setMin: function (minSize) {\r\n                params.setMin(minSize);\r\n                updateGroupMin();\r\n            }, setMax: function (maxSize) {\r\n                params.setMax(maxSize);\r\n                updateGroupMax();\r\n            } });\r\n        var result = triggerEvent(moveable, \"onResizeGroupStart\", nextParams);\r\n        datas.isResize = result !== false;\r\n        return datas.isResize ? params : false;\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isResize) {\r\n            return;\r\n        }\r\n        var props = getProps(moveable.props, \"resizable\");\r\n        catchEvent(moveable, \"onBeforeResize\", function (parentEvent) {\r\n            triggerEvent(moveable, \"onBeforeResizeGroup\", fillParams(moveable, e, __assign(__assign({}, parentEvent), { targets: props.targets }), true));\r\n        });\r\n        var params = this.dragControl(moveable, __assign(__assign({}, e), { isGroup: true }));\r\n        if (!params) {\r\n            return;\r\n        }\r\n        var boundingWidth = params.boundingWidth, boundingHeight = params.boundingHeight, dist = params.dist;\r\n        var keepRatio = props.keepRatio;\r\n        var parentScale = [\r\n            boundingWidth / (boundingWidth - dist[0]),\r\n            boundingHeight / (boundingHeight - dist[1]),\r\n        ];\r\n        var fixedPosition = datas.fixedPosition;\r\n        var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\r\n            var _a = __read(calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [\r\n                ev.datas.originalX * parentScale[0],\r\n                ev.datas.originalY * parentScale[1],\r\n                1,\r\n            ], 3), 2), clientX = _a[0], clientY = _a[1];\r\n            return __assign(__assign({}, ev), { parentDist: null, parentScale: parentScale, dragClient: plus(fixedPosition, [clientX, clientY]), parentKeepRatio: keepRatio });\r\n        });\r\n        var nextParams = __assign({ targets: props.targets, events: events }, params);\r\n        triggerEvent(moveable, \"onResizeGroup\", nextParams);\r\n        return nextParams;\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        var isDrag = e.isDrag, datas = e.datas;\r\n        if (!datas.isResize) {\r\n            return;\r\n        }\r\n        this.dragControlEnd(moveable, e);\r\n        var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\r\n        var nextParams = fillEndParams(moveable, e, {\r\n            targets: moveable.props.targets,\r\n            events: events,\r\n        });\r\n        triggerEvent(moveable, \"onResizeGroupEnd\", nextParams);\r\n        return isDrag;\r\n    },\r\n    /**\r\n     * @method Moveable.Resizable#request\r\n     * @param {Moveable.Resizable.ResizableRequestParam} e - the Resizable's request parameter\r\n     * @return {Moveable.Requester} Moveable Requester\r\n     * @example\r\n\n     * // Instantly Request (requestStart - request - requestEnd)\r\n     * // Use Relative Value\r\n     * moveable.request(\"resizable\", { deltaWidth: 10, deltaHeight: 10 }, true);\r\n     *\r\n     * // Use Absolute Value\r\n     * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 }, true);\r\n     *\r\n     * // requestStart\r\n     * const requester = moveable.request(\"resizable\");\r\n     *\r\n     * // request\r\n     * // Use Relative Value\r\n     * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n     * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n     * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n     *\r\n     * // Use Absolute Value\r\n     * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 });\r\n     * moveable.request(\"resizable\", { offsetWidth: 110, offsetHeight: 100 });\r\n     * moveable.request(\"resizable\", { offsetWidth: 120, offsetHeight: 100 });\r\n     *\r\n     * // requestEnd\r\n     * requester.requestEnd();\r\n     */\r\n    request: function (moveable) {\r\n        var datas = {};\r\n        var distWidth = 0;\r\n        var distHeight = 0;\r\n        var useSnap = false;\r\n        var rect = moveable.getRect();\r\n        return {\r\n            isControl: true,\r\n            requestStart: function (e) {\r\n                var _a;\r\n                useSnap = e.useSnap;\r\n                return {\r\n                    datas: datas,\r\n                    parentDirection: e.direction || [1, 1],\r\n                    parentIsWidth: (_a = e === null || e === void 0 ? void 0 : e.horizontal) !== null && _a !== void 0 ? _a : true,\r\n                    useSnap: useSnap,\r\n                };\r\n            },\r\n            request: function (e) {\r\n                if (\"offsetWidth\" in e) {\r\n                    distWidth = e.offsetWidth - rect.offsetWidth;\r\n                }\r\n                else if (\"deltaWidth\" in e) {\r\n                    distWidth += e.deltaWidth;\r\n                }\r\n                if (\"offsetHeight\" in e) {\r\n                    distHeight = e.offsetHeight - rect.offsetHeight;\r\n                }\r\n                else if (\"deltaHeight\" in e) {\r\n                    distHeight += e.deltaHeight;\r\n                }\r\n                return {\r\n                    datas: datas,\r\n                    parentDist: [distWidth, distHeight],\r\n                    parentKeepRatio: e.keepRatio,\r\n                    useSnap: useSnap,\r\n                };\r\n            },\r\n            requestEnd: function () {\r\n                return { datas: datas, isDrag: true, useSnap: useSnap };\r\n            },\r\n        };\r\n    },\r\n    unset: function (moveable) {\r\n        moveable.state.gestos.resizable = null;\r\n    },\r\n};\r\n/**\r\n * Whether or not target can be resized.\r\n * @name Moveable.Resizable#resizable\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     resizable: false,\r\n * });\r\n *\r\n * moveable.resizable = true;\r\n */\r\n/**\r\n * throttle of width, height when resize. If throttleResize is set to less than 1, the target may shake.\r\n * @name Moveable.Resizable#throttleResize\r\n * @default 1\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   resizable: true,\r\n *   throttleResize: 1,\r\n * });\r\n *\r\n * moveable.throttleResize = 0;\r\n */\r\n/**\r\n * When resize or scale, keeps a ratio of the width, height.\r\n * @name Moveable.Resizable#keepRatio\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   resizable: true,\r\n * });\r\n *\r\n * moveable.keepRatio = true;\r\n */\r\n/**\r\n * Set directions to show the control box.\r\n * @name Moveable.Resizable#renderDirections\r\n * @default [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"]\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   resizable: true,\r\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\r\n * });\r\n *\r\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\r\n */\r\n/**\r\n * Function to convert size for resize\r\n * @name Moveable.Resizable#resizeFormat\r\n * @default oneself\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   resizable: true,\r\n *   resizeFormat: v => v,\r\n * });\r\n *\r\n * moveable.resizeFormat = (size: number[]) => ([Math.trunc(size[0]), Math.trunc(size[1])];\r\n */\r\n/**\r\n * When the resize starts, the resizeStart event is called.\r\n * @memberof Moveable.Resizable\r\n * @event resizeStart\r\n * @param {Moveable.Resizable.OnResizeStart} - Parameters for the resizeStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { resizable: true });\r\n * moveable.on(\"resizeStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n * When resizing, `beforeResize` is called before `resize` occurs. In `beforeResize`, you can get and set the pre-value before resizing.\r\n * @memberof Moveable.Resizable\r\n * @event beforeResize\r\n * @param {Moveable.Resizable.OnBeforeResize} - Parameters for the `beforeResize` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { resizable: true });\r\n * moveable.on(\"beforeResize\", ({ setFixedDirection }) => {\r\n *     if (shiftKey) {\r\n *        setFixedDirection([0, 0]);\r\n *     }\r\n * });\r\n * moveable.on(\"resize\", ({ target, width, height, drag }) => {\r\n *     target.style.width = `${width}px`;\r\n *     target.style.height = `${height}px`;\r\n *     target.style.transform = drag.transform;\r\n * });\r\n */\r\n/**\r\n * When resizing, the resize event is called.\r\n * @memberof Moveable.Resizable\r\n * @event resize\r\n * @param {Moveable.Resizable.OnResize} - Parameters for the resize event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { resizable: true });\r\n * moveable.on(\"resize\", ({ target, width, height }) => {\r\n *     target.style.width = `${e.width}px`;\r\n *     target.style.height = `${e.height}px`;\r\n * });\r\n */\r\n/**\r\n * When the resize finishes, the resizeEnd event is called.\r\n * @memberof Moveable.Resizable\r\n * @event resizeEnd\r\n * @param {Moveable.Resizable.OnResizeEnd} - Parameters for the resizeEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { resizable: true });\r\n * moveable.on(\"resizeEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\r\n/**\r\n* When the group resize starts, the `resizeGroupStart` event is called.\r\n* @memberof Moveable.Resizable\r\n* @event resizeGroupStart\r\n* @param {Moveable.Resizable.OnResizeGroupStart} - Parameters for the `resizeGroupStart` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     resizable: true\r\n* });\r\n* moveable.on(\"resizeGroupStart\", ({ targets }) => {\r\n*     console.log(\"onResizeGroupStart\", targets);\r\n* });\r\n*/\r\n/**\r\n* When the group resize, the `resizeGroup` event is called.\r\n* @memberof Moveable.Resizable\r\n* @event resizeGroup\r\n* @param {Moveable.Resizable.onResizeGroup} - Parameters for the `resizeGroup` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     resizable: true\r\n* });\r\n* moveable.on(\"resizeGroup\", ({ targets, events }) => {\r\n*     console.log(\"onResizeGroup\", targets);\r\n*     events.forEach(ev => {\r\n*         const offset = [\r\n*             direction[0] < 0 ? -ev.delta[0] : 0,\r\n*             direction[1] < 0 ? -ev.delta[1] : 0,\r\n*         ];\r\n*         // ev.drag is a drag event that occurs when the group resize.\r\n*         const left = offset[0] + ev.drag.beforeDist[0];\r\n*         const top = offset[1] + ev.drag.beforeDist[1];\r\n*         const width = ev.width;\r\n*         const top = ev.top;\r\n*     });\r\n* });\r\n*/\r\n/**\r\n * When the group resize finishes, the `resizeGroupEnd` event is called.\r\n * @memberof Moveable.Resizable\r\n * @event resizeGroupEnd\r\n * @param {Moveable.Resizable.OnResizeGroupEnd} - Parameters for the `resizeGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     resizable: true\r\n * });\r\n * moveable.on(\"resizeGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onResizeGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\n/**\r\n * @namespace Rotatable\r\n * @memberof Moveable\r\n * @description Rotatable indicates whether the target can be rotated.\r\n */\r\nfunction setRotateStartInfo(moveable, datas, clientX, clientY, rect) {\r\n    var groupable = moveable.props.groupable;\r\n    var state = moveable.state;\r\n    var n = state.is3d ? 4 : 3;\r\n    var origin = datas.origin;\r\n    var nextOrigin = calculatePosition(moveable.state.rootMatrix, \r\n    // TO-DO #710\r\n    minus([origin[0], origin[1]], groupable ? [0, 0] : [state.left, state.top]), n);\r\n    var startAbsoluteOrigin = plus([rect.left, rect.top], nextOrigin);\r\n    datas.startAbsoluteOrigin = startAbsoluteOrigin;\r\n    datas.prevDeg = getRad(startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180;\r\n    datas.defaultDeg = datas.prevDeg;\r\n    datas.prevSnapDeg = 0;\r\n    datas.loop = 0;\r\n    datas.startDist = getDist$1(startAbsoluteOrigin, [clientX, clientY]);\r\n}\r\nfunction getAbsoluteDist(deg, direction, datas) {\r\n    var defaultDeg = datas.defaultDeg, prevDeg = datas.prevDeg;\r\n    var normalizedPrevDeg = prevDeg % 360;\r\n    var loop = Math.floor(prevDeg / 360);\r\n    if (normalizedPrevDeg < 0) {\r\n        normalizedPrevDeg += 360;\r\n    }\r\n    if (normalizedPrevDeg > deg && normalizedPrevDeg > 270 && deg < 90) {\r\n        // 360 => 0\r\n        ++loop;\r\n    }\r\n    else if (normalizedPrevDeg < deg && normalizedPrevDeg < 90 && deg > 270) {\r\n        // 0 => 360\r\n        --loop;\r\n    }\r\n    var dist = direction * (loop * 360 + deg - defaultDeg);\r\n    datas.prevDeg = defaultDeg + dist;\r\n    return dist;\r\n}\r\nfunction getAbsoluteDistByClient(clientX, clientY, direction, datas) {\r\n    return getAbsoluteDist(getRad(datas.startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180, direction, datas);\r\n}\r\nfunction getRotateInfo(moveable, moveableRect, datas, dist, startValue, checkSnap) {\r\n    var _a = moveable.props.throttleRotate, throttleRotate = _a === void 0 ? 0 : _a;\r\n    var prevSnapDeg = datas.prevSnapDeg;\r\n    var snapRotation = 0;\r\n    var isSnap = false;\r\n    if (checkSnap) {\r\n        var result = checkSnapRotate(moveable, moveableRect, dist, startValue + dist);\r\n        isSnap = result.isSnap;\r\n        snapRotation = startValue + result.dist;\r\n    }\r\n    if (!isSnap) {\r\n        snapRotation = throttle(startValue + dist, throttleRotate);\r\n    }\r\n    var snapDeg = snapRotation - startValue;\r\n    datas.prevSnapDeg = snapDeg;\r\n    return [snapDeg - prevSnapDeg, snapDeg, snapRotation];\r\n}\r\nfunction getRotationPositions(rotationPosition, _a, direction) {\r\n    var _b = __read(_a, 4), pos1 = _b[0], pos2 = _b[1], pos3 = _b[2], pos4 = _b[3];\r\n    if (rotationPosition === \"none\") {\r\n        return [];\r\n    }\r\n    if (isArray(rotationPosition)) {\r\n        return rotationPosition.map(function (child) { return getRotationPositions(child, [pos1, pos2, pos3, pos4], direction)[0]; });\r\n    }\r\n    var _c = __read((rotationPosition || \"top\").split(\"-\"), 2), dir1 = _c[0], dir2 = _c[1];\r\n    var radPoses = [pos1, pos2];\r\n    if (dir1 === \"left\") {\r\n        radPoses = [pos3, pos1];\r\n    }\r\n    else if (dir1 === \"right\") {\r\n        radPoses = [pos2, pos4];\r\n    }\r\n    else if (dir1 === \"bottom\") {\r\n        radPoses = [pos4, pos3];\r\n    }\r\n    var pos = [\r\n        (radPoses[0][0] + radPoses[1][0]) / 2,\r\n        (radPoses[0][1] + radPoses[1][1]) / 2,\r\n    ];\r\n    var rad = getRotationRad(radPoses, direction);\r\n    if (dir2) {\r\n        var isStart = dir2 === \"top\" || dir2 === \"left\";\r\n        var isReverse = dir1 === \"bottom\" || dir1 === \"left\";\r\n        pos = radPoses[(isStart && !isReverse) || (!isStart && isReverse) ? 0 : 1];\r\n    }\r\n    return [[pos, rad]];\r\n}\r\nfunction dragControlCondition(moveable, e) {\r\n    if (e.isRequest) {\r\n        return e.requestAble === \"rotatable\";\r\n    }\r\n    var target = e.inputEvent.target;\r\n    if (hasClass(target, prefix(\"rotation-control\"))\r\n        || (moveable.props.rotateAroundControls && hasClass(target, prefix(\"around-control\")))\r\n        || (hasClass(target, prefix(\"control\")) && hasClass(target, prefix(\"rotatable\")))) {\r\n        return true;\r\n    }\r\n    var rotationTarget = moveable.props.rotationTarget;\r\n    if (rotationTarget) {\r\n        return getRefTargets(rotationTarget, true).some(function (element) {\r\n            if (!element) {\r\n                return false;\r\n            }\r\n            return target === element || target.contains(element);\r\n        });\r\n    }\r\n    return false;\r\n}\r\nvar css = \".rotation {\\nposition: absolute;\\nheight: 40px;\\nwidth: 1px;\\ntransform-origin: 50% 100%;\\nheight: calc(40px * var(--zoom));\\ntop: auto;\\nleft: 0;\\nbottom: 100%;\\nwill-change: transform;\\n}\\n.rotation .rotation-line {\\ndisplay: block;\\nwidth: 100%;\\nheight: 100%;\\ntransform-origin: 50% 50%;\\n}\\n.rotation .rotation-control {\\nborder-color: #4af;\\nborder-color: var(--moveable-color);\\nbackground:#fff;\\ncursor: alias;\\n}\\n:global .view-rotation-dragging, .rotatable.direction.control {\\ncursor: alias;\\n}\\n.rotatable.direction.control.move {\\ncursor: move;\\n}\\n\";\r\nvar Rotatable = {\r\n    name: \"rotatable\",\r\n    canPinch: true,\r\n    props: [\r\n        \"rotatable\",\r\n        \"rotationPosition\",\r\n        \"throttleRotate\",\r\n        \"renderDirections\",\r\n        \"rotationTarget\",\r\n        \"rotateAroundControls\",\r\n        \"edge\",\r\n        \"resolveAblesWithRotatable\",\r\n        \"displayAroundControls\",\r\n    ],\r\n    events: [\r\n        \"rotateStart\",\r\n        \"beforeRotate\",\r\n        \"rotate\",\r\n        \"rotateEnd\",\r\n        \"rotateGroupStart\",\r\n        \"beforeRotateGroup\",\r\n        \"rotateGroup\",\r\n        \"rotateGroupEnd\",\r\n    ],\r\n    css: [css],\r\n    viewClassName: function (moveable) {\r\n        if (!moveable.isDragging(\"rotatable\")) {\r\n            return \"\";\r\n        }\r\n        return prefix(\"view-rotation-dragging\");\r\n    },\r\n    render: function (moveable, React) {\r\n        var _a = getProps(moveable.props, \"rotatable\"), rotatable = _a.rotatable, rotationPosition = _a.rotationPosition, zoom = _a.zoom, renderDirections = _a.renderDirections, rotateAroundControls = _a.rotateAroundControls, resolveAblesWithRotatable = _a.resolveAblesWithRotatable;\r\n        var _b = moveable.getState(), renderPoses = _b.renderPoses, direction = _b.direction;\r\n        if (!rotatable) {\r\n            return null;\r\n        }\r\n        var positions = getRotationPositions(rotationPosition, renderPoses, direction);\r\n        var jsxs = [];\r\n        positions.forEach(function (_a, i) {\r\n            var _b = __read(_a, 2), pos = _b[0], rad = _b[1];\r\n            jsxs.push(React.createElement(\"div\", { key: \"rotation\".concat(i), className: prefix(\"rotation\"), style: {\r\n                    // tslint:disable-next-line: max-line-length\r\n                    transform: \"translate(-50%) translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rad, \"rad)\"),\r\n                } },\r\n                React.createElement(\"div\", { className: prefix(\"line rotation-line\"), style: {\r\n                        transform: \"scaleX(\".concat(zoom, \")\"),\r\n                    } }),\r\n                React.createElement(\"div\", { className: prefix(\"control rotation-control\"), style: {\r\n                        transform: \"translate(0.5px) scale(\".concat(zoom, \")\"),\r\n                    } })));\r\n        });\r\n        if (renderDirections) {\r\n            var ables = getKeys(resolveAblesWithRotatable || {});\r\n            var resolveMap_1 = {};\r\n            ables.forEach(function (name) {\r\n                resolveAblesWithRotatable[name].forEach(function (direction) {\r\n                    resolveMap_1[direction] = name;\r\n                });\r\n            });\r\n            var directionControlInfos = [];\r\n            if (isArray(renderDirections)) {\r\n                directionControlInfos = renderDirections.map(function (dir) {\r\n                    var able = resolveMap_1[dir];\r\n                    return {\r\n                        data: able ? { resolve: able } : {},\r\n                        classNames: able ? [\"move\"] : [],\r\n                        dir: dir,\r\n                    };\r\n                });\r\n            }\r\n            jsxs.push.apply(jsxs, __spreadArray([], __read(renderDirectionControlsByInfos(moveable, \"rotatable\", directionControlInfos, React)), false));\r\n        }\r\n        if (rotateAroundControls) {\r\n            jsxs.push.apply(jsxs, __spreadArray([], __read(renderAroundControls(moveable, React)), false));\r\n        }\r\n        return jsxs;\r\n    },\r\n    dragControlCondition: dragControlCondition,\r\n    dragControlStart: function (moveable, e) {\r\n        var _a;\r\n        var _b;\r\n        var datas = e.datas, clientX = e.clientX, clientY = e.clientY, parentRotate = e.parentRotate, parentFlag = e.parentFlag, isPinch = e.isPinch, isRequest = e.isRequest;\r\n        var state = moveable.state;\r\n        var target = state.target, left = state.left, top = state.top, direction = state.direction, beforeDirection = state.beforeDirection, targetTransform = state.targetTransform, moveableClientRect = state.moveableClientRect, offsetMatrix = state.offsetMatrix, targetMatrix = state.targetMatrix, allMatrix = state.allMatrix, width = state.width, height = state.height;\r\n        if (!isRequest && !target) {\r\n            return false;\r\n        }\r\n        var rect = moveable.getRect();\r\n        datas.rect = rect;\r\n        datas.transform = targetTransform;\r\n        datas.left = left;\r\n        datas.top = top;\r\n        var setFixedPosition = function (fixedPosition) {\r\n            var result = getOffsetFixedPositionInfo(moveable.state, fixedPosition);\r\n            datas.fixedDirection = result.fixedDirection;\r\n            datas.fixedOffset = result.fixedOffset;\r\n            datas.fixedPosition = result.fixedPosition;\r\n            if (resizeStart) {\r\n                resizeStart.setFixedPosition(fixedPosition);\r\n            }\r\n        };\r\n        var setFixedDirection = function (fixedDirection) {\r\n            var result = getOffsetFixedDirectionInfo(moveable.state, fixedDirection);\r\n            datas.fixedDirection = result.fixedDirection;\r\n            datas.fixedOffset = result.fixedOffset;\r\n            datas.fixedPosition = result.fixedPosition;\r\n            if (resizeStart) {\r\n                resizeStart.setFixedDirection(fixedDirection);\r\n            }\r\n        };\r\n        var startClientX = clientX;\r\n        var startClientY = clientY;\r\n        if (isRequest || isPinch || parentFlag) {\r\n            var externalRotate = parentRotate || 0;\r\n            datas.beforeInfo = {\r\n                origin: rect.beforeOrigin,\r\n                prevDeg: externalRotate,\r\n                defaultDeg: externalRotate,\r\n                prevSnapDeg: 0,\r\n                startDist: 0,\r\n            };\r\n            datas.afterInfo = __assign(__assign({}, datas.beforeInfo), { origin: rect.origin });\r\n            datas.absoluteInfo = __assign(__assign({}, datas.beforeInfo), { origin: rect.origin, startValue: externalRotate });\r\n        }\r\n        else {\r\n            var inputTarget = (_b = e.inputEvent) === null || _b === void 0 ? void 0 : _b.target;\r\n            if (inputTarget) {\r\n                var regionDirection = inputTarget.getAttribute(\"data-direction\") || \"\";\r\n                var controlDirection = DIRECTION_REGION_TO_DIRECTION[regionDirection];\r\n                if (controlDirection) {\r\n                    datas.isControl = true;\r\n                    datas.isAroundControl = hasClass(inputTarget, prefix(\"around-control\"));\r\n                    datas.controlDirection = controlDirection;\r\n                    var resolve = inputTarget.getAttribute(\"data-resolve\");\r\n                    if (resolve) {\r\n                        datas.resolveAble = resolve;\r\n                    }\r\n                    var clientPoses = calculateMoveableClientPositions(state.rootMatrix, state.renderPoses, moveableClientRect);\r\n                    _a = __read(getPosByDirection(clientPoses, controlDirection), 2), startClientX = _a[0], startClientY = _a[1];\r\n                }\r\n            }\r\n            datas.beforeInfo = { origin: rect.beforeOrigin };\r\n            datas.afterInfo = { origin: rect.origin };\r\n            datas.absoluteInfo = {\r\n                origin: rect.origin,\r\n                startValue: rect.rotation,\r\n            };\r\n            var originalFixedPosition_1 = setFixedPosition;\r\n            setFixedPosition = function (fixedPosition) {\r\n                var n = state.is3d ? 4 : 3;\r\n                var _a = __read(plus(getOrigin(targetMatrix, n), fixedPosition), 2), originX = _a[0], originY = _a[1];\r\n                var fixedBeforeOrigin = calculate(offsetMatrix, convertPositionMatrix([originX, originY], n));\r\n                var fixedAfterOrigin = calculate(allMatrix, convertPositionMatrix([fixedPosition[0], fixedPosition[1]], n));\r\n                originalFixedPosition_1(fixedPosition);\r\n                var posDelta = state.posDelta;\r\n                datas.beforeInfo.origin = minus(fixedBeforeOrigin, posDelta);\r\n                datas.afterInfo.origin = minus(fixedAfterOrigin, posDelta);\r\n                datas.absoluteInfo.origin = minus(fixedAfterOrigin, posDelta);\r\n                setRotateStartInfo(moveable, datas.beforeInfo, startClientX, startClientY, moveableClientRect);\r\n                setRotateStartInfo(moveable, datas.afterInfo, startClientX, startClientY, moveableClientRect);\r\n                setRotateStartInfo(moveable, datas.absoluteInfo, startClientX, startClientY, moveableClientRect);\r\n            };\r\n            setFixedDirection = function (fixedDirection) {\r\n                var fixedPosition = getPosByDirection([\r\n                    [0, 0],\r\n                    [width, 0],\r\n                    [0, height],\r\n                    [width, height],\r\n                ], fixedDirection);\r\n                setFixedPosition(fixedPosition);\r\n            };\r\n        }\r\n        datas.startClientX = startClientX;\r\n        datas.startClientY = startClientY;\r\n        datas.direction = direction;\r\n        datas.beforeDirection = beforeDirection;\r\n        datas.startValue = 0;\r\n        datas.datas = {};\r\n        setDefaultTransformIndex(moveable, e, \"rotate\");\r\n        var dragStart = false;\r\n        var resizeStart = false;\r\n        if (datas.isControl && datas.resolveAble) {\r\n            var resolveAble = datas.resolveAble;\r\n            if (resolveAble === \"resizable\") {\r\n                resizeStart = Resizable.dragControlStart(moveable, __assign(__assign({}, (new CustomGesto(\"resizable\").dragStart([0, 0], e))), { parentPosition: datas.controlPosition, parentFixedPosition: datas.fixedPosition }));\r\n            }\r\n        }\r\n        if (!resizeStart) {\r\n            dragStart = Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e));\r\n        }\r\n        setFixedPosition(getTotalOrigin(moveable));\r\n        var params = fillParams(moveable, e, __assign(__assign({ set: function (rotatation) {\r\n                datas.startValue = rotatation * Math.PI / 180;\r\n            }, setFixedDirection: setFixedDirection, setFixedPosition: setFixedPosition }, fillTransformStartEvent(moveable, e)), { dragStart: dragStart, resizeStart: resizeStart }));\r\n        var result = triggerEvent(moveable, \"onRotateStart\", params);\r\n        datas.isRotate = result !== false;\r\n        state.snapRenderInfo = {\r\n            request: e.isRequest,\r\n        };\r\n        return datas.isRotate ? params : false;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        var _a, _b, _c;\r\n        var datas = e.datas, clientDistX = e.clientDistX, clientDistY = e.clientDistY, parentRotate = e.parentRotate, parentFlag = e.parentFlag, isPinch = e.isPinch, groupDelta = e.groupDelta, resolveMatrix = e.resolveMatrix;\r\n        var beforeDirection = datas.beforeDirection, beforeInfo = datas.beforeInfo, afterInfo = datas.afterInfo, absoluteInfo = datas.absoluteInfo, isRotate = datas.isRotate, startValue = datas.startValue, rect = datas.rect, startClientX = datas.startClientX, startClientY = datas.startClientY;\r\n        if (!isRotate) {\r\n            return;\r\n        }\r\n        resolveTransformEvent(moveable, e, \"rotate\");\r\n        var targetDirection = getTransformDirection(e);\r\n        var direction = beforeDirection * targetDirection;\r\n        var parentMoveable = moveable.props.parentMoveable;\r\n        var beforeDelta = 0;\r\n        var beforeDist;\r\n        var beforeRotation;\r\n        var delta = 0;\r\n        var dist;\r\n        var rotation;\r\n        var absoluteDelta = 0;\r\n        var absoluteDist;\r\n        var absoluteRotation;\r\n        var startRotation = 180 / Math.PI * startValue;\r\n        var absoluteStartRotation = absoluteInfo.startValue;\r\n        var isSnap = false;\r\n        var nextClientX = startClientX + clientDistX;\r\n        var nextClientY = startClientY + clientDistY;\r\n        if (!parentFlag && \"parentDist\" in e) {\r\n            var parentDist = e.parentDist;\r\n            beforeDist = parentDist;\r\n            dist = parentDist;\r\n            absoluteDist = parentDist;\r\n        }\r\n        else if (isPinch || parentFlag) {\r\n            beforeDist = getAbsoluteDist(parentRotate, beforeDirection, beforeInfo);\r\n            dist = getAbsoluteDist(parentRotate, direction, afterInfo);\r\n            absoluteDist = getAbsoluteDist(parentRotate, direction, absoluteInfo);\r\n        }\r\n        else {\r\n            beforeDist = getAbsoluteDistByClient(nextClientX, nextClientY, beforeDirection, beforeInfo);\r\n            dist = getAbsoluteDistByClient(nextClientX, nextClientY, direction, afterInfo);\r\n            absoluteDist = getAbsoluteDistByClient(nextClientX, nextClientY, direction, absoluteInfo);\r\n            isSnap = true;\r\n        }\r\n        beforeRotation = startRotation + beforeDist;\r\n        rotation = startRotation + dist;\r\n        absoluteRotation = absoluteStartRotation + absoluteDist;\r\n        triggerEvent(moveable, \"onBeforeRotate\", fillParams(moveable, e, {\r\n            beforeRotation: beforeRotation,\r\n            rotation: rotation,\r\n            absoluteRotation: absoluteRotation,\r\n            setRotation: function (nextRotation) {\r\n                dist = nextRotation - startRotation;\r\n                beforeDist = dist;\r\n                absoluteDist = dist;\r\n            },\r\n        }, true));\r\n        _a = __read(getRotateInfo(moveable, rect, beforeInfo, beforeDist, startRotation, isSnap), 3), beforeDelta = _a[0], beforeDist = _a[1], beforeRotation = _a[2];\r\n        _b = __read(getRotateInfo(moveable, rect, afterInfo, dist, startRotation, isSnap), 3), delta = _b[0], dist = _b[1], rotation = _b[2];\r\n        _c = __read(getRotateInfo(moveable, rect, absoluteInfo, absoluteDist, absoluteStartRotation, isSnap), 3), absoluteDelta = _c[0], absoluteDist = _c[1], absoluteRotation = _c[2];\r\n        if (!absoluteDelta && !delta && !beforeDelta && !parentMoveable && !resolveMatrix) {\r\n            return;\r\n        }\r\n        var nextTransform = convertTransformFormat(datas, \"rotate(\".concat(rotation, \"deg)\"), \"rotate(\".concat(dist, \"deg)\"));\r\n        if (resolveMatrix) {\r\n            datas.fixedPosition = getTranslateFixedPosition(moveable, datas.targetAllTransform, datas.fixedDirection, datas.fixedOffset, datas);\r\n        }\r\n        var inverseDist = getRotateDist(moveable, dist, datas);\r\n        var inverseDelta = minus(plus(groupDelta || [0, 0], inverseDist), datas.prevInverseDist || [0, 0]);\r\n        datas.prevInverseDist = inverseDist;\r\n        datas.requestValue = null;\r\n        var dragEvent = fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e);\r\n        var transformEvent = dragEvent;\r\n        var parentDistance = getDist$1([nextClientX, nextClientY], absoluteInfo.startAbsoluteOrigin) - absoluteInfo.startDist;\r\n        var resize = undefined;\r\n        if (datas.resolveAble === \"resizable\") {\r\n            var resizeEvent = Resizable.dragControl(moveable, __assign(__assign({}, setCustomDrag(e, moveable.state, [e.deltaX, e.deltaY], !!isPinch, false, \"resizable\")), { resolveMatrix: true, parentDistance: parentDistance }));\r\n            if (resizeEvent) {\r\n                resize = resizeEvent;\r\n                transformEvent = fillAfterTransform(transformEvent, resizeEvent, e);\r\n            }\r\n        }\r\n        var params = fillParams(moveable, e, __assign(__assign({ delta: delta, dist: dist, rotate: rotation, rotation: rotation, beforeDist: beforeDist, beforeDelta: beforeDelta, beforeRotate: beforeRotation, beforeRotation: beforeRotation, absoluteDist: absoluteDist, absoluteDelta: absoluteDelta, absoluteRotate: absoluteRotation, absoluteRotation: absoluteRotation, isPinch: !!isPinch, resize: resize }, dragEvent), transformEvent));\r\n        triggerEvent(moveable, \"onRotate\", params);\r\n        return params;\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isRotate) {\r\n            return;\r\n        }\r\n        datas.isRotate = false;\r\n        var params = fillEndParams(moveable, e, {});\r\n        triggerEvent(moveable, \"onRotateEnd\", params);\r\n        return params;\r\n    },\r\n    dragGroupControlCondition: dragControlCondition,\r\n    dragGroupControlStart: function (moveable, e) {\r\n        var datas = e.datas;\r\n        var _a = moveable.state, parentLeft = _a.left, parentTop = _a.top, parentBeforeOrigin = _a.beforeOrigin;\r\n        var params = this.dragControlStart(moveable, e);\r\n        if (!params) {\r\n            return false;\r\n        }\r\n        params.set(datas.beforeDirection * moveable.rotation);\r\n        var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\r\n            var _a = child.state, left = _a.left, top = _a.top, beforeOrigin = _a.beforeOrigin;\r\n            var childClient = plus(minus([left, top], [parentLeft, parentTop]), minus(beforeOrigin, parentBeforeOrigin));\r\n            ev.datas.startGroupClient = childClient;\r\n            ev.datas.groupClient = childClient;\r\n            return __assign(__assign({}, ev), { parentRotate: 0 });\r\n        });\r\n        var nextParams = __assign(__assign({}, params), { targets: moveable.props.targets, events: events });\r\n        var result = triggerEvent(moveable, \"onRotateGroupStart\", nextParams);\r\n        datas.isRotate = result !== false;\r\n        return datas.isRotate ? params : false;\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isRotate) {\r\n            return;\r\n        }\r\n        catchEvent(moveable, \"onBeforeRotate\", function (parentEvent) {\r\n            triggerEvent(moveable, \"onBeforeRotateGroup\", fillParams(moveable, e, __assign(__assign({}, parentEvent), { targets: moveable.props.targets }), true));\r\n        });\r\n        var params = this.dragControl(moveable, e);\r\n        if (!params) {\r\n            return;\r\n        }\r\n        var direction = datas.beforeDirection;\r\n        var parentRotate = params.beforeDist;\r\n        var rad = parentRotate / 180 * Math.PI;\r\n        var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\r\n            var startGroupClient = ev.datas.startGroupClient;\r\n            var _a = __read(ev.datas.groupClient, 2), prevClientX = _a[0], prevClientY = _a[1];\r\n            var _b = __read(rotate(startGroupClient, rad * direction), 2), clientX = _b[0], clientY = _b[1];\r\n            var delta = [clientX - prevClientX, clientY - prevClientY];\r\n            ev.datas.groupClient = [clientX, clientY];\r\n            return __assign(__assign({}, ev), { parentRotate: parentRotate, groupDelta: delta });\r\n        });\r\n        moveable.rotation = direction * params.beforeRotation;\r\n        var nextParams = __assign({ targets: moveable.props.targets, events: events, set: function (rotation) {\r\n                moveable.rotation = rotation;\r\n            }, setGroupRotation: function (rotation) {\r\n                moveable.rotation = rotation;\r\n            } }, params);\r\n        triggerEvent(moveable, \"onRotateGroup\", nextParams);\r\n        return nextParams;\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        var isDrag = e.isDrag, datas = e.datas;\r\n        if (!datas.isRotate) {\r\n            return;\r\n        }\r\n        this.dragControlEnd(moveable, e);\r\n        var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\r\n        var nextParams = fillEndParams(moveable, e, {\r\n            targets: moveable.props.targets,\r\n            events: events,\r\n        });\r\n        triggerEvent(moveable, \"onRotateGroupEnd\", nextParams);\r\n        return isDrag;\r\n    },\r\n    /**\r\n     * @method Moveable.Rotatable#request\r\n     * @param {object} [e] - the Resizable's request parameter\r\n     * @param {number} [e.deltaRotate=0] -  delta number of rotation\r\n     * @param {number} [e.rotate=0] - absolute number of moveable's rotation\r\n     * @return {Moveable.Requester} Moveable Requester\r\n     * @example\r\n\n     * // Instantly Request (requestStart - request - requestEnd)\r\n     * moveable.request(\"rotatable\", { deltaRotate: 10 }, true);\r\n     *\r\n     * * moveable.request(\"rotatable\", { rotate: 10 }, true);\r\n     *\r\n     * // requestStart\r\n     * const requester = moveable.request(\"rotatable\");\r\n     *\r\n     * // request\r\n     * requester.request({ deltaRotate: 10 });\r\n     * requester.request({ deltaRotate: 10 });\r\n     * requester.request({ deltaRotate: 10 });\r\n     *\r\n     * requester.request({ rotate: 10 });\r\n     * requester.request({ rotate: 20 });\r\n     * requester.request({ rotate: 30 });\r\n     *\r\n     * // requestEnd\r\n     * requester.requestEnd();\r\n     */\r\n    request: function (moveable) {\r\n        var datas = {};\r\n        var distRotate = 0;\r\n        var startRotation = moveable.getRotation();\r\n        return {\r\n            isControl: true,\r\n            requestStart: function () {\r\n                return { datas: datas };\r\n            },\r\n            request: function (e) {\r\n                if (\"deltaRotate\" in e) {\r\n                    distRotate += e.deltaRotate;\r\n                }\r\n                else if (\"rotate\" in e) {\r\n                    distRotate = e.rotate - startRotation;\r\n                }\r\n                return { datas: datas, parentDist: distRotate };\r\n            },\r\n            requestEnd: function () {\r\n                return { datas: datas, isDrag: true };\r\n            },\r\n        };\r\n    },\r\n};\r\n/**\r\n * Whether or not target can be rotated. (default: false)\r\n * @name Moveable.Rotatable#rotatable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.rotatable = true;\r\n */\r\n/**\r\n * You can specify the position of the rotation. (default: \"top\")\r\n * @name Moveable.Rotatable#rotationPosition\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   rotationPosition: \"top\",\r\n * });\r\n *\r\n * moveable.rotationPosition = \"bottom\"\r\n */\r\n/**\r\n * throttle of angle(degree) when rotate.\r\n * @name Moveable.Rotatable#throttleRotate\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.throttleRotate = 1;\r\n */\r\n/**\r\n * When the rotate starts, the rotateStart event is called.\r\n * @memberof Moveable.Rotatable\r\n * @event rotateStart\r\n * @param {Moveable.Rotatable.OnRotateStart} - Parameters for the rotateStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { rotatable: true });\r\n * moveable.on(\"rotateStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n* When rotating, the rotate event is called.\r\n* @memberof Moveable.Rotatable\r\n* @event rotate\r\n* @param {Moveable.Rotatable.OnRotate} - Parameters for the rotate event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, { rotatable: true });\r\n* moveable.on(\"rotate\", ({ target, transform, dist }) => {\r\n*     target.style.transform = transform;\r\n* });\r\n*/\r\n/**\r\n * When the rotate finishes, the rotateEnd event is called.\r\n * @memberof Moveable.Rotatable\r\n * @event rotateEnd\r\n * @param {Moveable.Rotatable.OnRotateEnd} - Parameters for the rotateEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { rotatable: true });\r\n * moveable.on(\"rotateEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\r\n/**\r\n * When the group rotate starts, the `rotateGroupStart` event is called.\r\n * @memberof Moveable.Rotatable\r\n * @event rotateGroupStart\r\n * @param {Moveable.Rotatable.OnRotateGroupStart} - Parameters for the `rotateGroupStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     rotatable: true\r\n * });\r\n * moveable.on(\"rotateGroupStart\", ({ targets }) => {\r\n *     console.log(\"onRotateGroupStart\", targets);\r\n * });\r\n */\r\n/**\r\n* When the group rotate, the `rotateGroup` event is called.\r\n* @memberof Moveable.Rotatable\r\n* @event rotateGroup\r\n* @param {Moveable.Rotatable.OnRotateGroup} - Parameters for the `rotateGroup` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     rotatable: true\r\n* });\r\n* moveable.on(\"rotateGroup\", ({ targets, events }) => {\r\n*     console.log(\"onRotateGroup\", targets);\r\n*     events.forEach(ev => {\r\n*         const target = ev.target;\r\n*         // ev.drag is a drag event that occurs when the group rotate.\r\n*         const left = ev.drag.beforeDist[0];\r\n*         const top = ev.drag.beforeDist[1];\r\n*         const deg = ev.beforeDist;\r\n*     });\r\n* });\r\n*/\r\n/**\r\n * When the group rotate finishes, the `rotateGroupEnd` event is called.\r\n * @memberof Moveable.Rotatable\r\n * @event rotateGroupEnd\r\n * @param {Moveable.Rotatable.OnRotateGroupEnd} - Parameters for the `rotateGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     rotatable: true\r\n * });\r\n * moveable.on(\"rotateGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onRotateGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\nfunction renderGuideline(info, React) {\r\n    var _a;\r\n    var direction = info.direction, classNames = info.classNames, size = info.size, pos = info.pos, zoom = info.zoom, key = info.key;\r\n    var isHorizontal = direction === \"horizontal\";\r\n    var scaleType = isHorizontal ? \"Y\" : \"X\";\r\n    // const scaleType2 = isHorizontal ? \"Y\" : \"X\";\r\n    return React.createElement(\"div\", {\r\n        key: key,\r\n        className: classNames.join(\" \"),\r\n        style: (_a = {},\r\n            _a[isHorizontal ? \"width\" : \"height\"] = \"\".concat(size),\r\n            _a.transform = \"translate(\".concat(pos[0], \", \").concat(pos[1], \") translate\").concat(scaleType, \"(-50%) scale\").concat(scaleType, \"(\").concat(zoom, \")\"),\r\n            _a),\r\n    });\r\n}\r\nfunction renderInnerGuideline(info, React) {\r\n    return renderGuideline(__assign(__assign({}, info), { classNames: __spreadArray([\r\n            prefix(\"line\", \"guideline\", info.direction)\r\n        ], __read(info.classNames), false).filter(function (className) { return className; }), size: info.size || \"\".concat(info.sizeValue, \"px\"), pos: info.pos || info.posValue.map(function (v) { return \"\".concat(throttle(v, 0.1), \"px\"); }) }), React);\r\n}\r\nfunction renderSnapPoses(moveable, direction, snapPoses, minPos, targetPos, size, index, React) {\r\n    var zoom = moveable.props.zoom;\r\n    return snapPoses.map(function (_a, i) {\r\n        var type = _a.type, pos = _a.pos;\r\n        var renderPos = [0, 0];\r\n        renderPos[index] = minPos;\r\n        renderPos[index ? 0 : 1] = -targetPos + pos;\r\n        return renderInnerGuideline({\r\n            key: \"\".concat(direction, \"TargetGuideline\").concat(i),\r\n            classNames: [prefix(\"target\", \"bold\", type)],\r\n            posValue: renderPos,\r\n            sizeValue: size,\r\n            zoom: zoom,\r\n            direction: direction,\r\n        }, React);\r\n    });\r\n}\r\nfunction renderGuidelines(moveable, type, guidelines, targetPos, targetRect, React) {\r\n    var _a = moveable.props, zoom = _a.zoom, isDisplayInnerSnapDigit = _a.isDisplayInnerSnapDigit;\r\n    var mainNames = type === \"horizontal\" ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\r\n    var targetStart = targetRect[mainNames.start];\r\n    var targetEnd = targetRect[mainNames.end];\r\n    return guidelines.filter(function (_a) {\r\n        var hide = _a.hide, elementRect = _a.elementRect;\r\n        if (hide) {\r\n            return false;\r\n        }\r\n        if (isDisplayInnerSnapDigit && elementRect) {\r\n            // inner\r\n            var rect = elementRect.rect;\r\n            if (rect[mainNames.start] <= targetStart && targetEnd <= rect[mainNames.end]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }).map(function (guideline, i) {\r\n        var pos = guideline.pos, size = guideline.size, element = guideline.element, className = guideline.className;\r\n        var renderPos = [\r\n            -targetPos[0] + pos[0],\r\n            -targetPos[1] + pos[1],\r\n        ];\r\n        return renderInnerGuideline({\r\n            key: \"\".concat(type, \"-default-guideline-\").concat(i),\r\n            classNames: element ? [prefix(\"bold\"), className] : [prefix(\"normal\"), className],\r\n            direction: type,\r\n            posValue: renderPos,\r\n            sizeValue: size,\r\n            zoom: zoom,\r\n        }, React);\r\n    });\r\n}\r\nfunction renderDigitLine(moveable, type, lineType, index, gap, renderPos, className, React) {\r\n    var _a;\r\n    var _b = moveable.props, _c = _b.snapDigit, snapDigit = _c === void 0 ? 0 : _c, _d = _b.isDisplaySnapDigit, isDisplaySnapDigit = _d === void 0 ? true : _d, _e = _b.snapDistFormat, snapDistFormat = _e === void 0 ? function (v, type) {\r\n        // Type can be used render different values.\r\n        if (type === 'vertical') {\r\n            return v;\r\n        }\r\n        return v;\r\n    } : _e, zoom = _b.zoom;\r\n    var scaleType = type === \"horizontal\" ? \"X\" : \"Y\";\r\n    var sizeName = type === \"vertical\" ? \"height\" : \"width\";\r\n    var absGap = Math.abs(gap);\r\n    var snapSize = isDisplaySnapDigit\r\n        ? parseFloat(absGap.toFixed(snapDigit))\r\n        : 0;\r\n    return React.createElement(\"div\", { key: \"\".concat(type, \"-\").concat(lineType, \"-guideline-\").concat(index), className: prefix(\"guideline-group\", type), style: (_a = {\r\n                left: \"\".concat(renderPos[0], \"px\"),\r\n                top: \"\".concat(renderPos[1], \"px\")\r\n            },\r\n            _a[sizeName] = \"\".concat(absGap, \"px\"),\r\n            _a) },\r\n        renderInnerGuideline({\r\n            direction: type,\r\n            classNames: [prefix(lineType), className],\r\n            size: \"100%\",\r\n            posValue: [0, 0],\r\n            sizeValue: absGap,\r\n            zoom: zoom,\r\n        }, React),\r\n        React.createElement(\"div\", { className: prefix(\"size-value\", \"gap\"), style: {\r\n                transform: \"translate\".concat(scaleType, \"(-50%) scale(\").concat(zoom, \")\"),\r\n            } }, snapSize > 0 ? snapDistFormat(snapSize, type) : \"\"));\r\n}\r\nfunction groupByElementGuidelines(type, guidelines, targetRect, isDisplayInnerSnapDigit) {\r\n    var index = type === \"vertical\" ? 0 : 1;\r\n    var otherIndex = type === \"vertical\" ? 1 : 0;\r\n    var names = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\r\n    var targetStart = targetRect[names.start];\r\n    var targetEnd = targetRect[names.end];\r\n    return groupBy(guidelines, function (guideline) {\r\n        return guideline.pos[index];\r\n    }).map(function (nextGuidelines) {\r\n        var start = [];\r\n        var end = [];\r\n        var inner = [];\r\n        nextGuidelines.forEach(function (guideline) {\r\n            var _a, _b;\r\n            var element = guideline.element;\r\n            var rect = guideline.elementRect.rect;\r\n            if (rect[names.end] < targetStart) {\r\n                start.push(guideline);\r\n            }\r\n            else if (targetEnd < rect[names.start]) {\r\n                end.push(guideline);\r\n            }\r\n            else if (rect[names.start] <= targetStart && targetEnd <= rect[names.end] && isDisplayInnerSnapDigit) {\r\n                var pos = guideline.pos;\r\n                var elementRect1 = { element: element, rect: __assign(__assign({}, rect), (_a = {}, _a[names.end] = rect[names.start], _a)) };\r\n                var elementRect2 = { element: element, rect: __assign(__assign({}, rect), (_b = {}, _b[names.start] = rect[names.end], _b)) };\r\n                var nextPos1 = [0, 0];\r\n                var nextPos2 = [0, 0];\r\n                nextPos1[index] = pos[index];\r\n                nextPos1[otherIndex] = pos[otherIndex];\r\n                nextPos2[index] = pos[index];\r\n                nextPos2[otherIndex] = pos[otherIndex] + guideline.size;\r\n                start.push({\r\n                    type: type,\r\n                    pos: nextPos1,\r\n                    size: 0,\r\n                    elementRect: elementRect1,\r\n                    direction: \"\",\r\n                    elementDirection: \"end\",\r\n                });\r\n                end.push({\r\n                    type: type,\r\n                    pos: nextPos2,\r\n                    size: 0,\r\n                    elementRect: elementRect2,\r\n                    direction: \"\",\r\n                    elementDirection: \"start\",\r\n                });\r\n                // inner.push(guideline);\r\n            }\r\n        });\r\n        start.sort(function (a, b) {\r\n            return b.pos[otherIndex] - a.pos[otherIndex];\r\n        });\r\n        end.sort(function (a, b) {\r\n            return a.pos[otherIndex] - b.pos[otherIndex];\r\n        });\r\n        return {\r\n            total: nextGuidelines,\r\n            start: start,\r\n            end: end,\r\n            inner: inner,\r\n        };\r\n    });\r\n}\r\nfunction renderDashedGuidelines(moveable, guidelines, targetPos, targetRect, React) {\r\n    var isDisplayInnerSnapDigit = moveable.props.isDisplayInnerSnapDigit;\r\n    var rendered = [];\r\n    [\"vertical\", \"horizontal\"].forEach(function (type) {\r\n        var nextGuidelines = guidelines.filter(function (guideline) { return guideline.type === type; });\r\n        var index = type === \"vertical\" ? 1 : 0;\r\n        var otherIndex = index ? 0 : 1;\r\n        var groups = groupByElementGuidelines(type, nextGuidelines, targetRect, isDisplayInnerSnapDigit);\r\n        var mainNames = index ? HORIZONTAL_NAMES_MAP : VERTICAL_NAMES_MAP;\r\n        var sideNames = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\r\n        var targetStart = targetRect[mainNames.start];\r\n        var targetEnd = targetRect[mainNames.end];\r\n        groups.forEach(function (_a) {\r\n            var total = _a.total, start = _a.start, end = _a.end, inner = _a.inner;\r\n            var sidePos = targetPos[otherIndex] + total[0].pos[otherIndex] - targetRect[sideNames.start];\r\n            var prevRect = targetRect;\r\n            start.forEach(function (guideline) {\r\n                var nextRect = guideline.elementRect.rect;\r\n                var size = prevRect[mainNames.start] - nextRect[mainNames.end];\r\n                if (size > 0) {\r\n                    var renderPos = [0, 0];\r\n                    renderPos[index] = targetPos[index] + prevRect[mainNames.start] - targetStart - size;\r\n                    renderPos[otherIndex] = sidePos;\r\n                    rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size, renderPos, guideline.className, React));\r\n                }\r\n                prevRect = nextRect;\r\n            });\r\n            prevRect = targetRect;\r\n            end.forEach(function (guideline) {\r\n                var nextRect = guideline.elementRect.rect;\r\n                var size = nextRect[mainNames.start] - prevRect[mainNames.end];\r\n                if (size > 0) {\r\n                    var renderPos = [0, 0];\r\n                    renderPos[index] = targetPos[index] + prevRect[mainNames.end] - targetStart;\r\n                    renderPos[otherIndex] = sidePos;\r\n                    rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size, renderPos, guideline.className, React));\r\n                }\r\n                prevRect = nextRect;\r\n            });\r\n            inner.forEach(function (guideline) {\r\n                var nextRect = guideline.elementRect.rect;\r\n                var size1 = targetStart - nextRect[mainNames.start];\r\n                var size2 = nextRect[mainNames.end] - targetEnd;\r\n                var renderPos1 = [0, 0];\r\n                var renderPos2 = [0, 0];\r\n                renderPos1[index] = targetPos[index] - size1;\r\n                renderPos1[otherIndex] = sidePos;\r\n                renderPos2[index] = targetPos[index] + targetEnd - targetStart;\r\n                renderPos2[otherIndex] = sidePos;\r\n                rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size1, renderPos1, guideline.className, React));\r\n                rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size2, renderPos2, guideline.className, React));\r\n            });\r\n        });\r\n    });\r\n    return rendered;\r\n}\r\nfunction renderGapGuidelines(moveable, guidelines, targetPos, targetRect, React) {\r\n    var rendered = [];\r\n    [\"horizontal\", \"vertical\"].forEach(function (type) {\r\n        var nextGuidelines = guidelines.filter(function (guideline) { return guideline.type === type; }).slice(0, 1);\r\n        var index = type === \"vertical\" ? 0 : 1;\r\n        var otherIndex = index ? 0 : 1;\r\n        var mainNames = index ? HORIZONTAL_NAMES_MAP : VERTICAL_NAMES_MAP;\r\n        var sideNames = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\r\n        var targetStart = targetRect[mainNames.start];\r\n        var targetEnd = targetRect[mainNames.end];\r\n        var targetSideStart = targetRect[sideNames.start];\r\n        var targetSideEnd = targetRect[sideNames.end];\r\n        nextGuidelines.forEach(function (_a) {\r\n            var gap = _a.gap, gapRects = _a.gapRects;\r\n            var sideStartPos = Math.max.apply(Math, __spreadArray([targetSideStart], __read(gapRects.map(function (_a) {\r\n                var rect = _a.rect;\r\n                return rect[sideNames.start];\r\n            })), false));\r\n            var sideEndPos = Math.min.apply(Math, __spreadArray([targetSideEnd], __read(gapRects.map(function (_a) {\r\n                var rect = _a.rect;\r\n                return rect[sideNames.end];\r\n            })), false));\r\n            var sideCenterPos = (sideStartPos + sideEndPos) / 2;\r\n            if (sideStartPos === sideEndPos || sideCenterPos === (targetSideStart + targetSideEnd) / 2) {\r\n                return;\r\n            }\r\n            gapRects.forEach(function (_a) {\r\n                var rect = _a.rect, className = _a.className;\r\n                var renderPos = [targetPos[0], targetPos[1]];\r\n                if (rect[mainNames.end] < targetStart) {\r\n                    renderPos[index] += rect[mainNames.end] - targetStart;\r\n                }\r\n                else if (targetEnd < rect[mainNames.start]) {\r\n                    renderPos[index] += rect[mainNames.start] - targetStart - gap;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n                renderPos[otherIndex] += sideCenterPos - targetSideStart;\r\n                rendered.push(renderDigitLine(moveable, index ? \"vertical\" : \"horizontal\", \"gap\", rendered.length, gap, renderPos, className, React));\r\n            });\r\n        });\r\n    });\r\n    return rendered;\r\n}\n\nfunction getTotalGuidelines(moveable) {\r\n    var _a, _b;\r\n    var state = moveable.state;\r\n    var containerClientRect = state.containerClientRect, hasFixed = state.hasFixed;\r\n    var overflow = containerClientRect.overflow, containerHeight = containerClientRect.scrollHeight, containerWidth = containerClientRect.scrollWidth, containerClientHeight = containerClientRect.clientHeight, containerClientWidth = containerClientRect.clientWidth, clientLeft = containerClientRect.clientLeft, clientTop = containerClientRect.clientTop;\r\n    var _c = moveable.props, _d = _c.snapGap, snapGap = _d === void 0 ? true : _d, verticalGuidelines = _c.verticalGuidelines, horizontalGuidelines = _c.horizontalGuidelines, _e = _c.snapThreshold, snapThreshold = _e === void 0 ? 5 : _e, _f = _c.maxSnapElementGuidelineDistance, maxSnapElementGuidelineDistance = _f === void 0 ? Infinity : _f, isDisplayGridGuidelines = _c.isDisplayGridGuidelines;\r\n    var _g = getRect(getAbsolutePosesByState(moveable.state)), top = _g.top, left = _g.left, bottom = _g.bottom, right = _g.right;\r\n    var targetRect = { top: top, left: left, bottom: bottom, right: right, center: (left + right) / 2, middle: (top + bottom) / 2 };\r\n    var elementGuidelines = getElementGuidelines(moveable);\r\n    var totalGuidelines = __spreadArray([], __read(elementGuidelines), false);\r\n    var snapThresholdMultiples = ((_b = (_a = state.snapThresholdInfo) === null || _a === void 0 ? void 0 : _a.multiples) !== null && _b !== void 0 ? _b : [1, 1]).map(function (n) { return n * snapThreshold; });\r\n    if (snapGap) {\r\n        totalGuidelines.push.apply(totalGuidelines, __spreadArray([], __read(getGapGuidelines(moveable, targetRect, snapThresholdMultiples)), false));\r\n    }\r\n    var snapOffset = __assign({}, (state.snapOffset || {\r\n        left: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n    }));\r\n    totalGuidelines.push.apply(totalGuidelines, __spreadArray([], __read(getGridGuidelines(moveable, overflow ? containerWidth : containerClientWidth, overflow ? containerHeight : containerClientHeight, clientLeft, clientTop, snapOffset, isDisplayGridGuidelines)), false));\r\n    if (hasFixed) {\r\n        var left_1 = containerClientRect.left, top_1 = containerClientRect.top;\r\n        snapOffset.left += left_1;\r\n        snapOffset.top += top_1;\r\n        snapOffset.right += left_1;\r\n        snapOffset.bottom += top_1;\r\n    }\r\n    totalGuidelines.push.apply(totalGuidelines, __spreadArray([], __read(getDefaultGuidelines(horizontalGuidelines || false, verticalGuidelines || false, overflow ? containerWidth : containerClientWidth, overflow ? containerHeight : containerClientHeight, clientLeft, clientTop, snapOffset)), false));\r\n    totalGuidelines = totalGuidelines.filter(function (_a) {\r\n        var element = _a.element, elementRect = _a.elementRect, type = _a.type;\r\n        if (!element || !elementRect) {\r\n            return true;\r\n        }\r\n        var rect = elementRect.rect;\r\n        return checkBetweenRects(targetRect, rect, type, maxSnapElementGuidelineDistance);\r\n    });\r\n    return totalGuidelines;\r\n}\r\nfunction getGapGuidelines(moveable, targetRect, snapThresholds) {\r\n    var _a = moveable.props, _b = _a.maxSnapElementGuidelineDistance, maxSnapElementGuidelineDistance = _b === void 0 ? Infinity : _b, _c = _a.maxSnapElementGapDistance, maxSnapElementGapDistance = _c === void 0 ? Infinity : _c;\r\n    var elementRects = moveable.state.elementRects;\r\n    var gapGuidelines = [];\r\n    [\r\n        [\"vertical\", VERTICAL_NAMES_MAP, HORIZONTAL_NAMES_MAP],\r\n        [\"horizontal\", HORIZONTAL_NAMES_MAP, VERTICAL_NAMES_MAP],\r\n    ].forEach(function (_a) {\r\n        var _b = __read(_a, 3), type = _b[0], mainNames = _b[1], sideNames = _b[2];\r\n        var targetStart = targetRect[mainNames.start];\r\n        var targetEnd = targetRect[mainNames.end];\r\n        var targetCenter = targetRect[mainNames.center];\r\n        var targetStart2 = targetRect[sideNames.start];\r\n        var targetEnd2 = targetRect[sideNames.end];\r\n        // element : moveable\r\n        var snapThresholdMap = {\r\n            left: snapThresholds[0],\r\n            top: snapThresholds[1],\r\n        };\r\n        function getDist(elementRect) {\r\n            var rect = elementRect.rect;\r\n            var snapThreshold = snapThresholdMap[mainNames.start];\r\n            if (rect[mainNames.end] < targetStart + snapThreshold) {\r\n                return targetStart - rect[mainNames.end];\r\n            }\r\n            else if (targetEnd - snapThreshold < rect[mainNames.start]) {\r\n                return rect[mainNames.start] - targetEnd;\r\n            }\r\n            else {\r\n                return -1;\r\n            }\r\n        }\r\n        var nextElementRects = elementRects.filter(function (elementRect) {\r\n            var rect = elementRect.rect;\r\n            if (rect[sideNames.start] > targetEnd2 || rect[sideNames.end] < targetStart2) {\r\n                return false;\r\n            }\r\n            return getDist(elementRect) > 0;\r\n        }).sort(function (a, b) {\r\n            return getDist(a) - getDist(b);\r\n        });\r\n        var groups = [];\r\n        nextElementRects.forEach(function (snapRect1) {\r\n            nextElementRects.forEach(function (snapRect2) {\r\n                if (snapRect1 === snapRect2) {\r\n                    return;\r\n                }\r\n                var rect1 = snapRect1.rect;\r\n                var rect2 = snapRect2.rect;\r\n                var rect1Start = rect1[sideNames.start];\r\n                var rect1End = rect1[sideNames.end];\r\n                var rect2Start = rect2[sideNames.start];\r\n                var rect2End = rect2[sideNames.end];\r\n                if (rect1Start > rect2End || rect2Start > rect1End) {\r\n                    return;\r\n                }\r\n                groups.push([snapRect1, snapRect2]);\r\n            });\r\n        });\r\n        groups.forEach(function (_a) {\r\n            var _b = __read(_a, 2), snapRect1 = _b[0], snapRect2 = _b[1];\r\n            var rect1 = snapRect1.rect;\r\n            var rect2 = snapRect2.rect;\r\n            var rect1Start = rect1[mainNames.start];\r\n            var rect1End = rect1[mainNames.end];\r\n            var rect2Start = rect2[mainNames.start];\r\n            var rect2End = rect2[mainNames.end];\r\n            var snapThreshold = snapThresholdMap[mainNames.start];\r\n            var gap = 0;\r\n            var pos = 0;\r\n            var isStart = false;\r\n            var isCenter = false;\r\n            var isEnd = false;\r\n            if (rect1End <= targetStart && targetEnd <= rect2Start) {\r\n                // (l)element1(r) : (l)target(r) : (l)element2(r)\r\n                isCenter = true;\r\n                gap = ((rect2Start - rect1End) - (targetEnd - targetStart)) / 2;\r\n                pos = rect1End + gap + (targetEnd - targetStart) / 2;\r\n                if (abs(pos - targetCenter) > snapThreshold) {\r\n                    return;\r\n                }\r\n            }\r\n            else if (rect1End < rect2Start && rect2End < targetStart + snapThreshold) {\r\n                // (l)element1(r) : (l)element2(r) : (l)target\r\n                isStart = true;\r\n                gap = rect2Start - rect1End;\r\n                pos = rect2End + gap;\r\n                if (abs(pos - targetStart) > snapThreshold) {\r\n                    return;\r\n                }\r\n            }\r\n            else if (rect1End < rect2Start && targetEnd - snapThreshold < rect1Start) {\r\n                // target(r) : (l)element1(r) : (l)element2(r)\r\n                isEnd = true;\r\n                gap = rect2Start - rect1End;\r\n                pos = rect1Start - gap;\r\n                if (abs(pos - targetEnd) > snapThreshold) {\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n            if (!gap) {\r\n                return;\r\n            }\r\n            if (!checkBetweenRects(targetRect, rect2, type, maxSnapElementGuidelineDistance)) {\r\n                return;\r\n            }\r\n            if (gap > maxSnapElementGapDistance) {\r\n                return;\r\n            }\r\n            gapGuidelines.push({\r\n                type: type,\r\n                pos: type === \"vertical\" ? [pos, 0] : [0, pos],\r\n                element: snapRect2.element,\r\n                size: 0,\r\n                className: snapRect2.className,\r\n                isStart: isStart,\r\n                isCenter: isCenter,\r\n                isEnd: isEnd,\r\n                gap: gap,\r\n                hide: true,\r\n                gapRects: [snapRect1, snapRect2],\r\n                direction: \"\",\r\n                elementDirection: \"\",\r\n            });\r\n        });\r\n    });\r\n    return gapGuidelines;\r\n}\r\nfunction startGridGroupGuidelines(moveable, clientLeft, clientTop, snapOffset) {\r\n    var _a, _b;\r\n    var props = moveable.props;\r\n    var state = moveable.state;\r\n    var snapGridAll = props.snapGridAll;\r\n    var _c = props.snapGridWidth, snapGridWidth = _c === void 0 ? 0 : _c, _d = props.snapGridHeight, snapGridHeight = _d === void 0 ? 0 : _d;\r\n    var snapRenderInfo = state.snapRenderInfo;\r\n    var hasDirection = snapRenderInfo && (((_a = snapRenderInfo.direction) === null || _a === void 0 ? void 0 : _a[0]) || ((_b = snapRenderInfo.direction) === null || _b === void 0 ? void 0 : _b[1]));\r\n    var moveables = moveable.moveables;\r\n    // snap group's all child to grid.\r\n    if (snapGridAll\r\n        && moveables\r\n        && hasDirection\r\n        && (snapGridWidth || snapGridHeight)) {\r\n        if (state.snapThresholdInfo) {\r\n            return;\r\n        }\r\n        state.snapThresholdInfo = {\r\n            multiples: [1, 1],\r\n            offset: [0, 0],\r\n        };\r\n        var rect_1 = moveable.getRect();\r\n        var children_1 = rect_1.children;\r\n        var direction = snapRenderInfo.direction;\r\n        if (children_1) {\r\n            var result = direction.map(function (dir, i) {\r\n                var _a = i === 0 ? {\r\n                    snapSize: snapGridWidth,\r\n                    posName: \"left\",\r\n                    sizeName: \"width\",\r\n                    clientOffset: snapOffset.left - clientLeft,\r\n                } : {\r\n                    snapSize: snapGridHeight,\r\n                    posName: \"top\",\r\n                    sizeName: \"height\",\r\n                    clientOffset: snapOffset.top - clientTop,\r\n                }, snapSize = _a.snapSize, posName = _a.posName, sizeName = _a.sizeName, clientOffset = _a.clientOffset;\r\n                if (!snapSize) {\r\n                    return {\r\n                        dir: dir,\r\n                        multiple: 1,\r\n                        snapSize: snapSize,\r\n                        snapOffset: 0,\r\n                    };\r\n                }\r\n                var rectSize = rect_1[sizeName];\r\n                var rectPos = rect_1[posName];\r\n                // 사이즈보다 만약 작다면 어떻게 해야되죠?\r\n                var childSizes = flat$1(children_1.map(function (child) {\r\n                    return [\r\n                        (child[posName] - rectPos),\r\n                        (child[sizeName]),\r\n                        (rectSize - child[sizeName] - child[posName] + rectPos),\r\n                    ];\r\n                })).filter(function (v) { return v; }).sort(function (a, b) {\r\n                    return a - b;\r\n                });\r\n                var firstChildSize = childSizes[0];\r\n                var childSnapSizes = childSizes.map(function (size) { return throttle(size / firstChildSize, 0.1) * snapSize; });\r\n                var n = 1;\r\n                var rectRatio = throttle(rectSize / firstChildSize, 0.1);\r\n                for (n = 1; n <= 10; ++n) {\r\n                    if (childSnapSizes.every(function (childSize) {\r\n                        return childSize * n % 1 === 0;\r\n                    })) {\r\n                        break;\r\n                    }\r\n                }\r\n                // dir 1 (fixed -1)\r\n                // dir 0 (fixed 0)\r\n                // dir -1 (fixed 1)\r\n                var ratio = (-dir + 1) / 2;\r\n                var offsetPos = dot(rectPos - clientOffset, rectPos - clientOffset + rectSize, ratio, 1 - ratio);\r\n                return {\r\n                    multiple: rectRatio * n,\r\n                    dir: dir,\r\n                    snapSize: snapSize,\r\n                    snapOffset: Math.round(offsetPos / snapSize),\r\n                };\r\n            });\r\n            var multiples = result.map(function (r) { return r.multiple || 1; });\r\n            state.snapThresholdInfo.multiples = multiples;\r\n            state.snapThresholdInfo.offset = result.map(function (r) { return r.snapOffset; });\r\n            result.forEach(function (r, i) {\r\n                if (r.snapSize) ;\r\n            });\r\n        }\r\n    }\r\n    else {\r\n        state.snapThresholdInfo = null;\r\n    }\r\n}\r\nfunction getGridGuidelines(moveable, containerWidth, containerHeight, clientLeft, clientTop, snapOffset, isDisplayGridGuidelines) {\r\n    if (clientLeft === void 0) { clientLeft = 0; }\r\n    if (clientTop === void 0) { clientTop = 0; }\r\n    var props = moveable.props;\r\n    var state = moveable.state;\r\n    var _a = props.snapGridWidth, snapGridWidth = _a === void 0 ? 0 : _a, _b = props.snapGridHeight, snapGridHeight = _b === void 0 ? 0 : _b;\r\n    var guidelines = [];\r\n    var snapOffsetLeft = snapOffset.left, snapOffsetTop = snapOffset.top;\r\n    var startOffset = [0, 0];\r\n    startGridGroupGuidelines(moveable, clientLeft, clientTop, snapOffset);\r\n    var snapThresholdInfo = state.snapThresholdInfo;\r\n    var defaultSnapGridWidth = snapGridWidth;\r\n    var defaultSnapGridHeight = snapGridHeight;\r\n    if (snapThresholdInfo) {\r\n        snapGridWidth *= snapThresholdInfo.multiples[0] || 1;\r\n        snapGridHeight *= snapThresholdInfo.multiples[1] || 1;\r\n        startOffset = snapThresholdInfo.offset;\r\n    }\r\n    if (snapGridHeight) {\r\n        var pushGuideline = function (pos) {\r\n            guidelines.push({\r\n                type: \"horizontal\",\r\n                pos: [\r\n                    snapOffsetLeft,\r\n                    throttle(startOffset[1] * defaultSnapGridHeight + pos - clientTop + snapOffsetTop, 0.1),\r\n                ],\r\n                className: prefix(\"grid-guideline\"),\r\n                size: containerWidth,\r\n                hide: !isDisplayGridGuidelines,\r\n                direction: \"\",\r\n                grid: true,\r\n            });\r\n        };\r\n        for (var pos = 0; pos <= containerHeight * 2; pos += snapGridHeight) {\r\n            pushGuideline(pos);\r\n        }\r\n        for (var pos = -snapGridHeight; pos >= -containerHeight; pos -= snapGridHeight) {\r\n            pushGuideline(pos);\r\n        }\r\n    }\r\n    if (snapGridWidth) {\r\n        var pushGuideline = function (pos) {\r\n            guidelines.push({\r\n                type: \"vertical\",\r\n                pos: [\r\n                    throttle(startOffset[0] * defaultSnapGridWidth + pos - clientLeft + snapOffsetLeft, 0.1),\r\n                    snapOffsetTop,\r\n                ],\r\n                className: prefix(\"grid-guideline\"),\r\n                size: containerHeight,\r\n                hide: !isDisplayGridGuidelines,\r\n                direction: \"\",\r\n                grid: true,\r\n            });\r\n        };\r\n        for (var pos = 0; pos <= containerWidth * 2; pos += snapGridWidth) {\r\n            pushGuideline(pos);\r\n        }\r\n        for (var pos = -snapGridWidth; pos >= -containerWidth; pos -= snapGridWidth) {\r\n            pushGuideline(pos);\r\n        }\r\n    }\r\n    return guidelines;\r\n}\r\nfunction checkBetweenRects(rect1, rect2, type, distance) {\r\n    if (type === \"horizontal\") {\r\n        return abs(rect1.right - rect2.left) <= distance\r\n            || abs(rect1.left - rect2.right) <= distance\r\n            || rect1.left <= rect2.right && rect2.left <= rect1.right;\r\n    }\r\n    else if (type === \"vertical\") {\r\n        return abs(rect1.bottom - rect2.top) <= distance\r\n            || abs(rect1.top - rect2.bottom) <= distance\r\n            || rect1.top <= rect2.bottom && rect2.top <= rect1.bottom;\r\n    }\r\n    return true;\r\n}\r\nfunction getElementGuidelines(moveable) {\r\n    var state = moveable.state;\r\n    var _a = moveable.props.elementGuidelines, elementGuidelines = _a === void 0 ? [] : _a;\r\n    if (!elementGuidelines.length) {\r\n        state.elementRects = [];\r\n        return [];\r\n    }\r\n    var prevValues = (state.elementRects || []).filter(function (snapRect) { return !snapRect.refresh; });\r\n    var nextElementGuidelines = elementGuidelines.map(function (el) {\r\n        if (isObject(el) && \"element\" in el) {\r\n            return __assign(__assign({}, el), { element: getRefTarget(el.element, true) });\r\n        }\r\n        return {\r\n            element: getRefTarget(el, true),\r\n        };\r\n    }).filter(function (value) {\r\n        return value.element;\r\n    });\r\n    var _b = diff(prevValues.map(function (v) { return v.element; }), nextElementGuidelines.map(function (v) { return v.element; })), maintained = _b.maintained, added = _b.added;\r\n    var nextValues = [];\r\n    maintained.forEach(function (_a) {\r\n        var _b = __read(_a, 2), prevIndex = _b[0], nextIndex = _b[1];\r\n        nextValues[nextIndex] = prevValues[prevIndex];\r\n    });\r\n    getSnapElementRects(moveable, added.map(function (index) { return nextElementGuidelines[index]; })).map(function (rect, i) {\r\n        nextValues[added[i]] = rect;\r\n    });\r\n    state.elementRects = nextValues;\r\n    var elementSnapDirections = getSnapDirections(moveable.props.elementSnapDirections);\r\n    var nextGuidelines = [];\r\n    nextValues.forEach(function (snapRect) {\r\n        var element = snapRect.element, _a = snapRect.top, topValue = _a === void 0 ? elementSnapDirections.top : _a, _b = snapRect.left, leftValue = _b === void 0 ? elementSnapDirections.left : _b, _c = snapRect.right, rightValue = _c === void 0 ? elementSnapDirections.right : _c, _d = snapRect.bottom, bottomValue = _d === void 0 ? elementSnapDirections.bottom : _d, _e = snapRect.center, centerValue = _e === void 0 ? elementSnapDirections.center : _e, _f = snapRect.middle, middleValue = _f === void 0 ? elementSnapDirections.middle : _f, className = snapRect.className, rect = snapRect.rect;\r\n        var _g = splitSnapDirectionPoses({\r\n            top: topValue,\r\n            right: rightValue,\r\n            left: leftValue,\r\n            bottom: bottomValue,\r\n            center: centerValue,\r\n            middle: middleValue,\r\n        }, rect), horizontal = _g.horizontal, vertical = _g.vertical, horizontalNames = _g.horizontalNames, verticalNames = _g.verticalNames;\r\n        var rectTop = rect.top;\r\n        var rectLeft = rect.left;\r\n        var width = rect.right - rectLeft;\r\n        var height = rect.bottom - rectTop;\r\n        var sizes = [width, height];\r\n        vertical.forEach(function (pos, i) {\r\n            nextGuidelines.push({\r\n                type: \"vertical\",\r\n                element: element,\r\n                pos: [\r\n                    throttle(pos, 0.1),\r\n                    rectTop,\r\n                ], size: height,\r\n                sizes: sizes,\r\n                className: className,\r\n                elementRect: snapRect,\r\n                elementDirection: SNAP_SKIP_NAMES_MAP[verticalNames[i]] || verticalNames[i],\r\n                direction: \"\",\r\n            });\r\n        });\r\n        horizontal.forEach(function (pos, i) {\r\n            nextGuidelines.push({\r\n                type: \"horizontal\",\r\n                element: element,\r\n                pos: [\r\n                    rectLeft,\r\n                    throttle(pos, 0.1),\r\n                ],\r\n                size: width,\r\n                sizes: sizes,\r\n                className: className,\r\n                elementRect: snapRect,\r\n                elementDirection: SNAP_SKIP_NAMES_MAP[horizontalNames[i]] || horizontalNames[i],\r\n                direction: \"\",\r\n            });\r\n        });\r\n    });\r\n    return nextGuidelines;\r\n}\r\nfunction getObjectGuidelines(guidelines, containerSize) {\r\n    return guidelines ? guidelines.map(function (info) {\r\n        var posGuideline = isObject(info) ? info : { pos: info };\r\n        var pos = posGuideline.pos;\r\n        if (isNumber(pos)) {\r\n            return posGuideline;\r\n        }\r\n        else {\r\n            return __assign(__assign({}, posGuideline), { pos: convertUnitSize(pos, containerSize) });\r\n        }\r\n    }) : [];\r\n}\r\nfunction getDefaultGuidelines(horizontalGuidelines, verticalGuidelines, width, height, clientLeft, clientTop, snapOffset) {\r\n    if (clientLeft === void 0) { clientLeft = 0; }\r\n    if (clientTop === void 0) { clientTop = 0; }\r\n    if (snapOffset === void 0) { snapOffset = { left: 0, top: 0, right: 0, bottom: 0 }; }\r\n    var guidelines = [];\r\n    var snapOffsetLeft = snapOffset.left, snapOffsetTop = snapOffset.top, snapOffsetBottom = snapOffset.bottom, snapOffsetRight = snapOffset.right;\r\n    var snapWidth = width + snapOffsetRight - snapOffsetLeft;\r\n    var snapHeight = height + snapOffsetBottom - snapOffsetTop;\r\n    getObjectGuidelines(horizontalGuidelines, snapHeight).forEach(function (posInfo) {\r\n        guidelines.push({\r\n            type: \"horizontal\",\r\n            pos: [\r\n                snapOffsetLeft,\r\n                throttle(posInfo.pos - clientTop + snapOffsetTop, 0.1),\r\n            ],\r\n            size: snapWidth,\r\n            className: posInfo.className,\r\n            direction: \"\",\r\n        });\r\n    });\r\n    getObjectGuidelines(verticalGuidelines, snapWidth).forEach(function (posInfo) {\r\n        guidelines.push({\r\n            type: \"vertical\",\r\n            pos: [\r\n                throttle(posInfo.pos - clientLeft + snapOffsetLeft, 0.1),\r\n                snapOffsetTop,\r\n            ],\r\n            size: snapHeight,\r\n            className: posInfo.className,\r\n            direction: \"\",\r\n        });\r\n    });\r\n    return guidelines;\r\n}\r\nfunction getSnapElementRects(moveable, values) {\r\n    if (!values.length) {\r\n        return [];\r\n    }\r\n    var groupable = moveable.props.groupable;\r\n    var state = moveable.state;\r\n    var containerClientRect = state.containerClientRect, \r\n    // targetClientRect: {\r\n    //     top: clientTop,\r\n    //     left: clientLeft,\r\n    // },\r\n    rootMatrix = state.rootMatrix, is3d = state.is3d, offsetDelta = state.offsetDelta;\r\n    var n = is3d ? 4 : 3;\r\n    var _a = __read(calculateContainerPos(rootMatrix, containerClientRect, n), 2), containerLeft = _a[0], containerTop = _a[1];\r\n    // const poses = getAbsolutePosesByState(state);\r\n    // const {\r\n    //     minX: targetLeft,\r\n    //     minY: targetTop,\r\n    // } = getMinMaxs(poses);\r\n    // const [distLeft, distTop] = minus([targetLeft, targetTop], calculateInversePosition(rootMatrix, [\r\n    //     clientLeft - containerLeft,\r\n    //     clientTop - containerTop,\r\n    // ], n)).map(pos => roundSign(pos));\r\n    var offsetLeft = groupable ? 0 : offsetDelta[0];\r\n    var offsetTop = groupable ? 0 : offsetDelta[1];\r\n    return values.map(function (value) {\r\n        var rect = value.element.getBoundingClientRect();\r\n        var left = rect.left - containerLeft - offsetLeft;\r\n        var top = rect.top - containerTop - offsetTop;\r\n        var bottom = top + rect.height;\r\n        var right = left + rect.width;\r\n        var _a = __read(calculateInversePosition(rootMatrix, [left, top], n), 2), elementLeft = _a[0], elementTop = _a[1];\r\n        var _b = __read(calculateInversePosition(rootMatrix, [right, bottom], n), 2), elementRight = _b[0], elementBottom = _b[1];\r\n        return __assign(__assign({}, value), { rect: {\r\n                left: elementLeft,\r\n                right: elementRight,\r\n                top: elementTop,\r\n                bottom: elementBottom,\r\n                center: (elementLeft + elementRight) / 2,\r\n                middle: (elementTop + elementBottom) / 2,\r\n            } });\r\n    });\r\n}\n\nfunction checkSnapInfo(moveable) {\r\n    var state = moveable.state;\r\n    var container = state.container;\r\n    var snapContainer = moveable.props.snapContainer || container;\r\n    if (state.snapContainer === snapContainer && state.guidelines && state.guidelines.length) {\r\n        return false;\r\n    }\r\n    var containerClientRect = state.containerClientRect;\r\n    var snapOffset = {\r\n        left: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n    };\r\n    if (container !== snapContainer) {\r\n        var snapContainerTarget = getRefTarget(snapContainer, true);\r\n        if (snapContainerTarget) {\r\n            var snapContainerRect = getClientRect(snapContainerTarget);\r\n            var offset1 = getDragDistByState(state, [\r\n                snapContainerRect.left - containerClientRect.left,\r\n                snapContainerRect.top - containerClientRect.top,\r\n            ]);\r\n            var offset2 = getDragDistByState(state, [\r\n                snapContainerRect.right - containerClientRect.right,\r\n                snapContainerRect.bottom - containerClientRect.bottom,\r\n            ]);\r\n            snapOffset.left = throttle(offset1[0], 0.00001);\r\n            snapOffset.top = throttle(offset1[1], 0.00001);\r\n            snapOffset.right = throttle(offset2[0], 0.00001);\r\n            snapOffset.bottom = throttle(offset2[1], 0.00001);\r\n        }\r\n    }\r\n    state.snapContainer = snapContainer;\r\n    state.snapOffset = snapOffset;\r\n    state.guidelines = getTotalGuidelines(moveable);\r\n    state.enableSnap = true;\r\n    return true;\r\n}\r\nfunction getNextFixedPoses(matrix, width, height, fixedDirection, fixedPos, is3d) {\r\n    var nextPoses = calculatePoses(matrix, width, height, is3d ? 4 : 3);\r\n    var nextFixedPos = getPosByDirection(nextPoses, fixedDirection);\r\n    return getAbsolutePoses(nextPoses, minus(fixedPos, nextFixedPos));\r\n}\r\nfunction normalized(value) {\r\n    return value ? value / abs(value) : 0;\r\n}\r\nfunction getSizeOffsetInfo(moveable, poses, direction, keepRatio, isRequest, datas) {\r\n    var fixedDirection = datas.fixedDirection;\r\n    var directions = getCheckSnapDirections(direction, fixedDirection, keepRatio);\r\n    var innerBoundLineInfos = getCheckInnerBoundLineInfos(moveable, poses, direction, keepRatio);\r\n    var offsets = __spreadArray(__spreadArray([], __read(getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas)), false), __read(getInnerBoundInfo(moveable, innerBoundLineInfos, datas)), false);\r\n    var widthOffsetInfo = getNearOffsetInfo(offsets, 0);\r\n    var heightOffsetInfo = getNearOffsetInfo(offsets, 1);\r\n    return {\r\n        width: {\r\n            isBound: widthOffsetInfo.isBound,\r\n            offset: widthOffsetInfo.offset[0],\r\n        },\r\n        height: {\r\n            isBound: heightOffsetInfo.isBound,\r\n            offset: heightOffsetInfo.offset[1],\r\n        },\r\n    };\r\n}\r\nfunction recheckSizeByTwoDirection(moveable, poses, width, height, maxWidth, maxHeight, direction, isRequest, datas) {\r\n    var snapPos = getPosByDirection(poses, direction);\r\n    var _a = checkMoveableSnapBounds(moveable, isRequest, {\r\n        vertical: [snapPos[0]],\r\n        horizontal: [snapPos[1]],\r\n    }), horizontalOffset = _a.horizontal.offset, verticalOffset = _a.vertical.offset;\r\n    if (throttle(verticalOffset, FLOAT_POINT_NUM) || throttle(horizontalOffset, FLOAT_POINT_NUM)) {\r\n        var _b = __read(getDragDist({\r\n            datas: datas,\r\n            distX: -verticalOffset,\r\n            distY: -horizontalOffset,\r\n        }), 2), nextWidthOffset = _b[0], nextHeightOffset = _b[1];\r\n        var nextWidth = Math.min(maxWidth || Infinity, width + direction[0] * nextWidthOffset);\r\n        var nextHeight = Math.min(maxHeight || Infinity, height + direction[1] * nextHeightOffset);\r\n        return [nextWidth - width, nextHeight - height];\r\n    }\r\n    return [0, 0];\r\n}\r\nfunction checkSizeDist(moveable, getNextPoses, width, height, direction, fixedPosition, isRequest, datas) {\r\n    var poses = getAbsolutePosesByState(moveable.state);\r\n    var keepRatio = moveable.props.keepRatio;\r\n    var widthOffset = 0;\r\n    var heightOffset = 0;\r\n    for (var i = 0; i < 2; ++i) {\r\n        var nextPoses = getNextPoses(widthOffset, heightOffset);\r\n        var _a = getSizeOffsetInfo(moveable, nextPoses, direction, keepRatio, isRequest, datas), widthOffsetInfo = _a.width, heightOffsetInfo = _a.height;\r\n        var isWidthBound = widthOffsetInfo.isBound;\r\n        var isHeightBound = heightOffsetInfo.isBound;\r\n        var nextWidthOffset = widthOffsetInfo.offset;\r\n        var nextHeightOffset = heightOffsetInfo.offset;\r\n        if (i === 1) {\r\n            if (!isWidthBound) {\r\n                nextWidthOffset = 0;\r\n            }\r\n            if (!isHeightBound) {\r\n                nextHeightOffset = 0;\r\n            }\r\n        }\r\n        if (i === 0 && isRequest && !isWidthBound && !isHeightBound) {\r\n            return [0, 0];\r\n        }\r\n        if (keepRatio) {\r\n            var widthDist = abs(nextWidthOffset) * (width ? 1 / width : 1);\r\n            var heightDist = abs(nextHeightOffset) * (height ? 1 / height : 1);\r\n            var isGetWidthOffset = isWidthBound && isHeightBound\r\n                ? widthDist < heightDist\r\n                : isHeightBound ||\r\n                    (!isWidthBound && widthDist < heightDist);\r\n            if (isGetWidthOffset) {\r\n                // width : height = ? : heightOffset\r\n                nextWidthOffset = (width * nextHeightOffset) / height;\r\n            }\r\n            else {\r\n                // width : height = widthOffset : ?\r\n                nextHeightOffset = (height * nextWidthOffset) / width;\r\n            }\r\n        }\r\n        widthOffset += nextWidthOffset;\r\n        heightOffset += nextHeightOffset;\r\n    }\r\n    if (!keepRatio && direction[0] && direction[1]) {\r\n        var _b = checkMaxBounds(moveable, poses, direction, fixedPosition, datas), maxWidth = _b.maxWidth, maxHeight = _b.maxHeight;\r\n        var _c = __read(recheckSizeByTwoDirection(moveable, getNextPoses(widthOffset, heightOffset).map(function (pos) { return pos.map(function (p) { return throttle(p, FLOAT_POINT_NUM); }); }), width + widthOffset, height + heightOffset, maxWidth, maxHeight, direction, isRequest, datas), 2), nextWidthOffset = _c[0], nextHeightOffset = _c[1];\r\n        widthOffset += nextWidthOffset;\r\n        heightOffset += nextHeightOffset;\r\n    }\r\n    return [widthOffset, heightOffset];\r\n}\r\nfunction absDegree(deg) {\r\n    if (deg < 0) {\r\n        deg = deg % 360 + 360;\r\n    }\r\n    deg %= 360;\r\n    return deg;\r\n}\r\nfunction bumpDegree(baseDeg, snapDeg) {\r\n    // baseDeg -80\r\n    // snapDeg 270\r\n    // return -90\r\n    snapDeg = absDegree(snapDeg);\r\n    var count = Math.floor(baseDeg / 360);\r\n    var deg1 = count * 360 + 360 - snapDeg;\r\n    var deg2 = count * 360 + snapDeg;\r\n    return abs(baseDeg - deg1) < abs(baseDeg - deg2) ? deg1 : deg2;\r\n}\r\nfunction getMinDegreeDistance(deg1, deg2) {\r\n    deg1 = absDegree(deg1);\r\n    deg2 = absDegree(deg2);\r\n    var deg3 = absDegree(deg1 - deg2);\r\n    return Math.min(deg3, 360 - deg3);\r\n}\r\nfunction checkSnapRotate(moveable, rect, dist, rotation) {\r\n    var _a;\r\n    var props = moveable.props;\r\n    var snapRotationThreshold = (_a = props[NAME_snapRotationThreshold]) !== null && _a !== void 0 ? _a : 5;\r\n    var snapRotationDegrees = props[NAME_snapRotationDegrees];\r\n    if (hasGuidelines(moveable, \"rotatable\")) {\r\n        var pos1 = rect.pos1, pos2 = rect.pos2, pos3 = rect.pos3, pos4 = rect.pos4, origin2_1 = rect.origin;\r\n        var rad_1 = (dist * Math.PI) / 180;\r\n        var prevPoses = [pos1, pos2, pos3, pos4].map(function (pos) { return minus(pos, origin2_1); });\r\n        var nextPoses = prevPoses.map(function (pos) { return rotate(pos, rad_1); });\r\n        // console.log(moveable.state.left, moveable.state.top, moveable.state.origin);\r\n        // console.log(pos1, pos2, pos3, pos4, origin, rad, prevPoses, nextPoses);\r\n        var result = __spreadArray(__spreadArray([], __read(checkRotateBounds(moveable, prevPoses, nextPoses, origin2_1, dist)), false), __read(checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin2_1, dist)), false);\r\n        result.sort(function (a, b) { return abs(a - dist) - abs(b - dist); });\r\n        var isSnap = result.length > 0;\r\n        if (isSnap) {\r\n            return {\r\n                isSnap: isSnap,\r\n                dist: isSnap ? result[0] : dist,\r\n            };\r\n        }\r\n    }\r\n    if ((snapRotationDegrees === null || snapRotationDegrees === void 0 ? void 0 : snapRotationDegrees.length) && snapRotationThreshold) {\r\n        var sorted = snapRotationDegrees.slice().sort(function (a, b) {\r\n            return getMinDegreeDistance(a, rotation) - getMinDegreeDistance(b, rotation);\r\n        });\r\n        var firstDegree = sorted[0];\r\n        if (getMinDegreeDistance(firstDegree, rotation) <= snapRotationThreshold) {\r\n            return {\r\n                isSnap: true,\r\n                dist: dist + bumpDegree(rotation, firstDegree) - rotation,\r\n            };\r\n        }\r\n    }\r\n    return {\r\n        isSnap: false,\r\n        dist: dist,\r\n    };\r\n}\r\nfunction checkSnapResize(moveable, width, height, direction, fixedPosition, isRequest, datas) {\r\n    if (!hasGuidelines(moveable, \"resizable\")) {\r\n        return [0, 0];\r\n    }\r\n    var fixedDirection = datas.fixedDirection, nextAllMatrix = datas.nextAllMatrix;\r\n    var _a = moveable.state, allMatrix = _a.allMatrix, is3d = _a.is3d;\r\n    return checkSizeDist(moveable, function (widthOffset, heightOffset) {\r\n        return getNextFixedPoses(nextAllMatrix || allMatrix, width + widthOffset, height + heightOffset, fixedDirection, fixedPosition, is3d);\r\n    }, width, height, direction, fixedPosition, isRequest, datas);\r\n}\r\nfunction checkSnapScale(moveable, scale, direction, isRequest, datas) {\r\n    if (!hasGuidelines(moveable, \"scalable\")) {\r\n        return [0, 0];\r\n    }\r\n    var startOffsetWidth = datas.startOffsetWidth, startOffsetHeight = datas.startOffsetHeight, fixedPosition = datas.fixedPosition, fixedDirection = datas.fixedDirection, is3d = datas.is3d;\r\n    var sizeDist = checkSizeDist(moveable, function (widthOffset, heightOffset) {\r\n        return getNextFixedPoses(scaleMatrix(datas, plus(scale, [widthOffset / startOffsetWidth, heightOffset / startOffsetHeight])), startOffsetWidth, startOffsetHeight, fixedDirection, fixedPosition, is3d);\r\n    }, startOffsetWidth, startOffsetHeight, direction, fixedPosition, isRequest, datas);\r\n    return [sizeDist[0] / startOffsetWidth, sizeDist[1] / startOffsetHeight];\r\n}\r\nfunction startCheckSnapDrag(moveable, datas) {\r\n    datas.absolutePoses = getAbsolutePosesByState(moveable.state);\r\n}\r\nfunction getSnapGuidelines(posInfos) {\r\n    var guidelines = [];\r\n    posInfos.forEach(function (posInfo) {\r\n        posInfo.guidelineInfos.forEach(function (_a) {\r\n            var guideline = _a.guideline;\r\n            if (find(guidelines, function (info) { return info.guideline === guideline; })) {\r\n                return;\r\n            }\r\n            guideline.direction = \"\";\r\n            guidelines.push({ guideline: guideline, posInfo: posInfo });\r\n        });\r\n    });\r\n    return guidelines.map(function (_a) {\r\n        var guideline = _a.guideline, posInfo = _a.posInfo;\r\n        return __assign(__assign({}, guideline), { direction: posInfo.direction });\r\n    });\r\n}\r\nfunction addBoundGuidelines(moveable, verticalPoses, horizontalPoses, verticalSnapPoses, horizontalSnapPoses, externalBounds) {\r\n    var _a = checkBoundPoses(getBounds(moveable, externalBounds), verticalPoses, horizontalPoses), verticalBoundInfos = _a.vertical, horizontalBoundInfos = _a.horizontal;\r\n    var boundMap = getInitialBounds();\r\n    verticalBoundInfos.forEach(function (info) {\r\n        if (info.isBound) {\r\n            if (info.direction === \"start\") {\r\n                boundMap.left = true;\r\n            }\r\n            if (info.direction === \"end\") {\r\n                boundMap.right = true;\r\n            }\r\n            verticalSnapPoses.push({\r\n                type: \"bounds\",\r\n                pos: info.pos,\r\n            });\r\n        }\r\n    });\r\n    horizontalBoundInfos.forEach(function (info) {\r\n        if (info.isBound) {\r\n            if (info.direction === \"start\") {\r\n                boundMap.top = true;\r\n            }\r\n            if (info.direction === \"end\") {\r\n                boundMap.bottom = true;\r\n            }\r\n            horizontalSnapPoses.push({\r\n                type: \"bounds\",\r\n                pos: info.pos,\r\n            });\r\n        }\r\n    });\r\n    var _b = checkInnerBoundPoses(moveable), innerBoundMap = _b.boundMap, verticalInnerBoundPoses = _b.vertical, horizontalInnerBoundPoses = _b.horizontal;\r\n    verticalInnerBoundPoses.forEach(function (innerPos) {\r\n        if (findIndex(verticalSnapPoses, function (_a) {\r\n            var type = _a.type, pos = _a.pos;\r\n            return type === \"bounds\" && pos === innerPos;\r\n        }) >= 0) {\r\n            return;\r\n        }\r\n        verticalSnapPoses.push({\r\n            type: \"bounds\",\r\n            pos: innerPos,\r\n        });\r\n    });\r\n    horizontalInnerBoundPoses.forEach(function (innerPos) {\r\n        if (findIndex(horizontalSnapPoses, function (_a) {\r\n            var type = _a.type, pos = _a.pos;\r\n            return type === \"bounds\" && pos === innerPos;\r\n        }) >= 0) {\r\n            return;\r\n        }\r\n        horizontalSnapPoses.push({\r\n            type: \"bounds\",\r\n            pos: innerPos,\r\n        });\r\n    });\r\n    return {\r\n        boundMap: boundMap,\r\n        innerBoundMap: innerBoundMap,\r\n    };\r\n}\r\nvar directionCondition$1 = getDirectionCondition(\"\", [\"resizable\", \"scalable\"]);\r\n/**\r\n * @namespace Moveable.Snappable\r\n * @description Whether or not target can be snapped to the guideline. (default: false)\r\n * @sort 2\r\n */\r\nvar Snappable = {\r\n    name: \"snappable\",\r\n    dragRelation: \"strong\",\r\n    props: [\r\n        \"snappable\",\r\n        \"snapContainer\",\r\n        \"snapDirections\",\r\n        \"elementSnapDirections\",\r\n        \"snapGap\",\r\n        \"snapGridWidth\",\r\n        \"snapGridHeight\",\r\n        \"isDisplaySnapDigit\",\r\n        \"isDisplayInnerSnapDigit\",\r\n        \"isDisplayGridGuidelines\",\r\n        \"snapDigit\",\r\n        \"snapThreshold\",\r\n        \"snapRenderThreshold\",\r\n        \"snapGridAll\",\r\n        NAME_snapRotationThreshold,\r\n        NAME_snapRotationDegrees,\r\n        NAME_snapHorizontalThreshold,\r\n        NAME_snapVerticalThreshold,\r\n        \"horizontalGuidelines\",\r\n        \"verticalGuidelines\",\r\n        \"elementGuidelines\",\r\n        \"bounds\",\r\n        \"innerBounds\",\r\n        \"snapDistFormat\",\r\n        \"maxSnapElementGuidelineDistance\",\r\n        \"maxSnapElementGapDistance\",\r\n    ],\r\n    events: [\"snap\", \"bound\"],\r\n    css: [\r\n        \":host {\\n--bounds-color: #d66;\\n}\\n.guideline {\\npointer-events: none;\\nz-index: 2;\\n}\\n.guideline.bounds {\\nbackground: #d66;\\nbackground: var(--bounds-color);\\n}\\n.guideline-group {\\nposition: absolute;\\ntop: 0;\\nleft: 0;\\n}\\n.guideline-group .size-value {\\nposition: absolute;\\ncolor: #f55;\\nfont-size: 12px;\\nfont-size: calc(12px * var(--zoom));\\nfont-weight: bold;\\n}\\n.guideline-group.horizontal .size-value {\\ntransform-origin: 50% 100%;\\ntransform: translateX(-50%);\\nleft: 50%;\\nbottom: 5px;\\nbottom: calc(2px + 3px * var(--zoom));\\n}\\n.guideline-group.vertical .size-value {\\ntransform-origin: 0% 50%;\\ntop: 50%;\\ntransform: translateY(-50%);\\nleft: 5px;\\nleft: calc(2px + 3px * var(--zoom));\\n}\\n.guideline.gap {\\nbackground: #f55;\\n}\\n.size-value.gap {\\ncolor: #f55;\\n}\\n\",\r\n    ],\r\n    render: function (moveable, React) {\r\n        var state = moveable.state;\r\n        var targetTop = state.top, targetLeft = state.left, pos1 = state.pos1, pos2 = state.pos2, pos3 = state.pos3, pos4 = state.pos4, snapRenderInfo = state.snapRenderInfo;\r\n        var _a = moveable.props.snapRenderThreshold, snapRenderThreshold = _a === void 0 ? 1 : _a;\r\n        if (!snapRenderInfo || !snapRenderInfo.render || !hasGuidelines(moveable, \"\")) {\r\n            // reset store\r\n            watchValue(moveable, \"boundMap\", getInitialBounds(), function (v) { return JSON.stringify(v); });\r\n            watchValue(moveable, \"innerBoundMap\", getInitialBounds(), function (v) { return JSON.stringify(v); });\r\n            return [];\r\n        }\r\n        state.guidelines = getTotalGuidelines(moveable);\r\n        var minLeft = Math.min(pos1[0], pos2[0], pos3[0], pos4[0]);\r\n        var minTop = Math.min(pos1[1], pos2[1], pos3[1], pos4[1]);\r\n        var externalPoses = snapRenderInfo.externalPoses || [];\r\n        var poses = getAbsolutePosesByState(moveable.state);\r\n        var verticalSnapPoses = [];\r\n        var horizontalSnapPoses = [];\r\n        var verticalGuidelines = [];\r\n        var horizontalGuidelines = [];\r\n        var snapInfos = [];\r\n        var _b = getRect(poses), width = _b.width, height = _b.height, top = _b.top, left = _b.left, bottom = _b.bottom, right = _b.right;\r\n        var targetRect = { left: left, right: right, top: top, bottom: bottom, center: (left + right) / 2, middle: (top + bottom) / 2 };\r\n        var hasExternalPoses = externalPoses.length > 0;\r\n        var externalRect = hasExternalPoses\r\n            ? getRect(externalPoses)\r\n            : {};\r\n        if (!snapRenderInfo.request) {\r\n            if (snapRenderInfo.direction) {\r\n                snapInfos.push(getSnapInfosByDirection(moveable, poses, snapRenderInfo.direction, snapRenderThreshold, snapRenderThreshold));\r\n            }\r\n            if (snapRenderInfo.snap) {\r\n                var rect = getRect(poses);\r\n                if (snapRenderInfo.center) {\r\n                    rect.middle = (rect.top + rect.bottom) / 2;\r\n                    rect.center = (rect.left + rect.right) / 2;\r\n                }\r\n                snapInfos.push(checkSnaps(moveable, rect, snapRenderThreshold, snapRenderThreshold));\r\n            }\r\n            if (hasExternalPoses) {\r\n                if (snapRenderInfo.center) {\r\n                    externalRect.middle =\r\n                        (externalRect.top + externalRect.bottom) / 2;\r\n                    externalRect.center =\r\n                        (externalRect.left + externalRect.right) / 2;\r\n                }\r\n                snapInfos.push(checkSnaps(moveable, externalRect, snapRenderThreshold, snapRenderThreshold));\r\n            }\r\n            snapInfos.forEach(function (snapInfo) {\r\n                var verticalPosInfos = snapInfo.vertical.posInfos, horizontalPosInfos = snapInfo.horizontal.posInfos;\r\n                verticalSnapPoses.push.apply(verticalSnapPoses, __spreadArray([], __read(verticalPosInfos.filter(function (_a) {\r\n                    var guidelineInfos = _a.guidelineInfos;\r\n                    return guidelineInfos.some(function (_a) {\r\n                        var guideline = _a.guideline;\r\n                        return !guideline.hide;\r\n                    });\r\n                }).map(function (posInfo) { return ({\r\n                    type: \"snap\",\r\n                    pos: posInfo.pos,\r\n                }); })), false));\r\n                horizontalSnapPoses.push.apply(horizontalSnapPoses, __spreadArray([], __read(horizontalPosInfos.filter(function (_a) {\r\n                    var guidelineInfos = _a.guidelineInfos;\r\n                    return guidelineInfos.some(function (_a) {\r\n                        var guideline = _a.guideline;\r\n                        return !guideline.hide;\r\n                    });\r\n                }).map(function (posInfo) { return ({\r\n                    type: \"snap\",\r\n                    pos: posInfo.pos,\r\n                }); })), false));\r\n                verticalGuidelines.push.apply(verticalGuidelines, __spreadArray([], __read(getSnapGuidelines(verticalPosInfos)), false));\r\n                horizontalGuidelines.push.apply(horizontalGuidelines, __spreadArray([], __read(getSnapGuidelines(horizontalPosInfos)), false));\r\n            });\r\n        }\r\n        var _c = addBoundGuidelines(moveable, [left, right], [top, bottom], verticalSnapPoses, horizontalSnapPoses), boundMap = _c.boundMap, innerBoundMap = _c.innerBoundMap;\r\n        if (hasExternalPoses) {\r\n            addBoundGuidelines(moveable, [externalRect.left, externalRect.right], [externalRect.top, externalRect.bottom], verticalSnapPoses, horizontalSnapPoses, snapRenderInfo.externalBounds);\r\n        }\r\n        var allGuidelines = __spreadArray(__spreadArray([], __read(verticalGuidelines), false), __read(horizontalGuidelines), false);\r\n        var elementGuidelines = allGuidelines.filter(function (guideline) { return guideline.element && !guideline.gapRects; });\r\n        var gapGuidelines = allGuidelines.filter(function (guideline) { return guideline.gapRects; }).sort(function (a, b) {\r\n            return a.gap - b.gap;\r\n        });\r\n        triggerEvent(moveable, \"onSnap\", {\r\n            guidelines: allGuidelines.filter(function (_a) {\r\n                var element = _a.element;\r\n                return !element;\r\n            }),\r\n            elements: elementGuidelines,\r\n            gaps: gapGuidelines,\r\n        }, true);\r\n        var nextBoundMap = watchValue(moveable, \"boundMap\", boundMap, function (v) { return JSON.stringify(v); }, getInitialBounds());\r\n        var nextInnerBoundMap = watchValue(moveable, \"innerBoundMap\", innerBoundMap, function (v) { return JSON.stringify(v); }, getInitialBounds());\r\n        if (boundMap === nextBoundMap || innerBoundMap === nextInnerBoundMap) {\r\n            triggerEvent(moveable, \"onBound\", {\r\n                bounds: boundMap,\r\n                innerBounds: innerBoundMap,\r\n            }, true);\r\n        }\r\n        // verticalSnapPoses.\r\n        return __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], __read(renderDashedGuidelines(moveable, elementGuidelines, [minLeft, minTop], targetRect, React)), false), __read(renderGapGuidelines(moveable, gapGuidelines, [minLeft, minTop], targetRect, React)), false), __read(renderGuidelines(moveable, \"horizontal\", horizontalGuidelines, [targetLeft, targetTop], targetRect, React)), false), __read(renderGuidelines(moveable, \"vertical\", verticalGuidelines, [targetLeft, targetTop], targetRect, React)), false), __read(renderSnapPoses(moveable, \"horizontal\", horizontalSnapPoses, minLeft, targetTop, width, 0, React)), false), __read(renderSnapPoses(moveable, \"vertical\", verticalSnapPoses, minTop, targetLeft, height, 1, React)), false);\r\n    },\r\n    dragStart: function (moveable, e) {\r\n        moveable.state.snapRenderInfo = {\r\n            request: e.isRequest,\r\n            snap: true,\r\n            center: true,\r\n        };\r\n        checkSnapInfo(moveable);\r\n    },\r\n    drag: function (moveable) {\r\n        var state = moveable.state;\r\n        if (!checkSnapInfo(moveable)) {\r\n            state.guidelines = getTotalGuidelines(moveable);\r\n        }\r\n        if (state.snapRenderInfo) {\r\n            state.snapRenderInfo.render = true;\r\n        }\r\n    },\r\n    pinchStart: function (moveable) {\r\n        this.unset(moveable);\r\n    },\r\n    dragEnd: function (moveable) {\r\n        this.unset(moveable);\r\n    },\r\n    dragControlCondition: function (moveable, e) {\r\n        if (directionCondition$1(moveable, e) || dragControlCondition(moveable, e)) {\r\n            return true;\r\n        }\r\n        if (!e.isRequest && e.inputEvent) {\r\n            return hasClass(e.inputEvent.target, prefix(\"snap-control\"));\r\n        }\r\n    },\r\n    dragControlStart: function (moveable) {\r\n        moveable.state.snapRenderInfo = null;\r\n        checkSnapInfo(moveable);\r\n    },\r\n    dragControl: function (moveable) {\r\n        this.drag(moveable);\r\n    },\r\n    dragControlEnd: function (moveable) {\r\n        this.unset(moveable);\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        this.dragStart(moveable, e);\r\n    },\r\n    dragGroup: function (moveable) {\r\n        this.drag(moveable);\r\n    },\r\n    dragGroupEnd: function (moveable) {\r\n        this.unset(moveable);\r\n    },\r\n    dragGroupControlStart: function (moveable) {\r\n        moveable.state.snapRenderInfo = null;\r\n        checkSnapInfo(moveable);\r\n    },\r\n    dragGroupControl: function (moveable) {\r\n        this.drag(moveable);\r\n    },\r\n    dragGroupControlEnd: function (moveable) {\r\n        this.unset(moveable);\r\n    },\r\n    unset: function (moveable) {\r\n        var state = moveable.state;\r\n        state.enableSnap = false;\r\n        state.guidelines = [];\r\n        state.snapRenderInfo = null;\r\n        state.elementRects = [];\r\n    },\r\n};\r\n/**\r\n * Whether or not target can be snapped to the guideline. (default: false)\r\n * @name Moveable.Snappable#snappable\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snappable = true;\r\n */\r\n/**\r\n *  A snap container that is the basis for snap, bounds, and innerBounds. (default: null = container)\r\n * @name Moveable.Snappable#snapContainer\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.querySelector(\".container\"));\r\n *\r\n * moveable.snapContainer = document.body;\r\n */\r\n/**\r\n * You can specify the directions to snap to the target. (default: { left: true, top: true, right: true, bottom: true })\r\n * @name Moveable.Snappable#snapDirections\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   snappable: true,\r\n *   snapDirections: true,\r\n * });\r\n * // snap center\r\n * moveable.snapDirections = { left: true, top: true, right: true, bottom: true, center: true, middle: true };\r\n */\r\n/**\r\n * You can specify the snap directions of elements. (default: { left: true, ftrue, right: true, bottom: true })\r\n * @name Moveable.Snappable#elementSnapDirections\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   snappable: true,\r\n *   elementSnapDirections: true,\r\n * });\r\n * // snap center\r\n * moveable.elementSnapDirections = { left: true, top: true, right: true, bottom: true, center: true, middle: true };\r\n */\r\n/**\r\n * When you drag, make the gap snap in the element guidelines. (default: true)\r\n * @name Moveable.Snappable#snapGap\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   snappable: true,\r\n *   snapElement: true,\r\n *   snapGap: true,\r\n * });\r\n *\r\n * moveable.snapGap = false;\r\n */\r\n/**\r\n * Distance value that can snap to guidelines. (default: 5)\r\n * @name Moveable.Snappable#snapThreshold\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snapThreshold = 5;\r\n */\r\n/**\r\n * Add guidelines in the horizontal direction. (default: [])\r\n * @name Moveable.Snappable#horizontalGuidelines\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.horizontalGuidelines = [100, 200, 500];\r\n */\r\n/**\r\n * Add guidelines in the vertical direction. (default: [])\r\n * @name Moveable.Snappable#verticalGuidelines\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.verticalGuidelines = [100, 200, 500];\r\n */\r\n/**\r\n * Add guidelines for the element. (default: [])\r\n * @name Moveable.Snappable#elementGuidelines\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.elementGuidelines = [\r\n *   document.querySelector(\".element\"),\r\n * ];\r\n */\r\n/**\r\n * You can set up boundaries.\r\n * @name Moveable.Snappable#bounds\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @default null\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.bounds = { left: 0, right: 1000, top: 0, bottom: 1000};\r\n */\r\n/**\r\n * You can set up inner boundaries.\r\n * @name Moveable.Snappable#innerBounds\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @default null\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.innerBounds = { left: 500, top: 500, width: 100, height: 100};\r\n */\r\n/**\r\n * snap distance digits (default: 0)\r\n * @name Moveable.Snappable#snapDigit\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snapDigit = 0\r\n */\r\n/**\r\n * If width size is greater than 0, you can vertical snap to the grid. (default: 0)\r\n * @name Moveable.Snappable#snapGridWidth\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snapGridWidth = 5;\r\n */\r\n/**\r\n * If height size is greater than 0, you can horizontal snap to the grid. (default: 0)\r\n * @name Moveable.Snappable#snapGridHeight\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snapGridHeight = 5;\r\n */\r\n/**\r\n * Whether to show snap distance (default: true)\r\n * @name Moveable.Snappable#isDisplaySnapDigit\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.isDisplaySnapDigit = true;\r\n */\r\n/**\r\n * Whether to show element inner snap distance (default: false)\r\n * @name Moveable.Snappable#isDisplayInnerSnapDigit\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.isDisplayInnerSnapDigit = true;\r\n */\r\n/**\r\n * You can set the text format of the distance shown in the guidelines. (default: self)\r\n * @name Moveable.Snappable#snapDistFormat\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  snappable: true,\r\n *  snapDistFormat: (v, type) => v,\r\n * });\r\n * moveable.snapDistFormat = (v, type) => `${v}px`;\r\n */\r\n/**\r\n * When you drag or dragControl, the `snap` event is called.\r\n * @memberof Moveable.Snappable\r\n * @event snap\r\n * @param {Moveable.Snappable.OnSnap} - Parameters for the `snap` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     snappable: true\r\n * });\r\n * moveable.on(\"snap\", e => {\r\n *     console.log(\"onSnap\", e);\r\n * });\r\n */\n\nfunction multiply2(pos1, pos2) {\r\n    return [\r\n        pos1[0] * pos2[0],\r\n        pos1[1] * pos2[1],\r\n    ];\r\n}\r\nfunction prefix() {\r\n    var classNames = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        classNames[_i] = arguments[_i];\r\n    }\r\n    return prefixNames.apply(void 0, __spreadArray([PREFIX], __read(classNames), false));\r\n}\r\nfunction defaultSync(fn) {\r\n    fn();\r\n}\r\nfunction getTransformMatrix(transform) {\r\n    if (!transform || transform === \"none\") {\r\n        return [1, 0, 0, 1, 0, 0];\r\n    }\r\n    if (isObject(transform)) {\r\n        return transform;\r\n    }\r\n    return parseMat(transform);\r\n}\r\nfunction getAbsoluteMatrix(matrix, n, origin) {\r\n    return multiplies(n, createOriginMatrix(origin, n), matrix, createOriginMatrix(origin.map(function (a) { return -a; }), n));\r\n}\r\nfunction measureSVGSize(el, unit, isHorizontal) {\r\n    if (unit === \"%\") {\r\n        var viewBox = getSVGViewBox(el.ownerSVGElement);\r\n        return viewBox[isHorizontal ? \"width\" : \"height\"] / 100;\r\n    }\r\n    return 1;\r\n}\r\nfunction getBeforeTransformOrigin(el) {\r\n    var relativeOrigin = getTransformOrigin(getComputedStyle(el, \":before\"));\r\n    return relativeOrigin.map(function (o, i) {\r\n        var _a = splitUnit(o), value = _a.value, unit = _a.unit;\r\n        return value * measureSVGSize(el, unit, i === 0);\r\n    });\r\n}\r\nfunction getTransformOriginArray(transformOrigin) {\r\n    return transformOrigin ? transformOrigin.split(\" \") : [\"0\", \"0\"];\r\n}\r\nfunction getTransformOrigin(style) {\r\n    return getTransformOriginArray(style.transformOrigin);\r\n}\r\nfunction getElementTransform(target) {\r\n    var getStyle = getCachedStyle(target);\r\n    var computedTransform = getStyle(\"transform\");\r\n    if (computedTransform && computedTransform !== \"none\") {\r\n        return computedTransform;\r\n    }\r\n    if (\"transform\" in target) {\r\n        var list = target.transform;\r\n        var baseVal = list.baseVal;\r\n        if (!baseVal) {\r\n            return \"\";\r\n        }\r\n        var length_1 = baseVal.length;\r\n        if (!length_1) {\r\n            return \"\";\r\n        }\r\n        var matrixes = [];\r\n        var _loop_1 = function (i) {\r\n            var matrix = baseVal[i].matrix;\r\n            matrixes.push(\"matrix(\".concat([\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"].map(function (chr) { return matrix[chr]; }).join(\", \"), \")\"));\r\n        };\r\n        for (var i = 0; i < length_1; ++i) {\r\n            _loop_1(i);\r\n        }\r\n        return matrixes.join(\" \");\r\n    }\r\n    return \"\";\r\n}\r\nfunction getOffsetInfo(el, lastParent, isParent, checkZoom, getTargetStyle) {\r\n    var _a, _b;\r\n    var documentElement = getDocumentElement(el) || getDocumentBody(el);\r\n    var hasSlot = false;\r\n    var target;\r\n    var parentSlotElement;\r\n    if (!el || isParent) {\r\n        target = el;\r\n    }\r\n    else {\r\n        var assignedSlotParentElement = (_a = el === null || el === void 0 ? void 0 : el.assignedSlot) === null || _a === void 0 ? void 0 : _a.parentElement;\r\n        var parentElement = el.parentElement;\r\n        if (assignedSlotParentElement) {\r\n            hasSlot = true;\r\n            parentSlotElement = parentElement;\r\n            target = assignedSlotParentElement;\r\n        }\r\n        else {\r\n            target = parentElement;\r\n        }\r\n    }\r\n    var isCustomElement = false;\r\n    var isEnd = el === lastParent || target === lastParent;\r\n    var position = \"relative\";\r\n    var offsetZoom = 1;\r\n    var targetZoom = parseFloat(getTargetStyle === null || getTargetStyle === void 0 ? void 0 : getTargetStyle(\"zoom\")) || 1;\r\n    var targetPosition = getTargetStyle === null || getTargetStyle === void 0 ? void 0 : getTargetStyle(\"position\");\r\n    while (target && target !== documentElement) {\r\n        if (lastParent === target) {\r\n            isEnd = true;\r\n        }\r\n        var getStyle = getCachedStyle(target);\r\n        var tagName = target.tagName.toLowerCase();\r\n        var transform = getElementTransform(target);\r\n        var willChange = getStyle(\"willChange\");\r\n        var zoom = parseFloat(getStyle(\"zoom\")) || 1;\r\n        position = getStyle(\"position\");\r\n        if (checkZoom && zoom !== 1) {\r\n            offsetZoom = zoom;\r\n            break;\r\n        }\r\n        if (\r\n        // offsetParent is the parentElement if the target's zoom is not 1 and not absolute.\r\n        !isParent && checkZoom && targetZoom !== 1 && targetPosition && targetPosition !== \"absolute\"\r\n            || tagName === \"svg\"\r\n            || tagName === \"foreignobject\"\r\n            || position !== \"static\"\r\n            || (transform && transform !== \"none\")\r\n            || willChange === \"transform\") {\r\n            break;\r\n        }\r\n        var slotParentNode = (_b = el === null || el === void 0 ? void 0 : el.assignedSlot) === null || _b === void 0 ? void 0 : _b.parentNode;\r\n        var targetParentNode = target.parentNode;\r\n        if (slotParentNode) {\r\n            hasSlot = true;\r\n            parentSlotElement = targetParentNode;\r\n        }\r\n        var parentNode = targetParentNode;\r\n        if (parentNode && parentNode.nodeType === 11) {\r\n            // Shadow Root\r\n            target = parentNode.host;\r\n            isCustomElement = true;\r\n            position = getCachedStyle(target)(\"position\");\r\n            break;\r\n        }\r\n        target = parentNode;\r\n        position = \"relative\";\r\n    }\r\n    return {\r\n        offsetZoom: offsetZoom,\r\n        hasSlot: hasSlot,\r\n        parentSlotElement: parentSlotElement,\r\n        isCustomElement: isCustomElement,\r\n        isStatic: position === \"static\",\r\n        isEnd: isEnd || !target || target === documentElement,\r\n        offsetParent: target || documentElement,\r\n    };\r\n}\r\nfunction getOffsetPosInfo(el, target) {\r\n    var _a;\r\n    var tagName = el.tagName.toLowerCase();\r\n    var offsetLeft = el.offsetLeft;\r\n    var offsetTop = el.offsetTop;\r\n    var getStyle = getCachedStyle(el);\r\n    // svg\r\n    var isSVG = isUndefined(offsetLeft);\r\n    var hasOffset = !isSVG;\r\n    var origin;\r\n    var targetOrigin;\r\n    // inner svg element\r\n    if (!hasOffset && (tagName !== \"svg\" || el.ownerSVGElement)) {\r\n        origin = IS_WEBKIT605\r\n            ? getBeforeTransformOrigin(el)\r\n            : getTransformOriginArray(getStyle(\"transformOrigin\")).map(function (pos) { return parseFloat(pos); });\r\n        targetOrigin = origin.slice();\r\n        hasOffset = true;\r\n        if (tagName === \"svg\") {\r\n            offsetLeft = 0;\r\n            offsetTop = 0;\r\n        }\r\n        else {\r\n            _a = __read(getSVGGraphicsOffset(el, origin, el === target && target.tagName.toLowerCase() === \"g\"), 4), offsetLeft = _a[0], offsetTop = _a[1], origin[0] = _a[2], origin[1] = _a[3];\r\n        }\r\n    }\r\n    else {\r\n        origin = getTransformOriginArray(getStyle(\"transformOrigin\")).map(function (pos) { return parseFloat(pos); });\r\n        targetOrigin = origin.slice();\r\n        // console.log(getStyle(\"transformOrigin\"), targetOrigin);\r\n    }\r\n    return {\r\n        tagName: tagName,\r\n        isSVG: isSVG,\r\n        hasOffset: hasOffset,\r\n        offset: [offsetLeft || 0, offsetTop || 0],\r\n        origin: origin,\r\n        targetOrigin: targetOrigin,\r\n    };\r\n}\r\nfunction getBodyOffset(el, isSVG) {\r\n    var getStyle = getCachedStyle(el);\r\n    var getBodyStyle = getCachedStyle(getDocumentBody(el));\r\n    var bodyPosition = getBodyStyle(\"position\");\r\n    if (!isSVG && (!bodyPosition || bodyPosition === \"static\")) {\r\n        return [0, 0];\r\n    }\r\n    var marginLeft = parseInt(getBodyStyle(\"marginLeft\"), 10);\r\n    var marginTop = parseInt(getBodyStyle(\"marginTop\"), 10);\r\n    if (getStyle(\"position\") === \"absolute\") {\r\n        if (getStyle(\"top\") !== \"auto\" || getStyle(\"bottom\") !== \"auto\") {\r\n            marginTop = 0;\r\n        }\r\n        if (getStyle(\"left\") !== \"auto\" || getStyle(\"right\") !== \"auto\") {\r\n            marginLeft = 0;\r\n        }\r\n    }\r\n    return [marginLeft, marginTop];\r\n}\r\nfunction convert3DMatrixes(matrixes) {\r\n    matrixes.forEach(function (info) {\r\n        var matrix = info.matrix;\r\n        if (matrix) {\r\n            info.matrix = convertDimension(matrix, 3, 4);\r\n        }\r\n    });\r\n}\r\nfunction getPositionFixedInfo(el) {\r\n    var fixedContainer = el.parentElement;\r\n    var hasTransform = false;\r\n    var body = getDocumentBody(el);\r\n    while (fixedContainer) {\r\n        var transform = getComputedStyle(fixedContainer).transform;\r\n        if (transform && transform !== \"none\") {\r\n            hasTransform = true;\r\n            break;\r\n        }\r\n        if (fixedContainer === body) {\r\n            break;\r\n        }\r\n        fixedContainer = fixedContainer.parentElement;\r\n    }\r\n    return {\r\n        fixedContainer: fixedContainer || body,\r\n        hasTransform: hasTransform,\r\n    };\r\n}\r\nfunction makeMatrixCSS(matrix, is3d) {\r\n    if (is3d === void 0) { is3d = matrix.length > 9; }\r\n    return \"\".concat(is3d ? \"matrix3d\" : \"matrix\", \"(\").concat(convertMatrixtoCSS(matrix, !is3d).join(\",\"), \")\");\r\n}\r\nfunction getSVGViewBox(el) {\r\n    var clientWidth = el.clientWidth;\r\n    var clientHeight = el.clientHeight;\r\n    if (!el) {\r\n        return { x: 0, y: 0, width: 0, height: 0, clientWidth: clientWidth, clientHeight: clientHeight };\r\n    }\r\n    var viewBox = el.viewBox;\r\n    var baseVal = (viewBox && viewBox.baseVal) || { x: 0, y: 0, width: 0, height: 0 };\r\n    return {\r\n        x: baseVal.x,\r\n        y: baseVal.y,\r\n        width: baseVal.width || clientWidth,\r\n        height: baseVal.height || clientHeight,\r\n        clientWidth: clientWidth,\r\n        clientHeight: clientHeight,\r\n    };\r\n}\r\nfunction getSVGMatrix(el, n) {\r\n    var _a;\r\n    var _b = getSVGViewBox(el), viewBoxWidth = _b.width, viewBoxHeight = _b.height, clientWidth = _b.clientWidth, clientHeight = _b.clientHeight;\r\n    var scaleX = clientWidth / viewBoxWidth;\r\n    var scaleY = clientHeight / viewBoxHeight;\r\n    var preserveAspectRatio = el.preserveAspectRatio.baseVal;\r\n    // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/preserveAspectRatio\r\n    var align = preserveAspectRatio.align;\r\n    // 1 : meet 2: slice\r\n    var meetOrSlice = preserveAspectRatio.meetOrSlice;\r\n    var svgOrigin = [0, 0];\r\n    var scale = [scaleX, scaleY];\r\n    var translate = [0, 0];\r\n    if (align !== 1) {\r\n        var xAlign = (align - 2) % 3;\r\n        var yAlign = Math.floor((align - 2) / 3);\r\n        svgOrigin[0] = viewBoxWidth * xAlign / 2;\r\n        svgOrigin[1] = viewBoxHeight * yAlign / 2;\r\n        var scaleDimension = meetOrSlice === 2 ? Math.max(scaleY, scaleX) : Math.min(scaleX, scaleY);\r\n        scale[0] = scaleDimension;\r\n        scale[1] = scaleDimension;\r\n        translate[0] = (clientWidth - viewBoxWidth) / 2 * xAlign;\r\n        translate[1] = (clientHeight - viewBoxHeight) / 2 * yAlign;\r\n    }\r\n    var scaleMatrix = createScaleMatrix(scale, n);\r\n    _a = __read(translate, 2), scaleMatrix[n * (n - 1)] = _a[0], scaleMatrix[n * (n - 1) + 1] = _a[1];\r\n    return getAbsoluteMatrix(scaleMatrix, n, svgOrigin);\r\n}\r\nfunction getSVGGraphicsOffset(el, origin, isGTarget) {\r\n    var tagName = el.tagName.toLowerCase();\r\n    if (!el.getBBox || !isGTarget && tagName === \"g\") {\r\n        return [0, 0, 0, 0];\r\n    }\r\n    var getStyle = getCachedStyle(el);\r\n    var isFillBox = getStyle(\"transform-box\") === \"fill-box\";\r\n    var bbox = el.getBBox();\r\n    var viewBox = getSVGViewBox(el.ownerSVGElement);\r\n    var x = bbox.x;\r\n    var y = bbox.y;\r\n    // x, y가 0으로 나타나는 버그\r\n    if (tagName === \"foreignobject\" && (!x && !y)) {\r\n        x = parseFloat(el.getAttribute(\"x\")) || 0;\r\n        y = parseFloat(el.getAttribute(\"y\")) || 0;\r\n    }\r\n    var left = x - viewBox.x;\r\n    var top = y - viewBox.y;\r\n    var originX = isFillBox ? origin[0] : origin[0] - left;\r\n    var originY = isFillBox ? origin[1] : origin[1] - top;\r\n    // if (isFillBox) {\r\n    //     const bbox = (el as SVGGraphicsElement).getBBox();\r\n    //     const x = parseFloat(getStyle(\"x\")) || bbox.x;\r\n    //     const y = parseFloat(getStyle(\"y\")) || bbox.y;\r\n    //     const xScale = bbox.x / x;\r\n    //     const yScale = bbox.y / y;\r\n    //     console.log(x, y);\r\n    //     originX *= xScale;\r\n    //     originY *= yScale;\r\n    // }\r\n    return [left, top, originX, originY];\r\n}\r\nfunction calculatePosition(matrix, pos, n) {\r\n    return calculate(matrix, convertPositionMatrix(pos, n), n);\r\n}\r\nfunction calculatePoses(matrix, width, height, n) {\r\n    return [[0, 0], [width, 0], [0, height], [width, height]].map(function (pos) { return calculatePosition(matrix, pos, n); });\r\n}\r\nfunction getRect(poses) {\r\n    var posesX = poses.map(function (pos) { return pos[0]; });\r\n    var posesY = poses.map(function (pos) { return pos[1]; });\r\n    var left = Math.min.apply(Math, __spreadArray([], __read(posesX), false));\r\n    var top = Math.min.apply(Math, __spreadArray([], __read(posesY), false));\r\n    var right = Math.max.apply(Math, __spreadArray([], __read(posesX), false));\r\n    var bottom = Math.max.apply(Math, __spreadArray([], __read(posesY), false));\r\n    var rectWidth = right - left;\r\n    var rectHeight = bottom - top;\r\n    return {\r\n        left: left,\r\n        top: top,\r\n        right: right,\r\n        bottom: bottom,\r\n        width: rectWidth,\r\n        height: rectHeight,\r\n    };\r\n}\r\nfunction calculateRect(matrix, width, height, n) {\r\n    var poses = calculatePoses(matrix, width, height, n);\r\n    return getRect(poses);\r\n}\r\nfunction getSVGOffset(offsetInfo, targetInfo, container, n, beforeMatrix) {\r\n    var _a;\r\n    var target = offsetInfo.target;\r\n    var origin = offsetInfo.origin;\r\n    var targetMatrix = targetInfo.matrix;\r\n    var _b = getSize(target), width = _b.offsetWidth, height = _b.offsetHeight;\r\n    var containerClientRect = container.getBoundingClientRect();\r\n    var margin = [0, 0];\r\n    if (container === getDocumentBody(container)) {\r\n        margin = getBodyOffset(target, true);\r\n    }\r\n    var rect = target.getBoundingClientRect();\r\n    var rectLeft = rect.left - containerClientRect.left + container.scrollLeft\r\n        - (container.clientLeft || 0) + margin[0];\r\n    var rectTop = rect.top - containerClientRect.top + container.scrollTop\r\n        - (container.clientTop || 0) + margin[1];\r\n    var rectWidth = rect.width;\r\n    var rectHeight = rect.height;\r\n    var mat = multiplies(n, beforeMatrix, targetMatrix);\r\n    var _c = calculateRect(mat, width, height, n), prevLeft = _c.left, prevTop = _c.top, prevWidth = _c.width, prevHeight = _c.height;\r\n    var posOrigin = calculatePosition(mat, origin, n);\r\n    var prevOrigin = minus(posOrigin, [prevLeft, prevTop]);\r\n    var rectOrigin = [\r\n        rectLeft + prevOrigin[0] * rectWidth / prevWidth,\r\n        rectTop + prevOrigin[1] * rectHeight / prevHeight,\r\n    ];\r\n    var offset = [0, 0];\r\n    var count = 0;\r\n    while (++count < 10) {\r\n        var inverseBeforeMatrix = invert(beforeMatrix, n);\r\n        _a = __read(minus(calculatePosition(inverseBeforeMatrix, rectOrigin, n), calculatePosition(inverseBeforeMatrix, posOrigin, n)), 2), offset[0] = _a[0], offset[1] = _a[1];\r\n        var mat2 = multiplies(n, beforeMatrix, createOriginMatrix(offset, n), targetMatrix);\r\n        var _d = calculateRect(mat2, width, height, n), nextLeft = _d.left, nextTop = _d.top;\r\n        var distLeft = nextLeft - rectLeft;\r\n        var distTop = nextTop - rectTop;\r\n        if (abs(distLeft) < 2 && abs(distTop) < 2) {\r\n            break;\r\n        }\r\n        rectOrigin[0] -= distLeft;\r\n        rectOrigin[1] -= distTop;\r\n    }\r\n    return offset.map(function (p) { return Math.round(p); });\r\n}\r\nfunction calculateMoveableClientPositions(rootMatrix, poses, rootClientRect) {\r\n    var is3d = rootMatrix.length === 16;\r\n    var n = is3d ? 4 : 3;\r\n    var rootPoses = poses.map(function (pos) { return calculatePosition(rootMatrix, pos, n); });\r\n    var left = rootClientRect.left, top = rootClientRect.top;\r\n    return rootPoses.map(function (pos) {\r\n        return [pos[0] + left, pos[1] + top];\r\n    });\r\n}\r\nfunction getDistSize(vec) {\r\n    return Math.sqrt(vec[0] * vec[0] + vec[1] * vec[1]);\r\n}\r\nfunction getDiagonalSize(pos1, pos2) {\r\n    return getDistSize([\r\n        pos2[0] - pos1[0],\r\n        pos2[1] - pos1[1],\r\n    ]);\r\n}\r\nfunction getLineStyle(pos1, pos2, zoom, rad) {\r\n    if (zoom === void 0) { zoom = 1; }\r\n    if (rad === void 0) { rad = getRad(pos1, pos2); }\r\n    var width = getDiagonalSize(pos1, pos2);\r\n    return {\r\n        transform: \"translateY(-50%) translate(\".concat(pos1[0], \"px, \").concat(pos1[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\"),\r\n        width: \"\".concat(width, \"px\"),\r\n    };\r\n}\r\nfunction getControlTransform(rotation, zoom) {\r\n    var poses = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        poses[_i - 2] = arguments[_i];\r\n    }\r\n    var length = poses.length;\r\n    var x = poses.reduce(function (prev, pos) { return prev + pos[0]; }, 0) / length;\r\n    var y = poses.reduce(function (prev, pos) { return prev + pos[1]; }, 0) / length;\r\n    return {\r\n        transform: \"translateZ(0px) translate(\".concat(x, \"px, \").concat(y, \"px) rotate(\").concat(rotation, \"rad) scale(\").concat(zoom, \")\"),\r\n    };\r\n}\r\nfunction getProps(props, ableName) {\r\n    var self = props[ableName];\r\n    if (isObject(self)) {\r\n        return __assign(__assign({}, props), self);\r\n    }\r\n    return props;\r\n}\r\nfunction getSize(target) {\r\n    var hasOffset = target && !isUndefined(target.offsetWidth);\r\n    var offsetWidth = 0;\r\n    var offsetHeight = 0;\r\n    var clientWidth = 0;\r\n    var clientHeight = 0;\r\n    var cssWidth = 0;\r\n    var cssHeight = 0;\r\n    var contentWidth = 0;\r\n    var contentHeight = 0;\r\n    var minWidth = 0;\r\n    var minHeight = 0;\r\n    var minOffsetWidth = 0;\r\n    var minOffsetHeight = 0;\r\n    var maxWidth = Infinity;\r\n    var maxHeight = Infinity;\r\n    var maxOffsetWidth = Infinity;\r\n    var maxOffsetHeight = Infinity;\r\n    var inlineCSSWidth = 0;\r\n    var inlineCSSHeight = 0;\r\n    var svg = false;\r\n    if (target) {\r\n        if (!hasOffset && target.ownerSVGElement) {\r\n            // check svg elements\r\n            var bbox = target.getBBox();\r\n            svg = true;\r\n            offsetWidth = bbox.width;\r\n            offsetHeight = bbox.height;\r\n            cssWidth = offsetWidth;\r\n            cssHeight = offsetHeight;\r\n            contentWidth = offsetWidth;\r\n            contentHeight = offsetHeight;\r\n            clientWidth = offsetWidth;\r\n            clientHeight = offsetHeight;\r\n        }\r\n        else {\r\n            // check html elements\r\n            var getStyle = getCachedStyle(target);\r\n            var targetStyle = target.style;\r\n            var boxSizing = getStyle(\"boxSizing\") === \"border-box\";\r\n            var borderLeft = parseFloat(getStyle(\"borderLeftWidth\")) || 0;\r\n            var borderRight = parseFloat(getStyle(\"borderRightWidth\")) || 0;\r\n            var borderTop = parseFloat(getStyle(\"borderTopWidth\")) || 0;\r\n            var borderBottom = parseFloat(getStyle(\"borderBottomWidth\")) || 0;\r\n            var paddingLeft = parseFloat(getStyle(\"paddingLeft\")) || 0;\r\n            var paddingRight = parseFloat(getStyle(\"paddingRight\")) || 0;\r\n            var paddingTop = parseFloat(getStyle(\"paddingTop\")) || 0;\r\n            var paddingBottom = parseFloat(getStyle(\"paddingBottom\")) || 0;\r\n            var horizontalPadding = paddingLeft + paddingRight;\r\n            var verticalPadding = paddingTop + paddingBottom;\r\n            var horizontalBorder = borderLeft + borderRight;\r\n            var verticalBorder = borderTop + borderBottom;\r\n            var horizontalOffset = horizontalPadding + horizontalBorder;\r\n            var verticalOffset = verticalPadding + verticalBorder;\r\n            var position = getStyle(\"position\");\r\n            var containerWidth = 0;\r\n            var containerHeight = 0;\r\n            // SVGSVGElement, HTMLElement\r\n            if (\"clientLeft\" in target) {\r\n                var parentElement = null;\r\n                if (position === \"absolute\") {\r\n                    var offsetInfo = getOffsetInfo(target, getDocumentBody(target));\r\n                    parentElement = offsetInfo.offsetParent;\r\n                }\r\n                else {\r\n                    parentElement = target.parentElement;\r\n                }\r\n                if (parentElement) {\r\n                    var getParentStyle = getCachedStyle(parentElement);\r\n                    containerWidth = parseFloat(getParentStyle(\"width\"));\r\n                    containerHeight = parseFloat(getParentStyle(\"height\"));\r\n                }\r\n            }\r\n            minWidth = Math.max(horizontalPadding, convertUnitSize(getStyle(\"minWidth\"), containerWidth) || 0);\r\n            minHeight = Math.max(verticalPadding, convertUnitSize(getStyle(\"minHeight\"), containerHeight) || 0);\r\n            maxWidth = convertUnitSize(getStyle(\"maxWidth\"), containerWidth);\r\n            maxHeight = convertUnitSize(getStyle(\"maxHeight\"), containerHeight);\r\n            if (isNaN(maxWidth)) {\r\n                maxWidth = Infinity;\r\n            }\r\n            if (isNaN(maxHeight)) {\r\n                maxHeight = Infinity;\r\n            }\r\n            inlineCSSWidth = convertUnitSize(targetStyle.width, 0) || 0;\r\n            inlineCSSHeight = convertUnitSize(targetStyle.height, 0) || 0;\r\n            cssWidth = parseFloat(getStyle(\"width\")) || 0;\r\n            cssHeight = parseFloat(getStyle(\"height\")) || 0;\r\n            contentWidth = abs(cssWidth - inlineCSSWidth) < 1\r\n                ? between(minWidth, inlineCSSWidth || cssWidth, maxWidth)\r\n                : cssWidth;\r\n            contentHeight = abs(cssHeight - inlineCSSHeight) < 1\r\n                ? between(minHeight, inlineCSSHeight || cssHeight, maxHeight)\r\n                : cssHeight;\r\n            offsetWidth = contentWidth;\r\n            offsetHeight = contentHeight;\r\n            clientWidth = contentWidth;\r\n            clientHeight = contentHeight;\r\n            if (boxSizing) {\r\n                maxOffsetWidth = maxWidth;\r\n                maxOffsetHeight = maxHeight;\r\n                minOffsetWidth = minWidth;\r\n                minOffsetHeight = minHeight;\r\n                contentWidth = offsetWidth - horizontalOffset;\r\n                contentHeight = offsetHeight - verticalOffset;\r\n            }\r\n            else {\r\n                maxOffsetWidth = maxWidth + horizontalOffset;\r\n                maxOffsetHeight = maxHeight + verticalOffset;\r\n                minOffsetWidth = minWidth + horizontalOffset;\r\n                minOffsetHeight = minHeight + verticalOffset;\r\n                offsetWidth = contentWidth + horizontalOffset;\r\n                offsetHeight = contentHeight + verticalOffset;\r\n            }\r\n            clientWidth = contentWidth + horizontalPadding;\r\n            clientHeight = contentHeight + verticalPadding;\r\n        }\r\n    }\r\n    return {\r\n        svg: svg,\r\n        offsetWidth: offsetWidth,\r\n        offsetHeight: offsetHeight,\r\n        clientWidth: clientWidth,\r\n        clientHeight: clientHeight,\r\n        contentWidth: contentWidth,\r\n        contentHeight: contentHeight,\r\n        inlineCSSWidth: inlineCSSWidth,\r\n        inlineCSSHeight: inlineCSSHeight,\r\n        cssWidth: cssWidth,\r\n        cssHeight: cssHeight,\r\n        minWidth: minWidth,\r\n        minHeight: minHeight,\r\n        maxWidth: maxWidth,\r\n        maxHeight: maxHeight,\r\n        minOffsetWidth: minOffsetWidth,\r\n        minOffsetHeight: minOffsetHeight,\r\n        maxOffsetWidth: maxOffsetWidth,\r\n        maxOffsetHeight: maxOffsetHeight,\r\n    };\r\n}\r\nfunction getRotationRad(poses, direction) {\r\n    return getRad(direction > 0 ? poses[0] : poses[1], direction > 0 ? poses[1] : poses[0]);\r\n}\r\nfunction resetClientRect() {\r\n    return {\r\n        left: 0, top: 0,\r\n        width: 0, height: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        clientLeft: 0, clientTop: 0,\r\n        clientWidth: 0, clientHeight: 0,\r\n        scrollWidth: 0, scrollHeight: 0,\r\n    };\r\n}\r\nfunction getExtendsRect(el, rect) {\r\n    var isRoot = el === getDocumentBody(el) || el === getDocumentElement(el);\r\n    var extendsRect = {\r\n        clientLeft: el.clientLeft,\r\n        clientTop: el.clientTop,\r\n        clientWidth: el.clientWidth,\r\n        clientHeight: el.clientHeight,\r\n        scrollWidth: el.scrollWidth,\r\n        scrollHeight: el.scrollHeight,\r\n        overflow: false,\r\n    };\r\n    if (isRoot) {\r\n        extendsRect.clientHeight = Math.max(rect.height, extendsRect.clientHeight);\r\n        extendsRect.scrollHeight = Math.max(rect.height, extendsRect.scrollHeight);\r\n    }\r\n    extendsRect.overflow = getCachedStyle(el)(\"overflow\") !== \"visible\";\r\n    return __assign(__assign({}, rect), extendsRect);\r\n}\r\nfunction getClientRectByPosition(position, base, el, isExtends) {\r\n    var left = position.left, right = position.right, top = position.top, bottom = position.bottom;\r\n    var baseTop = base.top;\r\n    var baseLeft = base.left;\r\n    var rect = {\r\n        left: baseLeft + left,\r\n        top: baseTop + top,\r\n        right: baseLeft + right,\r\n        bottom: baseTop + bottom,\r\n        width: right - left,\r\n        height: bottom - top,\r\n    };\r\n    if (el && isExtends) {\r\n        return getExtendsRect(el, rect);\r\n    }\r\n    return rect;\r\n}\r\nfunction getClientRect(el, isExtends) {\r\n    var left = 0;\r\n    var top = 0;\r\n    var width = 0;\r\n    var height = 0;\r\n    // let isRoot = false;\r\n    if (el) {\r\n        var clientRect = el.getBoundingClientRect();\r\n        left = clientRect.left;\r\n        top = clientRect.top;\r\n        width = clientRect.width;\r\n        height = clientRect.height;\r\n    }\r\n    var rect = {\r\n        left: left,\r\n        top: top,\r\n        width: width,\r\n        height: height,\r\n        right: left + width,\r\n        bottom: top + height,\r\n    };\r\n    if (el && isExtends) {\r\n        return getExtendsRect(el, rect);\r\n    }\r\n    return rect;\r\n}\r\nfunction getTotalOrigin(moveable) {\r\n    var _a = moveable.props, groupable = _a.groupable, svgOrigin = _a.svgOrigin;\r\n    var _b = moveable.getState(), offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight, svg = _b.svg, transformOrigin = _b.transformOrigin;\r\n    if (!groupable && svg && svgOrigin) {\r\n        return convertTransformOriginArray(svgOrigin, offsetWidth, offsetHeight);\r\n    }\r\n    return transformOrigin;\r\n}\r\nfunction getTotalDirection(parentDirection, isPinch, inputEvent, datas) {\r\n    var direction;\r\n    if (parentDirection) {\r\n        direction = parentDirection;\r\n    }\r\n    else if (isPinch) {\r\n        direction = [0, 0];\r\n    }\r\n    else {\r\n        var target = inputEvent.target;\r\n        direction = getDirection(target, datas);\r\n    }\r\n    return direction;\r\n}\r\nfunction getDirection(target, datas) {\r\n    if (!target) {\r\n        return;\r\n    }\r\n    var deg = target.getAttribute(\"data-rotation\") || \"\";\r\n    var direciton = target.getAttribute(\"data-direction\");\r\n    datas.deg = deg;\r\n    if (!direciton) {\r\n        return;\r\n    }\r\n    var dir = [0, 0];\r\n    (direciton.indexOf(\"w\") > -1) && (dir[0] = -1);\r\n    (direciton.indexOf(\"e\") > -1) && (dir[0] = 1);\r\n    (direciton.indexOf(\"n\") > -1) && (dir[1] = -1);\r\n    (direciton.indexOf(\"s\") > -1) && (dir[1] = 1);\r\n    return dir;\r\n}\r\nfunction getAbsolutePoses(poses, dist) {\r\n    return [\r\n        plus(dist, poses[0]),\r\n        plus(dist, poses[1]),\r\n        plus(dist, poses[2]),\r\n        plus(dist, poses[3]),\r\n    ];\r\n}\r\nfunction getAbsolutePosesByState(_a) {\r\n    var left = _a.left, top = _a.top, pos1 = _a.pos1, pos2 = _a.pos2, pos3 = _a.pos3, pos4 = _a.pos4;\r\n    return getAbsolutePoses([pos1, pos2, pos3, pos4], [left, top]);\r\n}\r\nfunction unsetAbles(self, isControl) {\r\n    self[isControl ? \"controlAbles\" : \"targetAbles\"].forEach(function (able) {\r\n        able.unset && able.unset(self);\r\n    });\r\n}\r\nfunction unsetGesto(self, isControl) {\r\n    var gestoName = isControl ? \"controlGesto\" : \"targetGesto\";\r\n    var gesto = self[gestoName];\r\n    if ((gesto === null || gesto === void 0 ? void 0 : gesto.isIdle()) === false) {\r\n        unsetAbles(self, isControl);\r\n    }\r\n    gesto === null || gesto === void 0 ? void 0 : gesto.unset();\r\n    self[gestoName] = null;\r\n}\r\nfunction fillCSSObject(style, resolvedEvent) {\r\n    if (resolvedEvent) {\r\n        var originalDatas = getBeforeRenderableDatas(resolvedEvent);\r\n        originalDatas.nextStyle = __assign(__assign({}, originalDatas.nextStyle), style);\r\n    }\r\n    return {\r\n        style: style,\r\n        cssText: getKeys(style).map(function (name) { return \"\".concat(decamelize(name, \"-\"), \": \").concat(style[name], \";\"); }).join(\"\"),\r\n    };\r\n}\r\nfunction fillAfterTransform(prevEvent, nextEvent, resolvedEvent) {\r\n    var afterTransform = nextEvent.afterTransform || nextEvent.transform;\r\n    return __assign(__assign({}, fillCSSObject(__assign(__assign(__assign({}, prevEvent.style), nextEvent.style), { transform: afterTransform }), resolvedEvent)), { afterTransform: afterTransform, transform: prevEvent.transform });\r\n}\r\nfunction fillParams(moveable, e, params, isBeforeEvent) {\r\n    var datas = e.datas;\r\n    if (!datas.datas) {\r\n        datas.datas = {};\r\n    }\r\n    var nextParams = __assign(__assign({}, params), { target: moveable.state.target, clientX: e.clientX, clientY: e.clientY, inputEvent: e.inputEvent, currentTarget: moveable, moveable: moveable, datas: datas.datas, isRequest: e.isRequest, isRequestChild: e.isRequestChild, isFirstDrag: !!e.isFirstDrag, isTrusted: e.isTrusted !== false, stopAble: function () {\r\n            datas.isEventStart = false;\r\n        }, stopDrag: function () {\r\n            var _a;\r\n            (_a = e.stop) === null || _a === void 0 ? void 0 : _a.call(e);\r\n        } });\r\n    if (!datas.isStartEvent) {\r\n        datas.isStartEvent = true;\r\n    }\r\n    else if (!isBeforeEvent) {\r\n        datas.lastEvent = nextParams;\r\n    }\r\n    return nextParams;\r\n}\r\nfunction fillEndParams(moveable, e, params) {\r\n    var datas = e.datas;\r\n    var isDrag = \"isDrag\" in params ? params.isDrag : e.isDrag;\r\n    if (!datas.datas) {\r\n        datas.datas = {};\r\n    }\r\n    return __assign(__assign({ isDrag: isDrag }, params), { moveable: moveable, target: moveable.state.target, clientX: e.clientX, clientY: e.clientY, inputEvent: e.inputEvent, currentTarget: moveable, lastEvent: datas.lastEvent, isDouble: e.isDouble, datas: datas.datas, isFirstDrag: !!e.isFirstDrag });\r\n}\r\nfunction catchEvent(moveable, name, callback) {\r\n    moveable._emitter.on(name, callback);\r\n}\r\nfunction triggerEvent(moveable, name, params, isManager, isRequest) {\r\n    return moveable.triggerEvent(name, params, isManager, isRequest);\r\n}\r\nfunction getComputedStyle(el, pseudoElt) {\r\n    return getWindow(el).getComputedStyle(el, pseudoElt);\r\n}\r\nfunction filterAbles(ables, methods, triggerAblesSimultaneously) {\r\n    var enabledAbles = {};\r\n    var ableGroups = {};\r\n    return ables.filter(function (able) {\r\n        var name = able.name;\r\n        if (enabledAbles[name] || !methods.some(function (method) { return able[method]; })) {\r\n            return false;\r\n        }\r\n        if (!triggerAblesSimultaneously && able.ableGroup) {\r\n            if (ableGroups[able.ableGroup]) {\r\n                return false;\r\n            }\r\n            ableGroups[able.ableGroup] = true;\r\n        }\r\n        enabledAbles[name] = true;\r\n        return true;\r\n    });\r\n}\r\nfunction equals(a1, a2) {\r\n    return a1 === a2 || (a1 == null && a2 == null);\r\n}\r\nfunction selectValue() {\r\n    var values = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        values[_i] = arguments[_i];\r\n    }\r\n    var length = values.length - 1;\r\n    for (var i = 0; i < length; ++i) {\r\n        var value = values[i];\r\n        if (!isUndefined(value)) {\r\n            return value;\r\n        }\r\n    }\r\n    return values[length];\r\n}\r\nfunction groupBy(arr, func) {\r\n    var groups = [];\r\n    var groupKeys = [];\r\n    arr.forEach(function (el, index) {\r\n        var groupKey = func(el, index, arr);\r\n        var keyIndex = groupKeys.indexOf(groupKey);\r\n        var group = groups[keyIndex] || [];\r\n        if (keyIndex === -1) {\r\n            groupKeys.push(groupKey);\r\n            groups.push(group);\r\n        }\r\n        group.push(el);\r\n    });\r\n    return groups;\r\n}\r\nfunction groupByMap(arr, func) {\r\n    var groups = [];\r\n    var groupKeys = {};\r\n    arr.forEach(function (el, index) {\r\n        var groupKey = func(el, index, arr);\r\n        var group = groupKeys[groupKey];\r\n        if (!group) {\r\n            group = [];\r\n            groupKeys[groupKey] = group;\r\n            groups.push(group);\r\n        }\r\n        group.push(el);\r\n    });\r\n    return groups;\r\n}\r\nfunction flat(arr) {\r\n    return arr.reduce(function (prev, cur) {\r\n        return prev.concat(cur);\r\n    }, []);\r\n}\r\nfunction maxOffset() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    args.sort(function (a, b) { return abs(b) - abs(a); });\r\n    return args[0];\r\n}\r\nfunction calculateInversePosition(matrix, pos, n) {\r\n    return calculate(invert(matrix, n), convertPositionMatrix(pos, n), n);\r\n}\r\nfunction convertDragDist(state, e) {\r\n    var _a;\r\n    var is3d = state.is3d, rootMatrix = state.rootMatrix;\r\n    var n = is3d ? 4 : 3;\r\n    _a = __read(calculateInversePosition(rootMatrix, [e.distX, e.distY], n), 2), e.distX = _a[0], e.distY = _a[1];\r\n    return e;\r\n}\r\nfunction calculatePadding(matrix, pos, added, n) {\r\n    if (!added[0] && !added[1]) {\r\n        return pos;\r\n    }\r\n    var xAdded = calculatePosition(matrix, [normalized(added[0] || 1), 0], n);\r\n    var yAdded = calculatePosition(matrix, [0, normalized(added[1] || 1)], n);\r\n    var nextAdded = calculatePosition(matrix, [\r\n        added[0] / getDistSize(xAdded),\r\n        added[1] / getDistSize(yAdded),\r\n    ], n);\r\n    return plus(pos, nextAdded);\r\n}\r\nfunction convertCSSSize(value, size, isRelative) {\r\n    return isRelative ? \"\".concat(value / size * 100, \"%\") : \"\".concat(value, \"px\");\r\n}\r\nfunction getTinyDist(v) {\r\n    return abs(v) <= TINY_NUM ? 0 : v;\r\n}\r\nfunction getDirectionViewClassName(ableName) {\r\n    return function (moveable) {\r\n        if (!moveable.isDragging(ableName)) {\r\n            return \"\";\r\n        }\r\n        var data = getGestoData(moveable, ableName);\r\n        var deg = data.deg;\r\n        if (!deg) {\r\n            return \"\";\r\n        }\r\n        return prefix(\"view-control-rotation\".concat(deg));\r\n    };\r\n}\r\nfunction getDirectionCondition(ableName, checkAbles) {\r\n    if (checkAbles === void 0) { checkAbles = [ableName]; }\r\n    return function (moveable, e) {\r\n        if (e.isRequest) {\r\n            if (checkAbles.some(function (name) { return e.requestAble === name; })) {\r\n                return e.parentDirection;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        var target = e.inputEvent.target;\r\n        return hasClass(target, prefix(\"direction\")) && (!ableName || hasClass(target, prefix(ableName)));\r\n    };\r\n}\r\nfunction convertTransformInfo(transforms, state, index) {\r\n    var _a;\r\n    var matrixInfos = parse(transforms, {\r\n        \"x%\": function (v) { return v / 100 * state.offsetWidth; },\r\n        \"y%\": function (v) { return v / 100 * state.offsetHeight; },\r\n    });\r\n    var beforeFunctionTexts = transforms.slice(0, index < 0 ? undefined : index);\r\n    var beforeFunctionTexts2 = transforms.slice(0, index < 0 ? undefined : index + 1);\r\n    var targetFunctionText = transforms[index] || \"\";\r\n    var afterFunctionTexts = index < 0 ? [] : transforms.slice(index);\r\n    var afterFunctionTexts2 = index < 0 ? [] : transforms.slice(index + 1);\r\n    var beforeFunctions = matrixInfos.slice(0, index < 0 ? undefined : index);\r\n    var beforeFunctions2 = matrixInfos.slice(0, index < 0 ? undefined : index + 1);\r\n    var targetFunction = (_a = matrixInfos[index]) !== null && _a !== void 0 ? _a : parse([\"\"])[0];\r\n    var afterFunctions = index < 0 ? [] : matrixInfos.slice(index);\r\n    var afterFunctions2 = index < 0 ? [] : matrixInfos.slice(index + 1);\r\n    var targetFunctions = targetFunction ? [targetFunction] : [];\r\n    var beforeFunctionMatrix = toMat(beforeFunctions);\r\n    var beforeFunctionMatrix2 = toMat(beforeFunctions2);\r\n    var afterFunctionMatrix = toMat(afterFunctions);\r\n    var afterFunctionMatrix2 = toMat(afterFunctions2);\r\n    var allFunctionMatrix = multiply(beforeFunctionMatrix, afterFunctionMatrix, 4);\r\n    return {\r\n        transforms: transforms,\r\n        beforeFunctionMatrix: beforeFunctionMatrix,\r\n        beforeFunctionMatrix2: beforeFunctionMatrix2,\r\n        targetFunctionMatrix: toMat(targetFunctions),\r\n        afterFunctionMatrix: afterFunctionMatrix,\r\n        afterFunctionMatrix2: afterFunctionMatrix2,\r\n        allFunctionMatrix: allFunctionMatrix,\r\n        beforeFunctions: beforeFunctions,\r\n        beforeFunctions2: beforeFunctions2,\r\n        targetFunction: targetFunctions[0],\r\n        afterFunctions: afterFunctions,\r\n        afterFunctions2: afterFunctions2,\r\n        beforeFunctionTexts: beforeFunctionTexts,\r\n        beforeFunctionTexts2: beforeFunctionTexts2,\r\n        targetFunctionText: targetFunctionText,\r\n        afterFunctionTexts: afterFunctionTexts,\r\n        afterFunctionTexts2: afterFunctionTexts2,\r\n    };\r\n}\r\nfunction isArrayFormat(arr) {\r\n    if (!arr || !isObject(arr)) {\r\n        return false;\r\n    }\r\n    if (isNode(arr)) {\r\n        return false;\r\n    }\r\n    return isArray(arr) || \"length\" in arr;\r\n}\r\nfunction getRefTarget(target, isSelector) {\r\n    if (!target) {\r\n        return null;\r\n    }\r\n    if (isNode(target)) {\r\n        return target;\r\n    }\r\n    if (isString(target)) {\r\n        if (isSelector) {\r\n            return document.querySelector(target);\r\n        }\r\n        return target;\r\n    }\r\n    if (isFunction(target)) {\r\n        return target();\r\n    }\r\n    if (isWindow(target)) {\r\n        return target;\r\n    }\r\n    if (\"current\" in target) {\r\n        return target.current;\r\n    }\r\n    return target;\r\n}\r\nfunction getRefTargets(targets, isSelector) {\r\n    if (!targets) {\r\n        return [];\r\n    }\r\n    var userTargets = isArrayFormat(targets) ? [].slice.call(targets) : [targets];\r\n    return userTargets.reduce(function (prev, target) {\r\n        if (isString(target) && isSelector) {\r\n            return __spreadArray(__spreadArray([], __read(prev), false), __read([].slice.call(document.querySelectorAll(target))), false);\r\n        }\r\n        if (isArray(target)) {\r\n            prev.push(getRefTargets(target, isSelector));\r\n        }\r\n        else {\r\n            prev.push(getRefTarget(target, isSelector));\r\n        }\r\n        return prev;\r\n    }, []);\r\n}\r\nfunction getAbsoluteRotation(pos1, pos2, direction) {\r\n    var deg = getRad(pos1, pos2) / Math.PI * 180;\r\n    deg = direction >= 0 ? deg : 180 - deg;\r\n    deg = deg >= 0 ? deg : 360 + deg;\r\n    return deg;\r\n}\r\nfunction getDragDistByState(state, dist) {\r\n    var rootMatrix = state.rootMatrix, is3d = state.is3d;\r\n    var n = is3d ? 4 : 3;\r\n    var inverseMatrix = invert(rootMatrix, n);\r\n    if (!is3d) {\r\n        inverseMatrix = convertDimension(inverseMatrix, 3, 4);\r\n    }\r\n    inverseMatrix[12] = 0;\r\n    inverseMatrix[13] = 0;\r\n    inverseMatrix[14] = 0;\r\n    return calculateMatrixDist(inverseMatrix, dist);\r\n}\r\nfunction getSizeDistByDist(startSize, dist, ratio, direction, keepRatio) {\r\n    var _a = __read(startSize, 2), startOffsetWidth = _a[0], startOffsetHeight = _a[1];\r\n    var distWidth = 0;\r\n    var distHeight = 0;\r\n    if (keepRatio && startOffsetWidth && startOffsetHeight) {\r\n        var rad = getRad([0, 0], dist);\r\n        var standardRad = getRad([0, 0], direction);\r\n        var size = getDistSize(dist);\r\n        var signSize = Math.cos(rad - standardRad) * size;\r\n        if (!direction[0]) {\r\n            // top, bottom\r\n            distHeight = signSize;\r\n            distWidth = distHeight * ratio;\r\n        }\r\n        else if (!direction[1]) {\r\n            // left, right\r\n            distWidth = signSize;\r\n            distHeight = distWidth / ratio;\r\n        }\r\n        else {\r\n            // two-way\r\n            var startWidthSize = direction[0] * startOffsetWidth;\r\n            var startHeightSize = direction[1] * startOffsetHeight;\r\n            var secondRad = Math.atan2(startWidthSize + dist[0], startHeightSize + dist[1]);\r\n            var firstRad = Math.atan2(startWidthSize, startHeightSize);\r\n            if (secondRad < 0) {\r\n                secondRad += Math.PI * 2;\r\n            }\r\n            if (firstRad < 0) {\r\n                firstRad += Math.PI * 2;\r\n            }\r\n            var rad_1 = 0;\r\n            if (abs(secondRad - firstRad) < Math.PI / 2 || abs(secondRad - firstRad) > Math.PI / 2 * 3) {\r\n                rad_1 = secondRad - firstRad;\r\n            }\r\n            else {\r\n                firstRad += Math.PI;\r\n                rad_1 = secondRad - firstRad;\r\n            }\r\n            if (rad_1 > Math.PI * 2) {\r\n                rad_1 -= Math.PI * 2;\r\n            }\r\n            else if (rad_1 > Math.PI) {\r\n                rad_1 = 2 * Math.PI - rad_1;\r\n            }\r\n            else if (rad_1 < -Math.PI) {\r\n                rad_1 = -2 * Math.PI - rad_1;\r\n            }\r\n            //       180\r\n            // -1, -1,  // 1, -1\r\n            // 270            90\r\n            // -1, 1    // 1, 1\r\n            //       0\r\n            var distSize = getDistSize([startWidthSize + dist[0], startHeightSize + dist[1]]) * Math.cos(rad_1);\r\n            distWidth = distSize * Math.sin(firstRad) - startWidthSize;\r\n            distHeight = distSize * Math.cos(firstRad) - startHeightSize;\r\n            if (direction[0] < 0) {\r\n                distWidth *= -1;\r\n            }\r\n            if (direction[1] < 0) {\r\n                distHeight *= -1;\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        distWidth = direction[0] * dist[0];\r\n        distHeight = direction[1] * dist[1];\r\n    }\r\n    return [distWidth, distHeight];\r\n}\r\nfunction getOffsetSizeDist(sizeDirection, keepRatio, datas, e) {\r\n    var _a;\r\n    var ratio = datas.ratio, startOffsetWidth = datas.startOffsetWidth, startOffsetHeight = datas.startOffsetHeight;\r\n    var distWidth = 0;\r\n    var distHeight = 0;\r\n    var distX = e.distX, distY = e.distY, pinchScale = e.pinchScale, parentDistance = e.parentDistance, parentDist = e.parentDist, parentScale = e.parentScale;\r\n    var startFixedDirection = datas.fixedDirection;\r\n    var directionsDists = [0, 1].map(function (index) {\r\n        return abs(sizeDirection[index] - startFixedDirection[index]);\r\n    });\r\n    var directionRatios = [0, 1].map(function (index) {\r\n        var dist = directionsDists[index];\r\n        if (dist !== 0) {\r\n            dist = 2 / dist;\r\n        }\r\n        return dist;\r\n    });\r\n    if (parentDist) {\r\n        distWidth = parentDist[0];\r\n        distHeight = parentDist[1];\r\n        if (keepRatio) {\r\n            if (!distWidth) {\r\n                distWidth = distHeight * ratio;\r\n            }\r\n            else if (!distHeight) {\r\n                distHeight = distWidth / ratio;\r\n            }\r\n        }\r\n    }\r\n    else if (isNumber(pinchScale)) {\r\n        distWidth = (pinchScale - 1) * startOffsetWidth;\r\n        distHeight = (pinchScale - 1) * startOffsetHeight;\r\n    }\r\n    else if (parentScale) {\r\n        distWidth = (parentScale[0] - 1) * startOffsetWidth;\r\n        distHeight = (parentScale[1] - 1) * startOffsetHeight;\r\n    }\r\n    else if (parentDistance) {\r\n        var scaleX = startOffsetWidth * directionsDists[0];\r\n        var scaleY = startOffsetHeight * directionsDists[1];\r\n        var ratioDistance = getDistSize([scaleX, scaleY]);\r\n        distWidth = parentDistance / ratioDistance * scaleX * directionRatios[0];\r\n        distHeight = parentDistance / ratioDistance * scaleY * directionRatios[1];\r\n    }\r\n    else {\r\n        var dist_1 = getDragDist({ datas: datas, distX: distX, distY: distY });\r\n        dist_1 = directionRatios.map(function (ratio, i) {\r\n            return dist_1[i] * ratio;\r\n        });\r\n        _a = __read(getSizeDistByDist([startOffsetWidth, startOffsetHeight], dist_1, ratio, sizeDirection, keepRatio), 2), distWidth = _a[0], distHeight = _a[1];\r\n    }\r\n    return {\r\n        // direction,\r\n        // sizeDirection,\r\n        distWidth: distWidth,\r\n        distHeight: distHeight,\r\n    };\r\n}\r\nfunction convertTransformUnit(origin, xy) {\r\n    if (xy) {\r\n        if (origin === \"left\") {\r\n            return { x: \"0%\", y: \"50%\" };\r\n        }\r\n        else if (origin === \"top\") {\r\n            return { x: \"50%\", y: \"50%\" };\r\n        }\r\n        else if (origin === \"center\") {\r\n            return { x: \"50%\", y: \"50%\" };\r\n        }\r\n        else if (origin === \"right\") {\r\n            return { x: \"100%\", y: \"50%\" };\r\n        }\r\n        else if (origin === \"bottom\") {\r\n            return { x: \"50%\", y: \"100%\" };\r\n        }\r\n        var _a = __read(origin.split(\" \"), 2), left = _a[0], right = _a[1];\r\n        var leftOrigin = convertTransformUnit(left || \"\");\r\n        var rightOrigin = convertTransformUnit(right || \"\");\r\n        var originObject = __assign(__assign({}, leftOrigin), rightOrigin);\r\n        var nextOriginObject = {\r\n            x: \"50%\",\r\n            y: \"50%\",\r\n        };\r\n        if (originObject.x) {\r\n            nextOriginObject.x = originObject.x;\r\n        }\r\n        if (originObject.y) {\r\n            nextOriginObject.y = originObject.y;\r\n        }\r\n        if (originObject.value) {\r\n            if (originObject.x && !originObject.y) {\r\n                nextOriginObject.y = originObject.value;\r\n            }\r\n            if (!originObject.x && originObject.y) {\r\n                nextOriginObject.x = originObject.value;\r\n            }\r\n        }\r\n        return nextOriginObject;\r\n    }\r\n    if (origin === \"left\") {\r\n        return { x: \"0%\" };\r\n    }\r\n    if (origin === \"right\") {\r\n        return { x: \"100%\" };\r\n    }\r\n    if (origin === \"top\") {\r\n        return { y: \"0%\" };\r\n    }\r\n    if (origin === \"bottom\") {\r\n        return { y: \"100%\" };\r\n    }\r\n    if (!origin) {\r\n        return {};\r\n    }\r\n    if (origin === \"center\") {\r\n        return { value: \"50%\" };\r\n    }\r\n    return { value: origin };\r\n}\r\nfunction convertTransformOriginArray(transformOrigin, width, height) {\r\n    var _a = convertTransformUnit(transformOrigin, true), x = _a.x, y = _a.y;\r\n    return [\r\n        convertUnitSize(x, width) || 0,\r\n        convertUnitSize(y, height) || 0,\r\n    ];\r\n}\r\nfunction rotatePosesInfo(poses, origin, rad) {\r\n    var prevPoses = poses.map(function (pos) { return minus(pos, origin); });\r\n    var nextPoses = prevPoses.map(function (pos) { return rotate(pos, rad); });\r\n    return {\r\n        prev: prevPoses,\r\n        next: nextPoses,\r\n        result: nextPoses.map(function (pos) { return plus(pos, origin); }),\r\n    };\r\n}\r\nfunction isDeepArrayEquals(arr1, arr2) {\r\n    return arr1.length === arr2.length && arr1.every(function (value1, i) {\r\n        var value2 = arr2[i];\r\n        var isArray1 = isArray(value1);\r\n        var isArray2 = isArray(value2);\r\n        if (isArray1 && isArray2) {\r\n            return isDeepArrayEquals(value1, value2);\r\n        }\r\n        else if (!isArray1 && !isArray2) {\r\n            return value1 === value2;\r\n        }\r\n        return false;\r\n    });\r\n}\r\nfunction watchValue(moveable, property, nextValue, valueKey, defaultValue) {\r\n    var store = moveable._store;\r\n    var prevValue = store[property];\r\n    if (!(property in store)) {\r\n        if (defaultValue != null) {\r\n            store[property] = defaultValue;\r\n            prevValue = defaultValue;\r\n        }\r\n        else {\r\n            store[property] = nextValue;\r\n            return nextValue;\r\n        }\r\n    }\r\n    if (prevValue === nextValue || valueKey(prevValue) === valueKey(nextValue)) {\r\n        return prevValue;\r\n    }\r\n    store[property] = nextValue;\r\n    return nextValue;\r\n}\r\nfunction sign(value) {\r\n    return value >= 0 ? 1 : -1;\r\n}\r\nfunction abs(value) {\r\n    return Math.abs(value);\r\n}\r\nfunction countEach(count, callback) {\r\n    return counter(count).map(function (index) { return callback(index); });\r\n}\r\nfunction getPaddingBox(padding) {\r\n    if (isNumber(padding)) {\r\n        return {\r\n            top: padding,\r\n            left: padding,\r\n            right: padding,\r\n            bottom: padding,\r\n        };\r\n    }\r\n    return {\r\n        left: padding.left || 0,\r\n        top: padding.top || 0,\r\n        right: padding.right || 0,\r\n        bottom: padding.bottom || 0,\r\n    };\r\n}\n\n/**\r\n * @namespace Moveable.Pinchable\r\n * @description Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\r\n */\r\nvar Pinchable = makeAble(\"pinchable\", {\r\n    props: [\r\n        \"pinchable\",\r\n    ],\r\n    events: [\r\n        \"pinchStart\",\r\n        \"pinch\",\r\n        \"pinchEnd\",\r\n        \"pinchGroupStart\",\r\n        \"pinchGroup\",\r\n        \"pinchGroupEnd\",\r\n    ],\r\n    dragStart: function () {\r\n        return true;\r\n    },\r\n    pinchStart: function (moveable, e) {\r\n        var datas = e.datas, targets = e.targets, angle = e.angle, originalDatas = e.originalDatas;\r\n        var _a = moveable.props, pinchable = _a.pinchable, ables = _a.ables;\r\n        if (!pinchable) {\r\n            return false;\r\n        }\r\n        var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\", \"Start\");\r\n        var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"ControlStart\");\r\n        var pinchAbles = (pinchable === true ? moveable.controlAbles : ables.filter(function (able) {\r\n            return pinchable.indexOf(able.name) > -1;\r\n        })).filter(function (able) { return able.canPinch && able[controlEventName]; });\r\n        var params = fillParams(moveable, e, {});\r\n        if (targets) {\r\n            params.targets = targets;\r\n        }\r\n        var result = triggerEvent(moveable, eventName, params);\r\n        datas.isPinch = result !== false;\r\n        datas.ables = pinchAbles;\r\n        var isPinch = datas.isPinch;\r\n        if (!isPinch) {\r\n            return false;\r\n        }\r\n        pinchAbles.forEach(function (able) {\r\n            originalDatas[able.name] = originalDatas[able.name] || {};\r\n            if (!able[controlEventName]) {\r\n                return;\r\n            }\r\n            var ableEvent = __assign(__assign({}, e), { datas: originalDatas[able.name], parentRotate: angle, isPinch: true });\r\n            able[controlEventName](moveable, ableEvent);\r\n        });\r\n        moveable.state.snapRenderInfo = {\r\n            request: e.isRequest,\r\n            direction: [0, 0],\r\n        };\r\n        return isPinch;\r\n    },\r\n    pinch: function (moveable, e) {\r\n        var datas = e.datas, pinchScale = e.scale, distance = e.distance, originalDatas = e.originalDatas, inputEvent = e.inputEvent, targets = e.targets, angle = e.angle;\r\n        if (!datas.isPinch) {\r\n            return;\r\n        }\r\n        var parentDistance = distance * (1 - 1 / pinchScale);\r\n        var params = fillParams(moveable, e, {});\r\n        if (targets) {\r\n            params.targets = targets;\r\n        }\r\n        var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\");\r\n        triggerEvent(moveable, eventName, params);\r\n        var ables = datas.ables;\r\n        var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"Control\");\r\n        ables.forEach(function (able) {\r\n            if (!able[controlEventName]) {\r\n                return;\r\n            }\r\n            able[controlEventName](moveable, __assign(__assign({}, e), { datas: originalDatas[able.name], inputEvent: inputEvent, resolveMatrix: true, pinchScale: pinchScale, parentDistance: parentDistance, parentRotate: angle, isPinch: true }));\r\n        });\r\n        return params;\r\n    },\r\n    pinchEnd: function (moveable, e) {\r\n        var datas = e.datas, isPinch = e.isPinch, inputEvent = e.inputEvent, targets = e.targets, originalDatas = e.originalDatas;\r\n        if (!datas.isPinch) {\r\n            return;\r\n        }\r\n        var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\", \"End\");\r\n        var params = fillEndParams(moveable, e, { isDrag: isPinch });\r\n        if (targets) {\r\n            params.targets = targets;\r\n        }\r\n        triggerEvent(moveable, eventName, params);\r\n        var ables = datas.ables;\r\n        var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"ControlEnd\");\r\n        ables.forEach(function (able) {\r\n            if (!able[controlEventName]) {\r\n                return;\r\n            }\r\n            able[controlEventName](moveable, __assign(__assign({}, e), { isDrag: isPinch, datas: originalDatas[able.name], inputEvent: inputEvent, isPinch: true }));\r\n        });\r\n        return isPinch;\r\n    },\r\n    pinchGroupStart: function (moveable, e) {\r\n        return this.pinchStart(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    pinchGroup: function (moveable, e) {\r\n        return this.pinch(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    pinchGroupEnd: function (moveable, e) {\r\n        return this.pinchEnd(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n});\r\n/**\r\n * Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\r\n * @name Moveable.Pinchable#pinchable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.pinchable = true;\r\n */\r\n/**\r\n * When the pinch starts, the pinchStart event is called with part of scaleStart, rotateStart, resizeStart\r\n * @memberof Moveable.Pinchable\r\n * @event pinchStart\r\n * @param {Moveable.Pinchable.OnPinchStart} - Parameters for the pinchStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     rotatable: true,\r\n *     scalable: true,\r\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\r\n * });\r\n * moveable.on(\"pinchStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"rotateStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"scaleStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n * When pinching, the pinch event is called with part of scale, rotate, resize\r\n * @memberof Moveable.Pinchable\r\n * @event pinch\r\n * @param {Moveable.Pinchable.OnPinch} - Parameters for the pinch event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     rotatable: true,\r\n *     scalable: true,\r\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\r\n * });\r\n * moveable.on(\"pinch\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"rotate\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"scale\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n * When the pinch finishes, the pinchEnd event is called.\r\n * @memberof Moveable.Pinchable\r\n * @event pinchEnd\r\n * @param {Moveable.Pinchable.OnPinchEnd} - Parameters for the pinchEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     rotatable: true,\r\n *     scalable: true,\r\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\r\n * });\r\n * moveable.on(\"pinchEnd\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"rotateEnd\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"scaleEnd\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n * When the group pinch starts, the `pinchGroupStart` event is called.\r\n * @memberof Moveable.Pinchable\r\n * @event pinchGroupStart\r\n * @param {Moveable.Pinchable.OnPinchGroupStart} - Parameters for the `pinchGroupStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     pinchable: true\r\n * });\r\n * moveable.on(\"pinchGroupStart\", ({ targets }) => {\r\n *     console.log(\"onPinchGroupStart\", targets);\r\n * });\r\n */\r\n/**\r\n * When the group pinch, the `pinchGroup` event is called.\r\n * @memberof Moveable.Pinchable\r\n * @event pinchGroup\r\n * @param {Moveable.Pinchable.OnPinchGroup} - Parameters for the `pinchGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     pinchable: true\r\n * });\r\n * moveable.on(\"pinchGroup\", ({ targets, events }) => {\r\n *     console.log(\"onPinchGroup\", targets);\r\n * });\r\n */\r\n/**\r\n * When the group pinch finishes, the `pinchGroupEnd` event is called.\r\n * @memberof Moveable.Pinchable\r\n * @event pinchGroupEnd\r\n * @param {Moveable.Pinchable.OnPinchGroupEnd} - Parameters for the `pinchGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     pinchable: true\r\n * });\r\n * moveable.on(\"pinchGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onPinchGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\nvar directionCondition = getDirectionCondition(\"scalable\");\r\n/**\r\n * @namespace Scalable\r\n * @memberof Moveable\r\n * @description Scalable indicates whether the target's x and y can be scale of transform.\r\n */\r\nvar Scalable = {\r\n    name: \"scalable\",\r\n    ableGroup: \"size\",\r\n    canPinch: true,\r\n    props: [\r\n        \"scalable\",\r\n        \"throttleScale\",\r\n        \"renderDirections\",\r\n        \"keepRatio\",\r\n        \"edge\",\r\n        \"displayAroundControls\",\r\n    ],\r\n    events: [\r\n        \"scaleStart\",\r\n        \"beforeScale\",\r\n        \"scale\",\r\n        \"scaleEnd\",\r\n        \"scaleGroupStart\",\r\n        \"beforeScaleGroup\",\r\n        \"scaleGroup\",\r\n        \"scaleGroupEnd\",\r\n    ],\r\n    render: getRenderDirections(\"scalable\"),\r\n    dragControlCondition: directionCondition,\r\n    viewClassName: getDirectionViewClassName(\"scalable\"),\r\n    dragControlStart: function (moveable, e) {\r\n        var datas = e.datas, isPinch = e.isPinch, inputEvent = e.inputEvent, parentDirection = e.parentDirection;\r\n        var direction = getTotalDirection(parentDirection, isPinch, inputEvent, datas);\r\n        var _a = moveable.state, width = _a.width, height = _a.height, targetTransform = _a.targetTransform, target = _a.target, pos1 = _a.pos1, pos2 = _a.pos2, pos4 = _a.pos4;\r\n        if (!direction || !target) {\r\n            return false;\r\n        }\r\n        if (!isPinch) {\r\n            setDragStart(moveable, e);\r\n        }\r\n        datas.datas = {};\r\n        datas.transform = targetTransform;\r\n        datas.prevDist = [1, 1];\r\n        datas.direction = direction;\r\n        datas.startOffsetWidth = width;\r\n        datas.startOffsetHeight = height;\r\n        datas.startValue = [1, 1];\r\n        // const scaleWidth = getDist(pos1, pos2);\r\n        // const scaleHeight = getDist(pos2, pos4);\r\n        var isWidth = (!direction[0] && !direction[1]) || direction[0] || !direction[1];\r\n        // datas.scaleWidth = scaleWidth;\r\n        // datas.scaleHeight = scaleHeight;\r\n        // datas.scaleXRatio = scaleWidth / width;\r\n        // datas.scaleYRatio = scaleHeight / height;\r\n        setDefaultTransformIndex(moveable, e, \"scale\");\r\n        datas.isWidth = isWidth;\r\n        function setRatio(ratio) {\r\n            datas.ratio = ratio && isFinite(ratio) ? ratio : 0;\r\n        }\r\n        datas.startPositions = getAbsolutePosesByState(moveable.state);\r\n        function setFixedDirection(fixedDirection) {\r\n            var result = getFixedDirectionInfo(datas.startPositions, fixedDirection);\r\n            datas.fixedDirection = result.fixedDirection;\r\n            datas.fixedPosition = result.fixedPosition;\r\n            datas.fixedOffset = result.fixedOffset;\r\n        }\r\n        datas.setFixedDirection = setFixedDirection;\r\n        setRatio(getDist$1(pos1, pos2) / getDist$1(pos2, pos4));\r\n        setFixedDirection([-direction[0], -direction[1]]);\r\n        var setMinScaleSize = function (min) {\r\n            datas.minScaleSize = min;\r\n        };\r\n        var setMaxScaleSize = function (max) {\r\n            datas.maxScaleSize = max;\r\n        };\r\n        // const setMinScale = (min: number[]) => {\r\n        // };\r\n        // const setMaxScale = (max: number[]) => {\r\n        // };\r\n        setMinScaleSize([-Infinity, -Infinity]);\r\n        setMaxScaleSize([Infinity, Infinity]);\r\n        var params = fillParams(moveable, e, __assign(__assign({ direction: direction, set: function (scale) {\r\n                datas.startValue = scale;\r\n            }, setRatio: setRatio, setFixedDirection: setFixedDirection, setMinScaleSize: setMinScaleSize, setMaxScaleSize: setMaxScaleSize }, fillTransformStartEvent(moveable, e)), { dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e)) }));\r\n        var result = triggerEvent(moveable, \"onScaleStart\", params);\r\n        datas.startFixedDirection = datas.fixedDirection;\r\n        if (result !== false) {\r\n            datas.isScale = true;\r\n            moveable.state.snapRenderInfo = {\r\n                request: e.isRequest,\r\n                direction: direction,\r\n            };\r\n        }\r\n        return datas.isScale ? params : false;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        resolveTransformEvent(moveable, e, \"scale\");\r\n        var datas = e.datas, parentKeepRatio = e.parentKeepRatio, parentFlag = e.parentFlag, isPinch = e.isPinch, dragClient = e.dragClient, isRequest = e.isRequest, useSnap = e.useSnap, resolveMatrix = e.resolveMatrix;\r\n        var prevDist = datas.prevDist, direction = datas.direction, startOffsetWidth = datas.startOffsetWidth, startOffsetHeight = datas.startOffsetHeight, isScale = datas.isScale, startValue = datas.startValue, isWidth = datas.isWidth, ratio = datas.ratio;\r\n        if (!isScale) {\r\n            return false;\r\n        }\r\n        var props = moveable.props;\r\n        var throttleScale = props.throttleScale, parentMoveable = props.parentMoveable;\r\n        var sizeDirection = direction;\r\n        if (!direction[0] && !direction[1]) {\r\n            sizeDirection = [1, 1];\r\n        }\r\n        var keepRatio = (ratio && (parentKeepRatio != null ? parentKeepRatio : props.keepRatio)) || false;\r\n        var state = moveable.state;\r\n        var tempScaleValue = [\r\n            startValue[0],\r\n            startValue[1],\r\n        ];\r\n        function getNextScale() {\r\n            var _a = getOffsetSizeDist(sizeDirection, keepRatio, datas, e), distWidth = _a.distWidth, distHeight = _a.distHeight;\r\n            var distX = startOffsetWidth ? (startOffsetWidth + distWidth) / startOffsetWidth : 1;\r\n            var distY = startOffsetHeight ? (startOffsetHeight + distHeight) / startOffsetHeight : 1;\r\n            if (!startValue[0]) {\r\n                tempScaleValue[0] = distWidth / startOffsetWidth;\r\n            }\r\n            if (!startValue[1]) {\r\n                tempScaleValue[1] = distHeight / startOffsetHeight;\r\n            }\r\n            var scaleX = (sizeDirection[0] || keepRatio ? distX : 1) * tempScaleValue[0];\r\n            var scaleY = (sizeDirection[1] || keepRatio ? distY : 1) * tempScaleValue[1];\r\n            if (scaleX === 0) {\r\n                scaleX = sign(prevDist[0]) * MIN_SCALE;\r\n            }\r\n            if (scaleY === 0) {\r\n                scaleY = sign(prevDist[1]) * MIN_SCALE;\r\n            }\r\n            return [scaleX, scaleY];\r\n        }\r\n        var scale = getNextScale();\r\n        if (!isPinch && moveable.props.groupable) {\r\n            var snapRenderInfo = state.snapRenderInfo || {};\r\n            var stateDirection = snapRenderInfo.direction;\r\n            if (isArray(stateDirection) && (stateDirection[0] || stateDirection[1])) {\r\n                state.snapRenderInfo = { direction: direction, request: e.isRequest };\r\n            }\r\n        }\r\n        triggerEvent(moveable, \"onBeforeScale\", fillParams(moveable, e, {\r\n            scale: scale,\r\n            setFixedDirection: function (nextFixedDirection) {\r\n                datas.setFixedDirection(nextFixedDirection);\r\n                scale = getNextScale();\r\n                return scale;\r\n            },\r\n            startFixedDirection: datas.startFixedDirection,\r\n            setScale: function (nextScale) {\r\n                scale = nextScale;\r\n            },\r\n        }, true));\r\n        var dist = [\r\n            scale[0] / tempScaleValue[0],\r\n            scale[1] / tempScaleValue[1],\r\n        ];\r\n        var fixedPosition = dragClient;\r\n        var snapDist = [0, 0];\r\n        var distSign = sign(dist[0] * dist[1]);\r\n        var isSelfPinch = !dragClient && !parentFlag && isPinch;\r\n        if (isSelfPinch || resolveMatrix) {\r\n            fixedPosition = getTranslateFixedPosition(moveable, datas.targetAllTransform, [0, 0], [0, 0], datas);\r\n        }\r\n        else if (!dragClient) {\r\n            fixedPosition = datas.fixedPosition;\r\n        }\r\n        if (!isPinch) {\r\n            snapDist = checkSnapScale(moveable, dist, direction, !useSnap && isRequest, datas);\r\n        }\r\n        if (keepRatio) {\r\n            if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\r\n                if (Math.abs(snapDist[0] * startOffsetWidth) > Math.abs(snapDist[1] * startOffsetHeight)) {\r\n                    snapDist[1] = 0;\r\n                }\r\n                else {\r\n                    snapDist[0] = 0;\r\n                }\r\n            }\r\n            var isNoSnap = !snapDist[0] && !snapDist[1];\r\n            if (isNoSnap) {\r\n                // throttle scale value (not absolute scale size)\r\n                if (isWidth) {\r\n                    dist[0] = throttle(dist[0] * tempScaleValue[0], throttleScale) / tempScaleValue[0];\r\n                }\r\n                else {\r\n                    dist[1] = throttle(dist[1] * tempScaleValue[1], throttleScale) / tempScaleValue[1];\r\n                }\r\n            }\r\n            if ((sizeDirection[0] && !sizeDirection[1])\r\n                || (snapDist[0] && !snapDist[1])\r\n                || (isNoSnap && isWidth)) {\r\n                dist[0] += snapDist[0];\r\n                var snapHeight = startOffsetWidth * dist[0] * tempScaleValue[0] / ratio;\r\n                dist[1] = sign(distSign * dist[0]) * abs(snapHeight / startOffsetHeight / tempScaleValue[1]);\r\n            }\r\n            else if ((!sizeDirection[0] && sizeDirection[1])\r\n                || (!snapDist[0] && snapDist[1])\r\n                || (isNoSnap && !isWidth)) {\r\n                dist[1] += snapDist[1];\r\n                var snapWidth = startOffsetHeight * dist[1] * tempScaleValue[1] * ratio;\r\n                dist[0] = sign(distSign * dist[1]) * abs(snapWidth / startOffsetWidth / tempScaleValue[0]);\r\n            }\r\n        }\r\n        else {\r\n            dist[0] += snapDist[0];\r\n            dist[1] += snapDist[1];\r\n            if (!snapDist[0]) {\r\n                dist[0] = throttle(dist[0] * tempScaleValue[0], throttleScale) / tempScaleValue[0];\r\n            }\r\n            if (!snapDist[1]) {\r\n                dist[1] = throttle(dist[1] * tempScaleValue[1], throttleScale) / tempScaleValue[1];\r\n            }\r\n        }\r\n        if (dist[0] === 0) {\r\n            dist[0] = sign(prevDist[0]) * MIN_SCALE;\r\n        }\r\n        if (dist[1] === 0) {\r\n            dist[1] = sign(prevDist[1]) * MIN_SCALE;\r\n        }\r\n        scale = multiply2(dist, [tempScaleValue[0], tempScaleValue[1]]);\r\n        var startOffsetSize = [\r\n            startOffsetWidth,\r\n            startOffsetHeight,\r\n        ];\r\n        var scaleSize = [\r\n            startOffsetWidth * scale[0],\r\n            startOffsetHeight * scale[1],\r\n        ];\r\n        scaleSize = calculateBoundSize(scaleSize, datas.minScaleSize, datas.maxScaleSize, keepRatio ? ratio : false);\r\n        // if (keepRatio && (isGroup || keepRatioFinally)) {\r\n        //     if (isWidth) {\r\n        //         boundingHeight = boundingWidth / ratio;\r\n        //     } else {\r\n        //         boundingWidth = boundingHeight * ratio;\r\n        //     }\r\n        // }\r\n        scale = countEach(2, function (i) {\r\n            return startOffsetSize[i] ? scaleSize[i] / startOffsetSize[i] : scaleSize[i];\r\n        });\r\n        dist = countEach(2, function (i) {\r\n            return scale[i] / tempScaleValue[i];\r\n        });\r\n        var delta = countEach(2, function (i) { return prevDist[i] ? dist[i] / prevDist[i] : dist[i]; });\r\n        var distText = \"scale(\".concat(dist.join(\", \"), \")\");\r\n        var scaleText = \"scale(\".concat(scale.join(\", \"), \")\");\r\n        var nextTransform = convertTransformFormat(datas, scaleText, distText);\r\n        var isZeroScale = !startValue[0] || !startValue[1];\r\n        var inverseDist = getScaleDist(moveable, isZeroScale ? scaleText : distText, datas.fixedDirection, fixedPosition, datas.fixedOffset, datas, isZeroScale);\r\n        var inverseDelta = isSelfPinch ? inverseDist : minus(inverseDist, datas.prevInverseDist || [0, 0]);\r\n        datas.prevDist = dist;\r\n        datas.prevInverseDist = inverseDist;\r\n        if (scale[0] === prevDist[0] && scale[1] === prevDist[1]\r\n            && inverseDelta.every(function (num) { return !num; })\r\n            && !parentMoveable\r\n            && !isSelfPinch) {\r\n            return false;\r\n        }\r\n        var params = fillParams(moveable, e, __assign({ offsetWidth: startOffsetWidth, offsetHeight: startOffsetHeight, direction: direction, scale: scale, dist: dist, delta: delta, isPinch: !!isPinch }, fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e)));\r\n        triggerEvent(moveable, \"onScale\", params);\r\n        return params;\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isScale) {\r\n            return false;\r\n        }\r\n        datas.isScale = false;\r\n        var scaleEndParam = fillEndParams(moveable, e, {});\r\n        triggerEvent(moveable, \"onScaleEnd\", scaleEndParam);\r\n        return scaleEndParam;\r\n    },\r\n    dragGroupControlCondition: directionCondition,\r\n    dragGroupControlStart: function (moveable, e) {\r\n        var datas = e.datas;\r\n        var params = this.dragControlStart(moveable, e);\r\n        if (!params) {\r\n            return false;\r\n        }\r\n        var originalEvents = fillChildEvents(moveable, \"resizable\", e);\r\n        datas.moveableScale = moveable.scale;\r\n        var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\r\n            return startChildDist(moveable, child, datas, ev);\r\n        });\r\n        var setFixedDirection = function (fixedDirection) {\r\n            params.setFixedDirection(fixedDirection);\r\n            events.forEach(function (ev, i) {\r\n                ev.setFixedDirection(fixedDirection);\r\n                startChildDist(moveable, ev.moveable, datas, originalEvents[i]);\r\n            });\r\n        };\r\n        datas.setFixedDirection = setFixedDirection;\r\n        var nextParams = __assign(__assign({}, params), { targets: moveable.props.targets, events: events, setFixedDirection: setFixedDirection });\r\n        var result = triggerEvent(moveable, \"onScaleGroupStart\", nextParams);\r\n        datas.isScale = result !== false;\r\n        return datas.isScale ? nextParams : false;\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isScale) {\r\n            return;\r\n        }\r\n        catchEvent(moveable, \"onBeforeScale\", function (parentEvent) {\r\n            triggerEvent(moveable, \"onBeforeScaleGroup\", fillParams(moveable, e, __assign(__assign({}, parentEvent), { targets: moveable.props.targets }), true));\r\n        });\r\n        var params = this.dragControl(moveable, e);\r\n        if (!params) {\r\n            return;\r\n        }\r\n        var dist = params.dist;\r\n        var moveableScale = datas.moveableScale;\r\n        moveable.scale = [\r\n            dist[0] * moveableScale[0],\r\n            dist[1] * moveableScale[1],\r\n        ];\r\n        var keepRatio = moveable.props.keepRatio;\r\n        var fixedPosition = datas.fixedPosition;\r\n        var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\r\n            var _a = __read(calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [\r\n                ev.datas.originalX * dist[0],\r\n                ev.datas.originalY * dist[1],\r\n                1,\r\n            ], 3), 2), clientX = _a[0], clientY = _a[1];\r\n            return __assign(__assign({}, ev), { parentDist: null, parentScale: dist, parentKeepRatio: keepRatio, \r\n                // recalculate child fixed position for parent group's dragging.\r\n                dragClient: plus(fixedPosition, [clientX, clientY]) });\r\n        });\r\n        var nextParams = __assign({ targets: moveable.props.targets, events: events }, params);\r\n        triggerEvent(moveable, \"onScaleGroup\", nextParams);\r\n        return nextParams;\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        var isDrag = e.isDrag, datas = e.datas;\r\n        if (!datas.isScale) {\r\n            return;\r\n        }\r\n        this.dragControlEnd(moveable, e);\r\n        var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\r\n        var nextParams = fillEndParams(moveable, e, {\r\n            targets: moveable.props.targets,\r\n            events: events,\r\n        });\r\n        triggerEvent(moveable, \"onScaleGroupEnd\", nextParams);\r\n        return isDrag;\r\n    },\r\n    /**\r\n     * @method Moveable.Scalable#request\r\n     * @param {Moveable.Scalable.ScalableRequestParam} e - the Scalable's request parameter\r\n     * @return {Moveable.Requester} Moveable Requester\r\n     * @example\r\n\n     * // Instantly Request (requestStart - request - requestEnd)\r\n     * moveable.request(\"scalable\", { deltaWidth: 10, deltaHeight: 10 }, true);\r\n     *\r\n     * // requestStart\r\n     * const requester = moveable.request(\"scalable\");\r\n     *\r\n     * // request\r\n     * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n     * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n     * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n     *\r\n     * // requestEnd\r\n     * requester.requestEnd();\r\n     */\r\n    request: function () {\r\n        var datas = {};\r\n        var distWidth = 0;\r\n        var distHeight = 0;\r\n        var useSnap = false;\r\n        return {\r\n            isControl: true,\r\n            requestStart: function (e) {\r\n                useSnap = e.useSnap;\r\n                return {\r\n                    datas: datas,\r\n                    parentDirection: e.direction || [1, 1],\r\n                    useSnap: useSnap,\r\n                };\r\n            },\r\n            request: function (e) {\r\n                distWidth += e.deltaWidth;\r\n                distHeight += e.deltaHeight;\r\n                return {\r\n                    datas: datas,\r\n                    parentDist: [distWidth, distHeight],\r\n                    parentKeepRatio: e.keepRatio,\r\n                    useSnap: useSnap,\r\n                };\r\n            },\r\n            requestEnd: function () {\r\n                return { datas: datas, isDrag: true, useSnap: useSnap };\r\n            },\r\n        };\r\n    },\r\n};\r\n/**\r\n * Whether or not target can scaled.\r\n *\r\n * @name Moveable.Scalable#scalable\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.scalable = true;\r\n */\r\n/**\r\n * throttle of scaleX, scaleY when scale.\r\n * @name Moveable.Scalable#throttleScale\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.throttleScale = 0.1;\r\n */\r\n/**\r\n * Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\r\n * @name Moveable.Scalable#renderDirections\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     scalable: true,\r\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\r\n * });\r\n *\r\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\r\n */\r\n/**\r\n * When resize or scale, keeps a ratio of the width, height. (default: false)\r\n * @name Moveable.Scalable#keepRatio\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     scalable: true,\r\n * });\r\n *\r\n * moveable.keepRatio = true;\r\n */\r\n/**\r\n * When the scale starts, the scaleStart event is called.\r\n * @memberof Moveable.Scalable\r\n * @event scaleStart\r\n * @param {Moveable.Scalable.OnScaleStart} - Parameters for the scaleStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { scalable: true });\r\n * moveable.on(\"scaleStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n * When scaling, `beforeScale` is called before `scale` occurs. In `beforeScale`, you can get and set the pre-value before scaling.\r\n * @memberof Moveable.Scalable\r\n * @event beforeScale\r\n * @param {Moveable.Scalable.OnBeforeScale} - Parameters for the `beforeScale` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { scalable: true });\r\n * moveable.on(\"beforeScale\", ({ setFixedDirection }) => {\r\n *     if (shiftKey) {\r\n *        setFixedDirection([0, 0]);\r\n *     }\r\n * });\r\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\r\n *     target.style.transform = transform;\r\n * });\r\n */\r\n/**\r\n * When scaling, the `scale` event is called.\r\n * @memberof Moveable.Scalable\r\n * @event scale\r\n * @param {Moveable.Scalable.OnScale} - Parameters for the `scale` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { scalable: true });\r\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\r\n *     target.style.transform = transform;\r\n * });\r\n */\r\n/**\r\n * When the scale finishes, the `scaleEnd` event is called.\r\n * @memberof Moveable.Scalable\r\n * @event scaleEnd\r\n * @param {Moveable.Scalable.OnScaleEnd} - Parameters for the `scaleEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { scalable: true });\r\n * moveable.on(\"scaleEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\r\n/**\r\n* When the group scale starts, the `scaleGroupStart` event is called.\r\n* @memberof Moveable.Scalable\r\n* @event scaleGroupStart\r\n* @param {Moveable.Scalable.OnScaleGroupStart} - Parameters for the `scaleGroupStart` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     scalable: true\r\n* });\r\n* moveable.on(\"scaleGroupStart\", ({ targets }) => {\r\n*     console.log(\"onScaleGroupStart\", targets);\r\n* });\r\n*/\r\n/**\r\n* When the group scale, the `scaleGroup` event is called.\r\n* @memberof Moveable.Scalable\r\n* @event scaleGroup\r\n* @param {Moveable.Scalable.OnScaleGroup} - Parameters for the `scaleGroup` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     scalable: true\r\n* });\r\n* moveable.on(\"scaleGroup\", ({ targets, events }) => {\r\n*     console.log(\"onScaleGroup\", targets);\r\n*     events.forEach(ev => {\r\n*         const target = ev.target;\r\n*         // ev.drag is a drag event that occurs when the group scale.\r\n*         const left = ev.drag.beforeDist[0];\r\n*         const top = ev.drag.beforeDist[1];\r\n*         const scaleX = ev.scale[0];\r\n*         const scaleY = ev.scale[1];\r\n*     });\r\n* });\r\n*/\r\n/**\r\n * When the group scale finishes, the `scaleGroupEnd` event is called.\r\n * @memberof Moveable.Scalable\r\n * @event scaleGroupEnd\r\n * @param {Moveable.Scalable.OnScaleGroupEnd} - Parameters for the `scaleGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     scalable: true\r\n * });\r\n * moveable.on(\"scaleGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onScaleGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\nfunction getMiddleLinePos(pos1, pos2) {\r\n    return pos1.map(function (pos, i) { return dot(pos, pos2[i], 1, 2); });\r\n}\r\nfunction getTriangleRad(pos1, pos2, pos3) {\r\n    // pos1 Rad\r\n    var rad1 = getRad(pos1, pos2);\r\n    var rad2 = getRad(pos1, pos3);\r\n    var rad = rad2 - rad1;\r\n    return rad >= 0 ? rad : rad + 2 * Math.PI;\r\n}\r\nfunction isValidPos(poses1, poses2) {\r\n    var rad1 = getTriangleRad(poses1[0], poses1[1], poses1[2]);\r\n    var rad2 = getTriangleRad(poses2[0], poses2[1], poses2[2]);\r\n    var pi = Math.PI;\r\n    if ((rad1 >= pi && rad2 <= pi) || (rad1 <= pi && rad2 >= pi)) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * @namespace Moveable.Warpable\r\n * @description Warpable indicates whether the target can be warped(distorted, bented).\r\n */\r\nvar Warpable = {\r\n    name: \"warpable\",\r\n    ableGroup: \"size\",\r\n    props: [\r\n        \"warpable\",\r\n        \"renderDirections\",\r\n        \"edge\",\r\n        \"displayAroundControls\",\r\n    ],\r\n    events: [\r\n        \"warpStart\",\r\n        \"warp\",\r\n        \"warpEnd\",\r\n    ],\r\n    viewClassName: getDirectionViewClassName(\"warpable\"),\r\n    render: function (moveable, React) {\r\n        var _a = moveable.props, resizable = _a.resizable, scalable = _a.scalable, warpable = _a.warpable, zoom = _a.zoom;\r\n        if (resizable || scalable || !warpable) {\r\n            return [];\r\n        }\r\n        var _b = moveable.state, pos1 = _b.pos1, pos2 = _b.pos2, pos3 = _b.pos3, pos4 = _b.pos4;\r\n        var linePosFrom1 = getMiddleLinePos(pos1, pos2);\r\n        var linePosFrom2 = getMiddleLinePos(pos2, pos1);\r\n        var linePosFrom3 = getMiddleLinePos(pos1, pos3);\r\n        var linePosFrom4 = getMiddleLinePos(pos3, pos1);\r\n        var linePosTo1 = getMiddleLinePos(pos3, pos4);\r\n        var linePosTo2 = getMiddleLinePos(pos4, pos3);\r\n        var linePosTo3 = getMiddleLinePos(pos2, pos4);\r\n        var linePosTo4 = getMiddleLinePos(pos4, pos2);\r\n        return __spreadArray([\r\n            React.createElement(\"div\", { className: prefix(\"line\"), key: \"middeLine1\", style: getLineStyle(linePosFrom1, linePosTo1, zoom) }),\r\n            React.createElement(\"div\", { className: prefix(\"line\"), key: \"middeLine2\", style: getLineStyle(linePosFrom2, linePosTo2, zoom) }),\r\n            React.createElement(\"div\", { className: prefix(\"line\"), key: \"middeLine3\", style: getLineStyle(linePosFrom3, linePosTo3, zoom) }),\r\n            React.createElement(\"div\", { className: prefix(\"line\"), key: \"middeLine4\", style: getLineStyle(linePosFrom4, linePosTo4, zoom) })\r\n        ], __read(renderAllDirections(moveable, \"warpable\", React)), false);\r\n    },\r\n    dragControlCondition: function (moveable, e) {\r\n        if (e.isRequest) {\r\n            return false;\r\n        }\r\n        var target = e.inputEvent.target;\r\n        return hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"warpable\"));\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        var datas = e.datas, inputEvent = e.inputEvent;\r\n        var target = moveable.props.target;\r\n        var inputTarget = inputEvent.target;\r\n        var direction = getDirection(inputTarget, datas);\r\n        if (!direction || !target) {\r\n            return false;\r\n        }\r\n        var state = moveable.state;\r\n        var transformOrigin = state.transformOrigin, is3d = state.is3d, targetTransform = state.targetTransform, targetMatrix = state.targetMatrix, width = state.width, height = state.height, left = state.left, top = state.top;\r\n        datas.datas = {};\r\n        datas.targetTransform = targetTransform;\r\n        datas.warpTargetMatrix = is3d ? targetMatrix : convertDimension(targetMatrix, 3, 4);\r\n        datas.targetInverseMatrix = ignoreDimension(invert(datas.warpTargetMatrix, 4), 3, 4);\r\n        datas.direction = direction;\r\n        datas.left = left;\r\n        datas.top = top;\r\n        datas.poses = [\r\n            [0, 0],\r\n            [width, 0],\r\n            [0, height],\r\n            [width, height],\r\n        ].map(function (p) { return minus(p, transformOrigin); });\r\n        datas.nextPoses = datas.poses.map(function (_a) {\r\n            var _b = __read(_a, 2), x = _b[0], y = _b[1];\r\n            return calculate(datas.warpTargetMatrix, [x, y, 0, 1], 4);\r\n        });\r\n        datas.startValue = createIdentityMatrix(4);\r\n        datas.prevMatrix = createIdentityMatrix(4);\r\n        datas.absolutePoses = getAbsolutePosesByState(state);\r\n        datas.posIndexes = getPosIndexesByDirection(direction);\r\n        setDragStart(moveable, e);\r\n        setDefaultTransformIndex(moveable, e, \"matrix3d\");\r\n        state.snapRenderInfo = {\r\n            request: e.isRequest,\r\n            direction: direction,\r\n        };\r\n        var params = fillParams(moveable, e, __assign({ set: function (matrix) {\r\n                datas.startValue = matrix;\r\n            } }, fillTransformStartEvent(moveable, e)));\r\n        var result = triggerEvent(moveable, \"onWarpStart\", params);\r\n        if (result !== false) {\r\n            datas.isWarp = true;\r\n        }\r\n        return datas.isWarp;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        var datas = e.datas, isRequest = e.isRequest;\r\n        var distX = e.distX, distY = e.distY;\r\n        var targetInverseMatrix = datas.targetInverseMatrix, prevMatrix = datas.prevMatrix, isWarp = datas.isWarp, startValue = datas.startValue, poses = datas.poses, posIndexes = datas.posIndexes, absolutePoses = datas.absolutePoses;\r\n        if (!isWarp) {\r\n            return false;\r\n        }\r\n        resolveTransformEvent(moveable, e, \"matrix3d\");\r\n        if (hasGuidelines(moveable, \"warpable\")) {\r\n            var selectedPoses = posIndexes.map(function (index) { return absolutePoses[index]; });\r\n            if (selectedPoses.length > 1) {\r\n                selectedPoses.push([\r\n                    (selectedPoses[0][0] + selectedPoses[1][0]) / 2,\r\n                    (selectedPoses[0][1] + selectedPoses[1][1]) / 2,\r\n                ]);\r\n            }\r\n            var _a = checkMoveableSnapBounds(moveable, isRequest, {\r\n                horizontal: selectedPoses.map(function (pos) { return pos[1] + distY; }),\r\n                vertical: selectedPoses.map(function (pos) { return pos[0] + distX; }),\r\n            }), horizontalSnapInfo = _a.horizontal, verticalSnapInfo = _a.vertical;\r\n            distY -= horizontalSnapInfo.offset;\r\n            distX -= verticalSnapInfo.offset;\r\n        }\r\n        var dist = getDragDist({ datas: datas, distX: distX, distY: distY }, true);\r\n        var nextPoses = datas.nextPoses.slice();\r\n        posIndexes.forEach(function (index) {\r\n            nextPoses[index] = plus(nextPoses[index], dist);\r\n        });\r\n        if (!NEARBY_POS.every(function (nearByPoses) { return isValidPos(nearByPoses.map(function (i) { return poses[i]; }), nearByPoses.map(function (i) { return nextPoses[i]; })); })) {\r\n            return false;\r\n        }\r\n        var h = createWarpMatrix(poses[0], poses[2], poses[1], poses[3], nextPoses[0], nextPoses[2], nextPoses[1], nextPoses[3]);\r\n        if (!h.length) {\r\n            return false;\r\n        }\r\n        // B * A * M\r\n        var afterMatrix = multiply(targetInverseMatrix, h, 4);\r\n        // B * M * A\r\n        var matrix = getTransfromMatrix(datas, afterMatrix, true);\r\n        var delta = multiply(invert(prevMatrix, 4), matrix, 4);\r\n        datas.prevMatrix = matrix;\r\n        var totalMatrix = multiply(startValue, matrix, 4);\r\n        var nextTransform = convertTransformFormat(datas, \"matrix3d(\".concat(totalMatrix.join(\", \"), \")\"), \"matrix3d(\".concat(matrix.join(\", \"), \")\"));\r\n        fillOriginalTransform(e, nextTransform);\r\n        triggerEvent(moveable, \"onWarp\", fillParams(moveable, e, __assign({ delta: delta, matrix: totalMatrix, dist: matrix, multiply: multiply, transform: nextTransform }, fillCSSObject({\r\n            transform: nextTransform,\r\n        }, e))));\r\n        return true;\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        var datas = e.datas, isDrag = e.isDrag;\r\n        if (!datas.isWarp) {\r\n            return false;\r\n        }\r\n        datas.isWarp = false;\r\n        triggerEvent(moveable, \"onWarpEnd\", fillEndParams(moveable, e, {}));\r\n        return isDrag;\r\n    },\r\n};\r\n/**\r\n * Whether or not target can be warped. (default: false)\r\n * @name Moveable.Warpable#warpable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.warpable = true;\r\n */\r\n/**\r\n* Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\r\n* @name Moveable.Warpable#renderDirections\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     warpable: true,\r\n*     renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\r\n* });\r\n*\r\n* moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\r\n*/\r\n/**\r\n* When the warp starts, the warpStart event is called.\r\n* @memberof Moveable.Warpable\r\n* @event warpStart\r\n* @param {Moveable.Warpable.OnWarpStart} - Parameters for the warpStart event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, { warpable: true });\r\n* moveable.on(\"warpStart\", ({ target }) => {\r\n*     console.log(target);\r\n* });\r\n*/\r\n/**\r\n * When warping, the warp event is called.\r\n * @memberof Moveable.Warpable\r\n * @event warp\r\n * @param {Moveable.Warpable.OnWarp} - Parameters for the warp event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n * let matrix = [\r\n *  1, 0, 0, 0,\r\n *  0, 1, 0, 0,\r\n *  0, 0, 1, 0,\r\n *  0, 0, 0, 1,\r\n * ];\r\n * const moveable = new Moveable(document.body, { warpable: true });\r\n * moveable.on(\"warp\", ({ target, transform, delta, multiply }) => {\r\n *    // target.style.transform = transform;\r\n *    matrix = multiply(matrix, delta);\r\n *    target.style.transform = `matrix3d(${matrix.join(\",\")})`;\r\n * });\r\n */\r\n/**\r\n * When the warp finishes, the warpEnd event is called.\r\n * @memberof Moveable.Warpable\r\n * @event warpEnd\r\n * @param {Moveable.Warpable.OnWarpEnd} - Parameters for the warpEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { warpable: true });\r\n * moveable.on(\"warpEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\n\nvar AREA_PIECES = /*#__PURE__*/ prefix(\"area-pieces\");\r\nvar AREA_PIECE = /*#__PURE__*/ prefix(\"area-piece\");\r\nvar AVOID = /*#__PURE__*/ prefix(\"avoid\");\r\nvar VIEW_DRAGGING = prefix(\"view-dragging\");\n\nfunction restoreStyle(moveable) {\r\n    var el = moveable.areaElement;\r\n    if (!el) {\r\n        return;\r\n    }\r\n    var _a = moveable.state, width = _a.width, height = _a.height;\r\n    removeClass(el, AVOID);\r\n    el.style.cssText += \"left: 0px; top: 0px; width: \".concat(width, \"px; height: \").concat(height, \"px\");\r\n}\r\nfunction renderPieces(React) {\r\n    return (React.createElement(\"div\", { key: \"area_pieces\", className: AREA_PIECES },\r\n        React.createElement(\"div\", { className: AREA_PIECE }),\r\n        React.createElement(\"div\", { className: AREA_PIECE }),\r\n        React.createElement(\"div\", { className: AREA_PIECE }),\r\n        React.createElement(\"div\", { className: AREA_PIECE })));\r\n}\r\nvar DragArea = {\r\n    name: \"dragArea\",\r\n    props: [\r\n        \"dragArea\",\r\n        \"passDragArea\",\r\n    ],\r\n    events: [\r\n        \"click\",\r\n        \"clickGroup\",\r\n    ],\r\n    render: function (moveable, React) {\r\n        var _a = moveable.props, target = _a.target, dragArea = _a.dragArea, groupable = _a.groupable, passDragArea = _a.passDragArea;\r\n        var _b = moveable.getState(), width = _b.width, height = _b.height, renderPoses = _b.renderPoses;\r\n        var className = passDragArea ? prefix(\"area\", \"pass\") : prefix(\"area\");\r\n        if (groupable) {\r\n            return [\r\n                React.createElement(\"div\", { key: \"area\", ref: ref(moveable, \"areaElement\"), className: className }),\r\n                renderPieces(React),\r\n            ];\r\n        }\r\n        if (!target || !dragArea) {\r\n            return [];\r\n        }\r\n        var h = createWarpMatrix([0, 0], [width, 0], [0, height], [width, height], renderPoses[0], renderPoses[1], renderPoses[2], renderPoses[3]);\r\n        var transform = h.length ? makeMatrixCSS(h, true) : \"none\";\r\n        return [\r\n            React.createElement(\"div\", { key: \"area\", ref: ref(moveable, \"areaElement\"), className: className, style: {\r\n                    top: \"0px\",\r\n                    left: \"0px\",\r\n                    width: \"\".concat(width, \"px\"),\r\n                    height: \"\".concat(height, \"px\"),\r\n                    transformOrigin: \"0 0\",\r\n                    transform: transform,\r\n                } }),\r\n            renderPieces(React),\r\n        ];\r\n    },\r\n    dragStart: function (moveable, _a) {\r\n        var datas = _a.datas, clientX = _a.clientX, clientY = _a.clientY, inputEvent = _a.inputEvent;\r\n        if (!inputEvent) {\r\n            return false;\r\n        }\r\n        datas.isDragArea = false;\r\n        var areaElement = moveable.areaElement;\r\n        var state = moveable.state;\r\n        var moveableClientRect = state.moveableClientRect, renderPoses = state.renderPoses, rootMatrix = state.rootMatrix, is3d = state.is3d;\r\n        var left = moveableClientRect.left, top = moveableClientRect.top;\r\n        var _b = getRect(renderPoses), relativeLeft = _b.left, relativeTop = _b.top, width = _b.width, height = _b.height;\r\n        var n = is3d ? 4 : 3;\r\n        var _c = __read(calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n), 2), posX = _c[0], posY = _c[1];\r\n        posX -= relativeLeft;\r\n        posY -= relativeTop;\r\n        var rects = [\r\n            { left: relativeLeft, top: relativeTop, width: width, height: posY - 10 },\r\n            { left: relativeLeft, top: relativeTop, width: posX - 10, height: height },\r\n            { left: relativeLeft, top: relativeTop + posY + 10, width: width, height: height - posY - 10 },\r\n            { left: relativeLeft + posX + 10, top: relativeTop, width: width - posX - 10, height: height },\r\n        ];\r\n        var children = [].slice.call(areaElement.nextElementSibling.children);\r\n        rects.forEach(function (rect, i) {\r\n            children[i].style.cssText\r\n                = \"left: \".concat(rect.left, \"px;top: \").concat(rect.top, \"px; width: \").concat(rect.width, \"px; height: \").concat(rect.height, \"px;\");\r\n        });\r\n        addClass(areaElement, AVOID);\r\n        state.disableNativeEvent = true;\r\n        return;\r\n    },\r\n    drag: function (moveable, _a) {\r\n        var datas = _a.datas, inputEvent = _a.inputEvent;\r\n        this.enableNativeEvent(moveable);\r\n        if (!inputEvent) {\r\n            return false;\r\n        }\r\n        if (!datas.isDragArea) {\r\n            datas.isDragArea = true;\r\n            restoreStyle(moveable);\r\n        }\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        this.enableNativeEvent(moveable);\r\n        var inputEvent = e.inputEvent, datas = e.datas;\r\n        if (!inputEvent) {\r\n            return false;\r\n        }\r\n        if (!datas.isDragArea) {\r\n            restoreStyle(moveable);\r\n        }\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        return this.dragStart(moveable, e);\r\n    },\r\n    dragGroup: function (moveable, e) {\r\n        return this.drag(moveable, e);\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        return this.dragEnd(moveable, e);\r\n    },\r\n    unset: function (moveable) {\r\n        restoreStyle(moveable);\r\n        moveable.state.disableNativeEvent = false;\r\n    },\r\n    enableNativeEvent: function (moveable) {\r\n        var state = moveable.state;\r\n        if (state.disableNativeEvent) {\r\n            requestAnimationFrame(function () {\r\n                state.disableNativeEvent = false;\r\n            });\r\n        }\r\n    },\r\n};\r\n/**\r\n * Add an event to the moveable area instead of the target for stopPropagation. (default: false, true in group)\r\n * @name Moveable#dragArea\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  dragArea: false,\r\n * });\r\n */\r\n/**\r\n * Set `pointerEvents: none;` css to pass events in dragArea. (default: false)\r\n * @name Moveable#passDragArea\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  dragArea: false,\r\n * });\r\n */\n\nvar Origin = makeAble(\"origin\", {\r\n    props: [\"origin\", \"svgOrigin\"],\r\n    render: function (moveable, React) {\r\n        var _a = moveable.props, zoom = _a.zoom, svgOrigin = _a.svgOrigin, groupable = _a.groupable;\r\n        var _b = moveable.getState(), beforeOrigin = _b.beforeOrigin, rotation = _b.rotation, svg = _b.svg, allMatrix = _b.allMatrix, is3d = _b.is3d, left = _b.left, top = _b.top, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\r\n        var originStyle;\r\n        if (!groupable && svg && svgOrigin) {\r\n            var _c = __read(convertTransformOriginArray(svgOrigin, offsetWidth, offsetHeight), 2), originX = _c[0], originY = _c[1];\r\n            var n = is3d ? 4 : 3;\r\n            var result = calculatePosition(allMatrix, [originX, originY], n);\r\n            originStyle = getControlTransform(rotation, zoom, minus(result, [left, top]));\r\n        }\r\n        else {\r\n            originStyle = getControlTransform(rotation, zoom, beforeOrigin);\r\n        }\r\n        return [\r\n            React.createElement(\"div\", { className: prefix(\"control\", \"origin\"), style: originStyle, key: \"beforeOrigin\" }),\r\n        ];\r\n    },\r\n});\r\n/**\r\n * Whether or not the origin controlbox will be visible or not (default: true)\r\n * @name Moveable#origin\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.origin = true;\r\n */\n\nfunction getDefaultScrollPosition(e) {\r\n    var scrollContainer = e.scrollContainer;\r\n    return [\r\n        scrollContainer.scrollLeft,\r\n        scrollContainer.scrollTop,\r\n    ];\r\n}\r\n/**\r\n * @namespace Moveable.Scrollable\r\n * @description Whether or not target can be scrolled to the scroll container (default: false)\r\n */\r\nvar Scrollable = {\r\n    name: \"scrollable\",\r\n    canPinch: true,\r\n    props: [\r\n        \"scrollable\",\r\n        \"scrollContainer\",\r\n        \"scrollThreshold\",\r\n        \"scrollThrottleTime\",\r\n        \"getScrollPosition\",\r\n        \"scrollOptions\",\r\n    ],\r\n    events: [\r\n        \"scroll\",\r\n        \"scrollGroup\",\r\n    ],\r\n    dragRelation: \"strong\",\r\n    dragStart: function (moveable, e) {\r\n        var props = moveable.props;\r\n        var _a = props.scrollContainer, scrollContainer = _a === void 0 ? moveable.getContainer() : _a, scrollOptions = props.scrollOptions;\r\n        var dragScroll = new DragScroll();\r\n        var scrollContainerElement = getRefTarget(scrollContainer, true);\r\n        e.datas.dragScroll = dragScroll;\r\n        moveable.state.dragScroll = dragScroll;\r\n        var gestoName = e.isControl ? \"controlGesto\" : \"targetGesto\";\r\n        var targets = e.targets;\r\n        dragScroll.on(\"scroll\", function (_a) {\r\n            var container = _a.container, direction = _a.direction;\r\n            var params = fillParams(moveable, e, {\r\n                scrollContainer: container,\r\n                direction: direction,\r\n            });\r\n            var eventName = targets ? \"onScrollGroup\" : \"onScroll\";\r\n            if (targets) {\r\n                params.targets = targets;\r\n            }\r\n            triggerEvent(moveable, eventName, params);\r\n        }).on(\"move\", function (_a) {\r\n            var offsetX = _a.offsetX, offsetY = _a.offsetY, inputEvent = _a.inputEvent;\r\n            moveable[gestoName].scrollBy(offsetX, offsetY, inputEvent.inputEvent, false);\r\n        }).on(\"scrollDrag\", function (_a) {\r\n            var next = _a.next;\r\n            next(moveable[gestoName].getCurrentEvent());\r\n        });\r\n        dragScroll.dragStart(e, __assign({ container: scrollContainerElement }, scrollOptions));\r\n    },\r\n    checkScroll: function (moveable, e) {\r\n        var dragScroll = e.datas.dragScroll;\r\n        if (!dragScroll) {\r\n            return;\r\n        }\r\n        var _a = moveable.props, _b = _a.scrollContainer, scrollContainer = _b === void 0 ? moveable.getContainer() : _b, _c = _a.scrollThreshold, scrollThreshold = _c === void 0 ? 0 : _c, _d = _a.scrollThrottleTime, scrollThrottleTime = _d === void 0 ? 0 : _d, _e = _a.getScrollPosition, getScrollPosition = _e === void 0 ? getDefaultScrollPosition : _e, scrollOptions = _a.scrollOptions;\r\n        dragScroll.drag(e, __assign({ container: scrollContainer, threshold: scrollThreshold, throttleTime: scrollThrottleTime, getScrollPosition: function (ev) {\r\n                return getScrollPosition({ scrollContainer: ev.container, direction: ev.direction });\r\n            } }, scrollOptions));\r\n        return true;\r\n    },\r\n    drag: function (moveable, e) {\r\n        return this.checkScroll(moveable, e);\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        e.datas.dragScroll.dragEnd();\r\n        e.datas.dragScroll = null;\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        return this.dragStart(moveable, __assign(__assign({}, e), { isControl: true }));\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        return this.drag(moveable, e);\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        return this.dragEnd(moveable, e);\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        return this.dragStart(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    dragGroup: function (moveable, e) {\r\n        return this.drag(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        return this.dragEnd(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    dragGroupControlStart: function (moveable, e) {\r\n        return this.dragStart(moveable, __assign(__assign({}, e), { targets: moveable.props.targets, isControl: true }));\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        return this.drag(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    dragGroupControEnd: function (moveable, e) {\r\n        return this.dragEnd(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    unset: function (moveable) {\r\n        var _a;\r\n        var state = moveable.state;\r\n        (_a = state.dragScroll) === null || _a === void 0 ? void 0 : _a.dragEnd();\r\n        state.dragScroll = null;\r\n    },\r\n};\r\n/**\r\n * When the drag cursor leaves the scrollContainer, the `scroll` event occur to scroll.\r\n * @memberof Moveable.Scrollable\r\n * @event scroll\r\n * @param {Moveable.Scrollable.OnScroll} - Parameters for the `scroll` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\r\n *   scrollContainer.scrollLeft += direction[0] * 10;\r\n *   scrollContainer.scrollTop += direction[1] * 10;\r\n * });\r\n */\r\n/**\r\n * When the drag cursor leaves the scrollContainer, the `scrollGroup` event occur to scroll in group.\r\n * @memberof Moveable.Scrollable\r\n * @event scrollGroup\r\n * @param {Moveable.Scrollable.OnScrollGroup} - Parameters for the `scrollGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\r\n *   scrollContainer.scrollLeft += direction[0] * 10;\r\n *   scrollContainer.scrollTop += direction[1] * 10;\r\n * });\r\n */\n\nvar Default = {\r\n    name: \"\",\r\n    props: [\r\n        \"target\",\r\n        \"dragTargetSelf\",\r\n        \"dragTarget\",\r\n        \"dragContainer\",\r\n        \"container\",\r\n        \"warpSelf\",\r\n        \"rootContainer\",\r\n        \"useResizeObserver\",\r\n        \"useMutationObserver\",\r\n        \"zoom\",\r\n        \"dragFocusedInput\",\r\n        \"transformOrigin\",\r\n        \"ables\",\r\n        \"className\",\r\n        \"pinchThreshold\",\r\n        \"pinchOutside\",\r\n        \"triggerAblesSimultaneously\",\r\n        \"checkInput\",\r\n        \"cspNonce\",\r\n        \"translateZ\",\r\n        \"hideDefaultLines\",\r\n        \"props\",\r\n        \"flushSync\",\r\n        \"stopPropagation\",\r\n        \"preventClickEventOnDrag\",\r\n        \"preventClickDefault\",\r\n        \"viewContainer\",\r\n        \"persistData\",\r\n        \"useAccuratePosition\",\r\n        \"firstRenderState\",\r\n        \"linePadding\",\r\n        \"controlPadding\",\r\n        \"preventDefault\",\r\n        \"preventRightClick\",\r\n        \"preventWheelClick\",\r\n        \"requestStyles\",\r\n    ],\r\n    events: [\r\n        \"changeTargets\",\r\n    ],\r\n};\n\nvar Padding = makeAble(\"padding\", {\r\n    props: [\"padding\"],\r\n    render: function (moveable, React) {\r\n        var props = moveable.props;\r\n        if (props.dragArea) {\r\n            return [];\r\n        }\r\n        var _a = getPaddingBox(props.padding || {}), left = _a.left, top = _a.top, right = _a.right, bottom = _a.bottom;\r\n        var _b = moveable.getState(), renderPoses = _b.renderPoses, pos1 = _b.pos1, pos2 = _b.pos2, pos3 = _b.pos3, pos4 = _b.pos4;\r\n        var poses = [pos1, pos2, pos3, pos4];\r\n        var paddingDirections = [];\r\n        if (left > 0) {\r\n            paddingDirections.push([0, 2]);\r\n        }\r\n        if (top > 0) {\r\n            paddingDirections.push([0, 1]);\r\n        }\r\n        if (right > 0) {\r\n            paddingDirections.push([1, 3]);\r\n        }\r\n        if (bottom > 0) {\r\n            paddingDirections.push([2, 3]);\r\n        }\r\n        return paddingDirections.map(function (_a, i) {\r\n            var _b = __read(_a, 2), dir1 = _b[0], dir2 = _b[1];\r\n            var paddingPos1 = poses[dir1];\r\n            var paddingPos2 = poses[dir2];\r\n            var paddingPos3 = renderPoses[dir1];\r\n            var paddingPos4 = renderPoses[dir2];\r\n            var h = createWarpMatrix([0, 0], [100, 0], [0, 100], [100, 100], paddingPos1, paddingPos2, paddingPos3, paddingPos4);\r\n            if (!h.length) {\r\n                return undefined;\r\n            }\r\n            return (React.createElement(\"div\", { key: \"padding\".concat(i), className: prefix(\"padding\"), style: {\r\n                    transform: makeMatrixCSS(h, true),\r\n                } }));\r\n        });\r\n    },\r\n});\r\n/**\r\n * Add padding around the target to increase the drag area.\r\n * @name Moveable#padding\r\n * @default null\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  target: document.querySelector(\".target\"),\r\n *  padding: { left: 0, top: 0, right: 0, bottom: 0 },\r\n * });\r\n * moveable.padding = { left: 10, top: 10, right: 10, bottom: 10 },\r\n * moveable.updateRect();\r\n */\n\nvar RADIUS_DIRECTIONS = [\"nw\", \"ne\", \"se\", \"sw\"];\r\nfunction calculateRatio(values, size) {\r\n    var sumSize = values[0] + values[1];\r\n    var sumRatio = sumSize > size ? size / sumSize : 1;\r\n    values[0] *= sumRatio;\r\n    values[1] = size - values[1] * sumRatio;\r\n    return values;\r\n}\r\nvar HORIZONTAL_RADIUS_ORDER = [1, 2, 5, 6];\r\nvar VERTICAL_RADIUS_ORDER = [0, 3, 4, 7];\r\nvar HORIZONTAL_RADIUS_DIRECTIONS = [1, -1, -1, 1];\r\nvar VERTICAL_RADIUS_DIRECTIONS = [1, 1, -1, -1];\r\nfunction getRadiusStyles(nextPoses, isRelative, width, height, left, top, right, bottom) {\r\n    if (left === void 0) { left = 0; }\r\n    if (top === void 0) { top = 0; }\r\n    if (right === void 0) { right = width; }\r\n    if (bottom === void 0) { bottom = height; }\r\n    var clipStyles = [];\r\n    var isVertical = false;\r\n    var radiusPoses = nextPoses.filter(function (pos) { return !pos.virtual; });\r\n    var raws = radiusPoses.map(function (posInfo) {\r\n        var horizontal = posInfo.horizontal, vertical = posInfo.vertical, pos = posInfo.pos;\r\n        if (vertical && !isVertical) {\r\n            isVertical = true;\r\n            clipStyles.push(\"/\");\r\n        }\r\n        if (isVertical) {\r\n            var rawPos = Math.max(0, vertical === 1 ? pos[1] - top : bottom - pos[1]);\r\n            clipStyles.push(convertCSSSize(rawPos, height, isRelative));\r\n            return rawPos;\r\n        }\r\n        else {\r\n            var rawPos = Math.max(0, horizontal === 1 ? pos[0] - left : right - pos[0]);\r\n            clipStyles.push(convertCSSSize(rawPos, width, isRelative));\r\n            return rawPos;\r\n        }\r\n    });\r\n    return {\r\n        radiusPoses: radiusPoses,\r\n        styles: clipStyles,\r\n        raws: raws,\r\n    };\r\n}\r\nfunction getRadiusRange(controlPoses) {\r\n    // [start, length]\r\n    var horizontalRange = [0, 0];\r\n    var verticalRange = [0, 0];\r\n    var length = controlPoses.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        var clipPose = controlPoses[i];\r\n        if (!clipPose.sub) {\r\n            continue;\r\n        }\r\n        if (clipPose.horizontal) {\r\n            if (horizontalRange[1] === 0) {\r\n                horizontalRange[0] = i;\r\n            }\r\n            horizontalRange[1] = i - horizontalRange[0] + 1;\r\n            verticalRange[0] = i + 1;\r\n        }\r\n        if (clipPose.vertical) {\r\n            if (verticalRange[1] === 0) {\r\n                verticalRange[0] = i;\r\n            }\r\n            verticalRange[1] = i - verticalRange[0] + 1;\r\n        }\r\n    }\r\n    return {\r\n        horizontalRange: horizontalRange,\r\n        verticalRange: verticalRange,\r\n    };\r\n}\r\nfunction getRadiusValues(values, width, height, left, top, minCounts, full) {\r\n    var _a, _b, _c, _d;\r\n    if (minCounts === void 0) { minCounts = [0, 0]; }\r\n    if (full === void 0) { full = false; }\r\n    var splitIndex = values.indexOf(\"/\");\r\n    var splitLength = (splitIndex > -1 ? values.slice(0, splitIndex) : values).length;\r\n    var horizontalValues = values.slice(0, splitLength);\r\n    var verticalValues = values.slice(splitLength + 1);\r\n    var horizontalValuesLength = horizontalValues.length;\r\n    var verticalValuesLength = verticalValues.length;\r\n    var hasVerticalValues = verticalValuesLength > 0;\r\n    var _e = __read(horizontalValues, 4), _f = _e[0], nwValue = _f === void 0 ? \"0px\" : _f, _g = _e[1], neValue = _g === void 0 ? nwValue : _g, _h = _e[2], seValue = _h === void 0 ? nwValue : _h, _j = _e[3], swValue = _j === void 0 ? neValue : _j;\r\n    var _k = __read(verticalValues, 4), _l = _k[0], wnValue = _l === void 0 ? nwValue : _l, _m = _k[1], enValue = _m === void 0 ? hasVerticalValues ? wnValue : neValue : _m, _o = _k[2], esValue = _o === void 0 ? hasVerticalValues ? wnValue : seValue : _o, _p = _k[3], wsValue = _p === void 0 ? hasVerticalValues ? enValue : swValue : _p;\r\n    var horizontalRawPoses = [nwValue, neValue, seValue, swValue].map(function (pos) { return convertUnitSize(pos, width); });\r\n    var verticalRawPoses = [wnValue, enValue, esValue, wsValue].map(function (pos) { return convertUnitSize(pos, height); });\r\n    var horizontalPoses = horizontalRawPoses.slice();\r\n    var verticalPoses = verticalRawPoses.slice();\r\n    _a = __read(calculateRatio([horizontalPoses[0], horizontalPoses[1]], width), 2), horizontalPoses[0] = _a[0], horizontalPoses[1] = _a[1];\r\n    _b = __read(calculateRatio([horizontalPoses[3], horizontalPoses[2]], width), 2), horizontalPoses[3] = _b[0], horizontalPoses[2] = _b[1];\r\n    _c = __read(calculateRatio([verticalPoses[0], verticalPoses[3]], height), 2), verticalPoses[0] = _c[0], verticalPoses[3] = _c[1];\r\n    _d = __read(calculateRatio([verticalPoses[1], verticalPoses[2]], height), 2), verticalPoses[1] = _d[0], verticalPoses[2] = _d[1];\r\n    var nextHorizontalPoses = full\r\n        ? horizontalPoses\r\n        : horizontalPoses.slice(0, Math.max(minCounts[0], horizontalValuesLength));\r\n    var nextVerticalPoses = full\r\n        ? verticalPoses\r\n        : verticalPoses.slice(0, Math.max(minCounts[1], verticalValuesLength));\r\n    return __spreadArray(__spreadArray([], __read(nextHorizontalPoses.map(function (pos, i) {\r\n        var direction = RADIUS_DIRECTIONS[i];\r\n        return {\r\n            virtual: i >= horizontalValuesLength,\r\n            horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\r\n            vertical: 0,\r\n            pos: [left + pos, top + (VERTICAL_RADIUS_DIRECTIONS[i] === -1 ? height : 0)],\r\n            sub: true,\r\n            raw: horizontalRawPoses[i],\r\n            direction: direction,\r\n        };\r\n    })), false), __read(nextVerticalPoses.map(function (pos, i) {\r\n        var direction = RADIUS_DIRECTIONS[i];\r\n        return {\r\n            virtual: i >= verticalValuesLength,\r\n            horizontal: 0,\r\n            vertical: VERTICAL_RADIUS_DIRECTIONS[i],\r\n            pos: [left + (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1 ? width : 0), top + pos],\r\n            sub: true,\r\n            raw: verticalRawPoses[i],\r\n            direction: direction,\r\n        };\r\n    })), false);\r\n}\r\nfunction removeRadiusPos(controlPoses, poses, index, startIndex, length) {\r\n    if (length === void 0) { length = poses.length; }\r\n    var _a = getRadiusRange(controlPoses.slice(startIndex)), horizontalRange = _a.horizontalRange, verticalRange = _a.verticalRange;\r\n    var radiuslIndex = index - startIndex;\r\n    var deleteCount = 0;\r\n    if (radiuslIndex === 0) {\r\n        deleteCount = length;\r\n    }\r\n    else if (radiuslIndex > 0 && radiuslIndex < horizontalRange[1]) {\r\n        deleteCount = horizontalRange[1] - radiuslIndex;\r\n    }\r\n    else if (radiuslIndex >= verticalRange[0]) {\r\n        deleteCount = verticalRange[0] + verticalRange[1] - radiuslIndex;\r\n    }\r\n    else {\r\n        return;\r\n    }\r\n    controlPoses.splice(index, deleteCount);\r\n    poses.splice(index, deleteCount);\r\n}\r\nfunction addRadiusPos(controlPoses, poses, startIndex, horizontalIndex, verticalIndex, distX, distY, right, bottom, left, top) {\r\n    if (left === void 0) { left = 0; }\r\n    if (top === void 0) { top = 0; }\r\n    var _a = getRadiusRange(controlPoses.slice(startIndex)), horizontalRange = _a.horizontalRange, verticalRange = _a.verticalRange;\r\n    if (horizontalIndex > -1) {\r\n        var radiusX = HORIZONTAL_RADIUS_DIRECTIONS[horizontalIndex] === 1\r\n            ? distX - left\r\n            : right - distX;\r\n        for (var i = horizontalRange[1]; i <= horizontalIndex; ++i) {\r\n            var y = VERTICAL_RADIUS_DIRECTIONS[i] === 1 ? top : bottom;\r\n            var x = 0;\r\n            if (horizontalIndex === i) {\r\n                x = distX;\r\n            }\r\n            else if (i === 0) {\r\n                x = left + radiusX;\r\n            }\r\n            else if (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1) {\r\n                x = right - (poses[startIndex][0] - left);\r\n            }\r\n            controlPoses.splice(startIndex + i, 0, {\r\n                horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\r\n                vertical: 0,\r\n                pos: [x, y],\r\n            });\r\n            poses.splice(startIndex + i, 0, [x, y]);\r\n            if (i === 0) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    else if (verticalIndex > -1) {\r\n        var radiusY = VERTICAL_RADIUS_DIRECTIONS[verticalIndex] === 1\r\n            ? distY - top\r\n            : bottom - distY;\r\n        if (horizontalRange[1] === 0 && verticalRange[1] === 0) {\r\n            var pos = [\r\n                left + radiusY,\r\n                top,\r\n            ];\r\n            controlPoses.push({\r\n                horizontal: HORIZONTAL_RADIUS_DIRECTIONS[0],\r\n                vertical: 0,\r\n                pos: pos,\r\n            });\r\n            poses.push(pos);\r\n        }\r\n        var startVerticalIndex = verticalRange[0];\r\n        for (var i = verticalRange[1]; i <= verticalIndex; ++i) {\r\n            var x = HORIZONTAL_RADIUS_DIRECTIONS[i] === 1 ? left : right;\r\n            var y = 0;\r\n            if (verticalIndex === i) {\r\n                y = distY;\r\n            }\r\n            else if (i === 0) {\r\n                y = top + radiusY;\r\n            }\r\n            else if (VERTICAL_RADIUS_DIRECTIONS[i] === 1) {\r\n                y = poses[startIndex + startVerticalIndex][1];\r\n            }\r\n            else if (VERTICAL_RADIUS_DIRECTIONS[i] === -1) {\r\n                y = bottom - (poses[startIndex + startVerticalIndex][1] - top);\r\n            }\r\n            controlPoses.push({\r\n                horizontal: 0,\r\n                vertical: VERTICAL_RADIUS_DIRECTIONS[i],\r\n                pos: [x, y],\r\n            });\r\n            poses.push([x, y]);\r\n            if (i === 0) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction splitRadiusPoses(controlPoses, raws) {\r\n    if (raws === void 0) { raws = controlPoses.map(function (pos) { return pos.raw; }); }\r\n    var horizontals = controlPoses\r\n        .map(function (pos, i) { return pos.horizontal ? raws[i] : null; }).filter(function (pos) { return pos != null; });\r\n    var verticals = controlPoses\r\n        .map(function (pos, i) { return pos.vertical ? raws[i] : null; }).filter(function (pos) { return pos != null; });\r\n    return {\r\n        horizontals: horizontals,\r\n        verticals: verticals,\r\n    };\r\n}\n\nvar CLIP_DIRECTIONS = [\r\n    [0, -1, \"n\"],\r\n    [1, 0, \"e\"],\r\n];\r\nvar CLIP_RECT_DIRECTIONS = [\r\n    [-1, -1, \"nw\"],\r\n    [0, -1, \"n\"],\r\n    [1, -1, \"ne\"],\r\n    [1, 0, \"e\"],\r\n    [1, 1, \"se\"],\r\n    [0, 1, \"s\"],\r\n    [-1, 1, \"sw\"],\r\n    [-1, 0, \"w\"],\r\n];\r\n// 1 2 5 6 0 3 4 7\r\n// 0 1 2 3 4 5 6 7\r\nfunction getClipStyles(moveable, clipPath, poses) {\r\n    var clipRelative = moveable.props.clipRelative;\r\n    var _a = moveable.state, width = _a.width, height = _a.height;\r\n    var _b = clipPath, clipType = _b.type, clipPoses = _b.poses;\r\n    var isRect = clipType === \"rect\";\r\n    var isCircle = clipType === \"circle\";\r\n    if (clipType === \"polygon\") {\r\n        return poses.map(function (pos) { return \"\".concat(convertCSSSize(pos[0], width, clipRelative), \" \").concat(convertCSSSize(pos[1], height, clipRelative)); });\r\n    }\r\n    else if (isRect || clipType === \"inset\") {\r\n        var top_1 = poses[1][1];\r\n        var right = poses[3][0];\r\n        var left = poses[7][0];\r\n        var bottom = poses[5][1];\r\n        if (isRect) {\r\n            return [\r\n                top_1,\r\n                right,\r\n                bottom,\r\n                left,\r\n            ].map(function (pos) { return \"\".concat(pos, \"px\"); });\r\n        }\r\n        var clipStyles = [top_1, width - right, height - bottom, left]\r\n            .map(function (pos, i) { return convertCSSSize(pos, i % 2 ? width : height, clipRelative); });\r\n        if (poses.length > 8) {\r\n            var _c = __read(minus(poses[4], poses[0]), 2), subWidth = _c[0], subHeight = _c[1];\r\n            clipStyles.push.apply(clipStyles, __spreadArray([\"round\"], __read(getRadiusStyles(clipPoses.slice(8).map(function (info, i) {\r\n                return __assign(__assign({}, info), { pos: poses[i] });\r\n            }), clipRelative, subWidth, subHeight, left, top_1, right, bottom).styles), false));\r\n        }\r\n        return clipStyles;\r\n    }\r\n    else if (isCircle || clipType === \"ellipse\") {\r\n        var center = poses[0];\r\n        var ry = convertCSSSize(abs(poses[1][1] - center[1]), isCircle ? Math.sqrt((width * width + height * height) / 2) : height, clipRelative);\r\n        var clipStyles = isCircle ? [ry]\r\n            : [convertCSSSize(abs(poses[2][0] - center[0]), width, clipRelative), ry];\r\n        clipStyles.push(\"at\", convertCSSSize(center[0], width, clipRelative), convertCSSSize(center[1], height, clipRelative));\r\n        return clipStyles;\r\n    }\r\n}\r\nfunction getRectPoses(top, right, bottom, left) {\r\n    var xs = [left, (left + right) / 2, right];\r\n    var ys = [top, (top + bottom) / 2, bottom];\r\n    return CLIP_RECT_DIRECTIONS.map(function (_a) {\r\n        var _b = __read(_a, 3), dirx = _b[0], diry = _b[1], dir = _b[2];\r\n        var x = xs[dirx + 1];\r\n        var y = ys[diry + 1];\r\n        return {\r\n            vertical: abs(diry),\r\n            horizontal: abs(dirx),\r\n            direction: dir,\r\n            pos: [x, y],\r\n        };\r\n    });\r\n}\r\nfunction getControlSize(controlPoses) {\r\n    var xRange = [Infinity, -Infinity];\r\n    var yRange = [Infinity, -Infinity];\r\n    controlPoses.forEach(function (_a) {\r\n        var pos = _a.pos;\r\n        xRange[0] = Math.min(xRange[0], pos[0]);\r\n        xRange[1] = Math.max(xRange[1], pos[0]);\r\n        yRange[0] = Math.min(yRange[0], pos[1]);\r\n        yRange[1] = Math.max(yRange[1], pos[1]);\r\n    });\r\n    return [\r\n        abs(xRange[1] - xRange[0]),\r\n        abs(yRange[1] - yRange[0]),\r\n    ];\r\n}\r\nfunction getClipPath(target, width, height, defaultClip, customClip) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n    if (!target) {\r\n        return;\r\n    }\r\n    var clipText = customClip;\r\n    if (!clipText) {\r\n        var getStyle = getCachedStyle(target);\r\n        var clipPath = getStyle(\"clipPath\");\r\n        clipText = clipPath !== \"none\" ? clipPath : getStyle(\"clip\");\r\n    }\r\n    if (!clipText || clipText === \"none\" || clipText === \"auto\") {\r\n        clipText = defaultClip;\r\n        if (!clipText) {\r\n            return;\r\n        }\r\n    }\r\n    var _k = splitBracket(clipText), _l = _k.prefix, clipPrefix = _l === void 0 ? clipText : _l, _m = _k.value, value = _m === void 0 ? \"\" : _m;\r\n    var isCircle = clipPrefix === \"circle\";\r\n    var splitter = \" \";\r\n    if (clipPrefix === \"polygon\") {\r\n        var values = splitComma(value || \"0% 0%, 100% 0%, 100% 100%, 0% 100%\");\r\n        splitter = \",\";\r\n        var poses = values.map(function (pos) {\r\n            var _a = __read(pos.split(\" \"), 2), xPos = _a[0], yPos = _a[1];\r\n            return {\r\n                vertical: 1,\r\n                horizontal: 1,\r\n                pos: [\r\n                    convertUnitSize(xPos, width),\r\n                    convertUnitSize(yPos, height),\r\n                ],\r\n            };\r\n        });\r\n        var minMaxs = getMinMaxs(poses.map(function (pos) { return pos.pos; }));\r\n        return {\r\n            type: clipPrefix,\r\n            clipText: clipText,\r\n            poses: poses,\r\n            splitter: splitter,\r\n            left: minMaxs.minX,\r\n            right: minMaxs.maxX,\r\n            top: minMaxs.minY,\r\n            bottom: minMaxs.maxY,\r\n        };\r\n    }\r\n    else if (isCircle || clipPrefix === \"ellipse\") {\r\n        var xPos = \"\";\r\n        var yPos = \"\";\r\n        var radiusX_1 = 0;\r\n        var radiusY_1 = 0;\r\n        var values = splitSpace(value);\r\n        if (isCircle) {\r\n            var radius = \"\";\r\n            _a = __read(values, 4), _b = _a[0], radius = _b === void 0 ? \"50%\" : _b, _c = _a[2], xPos = _c === void 0 ? \"50%\" : _c, _d = _a[3], yPos = _d === void 0 ? \"50%\" : _d;\r\n            radiusX_1 = convertUnitSize(radius, Math.sqrt((width * width + height * height) / 2));\r\n            radiusY_1 = radiusX_1;\r\n        }\r\n        else {\r\n            var xRadius = \"\";\r\n            var yRadius = \"\";\r\n            _e = __read(values, 5), _f = _e[0], xRadius = _f === void 0 ? \"50%\" : _f, _g = _e[1], yRadius = _g === void 0 ? \"50%\" : _g, _h = _e[3], xPos = _h === void 0 ? \"50%\" : _h, _j = _e[4], yPos = _j === void 0 ? \"50%\" : _j;\r\n            radiusX_1 = convertUnitSize(xRadius, width);\r\n            radiusY_1 = convertUnitSize(yRadius, height);\r\n        }\r\n        var centerPos_1 = [\r\n            convertUnitSize(xPos, width),\r\n            convertUnitSize(yPos, height),\r\n        ];\r\n        var poses = __spreadArray([\r\n            {\r\n                vertical: 1,\r\n                horizontal: 1,\r\n                pos: centerPos_1,\r\n                direction: \"nesw\",\r\n            }\r\n        ], __read(CLIP_DIRECTIONS.slice(0, isCircle ? 1 : 2).map(function (dir) { return ({\r\n            vertical: abs(dir[1]),\r\n            horizontal: dir[0],\r\n            direction: dir[2],\r\n            sub: true,\r\n            pos: [\r\n                centerPos_1[0] + dir[0] * radiusX_1,\r\n                centerPos_1[1] + dir[1] * radiusY_1,\r\n            ],\r\n        }); })), false);\r\n        return {\r\n            type: clipPrefix,\r\n            clipText: clipText,\r\n            radiusX: radiusX_1,\r\n            radiusY: radiusY_1,\r\n            left: centerPos_1[0] - radiusX_1,\r\n            top: centerPos_1[1] - radiusY_1,\r\n            right: centerPos_1[0] + radiusX_1,\r\n            bottom: centerPos_1[1] + radiusY_1,\r\n            poses: poses,\r\n            splitter: splitter,\r\n        };\r\n    }\r\n    else if (clipPrefix === \"inset\") {\r\n        var values = splitSpace(value || \"0 0 0 0\");\r\n        var roundIndex = values.indexOf(\"round\");\r\n        var rectLength = (roundIndex > -1 ? values.slice(0, roundIndex) : values).length;\r\n        var radiusValues = values.slice(rectLength + 1);\r\n        var _o = __read(values.slice(0, rectLength), 4), topValue = _o[0], _p = _o[1], rightValue = _p === void 0 ? topValue : _p, _q = _o[2], bottomValue = _q === void 0 ? topValue : _q, _r = _o[3], leftValue = _r === void 0 ? rightValue : _r;\r\n        var _s = __read([topValue, bottomValue].map(function (pos) { return convertUnitSize(pos, height); }), 2), top_2 = _s[0], bottom = _s[1];\r\n        var _t = __read([leftValue, rightValue].map(function (pos) { return convertUnitSize(pos, width); }), 2), left = _t[0], right = _t[1];\r\n        var nextRight = width - right;\r\n        var nextBottom = height - bottom;\r\n        var radiusPoses = getRadiusValues(radiusValues, nextRight - left, nextBottom - top_2, left, top_2);\r\n        var poses = __spreadArray(__spreadArray([], __read(getRectPoses(top_2, nextRight, nextBottom, left)), false), __read(radiusPoses), false);\r\n        return {\r\n            type: \"inset\",\r\n            clipText: clipText,\r\n            poses: poses,\r\n            top: top_2,\r\n            left: left,\r\n            right: nextRight,\r\n            bottom: nextBottom,\r\n            radius: radiusValues,\r\n            splitter: splitter,\r\n        };\r\n    }\r\n    else if (clipPrefix === \"rect\") {\r\n        // top right bottom left\r\n        var values = splitComma(value || \"0px, \".concat(width, \"px, \").concat(height, \"px, 0px\"));\r\n        splitter = \",\";\r\n        var _u = __read(values.map(function (pos) {\r\n            var posValue = splitUnit(pos).value;\r\n            return posValue;\r\n        }), 4), top_3 = _u[0], right = _u[1], bottom = _u[2], left = _u[3];\r\n        var poses = getRectPoses(top_3, right, bottom, left);\r\n        return {\r\n            type: \"rect\",\r\n            clipText: clipText,\r\n            poses: poses,\r\n            top: top_3,\r\n            right: right,\r\n            bottom: bottom,\r\n            left: left,\r\n            values: values,\r\n            splitter: splitter,\r\n        };\r\n    }\r\n    return;\r\n}\n\nfunction moveControlPos(controlPoses, index, dist, isRect, keepRatio) {\r\n    var _a = controlPoses[index], direction = _a.direction, sub = _a.sub;\r\n    var dists = controlPoses.map(function () { return [0, 0]; });\r\n    var directions = direction ? direction.split(\"\") : [];\r\n    if (isRect && index < 8) {\r\n        var verticalDirections = directions.filter(function (dir) { return dir === \"w\" || dir === \"e\"; });\r\n        var horizontalDirections = directions.filter(function (dir) { return dir === \"n\" || dir === \"s\"; });\r\n        var verticalDirection_1 = verticalDirections[0];\r\n        var horizontalDirection_1 = horizontalDirections[0];\r\n        dists[index] = dist;\r\n        var _b = __read(getControlSize(controlPoses), 2), width = _b[0], height = _b[1];\r\n        var ratio = width && height ? width / height : 0;\r\n        if (ratio && keepRatio) {\r\n            // 0 1 2\r\n            // 7   3\r\n            // 6 5 4\r\n            var fixedIndex = (index + 4) % 8;\r\n            var fixedPosition = controlPoses[fixedIndex].pos;\r\n            var sizeDirection = [0, 0];\r\n            if (direction.indexOf(\"w\") > -1) {\r\n                sizeDirection[0] = -1;\r\n            }\r\n            else if (direction.indexOf(\"e\") > -1) {\r\n                sizeDirection[0] = 1;\r\n            }\r\n            if (direction.indexOf(\"n\") > -1) {\r\n                sizeDirection[1] = -1;\r\n            }\r\n            else if (direction.indexOf(\"s\") > -1) {\r\n                sizeDirection[1] = 1;\r\n            }\r\n            var nextDist = getSizeDistByDist([width, height], dist, ratio, sizeDirection, true);\r\n            var nextWidth = width + nextDist[0];\r\n            var nextHeight = height + nextDist[1];\r\n            var top_1 = fixedPosition[1];\r\n            var bottom = fixedPosition[1];\r\n            var left = fixedPosition[0];\r\n            var right = fixedPosition[0];\r\n            if (sizeDirection[0] === -1) {\r\n                left = right - nextWidth;\r\n            }\r\n            else if (sizeDirection[0] === 1) {\r\n                right = left + nextWidth;\r\n            }\r\n            else {\r\n                left = left - nextWidth / 2;\r\n                right = right + nextWidth / 2;\r\n            }\r\n            if (sizeDirection[1] === -1) {\r\n                top_1 = bottom - nextHeight;\r\n            }\r\n            else if (sizeDirection[1] === 1) {\r\n                bottom = top_1 + nextHeight;\r\n            }\r\n            else {\r\n                top_1 = bottom - nextHeight / 2;\r\n                bottom = top_1 + nextHeight;\r\n            }\r\n            var nextControlPoses_1 = getRectPoses(top_1, right, bottom, left);\r\n            controlPoses.forEach(function (controlPose, i) {\r\n                dists[i][0] = nextControlPoses_1[i].pos[0] - controlPose.pos[0];\r\n                dists[i][1] = nextControlPoses_1[i].pos[1] - controlPose.pos[1];\r\n            });\r\n        }\r\n        else {\r\n            controlPoses.forEach(function (controlPose, i) {\r\n                var controlDir = controlPose.direction;\r\n                if (!controlDir) {\r\n                    return;\r\n                }\r\n                if (controlDir.indexOf(verticalDirection_1) > -1) {\r\n                    dists[i][0] = dist[0];\r\n                }\r\n                if (controlDir.indexOf(horizontalDirection_1) > -1) {\r\n                    dists[i][1] = dist[1];\r\n                }\r\n            });\r\n            if (verticalDirection_1) {\r\n                dists[1][0] = dist[0] / 2;\r\n                dists[5][0] = dist[0] / 2;\r\n            }\r\n            if (horizontalDirection_1) {\r\n                dists[3][1] = dist[1] / 2;\r\n                dists[7][1] = dist[1] / 2;\r\n            }\r\n        }\r\n    }\r\n    else if (direction && !sub) {\r\n        directions.forEach(function (dir) {\r\n            var isVertical = dir === \"n\" || dir === \"s\";\r\n            controlPoses.forEach(function (controlPose, i) {\r\n                var dirDir = controlPose.direction, dirHorizontal = controlPose.horizontal, dirVertical = controlPose.vertical;\r\n                if (!dirDir || dirDir.indexOf(dir) === -1) {\r\n                    return;\r\n                }\r\n                dists[i] = [\r\n                    isVertical || !dirHorizontal ? 0 : dist[0],\r\n                    !isVertical || !dirVertical ? 0 : dist[1],\r\n                ];\r\n            });\r\n        });\r\n    }\r\n    else {\r\n        dists[index] = dist;\r\n    }\r\n    return dists;\r\n}\r\nfunction addClipPath(moveable, e) {\r\n    var _a = __read(calculatePointerDist(moveable, e), 2), distX = _a[0], distY = _a[1];\r\n    var _b = e.datas, clipPath = _b.clipPath, clipIndex = _b.clipIndex;\r\n    var _c = clipPath, clipType = _c.type, clipPoses = _c.poses, splitter = _c.splitter;\r\n    var poses = clipPoses.map(function (pos) { return pos.pos; });\r\n    if (clipType === \"polygon\") {\r\n        poses.splice(clipIndex, 0, [distX, distY]);\r\n    }\r\n    else if (clipType === \"inset\") {\r\n        var horizontalIndex = HORIZONTAL_RADIUS_ORDER.indexOf(clipIndex);\r\n        var verticalIndex = VERTICAL_RADIUS_ORDER.indexOf(clipIndex);\r\n        var length_1 = clipPoses.length;\r\n        addRadiusPos(clipPoses, poses, 8, horizontalIndex, verticalIndex, distX, distY, poses[4][0], poses[4][1], poses[0][0], poses[0][1]);\r\n        if (length_1 === clipPoses.length) {\r\n            return;\r\n        }\r\n    }\r\n    else {\r\n        return;\r\n    }\r\n    var clipStyles = getClipStyles(moveable, clipPath, poses);\r\n    var clipStyle = \"\".concat(clipType, \"(\").concat(clipStyles.join(splitter), \")\");\r\n    triggerEvent(moveable, \"onClip\", fillParams(moveable, e, __assign({ clipEventType: \"added\", clipType: clipType, poses: poses, clipStyles: clipStyles, clipStyle: clipStyle, distX: 0, distY: 0 }, fillCSSObject({\r\n        clipPath: clipStyle,\r\n    }, e))));\r\n}\r\nfunction removeClipPath(moveable, e) {\r\n    var _a = e.datas, clipPath = _a.clipPath, clipIndex = _a.clipIndex;\r\n    var _b = clipPath, clipType = _b.type, clipPoses = _b.poses, splitter = _b.splitter;\r\n    var poses = clipPoses.map(function (pos) { return pos.pos; });\r\n    var length = poses.length;\r\n    if (clipType === \"polygon\") {\r\n        clipPoses.splice(clipIndex, 1);\r\n        poses.splice(clipIndex, 1);\r\n    }\r\n    else if (clipType === \"inset\") {\r\n        if (clipIndex < 8) {\r\n            return;\r\n        }\r\n        removeRadiusPos(clipPoses, poses, clipIndex, 8, length);\r\n        if (length === clipPoses.length) {\r\n            return;\r\n        }\r\n    }\r\n    else {\r\n        return;\r\n    }\r\n    var clipStyles = getClipStyles(moveable, clipPath, poses);\r\n    var clipStyle = \"\".concat(clipType, \"(\").concat(clipStyles.join(splitter), \")\");\r\n    triggerEvent(moveable, \"onClip\", fillParams(moveable, e, __assign({ clipEventType: \"removed\", clipType: clipType, poses: poses, clipStyles: clipStyles, clipStyle: clipStyle, distX: 0, distY: 0 }, fillCSSObject({\r\n        clipPath: clipStyle,\r\n    }, e))));\r\n}\r\n/**\r\n * @namespace Moveable.Clippable\r\n * @description Whether to clip the target.\r\n */\r\nvar Clippable = {\r\n    name: \"clippable\",\r\n    props: [\r\n        \"clippable\",\r\n        \"defaultClipPath\",\r\n        \"customClipPath\",\r\n        \"keepRatio\",\r\n        \"clipRelative\",\r\n        \"clipArea\",\r\n        \"dragWithClip\",\r\n        \"clipTargetBounds\",\r\n        \"clipVerticalGuidelines\",\r\n        \"clipHorizontalGuidelines\",\r\n        \"clipSnapThreshold\",\r\n    ],\r\n    events: [\r\n        \"clipStart\",\r\n        \"clip\",\r\n        \"clipEnd\",\r\n    ],\r\n    css: [\r\n        \".control.clip-control {\\nbackground: #6d6;\\ncursor: pointer;\\n}\\n.control.clip-control.clip-radius {\\nbackground: #d66;\\n}\\n.line.clip-line {\\nbackground: #6e6;\\ncursor: move;\\nz-index: 1;\\n}\\n.clip-area {\\nposition: absolute;\\ntop: 0;\\nleft: 0;\\n}\\n.clip-ellipse {\\nposition: absolute;\\ncursor: move;\\nborder: 1px solid #6d6;\\nborder: var(--zoompx) solid #6d6;\\nborder-radius: 50%;\\ntransform-origin: 0px 0px;\\n}\",\r\n        \":host {\\n--bounds-color: #d66;\\n}\",\r\n        \".guideline {\\npointer-events: none;\\nz-index: 2;\\n}\",\r\n        \".line.guideline.bounds {\\nbackground: #d66;\\nbackground: var(--bounds-color);\\n}\",\r\n    ],\r\n    render: function (moveable, React) {\r\n        var _a = moveable.props, customClipPath = _a.customClipPath, defaultClipPath = _a.defaultClipPath, clipArea = _a.clipArea, zoom = _a.zoom, groupable = _a.groupable;\r\n        var _b = moveable.getState(), target = _b.target, width = _b.width, height = _b.height, allMatrix = _b.allMatrix, is3d = _b.is3d, left = _b.left, top = _b.top, pos1 = _b.pos1, pos2 = _b.pos2, pos3 = _b.pos3, pos4 = _b.pos4, clipPathState = _b.clipPathState, snapBoundInfos = _b.snapBoundInfos, rotationRad = _b.rotation;\r\n        if (!target || groupable) {\r\n            return [];\r\n        }\r\n        var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", clipPathState || customClipPath);\r\n        if (!clipPath) {\r\n            return [];\r\n        }\r\n        var n = is3d ? 4 : 3;\r\n        var type = clipPath.type;\r\n        var clipPoses = clipPath.poses;\r\n        var poses = clipPoses.map(function (pos) {\r\n            // return [x, y];\r\n            var calculatedPos = calculatePosition(allMatrix, pos.pos, n);\r\n            return [\r\n                calculatedPos[0] - left,\r\n                calculatedPos[1] - top,\r\n            ];\r\n        });\r\n        var controls = [];\r\n        var lines = [];\r\n        var isRect = type === \"rect\";\r\n        var isInset = type === \"inset\";\r\n        var isPolygon = type === \"polygon\";\r\n        if (isRect || isInset || isPolygon) {\r\n            var linePoses_1 = isInset ? poses.slice(0, 8) : poses;\r\n            lines = linePoses_1.map(function (to, i) {\r\n                var from = i === 0 ? linePoses_1[linePoses_1.length - 1] : linePoses_1[i - 1];\r\n                var rad = getRad(from, to);\r\n                var dist = getDiagonalSize(from, to);\r\n                return React.createElement(\"div\", { key: \"clipLine\".concat(i), className: prefix(\"line\", \"clip-line\", \"snap-control\"), \"data-clip-index\": i, style: {\r\n                        width: \"\".concat(dist, \"px\"),\r\n                        transform: \"translate(\".concat(from[0], \"px, \").concat(from[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\"),\r\n                    } });\r\n            });\r\n        }\r\n        controls = poses.map(function (pos, i) {\r\n            return React.createElement(\"div\", { key: \"clipControl\".concat(i), className: prefix(\"control\", \"clip-control\", \"snap-control\"), \"data-clip-index\": i, style: {\r\n                    transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rotationRad, \"rad) scale(\").concat(zoom, \")\"),\r\n                } });\r\n        });\r\n        if (isInset) {\r\n            controls.push.apply(controls, __spreadArray([], __read(poses.slice(8).map(function (pos, i) {\r\n                return React.createElement(\"div\", { key: \"clipRadiusControl\".concat(i), className: prefix(\"control\", \"clip-control\", \"clip-radius\", \"snap-control\"), \"data-clip-index\": 8 + i, style: {\r\n                        transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rotationRad, \"rad) scale(\").concat(zoom, \")\"),\r\n                    } });\r\n            })), false));\r\n        }\r\n        if (type === \"circle\" || type === \"ellipse\") {\r\n            var clipLeft = clipPath.left, clipTop = clipPath.top, radiusX = clipPath.radiusX, radiusY = clipPath.radiusY;\r\n            var _c = __read(minus(calculatePosition(allMatrix, [clipLeft, clipTop], n), calculatePosition(allMatrix, [0, 0], n)), 2), distLeft = _c[0], distTop = _c[1];\r\n            var ellipseClipPath = \"none\";\r\n            if (!clipArea) {\r\n                var piece = Math.max(10, radiusX / 5, radiusY / 5);\r\n                var areaPoses = [];\r\n                for (var i = 0; i <= piece; ++i) {\r\n                    var rad = Math.PI * 2 / piece * i;\r\n                    areaPoses.push([\r\n                        radiusX + (radiusX - zoom) * Math.cos(rad),\r\n                        radiusY + (radiusY - zoom) * Math.sin(rad),\r\n                    ]);\r\n                }\r\n                areaPoses.push([radiusX, -2]);\r\n                areaPoses.push([-2, -2]);\r\n                areaPoses.push([-2, radiusY * 2 + 2]);\r\n                areaPoses.push([radiusX * 2 + 2, radiusY * 2 + 2]);\r\n                areaPoses.push([radiusX * 2 + 2, -2]);\r\n                areaPoses.push([radiusX, -2]);\r\n                ellipseClipPath = \"polygon(\".concat(areaPoses.map(function (pos) { return \"\".concat(pos[0], \"px \").concat(pos[1], \"px\"); }).join(\", \"), \")\");\r\n            }\r\n            controls.push(React.createElement(\"div\", { key: \"clipEllipse\", className: prefix(\"clip-ellipse\", \"snap-control\"), style: {\r\n                    width: \"\".concat(radiusX * 2, \"px\"),\r\n                    height: \"\".concat(radiusY * 2, \"px\"),\r\n                    clipPath: ellipseClipPath,\r\n                    transform: \"translate(\".concat(-left + distLeft, \"px, \").concat(-top + distTop, \"px) \").concat(makeMatrixCSS(allMatrix)),\r\n                } }));\r\n        }\r\n        if (clipArea) {\r\n            var _d = getRect(__spreadArray([pos1, pos2, pos3, pos4], __read(poses), false)), allWidth = _d.width, allHeight = _d.height, allLeft_1 = _d.left, allTop_1 = _d.top;\r\n            if (isPolygon || isRect || isInset) {\r\n                var areaPoses = isInset ? poses.slice(0, 8) : poses;\r\n                controls.push(React.createElement(\"div\", { key: \"clipArea\", className: prefix(\"clip-area\", \"snap-control\"), style: {\r\n                        width: \"\".concat(allWidth, \"px\"),\r\n                        height: \"\".concat(allHeight, \"px\"),\r\n                        transform: \"translate(\".concat(allLeft_1, \"px, \").concat(allTop_1, \"px)\"),\r\n                        clipPath: \"polygon(\".concat(areaPoses.map(function (pos) { return \"\".concat(pos[0] - allLeft_1, \"px \").concat(pos[1] - allTop_1, \"px\"); }).join(\", \"), \")\"),\r\n                    } }));\r\n            }\r\n        }\r\n        if (snapBoundInfos) {\r\n            [\"vertical\", \"horizontal\"].forEach(function (directionType) {\r\n                var info = snapBoundInfos[directionType];\r\n                var isHorizontal = directionType === \"horizontal\";\r\n                if (info.isSnap) {\r\n                    lines.push.apply(lines, __spreadArray([], __read(info.snap.posInfos.map(function (_a, i) {\r\n                        var pos = _a.pos;\r\n                        var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\r\n                        var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\r\n                        return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\".concat(directionType, \"snap\").concat(i), \"guideline\");\r\n                    })), false));\r\n                }\r\n                if (info.isBound) {\r\n                    lines.push.apply(lines, __spreadArray([], __read(info.bounds.map(function (_a, i) {\r\n                        var pos = _a.pos;\r\n                        var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\r\n                        var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\r\n                        return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\".concat(directionType, \"bounds\").concat(i), \"guideline\", \"bounds\", \"bold\");\r\n                    })), false));\r\n                }\r\n            });\r\n        }\r\n        return __spreadArray(__spreadArray([], __read(controls), false), __read(lines), false);\r\n    },\r\n    dragControlCondition: function (moveable, e) {\r\n        return e.inputEvent && (e.inputEvent.target.getAttribute(\"class\") || \"\").indexOf(\"clip\") > -1;\r\n    },\r\n    dragStart: function (moveable, e) {\r\n        var props = moveable.props;\r\n        var _a = props.dragWithClip, dragWithClip = _a === void 0 ? true : _a;\r\n        if (dragWithClip) {\r\n            return false;\r\n        }\r\n        return this.dragControlStart(moveable, e);\r\n    },\r\n    drag: function (moveable, e) {\r\n        return this.dragControl(moveable, __assign(__assign({}, e), { isDragTarget: true }));\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        return this.dragControlEnd(moveable, e);\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        var state = moveable.state;\r\n        var _a = moveable.props, defaultClipPath = _a.defaultClipPath, customClipPath = _a.customClipPath;\r\n        var target = state.target, width = state.width, height = state.height;\r\n        var inputTarget = e.inputEvent ? e.inputEvent.target : null;\r\n        var className = (inputTarget && inputTarget.getAttribute(\"class\")) || \"\";\r\n        var datas = e.datas;\r\n        var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", customClipPath);\r\n        if (!clipPath) {\r\n            return false;\r\n        }\r\n        var clipText = clipPath.clipText, type = clipPath.type, poses = clipPath.poses;\r\n        var result = triggerEvent(moveable, \"onClipStart\", fillParams(moveable, e, {\r\n            clipType: type,\r\n            clipStyle: clipText,\r\n            poses: poses.map(function (pos) { return pos.pos; }),\r\n        }));\r\n        if (result === false) {\r\n            datas.isClipStart = false;\r\n            return false;\r\n        }\r\n        datas.isControl = className && className.indexOf(\"clip-control\") > -1;\r\n        datas.isLine = className.indexOf(\"clip-line\") > -1;\r\n        datas.isArea = className.indexOf(\"clip-area\") > -1 || className.indexOf(\"clip-ellipse\") > -1;\r\n        datas.clipIndex = inputTarget ? parseInt(inputTarget.getAttribute(\"data-clip-index\"), 10) : -1;\r\n        datas.clipPath = clipPath;\r\n        datas.isClipStart = true;\r\n        state.clipPathState = clipText;\r\n        setDragStart(moveable, e);\r\n        return true;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        var _a, _b, _c;\r\n        var datas = e.datas, originalDatas = e.originalDatas, isDragTarget = e.isDragTarget;\r\n        if (!datas.isClipStart) {\r\n            return false;\r\n        }\r\n        var _d = datas, isControl = _d.isControl, isLine = _d.isLine, isArea = _d.isArea, clipIndex = _d.clipIndex, clipPath = _d.clipPath;\r\n        if (!clipPath) {\r\n            return false;\r\n        }\r\n        var props = getProps(moveable.props, \"clippable\");\r\n        var keepRatio = props.keepRatio;\r\n        var distX = 0;\r\n        var distY = 0;\r\n        var originalDraggable = originalDatas.draggable;\r\n        var originalDist = getDragDist(e);\r\n        if (isDragTarget && originalDraggable) {\r\n            _a = __read(originalDraggable.prevBeforeDist, 2), distX = _a[0], distY = _a[1];\r\n        }\r\n        else {\r\n            _b = __read(originalDist, 2), distX = _b[0], distY = _b[1];\r\n        }\r\n        var firstDist = [distX, distY];\r\n        var state = moveable.state;\r\n        var width = state.width, height = state.height;\r\n        var isDragWithTarget = !isArea && !isControl && !isLine;\r\n        var clipType = clipPath.type, clipPoses = clipPath.poses, splitter = clipPath.splitter;\r\n        var poses = clipPoses.map(function (pos) { return pos.pos; });\r\n        if (isDragWithTarget) {\r\n            distX = -distX;\r\n            distY = -distY;\r\n        }\r\n        var isAll = !isControl || clipPoses[clipIndex].direction === \"nesw\";\r\n        var isRect = clipType === \"inset\" || clipType === \"rect\";\r\n        var dists = clipPoses.map(function () { return [0, 0]; });\r\n        if (isControl && !isAll) {\r\n            var _e = clipPoses[clipIndex], horizontal = _e.horizontal, vertical = _e.vertical;\r\n            var dist = [\r\n                distX * abs(horizontal),\r\n                distY * abs(vertical),\r\n            ];\r\n            dists = moveControlPos(clipPoses, clipIndex, dist, isRect, keepRatio);\r\n        }\r\n        else if (isAll) {\r\n            dists = poses.map(function () { return [distX, distY]; });\r\n        }\r\n        var nextPoses = poses.map(function (pos, i) { return plus(pos, dists[i]); });\r\n        var guidePoses = __spreadArray([], __read(nextPoses), false);\r\n        state.snapBoundInfos = null;\r\n        var isCircle = clipPath.type === \"circle\";\r\n        var isEllipse = clipPath.type === \"ellipse\";\r\n        if (isCircle || isEllipse) {\r\n            var guideRect = getRect(nextPoses);\r\n            var ry = abs(guideRect.bottom - guideRect.top);\r\n            var rx = abs(isEllipse ? guideRect.right - guideRect.left : ry);\r\n            var bottom = nextPoses[0][1] + ry;\r\n            var left = nextPoses[0][0] - rx;\r\n            var right = nextPoses[0][0] + rx;\r\n            // right\r\n            if (isCircle) {\r\n                guidePoses.push([right, guideRect.bottom]);\r\n                dists.push([1, 0]);\r\n            }\r\n            // bottom\r\n            guidePoses.push([guideRect.left, bottom]);\r\n            dists.push([0, 1]);\r\n            // left\r\n            guidePoses.push([left, guideRect.bottom]);\r\n            dists.push([1, 0]);\r\n        }\r\n        var guidelines = getDefaultGuidelines((props.clipHorizontalGuidelines || []).map(function (v) { return convertUnitSize(\"\".concat(v), height); }), (props.clipVerticalGuidelines || []).map(function (v) { return convertUnitSize(\"\".concat(v), width); }), width, height);\r\n        var guideXPoses = [];\r\n        var guideYPoses = [];\r\n        if (isCircle || isEllipse) {\r\n            guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\r\n            guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\r\n        }\r\n        else if (isRect) {\r\n            var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\r\n            var rectDists_1 = [dists[0], dists[2], dists[4], dists[6]];\r\n            guideXPoses = rectPoses.filter(function (_, i) { return rectDists_1[i][0]; }).map(function (pos) { return pos[0]; });\r\n            guideYPoses = rectPoses.filter(function (_, i) { return rectDists_1[i][1]; }).map(function (pos) { return pos[1]; });\r\n        }\r\n        else {\r\n            guideXPoses = guidePoses.filter(function (_, i) { return dists[i][0]; }).map(function (pos) { return pos[0]; });\r\n            guideYPoses = guidePoses.filter(function (_, i) { return dists[i][1]; }).map(function (pos) { return pos[1]; });\r\n        }\r\n        var boundDelta = [0, 0];\r\n        var _f = checkSnapBounds(guidelines, props.clipTargetBounds && { left: 0, top: 0, right: width, bottom: height }, guideXPoses, guideYPoses, 5, 5), horizontalSnapInfo = _f.horizontal, verticalSnapInfo = _f.vertical;\r\n        var snapOffsetY = horizontalSnapInfo.offset;\r\n        var snapOffsetX = verticalSnapInfo.offset;\r\n        if (horizontalSnapInfo.isBound) {\r\n            boundDelta[1] += snapOffsetY;\r\n        }\r\n        if (verticalSnapInfo.isBound) {\r\n            boundDelta[0] += snapOffsetX;\r\n        }\r\n        if ((isEllipse || isCircle) && dists[0][0] === 0 && dists[0][1] === 0) {\r\n            var guideRect = getRect(nextPoses);\r\n            var cy = guideRect.bottom - guideRect.top;\r\n            var cx = isEllipse ? guideRect.right - guideRect.left : cy;\r\n            var distSnapX = verticalSnapInfo.isBound\r\n                ? abs(snapOffsetX)\r\n                : (verticalSnapInfo.snapIndex === 0 ? -snapOffsetX : snapOffsetX);\r\n            var distSnapY = horizontalSnapInfo.isBound\r\n                ? abs(snapOffsetY)\r\n                : (horizontalSnapInfo.snapIndex === 0 ? -snapOffsetY : snapOffsetY);\r\n            cx -= distSnapX;\r\n            cy -= distSnapY;\r\n            if (isCircle) {\r\n                cy = checkSnapBoundPriority(verticalSnapInfo, horizontalSnapInfo) > 0 ? cy : cx;\r\n                cx = cy;\r\n            }\r\n            var center = guidePoses[0];\r\n            guidePoses[1][1] = center[1] - cy;\r\n            guidePoses[2][0] = center[0] + cx;\r\n            guidePoses[3][1] = center[1] + cy;\r\n            guidePoses[4][0] = center[0] - cx;\r\n        }\r\n        else if (isRect && keepRatio && isControl) {\r\n            var _g = __read(getControlSize(clipPoses), 2), width_1 = _g[0], height_1 = _g[1];\r\n            var ratio = width_1 && height_1 ? width_1 / height_1 : 0;\r\n            var clipPose = clipPoses[clipIndex];\r\n            var direction = clipPose.direction || \"\";\r\n            var top_2 = guidePoses[1][1];\r\n            var bottom = guidePoses[5][1];\r\n            var left = guidePoses[7][0];\r\n            var right = guidePoses[3][0];\r\n            if (abs(snapOffsetY) <= abs(snapOffsetX)) {\r\n                snapOffsetY = sign(snapOffsetY) * abs(snapOffsetX) / ratio;\r\n            }\r\n            else {\r\n                snapOffsetX = sign(snapOffsetX) * abs(snapOffsetY) * ratio;\r\n            }\r\n            if (direction.indexOf(\"w\") > -1) {\r\n                left -= snapOffsetX;\r\n            }\r\n            else if (direction.indexOf(\"e\") > -1) {\r\n                right -= snapOffsetX;\r\n            }\r\n            else {\r\n                left += snapOffsetX / 2;\r\n                right -= snapOffsetX / 2;\r\n            }\r\n            if (direction.indexOf(\"n\") > -1) {\r\n                top_2 -= snapOffsetY;\r\n            }\r\n            else if (direction.indexOf(\"s\") > -1) {\r\n                bottom -= snapOffsetY;\r\n            }\r\n            else {\r\n                top_2 += snapOffsetY / 2;\r\n                bottom -= snapOffsetY / 2;\r\n            }\r\n            var nextControlPoses_2 = getRectPoses(top_2, right, bottom, left);\r\n            guidePoses.forEach(function (pos, i) {\r\n                var _a;\r\n                _a = __read(nextControlPoses_2[i].pos, 2), pos[0] = _a[0], pos[1] = _a[1];\r\n            });\r\n        }\r\n        else {\r\n            guidePoses.forEach(function (pos, j) {\r\n                var dist = dists[j];\r\n                if (dist[0]) {\r\n                    pos[0] -= snapOffsetX;\r\n                }\r\n                if (dist[1]) {\r\n                    pos[1] -= snapOffsetY;\r\n                }\r\n            });\r\n        }\r\n        var nextClipStyles = getClipStyles(moveable, clipPath, nextPoses);\r\n        var clipStyle = \"\".concat(clipType, \"(\").concat(nextClipStyles.join(splitter), \")\");\r\n        state.clipPathState = clipStyle;\r\n        if (isCircle || isEllipse) {\r\n            guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\r\n            guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\r\n        }\r\n        else if (isRect) {\r\n            var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\r\n            guideXPoses = rectPoses.map(function (pos) { return pos[0]; });\r\n            guideYPoses = rectPoses.map(function (pos) { return pos[1]; });\r\n        }\r\n        else {\r\n            guideXPoses = guidePoses.map(function (pos) { return pos[0]; });\r\n            guideYPoses = guidePoses.map(function (pos) { return pos[1]; });\r\n        }\r\n        state.snapBoundInfos = checkSnapBounds(guidelines, props.clipTargetBounds && { left: 0, top: 0, right: width, bottom: height }, guideXPoses, guideYPoses, 1, 1);\r\n        if (originalDraggable) {\r\n            var is3d = state.is3d, allMatrix = state.allMatrix;\r\n            var n = is3d ? 4 : 3;\r\n            var dragDist = boundDelta;\r\n            if (isDragTarget) {\r\n                dragDist = [\r\n                    firstDist[0] + boundDelta[0] - originalDist[0],\r\n                    firstDist[1] + boundDelta[1] - originalDist[1],\r\n                ];\r\n            }\r\n            originalDraggable.deltaOffset = multiply(allMatrix, [dragDist[0], dragDist[1], 0, 0], n);\r\n        }\r\n        triggerEvent(moveable, \"onClip\", fillParams(moveable, e, __assign({ clipEventType: \"changed\", clipType: clipType, poses: nextPoses, clipStyle: clipStyle, clipStyles: nextClipStyles, distX: distX, distY: distY }, fillCSSObject((_c = {},\r\n            _c[clipType === \"rect\" ? \"clip\" : \"clipPath\"] = clipStyle,\r\n            _c), e))));\r\n        return true;\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        this.unset(moveable);\r\n        var isDrag = e.isDrag, datas = e.datas, isDouble = e.isDouble;\r\n        var isLine = datas.isLine, isClipStart = datas.isClipStart, isControl = datas.isControl;\r\n        if (!isClipStart) {\r\n            return false;\r\n        }\r\n        triggerEvent(moveable, \"onClipEnd\", fillEndParams(moveable, e, {}));\r\n        if (isDouble) {\r\n            if (isControl) {\r\n                removeClipPath(moveable, e);\r\n            }\r\n            else if (isLine) {\r\n                // add\r\n                addClipPath(moveable, e);\r\n            }\r\n        }\r\n        return isDouble || isDrag;\r\n    },\r\n    unset: function (moveable) {\r\n        moveable.state.clipPathState = \"\";\r\n        moveable.state.snapBoundInfos = null;\r\n    },\r\n};\r\n/**\r\n * Whether to clip the target. (default: false)\r\n * @name Moveable.Clippable#clippable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n *  If clippath is not set, the default value can be set. (defaultClipPath < style < customClipPath < dragging clipPath)\r\n * @name Moveable.Clippable#defaultClipPath\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * % Can be used instead of the absolute px (`rect` not possible) (default: false)\r\n * @name Moveable.Clippable#clipRelative\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * You can force the custom clipPath. (defaultClipPath < style < customClipPath < dragging clipPath)\r\n * @name Moveable.Clippable#customClipPath\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When dragging the target, the clip also moves. (default: true)\r\n * @name Moveable.Clippable#dragWithClip\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * You can drag the clip by setting clipArea.\r\n * @name Moveable.Clippable#clipArea\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n* Whether the clip is bound to the target.\r\n* @name Moveable.Clippable#clipTargetBounds\r\n* @default false\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     clippable: true,\r\n*     defaultClipPath: \"inset\",\r\n*     customClipPath: \"\",\r\n*     clipRelative: false,\r\n*     clipArea: false,\r\n*     dragWithClip: true,\r\n*     clipTargetBounds: true,\r\n* });\r\n* moveable.on(\"clipStart\", e => {\r\n*     console.log(e);\r\n* }).on(\"clip\", e => {\r\n*     if (e.clipType === \"rect\") {\r\n*         e.target.style.clip = e.clipStyle;\r\n*     } else {\r\n*         e.target.style.clipPath = e.clipStyle;\r\n*     }\r\n* }).on(\"clipEnd\", e => {\r\n*     console.log(e);\r\n* });\r\n*/\r\n/**\r\n * Add clip guidelines in the vertical direction.\r\n * @name Moveable.Clippable#clipVerticalGuidelines\r\n * @default 0\r\n * @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     clippable: true,\r\n*     defaultClipPath: \"inset\",\r\n*     customClipPath: \"\",\r\n*     clipRelative: false,\r\n*     clipArea: false,\r\n*     dragWithClip: true,\r\n*     clipVerticalGuidelines: [0, 100, 200],\r\n*     clipHorizontalGuidelines: [0, 100, 200],\r\n*     clipSnapThreshold: 5,\r\n* });\r\n*/\r\n/**\r\n* Add clip guidelines in the horizontal direction.\r\n* @name Moveable.Clippable#clipHorizontalGuidelines\r\n* @default []\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     clippable: true,\r\n*     defaultClipPath: \"inset\",\r\n*     customClipPath: \"\",\r\n*     clipRelative: false,\r\n*     clipArea: false,\r\n*     dragWithClip: true,\r\n*     clipVerticalGuidelines: [0, 100, 200],\r\n*     clipHorizontalGuidelines: [0, 100, 200],\r\n*     clipSnapThreshold: 5,\r\n* });\r\n*/\r\n/**\r\n* istance value that can snap to clip guidelines.\r\n* @name Moveable.Clippable#clipSnapThreshold\r\n* @default 5\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     clippable: true,\r\n*     defaultClipPath: \"inset\",\r\n*     customClipPath: \"\",\r\n*     clipRelative: false,\r\n*     clipArea: false,\r\n*     dragWithClip: true,\r\n*     clipVerticalGuidelines: [0, 100, 200],\r\n*     clipHorizontalGuidelines: [0, 100, 200],\r\n*     clipSnapThreshold: 5,\r\n* });\r\n*/\r\n/**\r\n * When drag start the clip area or controls, the `clipStart` event is called.\r\n * @memberof Moveable.Clippable\r\n * @event clipStart\r\n * @param {Moveable.Clippable.OnClipStart} - Parameters for the `clipStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag the clip area or controls, the `clip` event is called.\r\n * @memberof Moveable.Clippable\r\n * @event clip\r\n * @param {Moveable.Clippable.OnClip} - Parameters for the `clip` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag end the clip area or controls, the `clipEnd` event is called.\r\n * @memberof Moveable.Clippable\r\n * @event clipEnd\r\n * @param {Moveable.Clippable.OnClipEnd} - Parameters for the `clipEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n\n/**\r\n * @namespace OriginDraggable\r\n * @memberof Moveable\r\n * @description Whether to drag origin (default: false)\r\n */\r\nvar OriginDraggable = {\r\n    name: \"originDraggable\",\r\n    props: [\r\n        \"originDraggable\",\r\n        \"originRelative\",\r\n    ],\r\n    events: [\r\n        \"dragOriginStart\",\r\n        \"dragOrigin\",\r\n        \"dragOriginEnd\",\r\n    ],\r\n    css: [\r\n        \":host[data-able-origindraggable] .control.origin {\\npointer-events: auto;\\n}\",\r\n    ],\r\n    dragControlCondition: function (_, e) {\r\n        if (e.isRequest) {\r\n            return e.requestAble === \"originDraggable\";\r\n        }\r\n        return hasClass(e.inputEvent.target, prefix(\"origin\"));\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        var datas = e.datas;\r\n        setDragStart(moveable, e);\r\n        var params = fillParams(moveable, e, {\r\n            dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e)),\r\n        });\r\n        var result = triggerEvent(moveable, \"onDragOriginStart\", params);\r\n        datas.startOrigin = moveable.state.transformOrigin;\r\n        datas.startTargetOrigin = moveable.state.targetOrigin;\r\n        datas.prevOrigin = [0, 0];\r\n        datas.isDragOrigin = true;\r\n        if (result === false) {\r\n            datas.isDragOrigin = false;\r\n            return false;\r\n        }\r\n        return params;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        var datas = e.datas, isPinch = e.isPinch, isRequest = e.isRequest;\r\n        if (!datas.isDragOrigin) {\r\n            return false;\r\n        }\r\n        var _a = __read(getDragDist(e), 2), distX = _a[0], distY = _a[1];\r\n        var state = moveable.state;\r\n        var width = state.width, height = state.height, offsetMatrix = state.offsetMatrix, targetMatrix = state.targetMatrix, is3d = state.is3d;\r\n        var _b = moveable.props.originRelative, originRelative = _b === void 0 ? true : _b;\r\n        var n = is3d ? 4 : 3;\r\n        var dist = [distX, distY];\r\n        if (isRequest) {\r\n            var distOrigin = e.distOrigin;\r\n            if (distOrigin[0] || distOrigin[1]) {\r\n                dist = distOrigin;\r\n            }\r\n        }\r\n        var origin = plus(datas.startOrigin, dist);\r\n        var targetOrigin = plus(datas.startTargetOrigin, dist);\r\n        var delta = minus(dist, datas.prevOrigin);\r\n        var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, origin, n);\r\n        var rect = moveable.getRect();\r\n        var nextRect = getRect(calculatePoses(nextMatrix, width, height, n));\r\n        var dragDelta = [\r\n            rect.left - nextRect.left,\r\n            rect.top - nextRect.top,\r\n        ];\r\n        datas.prevOrigin = dist;\r\n        var transformOrigin = [\r\n            convertCSSSize(targetOrigin[0], width, originRelative),\r\n            convertCSSSize(targetOrigin[1], height, originRelative),\r\n        ].join(\" \");\r\n        var result = Draggable.drag(moveable, setCustomDrag(e, moveable.state, dragDelta, !!isPinch, false));\r\n        var params = fillParams(moveable, e, __assign(__assign({ width: width, height: height, origin: origin, dist: dist, delta: delta, transformOrigin: transformOrigin, drag: result }, fillCSSObject({\r\n            transformOrigin: transformOrigin,\r\n            transform: result.transform,\r\n        }, e)), { afterTransform: result.transform }));\r\n        triggerEvent(moveable, \"onDragOrigin\", params);\r\n        return params;\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isDragOrigin) {\r\n            return false;\r\n        }\r\n        triggerEvent(moveable, \"onDragOriginEnd\", fillEndParams(moveable, e, {}));\r\n        return true;\r\n    },\r\n    dragGroupControlCondition: function (moveable, e) {\r\n        return this.dragControlCondition(moveable, e);\r\n    },\r\n    dragGroupControlStart: function (moveable, e) {\r\n        var params = this.dragControlStart(moveable, e);\r\n        if (!params) {\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        var params = this.dragControl(moveable, e);\r\n        if (!params) {\r\n            return false;\r\n        }\r\n        moveable.transformOrigin = params.transformOrigin;\r\n        return true;\r\n    },\r\n    /**\r\n    * @method Moveable.OriginDraggable#request\r\n    * @param {object} e - the OriginDraggable's request parameter\r\n    * @param {number} [e.x] - x position\r\n    * @param {number} [e.y] - y position\r\n    * @param {number} [e.deltaX] - x number to move\r\n    * @param {number} [e.deltaY] - y number to move\r\n    * @param {array} [e.deltaOrigin] - left, top number to move transform-origin\r\n    * @param {array} [e.origin] - transform-origin position\r\n    * @param {number} [e.isInstant] - Whether to execute the request instantly\r\n    * @return {Moveable.Requester} Moveable Requester\r\n    * @example\r\n\n    * // Instantly Request (requestStart - request - requestEnd)\r\n    * // Use Relative Value\r\n    * moveable.request(\"originDraggable\", { deltaX: 10, deltaY: 10 }, true);\r\n    * // Use Absolute Value\r\n    * moveable.request(\"originDraggable\", { x: 200, y: 100 }, true);\r\n    * // Use Transform Value\r\n    * moveable.request(\"originDraggable\", { deltaOrigin: [10, 0] }, true);\r\n    * moveable.request(\"originDraggable\", { origin: [100, 0] }, true);\r\n    * // requestStart\r\n    * const requester = moveable.request(\"originDraggable\");\r\n    *\r\n    * // request\r\n    * // Use Relative Value\r\n    * requester.request({ deltaX: 10, deltaY: 10 });\r\n    * requester.request({ deltaX: 10, deltaY: 10 });\r\n    * requester.request({ deltaX: 10, deltaY: 10 });\r\n    * // Use Absolute Value\r\n    * moveable.request(\"originDraggable\", { x: 200, y: 100 });\r\n    * moveable.request(\"originDraggable\", { x: 220, y: 100 });\r\n    * moveable.request(\"originDraggable\", { x: 240, y: 100 });\r\n    *\r\n    * // requestEnd\r\n    * requester.requestEnd();\r\n    */\r\n    request: function (moveable) {\r\n        var datas = {};\r\n        var rect = moveable.getRect();\r\n        var distX = 0;\r\n        var distY = 0;\r\n        var transformOrigin = rect.transformOrigin;\r\n        var distOrigin = [0, 0];\r\n        return {\r\n            isControl: true,\r\n            requestStart: function () {\r\n                return { datas: datas };\r\n            },\r\n            request: function (e) {\r\n                if (\"deltaOrigin\" in e) {\r\n                    distOrigin[0] += e.deltaOrigin[0];\r\n                    distOrigin[1] += e.deltaOrigin[1];\r\n                }\r\n                else if (\"origin\" in e) {\r\n                    distOrigin[0] = e.origin[0] - transformOrigin[0];\r\n                    distOrigin[1] = e.origin[1] - transformOrigin[1];\r\n                }\r\n                else {\r\n                    if (\"x\" in e) {\r\n                        distX = e.x - rect.left;\r\n                    }\r\n                    else if (\"deltaX\" in e) {\r\n                        distX += e.deltaX;\r\n                    }\r\n                    if (\"y\" in e) {\r\n                        distY = e.y - rect.top;\r\n                    }\r\n                    else if (\"deltaY\" in e) {\r\n                        distY += e.deltaY;\r\n                    }\r\n                }\r\n                return { datas: datas, distX: distX, distY: distY, distOrigin: distOrigin };\r\n            },\r\n            requestEnd: function () {\r\n                return { datas: datas, isDrag: true };\r\n            },\r\n        };\r\n    },\r\n};\r\n/**\r\n * Whether to drag origin (default: false)\r\n * @name Moveable.OriginDraggable#originDraggable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     originDraggable: true,\r\n * });\r\n * let translate = [0, 0];\r\n * moveable.on(\"dragOriginStart\", e => {\r\n *     e.dragStart && e.dragStart.set(translate);\r\n * }).on(\"dragOrigin\", e => {\r\n *     translate = e.drag.beforeTranslate;\r\n *     e.target.style.cssText\r\n *         = `transform-origin: ${e.transformOrigin};`\r\n *         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\r\n * }).on(\"dragOriginEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * % Can be used instead of the absolute px (default: true)\r\n * @name Moveable.OriginDraggable#originRelative\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     originDraggable: true,\r\n *     originRelative: false,\r\n * });\r\n * moveable.originRelative = true;\r\n */\r\n/**\r\n* When drag start the origin, the `dragOriginStart` event is called.\r\n* @memberof Moveable.OriginDraggable\r\n* @event dragOriginStart\r\n* @param {Moveable.OriginDraggable.OnDragOriginStart} - Parameters for the `dragOriginStart` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     originDraggable: true,\r\n* });\r\n* let translate = [0, 0];\r\n* moveable.on(\"dragOriginStart\", e => {\r\n*     e.dragStart && e.dragStart.set(translate);\r\n* }).on(\"dragOrigin\", e => {\r\n*     translate = e.drag.beforeTranslate;\r\n*     e.target.style.cssText\r\n*         = `transform-origin: ${e.transformOrigin};`\r\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\r\n* }).on(\"dragOriginEnd\", e => {\r\n*     console.log(e);\r\n* });\r\n*/\r\n/**\r\n* When drag the origin, the `dragOrigin` event is called.\r\n* @memberof Moveable.OriginDraggable\r\n* @event dragOrigin\r\n* @param {Moveable.OriginDraggable.OnDragOrigin} - Parameters for the `dragOrigin` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     originDraggable: true,\r\n* });\r\n* let translate = [0, 0];\r\n* moveable.on(\"dragOriginStart\", e => {\r\n*     e.dragStart && e.dragStart.set(translate);\r\n* }).on(\"dragOrigin\", e => {\r\n*     translate = e.drag.beforeTranslate;\r\n*     e.target.style.cssText\r\n*         = `transform-origin: ${e.transformOrigin};`\r\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\r\n* }).on(\"dragOriginEnd\", e => {\r\n*     console.log(e);\r\n* });\r\n*/\r\n/**\r\n* When drag end the origin, the `dragOriginEnd` event is called.\r\n* @memberof Moveable.OriginDraggable\r\n* @event dragOriginEnd\r\n* @param {Moveable.OriginDraggable.OnDragOriginEnd} - Parameters for the `dragOriginEnd` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     originDraggable: true,\r\n* });\r\n* let translate = [0, 0];\r\n* moveable.on(\"dragOriginStart\", e => {\r\n*     e.dragStart && e.dragStart.set(translate);\r\n* }).on(\"dragOrigin\", e => {\r\n*     translate = e.drag.beforeTranslate;\r\n*     e.target.style.cssText\r\n*         = `transform-origin: ${e.transformOrigin};`\r\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\r\n* }).on(\"dragOriginEnd\", e => {\r\n*     console.log(e);\r\n* });\r\n*/\n\nfunction addBorderRadiusByLine(controlPoses, lineIndex, distX, distY) {\r\n    // lineIndex\r\n    // 0 top\r\n    // 1 right\r\n    // 2 bottom\r\n    // 3 left\r\n    var horizontalsLength = controlPoses.filter(function (_a) {\r\n        var virtual = _a.virtual, horizontal = _a.horizontal;\r\n        return horizontal && !virtual;\r\n    }).length;\r\n    var verticalsLength = controlPoses.filter(function (_a) {\r\n        var virtual = _a.virtual, vertical = _a.vertical;\r\n        return vertical && !virtual;\r\n    }).length;\r\n    var controlIndex = -1;\r\n    //top\r\n    if (lineIndex === 0) {\r\n        if (horizontalsLength === 0) {\r\n            controlIndex = 0;\r\n        }\r\n        else if (horizontalsLength === 1) {\r\n            controlIndex = 1;\r\n        }\r\n    }\r\n    // bottom\r\n    if (lineIndex === 2) {\r\n        if (horizontalsLength <= 2) {\r\n            controlIndex = 2;\r\n        }\r\n        else if (horizontalsLength <= 3) {\r\n            controlIndex = 3;\r\n        }\r\n    }\r\n    // left\r\n    if (lineIndex === 3) {\r\n        if (verticalsLength === 0) {\r\n            controlIndex = 4;\r\n        }\r\n        else if (verticalsLength < 4) {\r\n            controlIndex = 7;\r\n        }\r\n    }\r\n    // right\r\n    if (lineIndex === 1) {\r\n        if (verticalsLength <= 1) {\r\n            controlIndex = 5;\r\n        }\r\n        else if (verticalsLength <= 2) {\r\n            controlIndex = 6;\r\n        }\r\n    }\r\n    if (controlIndex === -1 || !controlPoses[controlIndex].virtual) {\r\n        return;\r\n    }\r\n    var controlPoseInfo = controlPoses[controlIndex];\r\n    addBorderRadius(controlPoses, controlIndex);\r\n    if (controlIndex < 4) {\r\n        controlPoseInfo.pos[0] = distX;\r\n    }\r\n    else {\r\n        controlPoseInfo.pos[1] = distY;\r\n    }\r\n}\r\nfunction addBorderRadius(controlPoses, index) {\r\n    if (index < 4) {\r\n        controlPoses.slice(0, index + 1).forEach(function (info) {\r\n            info.virtual = false;\r\n        });\r\n    }\r\n    else {\r\n        if (controlPoses[0].virtual) {\r\n            controlPoses[0].virtual = false;\r\n        }\r\n        controlPoses.slice(4, index + 1).forEach(function (info) {\r\n            info.virtual = false;\r\n        });\r\n    }\r\n}\r\nfunction removeBorderRadius(controlPoses, index) {\r\n    if (index < 4) {\r\n        controlPoses.slice(index, 4).forEach(function (info) {\r\n            info.virtual = true;\r\n        });\r\n    }\r\n    else {\r\n        controlPoses.slice(index).forEach(function (info) {\r\n            info.virtual = true;\r\n        });\r\n    }\r\n}\r\nfunction getBorderRadius(borderRadius, width, height, minCounts, full) {\r\n    if (minCounts === void 0) { minCounts = [0, 0]; }\r\n    var values = [];\r\n    if (!borderRadius || borderRadius === \"0px\") {\r\n        values = [];\r\n    }\r\n    else {\r\n        values = splitSpace(borderRadius);\r\n    }\r\n    return getRadiusValues(values, width, height, 0, 0, minCounts, full);\r\n}\r\nfunction triggerRoundEvent(moveable, e, dist, delta, nextPoses) {\r\n    var state = moveable.state;\r\n    var width = state.width, height = state.height;\r\n    var _a = getRadiusStyles(nextPoses, moveable.props.roundRelative, width, height), raws = _a.raws, styles = _a.styles, radiusPoses = _a.radiusPoses;\r\n    var _b = splitRadiusPoses(radiusPoses, raws), horizontals = _b.horizontals, verticals = _b.verticals;\r\n    var borderRadius = styles.join(\" \");\r\n    state.borderRadiusState = borderRadius;\r\n    var params = fillParams(moveable, e, __assign({ horizontals: horizontals, verticals: verticals, borderRadius: borderRadius, width: width, height: height, delta: delta, dist: dist }, fillCSSObject({\r\n        borderRadius: borderRadius,\r\n    }, e)));\r\n    triggerEvent(moveable, \"onRound\", params);\r\n    return params;\r\n}\r\nfunction getStyleBorderRadius(moveable) {\r\n    var _a, _b;\r\n    var style = moveable.getState().style;\r\n    var borderRadius = style.borderRadius || \"\";\r\n    if (!borderRadius && moveable.props.groupable) {\r\n        var firstMoveable = moveable.moveables[0];\r\n        var firstTarget = moveable.getTargets()[0];\r\n        if (firstTarget) {\r\n            if ((firstMoveable === null || firstMoveable === void 0 ? void 0 : firstMoveable.props.target) === firstTarget) {\r\n                borderRadius = (_b = (_a = moveable.moveables[0]) === null || _a === void 0 ? void 0 : _a.state.style.borderRadius) !== null && _b !== void 0 ? _b : \"\";\r\n                style.borderRadius = borderRadius;\r\n            }\r\n            else {\r\n                borderRadius = getComputedStyle(firstTarget).borderRadius;\r\n                style.borderRadius = borderRadius;\r\n            }\r\n        }\r\n    }\r\n    return borderRadius;\r\n}\r\n/**\r\n * @namespace Moveable.Roundable\r\n * @description Whether to show and drag or double click border-radius\r\n */\r\nvar Roundable = {\r\n    name: \"roundable\",\r\n    props: [\r\n        \"roundable\",\r\n        \"roundRelative\",\r\n        \"minRoundControls\",\r\n        \"maxRoundControls\",\r\n        \"roundClickable\",\r\n        \"roundPadding\",\r\n        \"isDisplayShadowRoundControls\",\r\n    ],\r\n    events: [\r\n        \"roundStart\",\r\n        \"round\",\r\n        \"roundEnd\",\r\n        \"roundGroupStart\",\r\n        \"roundGroup\",\r\n        \"roundGroupEnd\",\r\n    ],\r\n    css: [\r\n        \".control.border-radius {\\nbackground: #d66;\\ncursor: pointer;\\nz-index: 3;\\n}\",\r\n        \".control.border-radius.vertical {\\nbackground: #d6d;\\nz-index: 2;\\n}\",\r\n        \".control.border-radius.virtual {\\nopacity: 0.5;\\nz-index: 1;\\n}\",\r\n        \":host.round-line-clickable .line.direction {\\ncursor: pointer;\\n}\",\r\n    ],\r\n    className: function (moveable) {\r\n        var roundClickable = moveable.props.roundClickable;\r\n        return roundClickable === true || roundClickable === \"line\" ? prefix(\"round-line-clickable\") : \"\";\r\n    },\r\n    requestStyle: function () {\r\n        return [\"borderRadius\"];\r\n    },\r\n    requestChildStyle: function () {\r\n        return [\"borderRadius\"];\r\n    },\r\n    render: function (moveable, React) {\r\n        var _a = moveable.getState(), target = _a.target, width = _a.width, height = _a.height, allMatrix = _a.allMatrix, is3d = _a.is3d, left = _a.left, top = _a.top, borderRadiusState = _a.borderRadiusState;\r\n        var _b = moveable.props, _c = _b.minRoundControls, minRoundControls = _c === void 0 ? [0, 0] : _c, _d = _b.maxRoundControls, maxRoundControls = _d === void 0 ? [4, 4] : _d, zoom = _b.zoom, _e = _b.roundPadding, roundPadding = _e === void 0 ? 0 : _e, isDisplayShadowRoundControls = _b.isDisplayShadowRoundControls, groupable = _b.groupable;\r\n        if (!target) {\r\n            return null;\r\n        }\r\n        var borderRadius = borderRadiusState || getStyleBorderRadius(moveable);\r\n        var n = is3d ? 4 : 3;\r\n        var radiusValues = getBorderRadius(borderRadius, width, height, minRoundControls, true);\r\n        if (!radiusValues) {\r\n            return null;\r\n        }\r\n        var verticalCount = 0;\r\n        var horizontalCount = 0;\r\n        var basePos = groupable ? [0, 0] : [left, top];\r\n        return radiusValues.map(function (v, i) {\r\n            var horizontal = v.horizontal;\r\n            var vertical = v.vertical;\r\n            var direction = v.direction || \"\";\r\n            var originalPos = __spreadArray([], __read(v.pos), false);\r\n            horizontalCount += Math.abs(horizontal);\r\n            verticalCount += Math.abs(vertical);\r\n            if (horizontal && direction.indexOf(\"n\") > -1) {\r\n                originalPos[1] -= roundPadding;\r\n            }\r\n            if (vertical && direction.indexOf(\"w\") > -1) {\r\n                originalPos[0] -= roundPadding;\r\n            }\r\n            if (horizontal && direction.indexOf(\"s\") > -1) {\r\n                originalPos[1] += roundPadding;\r\n            }\r\n            if (vertical && direction.indexOf(\"e\") > -1) {\r\n                originalPos[0] += roundPadding;\r\n            }\r\n            var pos = minus(calculatePosition(allMatrix, originalPos, n), basePos);\r\n            var isDisplayVerticalShadow = isDisplayShadowRoundControls\r\n                && isDisplayShadowRoundControls !== \"horizontal\";\r\n            var isDisplay = v.vertical\r\n                ? verticalCount <= maxRoundControls[1] && (isDisplayVerticalShadow || !v.virtual)\r\n                : horizontalCount <= maxRoundControls[0] && (isDisplayShadowRoundControls || !v.virtual);\r\n            return React.createElement(\"div\", { key: \"borderRadiusControl\".concat(i), className: prefix(\"control\", \"border-radius\", v.vertical ? \"vertical\" : \"\", v.virtual ? \"virtual\" : \"\"), \"data-radius-index\": i, style: {\r\n                    display: isDisplay ? \"block\" : \"none\",\r\n                    transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) scale(\").concat(zoom, \")\"),\r\n                } });\r\n        });\r\n    },\r\n    dragControlCondition: function (moveable, e) {\r\n        if (!e.inputEvent || e.isRequest) {\r\n            return false;\r\n        }\r\n        var className = (e.inputEvent.target.getAttribute(\"class\") || \"\");\r\n        return className.indexOf(\"border-radius\") > -1\r\n            || (className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1);\r\n    },\r\n    dragGroupControlCondition: function (moveable, e) {\r\n        return this.dragControlCondition(moveable, e);\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        var inputEvent = e.inputEvent, datas = e.datas;\r\n        var inputTarget = inputEvent.target;\r\n        var className = (inputTarget.getAttribute(\"class\") || \"\");\r\n        var isControl = className.indexOf(\"border-radius\") > -1;\r\n        var isLine = className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1;\r\n        var controlIndex = isControl ? parseInt(inputTarget.getAttribute(\"data-radius-index\"), 10) : -1;\r\n        var lineIndex = -1;\r\n        if (isLine) {\r\n            var indexAttr = inputTarget.getAttribute(\"data-line-key\") || \"\";\r\n            if (indexAttr) {\r\n                lineIndex = parseInt(indexAttr.replace(/render-line-/g, \"\"), 10);\r\n                if (isNaN(lineIndex)) {\r\n                    lineIndex = -1;\r\n                }\r\n            }\r\n        }\r\n        if (!isControl && !isLine) {\r\n            return false;\r\n        }\r\n        var params = fillParams(moveable, e, {});\r\n        var result = triggerEvent(moveable, \"onRoundStart\", params);\r\n        if (result === false) {\r\n            return false;\r\n        }\r\n        datas.lineIndex = lineIndex;\r\n        datas.controlIndex = controlIndex;\r\n        datas.isControl = isControl;\r\n        datas.isLine = isLine;\r\n        setDragStart(moveable, e);\r\n        var _a = moveable.props, roundRelative = _a.roundRelative, _b = _a.minRoundControls, minRoundControls = _b === void 0 ? [0, 0] : _b;\r\n        var state = moveable.state;\r\n        var width = state.width, height = state.height;\r\n        datas.isRound = true;\r\n        datas.prevDist = [0, 0];\r\n        var borderRadius = getStyleBorderRadius(moveable);\r\n        var controlPoses = getBorderRadius(borderRadius || \"\", width, height, minRoundControls, true) || [];\r\n        datas.controlPoses = controlPoses;\r\n        state.borderRadiusState = getRadiusStyles(controlPoses, roundRelative, width, height).styles.join(\" \");\r\n        return params;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        var datas = e.datas;\r\n        var controlPoses = datas.controlPoses;\r\n        if (!datas.isRound || !datas.isControl || !controlPoses.length) {\r\n            return false;\r\n        }\r\n        var index = datas.controlIndex;\r\n        var _a = __read(getDragDist(e), 2), distX = _a[0], distY = _a[1];\r\n        var dist = [distX, distY];\r\n        var delta = minus(dist, datas.prevDist);\r\n        var _b = moveable.props.maxRoundControls, maxRoundControls = _b === void 0 ? [4, 4] : _b;\r\n        var _c = moveable.state, width = _c.width, height = _c.height;\r\n        var selectedControlPose = controlPoses[index];\r\n        var selectedVertical = selectedControlPose.vertical;\r\n        var selectedHorizontal = selectedControlPose.horizontal;\r\n        // 0: [0, 1, 2, 3] maxCount === 1\r\n        // 0: [0, 2] maxCount === 2\r\n        // 1: [1, 3] maxCount === 2\r\n        // 0: [0] maxCount === 3\r\n        // 1: [1, 3] maxCount === 3\r\n        var dists = controlPoses.map(function (pose) {\r\n            var horizontal = pose.horizontal, vertical = pose.vertical;\r\n            var poseDist = [\r\n                horizontal * selectedHorizontal * dist[0],\r\n                vertical * selectedVertical * dist[1],\r\n            ];\r\n            if (horizontal) {\r\n                if (maxRoundControls[0] === 1) {\r\n                    return poseDist;\r\n                }\r\n                else if (maxRoundControls[0] < 4 && horizontal !== selectedHorizontal) {\r\n                    return poseDist;\r\n                }\r\n            }\r\n            else if (maxRoundControls[1] === 0) {\r\n                poseDist[1] = vertical * selectedHorizontal * dist[0] / width * height;\r\n                return poseDist;\r\n            }\r\n            else if (selectedVertical) {\r\n                if (maxRoundControls[1] === 1) {\r\n                    return poseDist;\r\n                }\r\n                else if (maxRoundControls[1] < 4 && vertical !== selectedVertical) {\r\n                    return poseDist;\r\n                }\r\n            }\r\n            return [0, 0];\r\n        });\r\n        dists[index] = dist;\r\n        var nextPoses = controlPoses.map(function (info, i) {\r\n            return __assign(__assign({}, info), { pos: plus(info.pos, dists[i]) });\r\n        });\r\n        if (index < 4) {\r\n            nextPoses.slice(0, index + 1).forEach(function (info) {\r\n                info.virtual = false;\r\n            });\r\n        }\r\n        else {\r\n            nextPoses.slice(4, index + 1).forEach(function (info) {\r\n                info.virtual = false;\r\n            });\r\n        }\r\n        datas.prevDist = [distX, distY];\r\n        return triggerRoundEvent(moveable, e, dist, delta, nextPoses);\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        var state = moveable.state;\r\n        state.borderRadiusState = \"\";\r\n        var datas = e.datas, isDouble = e.isDouble;\r\n        if (!datas.isRound) {\r\n            return false;\r\n        }\r\n        var isControl = datas.isControl, controlIndex = datas.controlIndex, isLine = datas.isLine, lineIndex = datas.lineIndex;\r\n        var controlPoses = datas.controlPoses;\r\n        var length = controlPoses.filter(function (_a) {\r\n            var virtual = _a.virtual;\r\n            return virtual;\r\n        }).length;\r\n        var _a = moveable.props.roundClickable, roundClickable = _a === void 0 ? true : _a;\r\n        if (isDouble && roundClickable) {\r\n            if (isControl && (roundClickable === true || roundClickable === \"control\")) {\r\n                removeBorderRadius(controlPoses, controlIndex);\r\n            }\r\n            else if (isLine && (roundClickable === true || roundClickable === \"line\")) {\r\n                var _b = __read(calculatePointerDist(moveable, e), 2), distX = _b[0], distY = _b[1];\r\n                addBorderRadiusByLine(controlPoses, lineIndex, distX, distY);\r\n            }\r\n            if (length !== controlPoses.filter(function (_a) {\r\n                var virtual = _a.virtual;\r\n                return virtual;\r\n            }).length) {\r\n                triggerRoundEvent(moveable, e, [0, 0], [0, 0], controlPoses);\r\n            }\r\n        }\r\n        var params = fillEndParams(moveable, e, {});\r\n        triggerEvent(moveable, \"onRoundEnd\", params);\r\n        state.borderRadiusState = \"\";\r\n        return params;\r\n    },\r\n    dragGroupControlStart: function (moveable, e) {\r\n        var result = this.dragControlStart(moveable, e);\r\n        if (!result) {\r\n            return false;\r\n        }\r\n        var moveables = moveable.moveables;\r\n        var targets = moveable.props.targets;\r\n        var events = fillChildEvents(moveable, \"roundable\", e);\r\n        var nextParams = __assign({ targets: moveable.props.targets, events: events.map(function (ev, i) {\r\n                return __assign(__assign({}, ev), { target: targets[i], moveable: moveables[i], currentTarget: moveables[i] });\r\n            }) }, result);\r\n        triggerEvent(moveable, \"onRoundGroupStart\", nextParams);\r\n        return result;\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        var result = this.dragControl(moveable, e);\r\n        if (!result) {\r\n            return false;\r\n        }\r\n        var moveables = moveable.moveables;\r\n        var targets = moveable.props.targets;\r\n        var events = fillChildEvents(moveable, \"roundable\", e);\r\n        var nextParams = __assign({ targets: moveable.props.targets, events: events.map(function (ev, i) {\r\n                return __assign(__assign(__assign({}, ev), { target: targets[i], moveable: moveables[i], currentTarget: moveables[i] }), fillCSSObject({\r\n                    borderRadius: result.borderRadius,\r\n                }, ev));\r\n            }) }, result);\r\n        triggerEvent(moveable, \"onRoundGroup\", nextParams);\r\n        return nextParams;\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        var moveables = moveable.moveables;\r\n        var targets = moveable.props.targets;\r\n        var events = fillChildEvents(moveable, \"roundable\", e);\r\n        catchEvent(moveable, \"onRound\", function (parentEvent) {\r\n            var nextParams = __assign({ targets: moveable.props.targets, events: events.map(function (ev, i) {\r\n                    return __assign(__assign(__assign({}, ev), { target: targets[i], moveable: moveables[i], currentTarget: moveables[i] }), fillCSSObject({\r\n                        borderRadius: parentEvent.borderRadius,\r\n                    }, ev));\r\n                }) }, parentEvent);\r\n            triggerEvent(moveable, \"onRoundGroup\", nextParams);\r\n        });\r\n        var result = this.dragControlEnd(moveable, e);\r\n        if (!result) {\r\n            return false;\r\n        }\r\n        var nextParams = __assign({ targets: moveable.props.targets, events: events.map(function (ev, i) {\r\n                var _a;\r\n                return __assign(__assign({}, ev), { target: targets[i], moveable: moveables[i], currentTarget: moveables[i], lastEvent: (_a = ev.datas) === null || _a === void 0 ? void 0 : _a.lastEvent });\r\n            }) }, result);\r\n        triggerEvent(moveable, \"onRoundGroupEnd\", nextParams);\r\n        return nextParams;\r\n    },\r\n    unset: function (moveable) {\r\n        moveable.state.borderRadiusState = \"\";\r\n    },\r\n};\r\n/**\r\n * Whether to show and drag or double click border-radius, (default: false)\r\n * @name Moveable.Roundable#roundable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * % Can be used instead of the absolute px\r\n * @name Moveable.Roundable#roundRelative\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * Minimum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [0, 0])\r\n * @name Moveable.Roundable#minRoundControls\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n *     minRoundControls: [0, 0],\r\n * });\r\n * moveable.minRoundControls = [1, 0];\r\n */\r\n/**\r\n * Maximum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [4, 4])\r\n * @name Moveable.Roundable#maxRoundControls\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n *     maxRoundControls: [4, 4],\r\n * });\r\n * moveable.maxRoundControls = [1, 0];\r\n */\r\n/**\r\n * Whether you can add/delete round controls by double-clicking a line or control.\r\n * @name Moveable.Roundable#roundClickable\r\n * @default true\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n *     roundClickable: true,\r\n * });\r\n * moveable.roundClickable = false;\r\n */\r\n/**\r\n * Whether to show a round control that does not actually exist as a shadow\r\n * @name Moveable.Roundable#isDisplayShadowRoundControls\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     isDisplayShadowRoundControls: false,\r\n * });\r\n * moveable.isDisplayShadowRoundControls = true;\r\n */\r\n/**\r\n * The padding value of the position of the round control\r\n * @name Moveable.Roundable#roundPadding\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundPadding: 0,\r\n * });\r\n * moveable.roundPadding = 15;\r\n */\r\n/**\r\n * When drag start the clip area or controls, the `roundStart` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundStart\r\n * @param {Moveable.Roundable.OnRoundStart} - Parameters for the `roundStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag or double click the border area or controls, the `round` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event round\r\n * @param {Moveable.Roundable.OnRound} - Parameters for the `round` event\r\n * @example\r\n  * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag end the border area or controls, the `roundEnd` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundEnd\r\n * @param {Moveable.Roundable.onRoundEnd} - Parameters for the `roundEnd` event\r\n * @example\r\n  * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag start the clip area or controls, the `roundGroupStart` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundGroupStart\r\n * @param {Moveable.Roundable.OnRoundGroupStart} - Parameters for the `roundGroupStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     targets: [target1, target2, target3],\r\n *     roundable: true,\r\n * });\r\n * moveable.on(\"roundGroupStart\", e => {\r\n *     console.log(e.targets);\r\n * }).on(\"roundGroup\", e => {\r\n *   e.events.forEach(ev => {\r\n *       ev.target.style.cssText += ev.cssText;\r\n *   });\r\n * }).on(\"roundGroupEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag or double click the border area or controls, the `roundGroup` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundGroup\r\n * @param {Moveable.Roundable.OnRoundGroup} - Parameters for the `roundGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     targets: [target1, target2, target3],\r\n *     roundable: true,\r\n * });\r\n * moveable.on(\"roundGroupStart\", e => {\r\n *     console.log(e.targets);\r\n * }).on(\"roundGroup\", e => {\r\n *   e.events.forEach(ev => {\r\n *       ev.target.style.cssText += ev.cssText;\r\n *   });\r\n * }).on(\"roundGroupEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag end the border area or controls, the `roundGroupEnd` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundGroupEnd\r\n * @param {Moveable.Roundable.onRoundGroupEnd} - Parameters for the `roundGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     targets: [target1, target2, target3],\r\n *     roundable: true,\r\n * });\r\n * moveable.on(\"roundGroupStart\", e => {\r\n *     console.log(e.targets);\r\n * }).on(\"roundGroup\", e => {\r\n *     e.events.forEach(ev => {\r\n *         ev.target.style.cssText += ev.cssText;\r\n *     });\r\n * }).on(\"roundGroupEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n\nfunction isIdentityMatrix(matrix, is3d) {\r\n    var n = is3d ? 4 : 3;\r\n    var identityMatrix = createIdentityMatrix(n);\r\n    var value = \"matrix\".concat(is3d ? \"3d\" : \"\", \"(\").concat(identityMatrix.join(\",\"), \")\");\r\n    return matrix === value || matrix === \"matrix(1,0,0,1,0,0)\";\r\n}\r\nvar BeforeRenderable = {\r\n    isPinch: true,\r\n    name: \"beforeRenderable\",\r\n    props: [],\r\n    events: [\r\n        \"beforeRenderStart\",\r\n        \"beforeRender\",\r\n        \"beforeRenderEnd\",\r\n        \"beforeRenderGroupStart\",\r\n        \"beforeRenderGroup\",\r\n        \"beforeRenderGroupEnd\",\r\n    ],\r\n    dragRelation: \"weak\",\r\n    setTransform: function (moveable, e) {\r\n        var _a = moveable.state, is3d = _a.is3d, targetMatrix = _a.targetMatrix, inlineTransform = _a.inlineTransform;\r\n        var cssMatrix = is3d\r\n            ? \"matrix3d(\".concat(targetMatrix.join(\",\"), \")\")\r\n            : \"matrix(\".concat(convertMatrixtoCSS(targetMatrix, true), \")\");\r\n        var startTransform = !inlineTransform || inlineTransform === \"none\" ? cssMatrix : inlineTransform;\r\n        e.datas.startTransforms = isIdentityMatrix(startTransform, is3d) ? [] : splitSpace(startTransform);\r\n    },\r\n    resetStyle: function (e) {\r\n        var datas = e.datas;\r\n        datas.nextStyle = {};\r\n        datas.nextTransforms = e.datas.startTransforms;\r\n        datas.nextTransformAppendedIndexes = [];\r\n    },\r\n    fillDragStartParams: function (moveable, e) {\r\n        return fillParams(moveable, e, {\r\n            setTransform: function (transform) {\r\n                e.datas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\r\n            },\r\n            isPinch: !!e.isPinch,\r\n        });\r\n    },\r\n    fillDragParams: function (moveable, e) {\r\n        return fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n        });\r\n    },\r\n    dragStart: function (moveable, e) {\r\n        this.setTransform(moveable, e);\r\n        this.resetStyle(e);\r\n        triggerEvent(moveable, \"onBeforeRenderStart\", this.fillDragStartParams(moveable, e));\r\n    },\r\n    drag: function (moveable, e) {\r\n        if (!e.datas.startTransforms) {\r\n            this.setTransform(moveable, e);\r\n        }\r\n        this.resetStyle(e);\r\n        triggerEvent(moveable, \"onBeforeRender\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n        }));\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        if (!e.datas.startTransforms) {\r\n            this.setTransform(moveable, e);\r\n            this.resetStyle(e);\r\n        }\r\n        triggerEvent(moveable, \"onBeforeRenderEnd\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n            isDrag: e.isDrag,\r\n        }));\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        var _this = this;\r\n        this.dragStart(moveable, e);\r\n        var events = fillChildEvents(moveable, \"beforeRenderable\", e);\r\n        var moveables = moveable.moveables;\r\n        var params = events.map(function (childEvent, i) {\r\n            var childMoveable = moveables[i];\r\n            _this.setTransform(childMoveable, childEvent);\r\n            _this.resetStyle(childEvent);\r\n            return _this.fillDragStartParams(childMoveable, childEvent);\r\n        });\r\n        triggerEvent(moveable, \"onBeforeRenderGroupStart\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n            targets: moveable.props.targets,\r\n            setTransform: function () { },\r\n            events: params,\r\n        }));\r\n    },\r\n    dragGroup: function (moveable, e) {\r\n        var _this = this;\r\n        this.drag(moveable, e);\r\n        var events = fillChildEvents(moveable, \"beforeRenderable\", e);\r\n        var moveables = moveable.moveables;\r\n        var params = events.map(function (childEvent, i) {\r\n            var childMoveable = moveables[i];\r\n            _this.resetStyle(childEvent);\r\n            return _this.fillDragParams(childMoveable, childEvent);\r\n        });\r\n        triggerEvent(moveable, \"onBeforeRenderGroup\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n            targets: moveable.props.targets,\r\n            events: params,\r\n        }));\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        this.dragEnd(moveable, e);\r\n        triggerEvent(moveable, \"onBeforeRenderGroupEnd\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n            isDrag: e.isDrag,\r\n            targets: moveable.props.targets,\r\n        }));\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        return this.dragStart(moveable, e);\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        return this.drag(moveable, e);\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        return this.dragEnd(moveable, e);\r\n    },\r\n    dragGroupControlStart: function (moveable, e) {\r\n        return this.dragGroupStart(moveable, e);\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        return this.dragGroup(moveable, e);\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        return this.dragGroupEnd(moveable, e);\r\n    },\r\n};\n\nvar Renderable = {\r\n    name: \"renderable\",\r\n    props: [],\r\n    events: [\r\n        \"renderStart\",\r\n        \"render\",\r\n        \"renderEnd\",\r\n        \"renderGroupStart\",\r\n        \"renderGroup\",\r\n        \"renderGroupEnd\",\r\n    ],\r\n    dragRelation: \"weak\",\r\n    dragStart: function (moveable, e) {\r\n        triggerEvent(moveable, \"onRenderStart\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n        }));\r\n    },\r\n    drag: function (moveable, e) {\r\n        triggerEvent(moveable, \"onRender\", this.fillDragParams(moveable, e));\r\n    },\r\n    dragAfter: function (moveable, e) {\r\n        return this.drag(moveable, e);\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        triggerEvent(moveable, \"onRenderEnd\", this.fillDragEndParams(moveable, e));\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        triggerEvent(moveable, \"onRenderGroupStart\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n            targets: moveable.props.targets,\r\n        }));\r\n    },\r\n    dragGroup: function (moveable, e) {\r\n        var _this = this;\r\n        var events = fillChildEvents(moveable, \"beforeRenderable\", e);\r\n        var moveables = moveable.moveables;\r\n        var params = events.map(function (childEvent, i) {\r\n            var childMoveable = moveables[i];\r\n            return _this.fillDragParams(childMoveable, childEvent);\r\n        });\r\n        triggerEvent(moveable, \"onRenderGroup\", fillParams(moveable, e, __assign(__assign({ isPinch: !!e.isPinch, targets: moveable.props.targets, transform: getNextTransformText(e), transformObject: {} }, fillCSSObject(getNextStyle(e))), { events: params })));\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        var _this = this;\r\n        var events = fillChildEvents(moveable, \"beforeRenderable\", e);\r\n        var moveables = moveable.moveables;\r\n        var params = events.map(function (childEvent, i) {\r\n            var childMoveable = moveables[i];\r\n            return _this.fillDragEndParams(childMoveable, childEvent);\r\n        });\r\n        triggerEvent(moveable, \"onRenderGroupEnd\", fillParams(moveable, e, __assign({ isPinch: !!e.isPinch, isDrag: e.isDrag, targets: moveable.props.targets, events: params, transformObject: {}, transform: getNextTransformText(e) }, fillCSSObject(getNextStyle(e)))));\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        return this.dragStart(moveable, e);\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        return this.drag(moveable, e);\r\n    },\r\n    dragControlAfter: function (moveable, e) {\r\n        return this.dragAfter(moveable, e);\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        return this.dragEnd(moveable, e);\r\n    },\r\n    dragGroupControlStart: function (moveable, e) {\r\n        return this.dragGroupStart(moveable, e);\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        return this.dragGroup(moveable, e);\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        return this.dragGroupEnd(moveable, e);\r\n    },\r\n    fillDragParams: function (moveable, e) {\r\n        var transformObject = {};\r\n        parse(getNextTransforms(e) || []).forEach(function (matrixInfo) {\r\n            transformObject[matrixInfo.name] = matrixInfo.functionValue;\r\n        });\r\n        return fillParams(moveable, e, __assign({ isPinch: !!e.isPinch, transformObject: transformObject, transform: getNextTransformText(e) }, fillCSSObject(getNextStyle(e))));\r\n    },\r\n    fillDragEndParams: function (moveable, e) {\r\n        var transformObject = {};\r\n        parse(getNextTransforms(e) || []).forEach(function (matrixInfo) {\r\n            transformObject[matrixInfo.name] = matrixInfo.functionValue;\r\n        });\r\n        return fillParams(moveable, e, __assign({ isPinch: !!e.isPinch, isDrag: e.isDrag, transformObject: transformObject, transform: getNextTransformText(e) }, fillCSSObject(getNextStyle(e))));\r\n    },\r\n};\n\nfunction triggerAble(moveable, moveableAbles, eventOperations, eventAffix, eventType, e, requestInstant) {\r\n    // pre setting\r\n    e.clientDistX = e.distX;\r\n    e.clientDistY = e.distY;\r\n    var isStart = eventType === \"Start\";\r\n    var isEnd = eventType === \"End\";\r\n    var isAfter = eventType === \"After\";\r\n    var target = moveable.state.target;\r\n    var isRequest = e.isRequest;\r\n    var isControl = eventAffix.indexOf(\"Control\") > -1;\r\n    if (!target\r\n        || (isStart && isControl && !isRequest && moveable.areaElement === e.inputEvent.target)) {\r\n        return false;\r\n    }\r\n    var ables = __spreadArray([], __read(moveableAbles), false);\r\n    if (isRequest) {\r\n        var requestAble_1 = e.requestAble;\r\n        if (!ables.some(function (able) { return able.name === requestAble_1; })) {\r\n            ables.push.apply(ables, __spreadArray([], __read(moveable.props.ables.filter(function (able) { return able.name === requestAble_1; })), false));\r\n        }\r\n    }\r\n    if (!ables.length || ables.every(function (able) { return able.dragRelation; })) {\r\n        return false;\r\n    }\r\n    // \"drag\" \"Control\" \"After\"\r\n    var inputEvent = e.inputEvent;\r\n    var inputTarget;\r\n    if (isEnd && inputEvent) {\r\n        inputTarget = document.elementFromPoint(e.clientX, e.clientY) || inputEvent.target;\r\n    }\r\n    var isDragStop = false;\r\n    var stop = function () {\r\n        var _a;\r\n        isDragStop = true;\r\n        (_a = e.stop) === null || _a === void 0 ? void 0 : _a.call(e);\r\n    };\r\n    var isFirstStart = isStart && (!moveable.targetGesto || !moveable.controlGesto\r\n        || (!moveable.targetGesto.isFlag() || !moveable.controlGesto.isFlag()));\r\n    if (isFirstStart) {\r\n        moveable.updateRect(eventType, true, false);\r\n    }\r\n    // trigger ables\r\n    var datas = e.datas;\r\n    var gestoType = isControl ? \"controlGesto\" : \"targetGesto\";\r\n    var prevGesto = moveable[gestoType];\r\n    var trigger = function (able, eventName, conditionName) {\r\n        if (!(eventName in able) || prevGesto !== moveable[gestoType]) {\r\n            return false;\r\n        }\r\n        var ableName = able.name;\r\n        var nextDatas = datas[ableName] || (datas[ableName] = {});\r\n        if (isStart) {\r\n            nextDatas.isEventStart = !conditionName\r\n                || !able[conditionName] || able[conditionName](moveable, e);\r\n        }\r\n        if (!nextDatas.isEventStart) {\r\n            return false;\r\n        }\r\n        var result = able[eventName](moveable, __assign(__assign({}, e), { stop: stop, datas: nextDatas, originalDatas: datas, inputTarget: inputTarget }));\r\n        moveable._emitter.off();\r\n        if (isStart && result === false) {\r\n            nextDatas.isEventStart = false;\r\n        }\r\n        return result;\r\n    };\r\n    // unset ables for first drag start\r\n    if (isFirstStart) {\r\n        ables.forEach(function (able) {\r\n            able.unset && able.unset(moveable);\r\n        });\r\n    }\r\n    // BeforeRenderable\r\n    trigger(BeforeRenderable, \"drag\".concat(eventAffix).concat(eventType));\r\n    var forceEndedCount = 0;\r\n    var updatedCount = 0;\r\n    eventOperations.forEach(function (eventOperation) {\r\n        if (isDragStop) {\r\n            return false;\r\n        }\r\n        var eventName = \"\".concat(eventOperation).concat(eventAffix).concat(eventType);\r\n        var conditionName = \"\".concat(eventOperation).concat(eventAffix, \"Condition\");\r\n        if (eventType === \"\" && !isRequest) {\r\n            // Convert distX, distY\r\n            convertDragDist(moveable.state, e);\r\n        }\r\n        // const isGroup = eventAffix.indexOf(\"Group\") > -1;\r\n        var eventAbles = ables.filter(function (able) { return able[eventName]; });\r\n        eventAbles = eventAbles.filter(function (able, i) {\r\n            return able.name && eventAbles.indexOf(able) === i;\r\n        });\r\n        var results = eventAbles.filter(function (able) { return trigger(able, eventName, conditionName); });\r\n        var isUpdate = results.length;\r\n        // end ables\r\n        if (isDragStop) {\r\n            ++forceEndedCount;\r\n        }\r\n        if (isUpdate) {\r\n            ++updatedCount;\r\n        }\r\n        if (!isDragStop && isStart && eventAbles.length && !isUpdate) {\r\n            forceEndedCount += eventAbles.filter(function (able) {\r\n                var ableName = able.name;\r\n                var nextDatas = datas[ableName];\r\n                if (nextDatas.isEventStart) {\r\n                    if (able.dragRelation === \"strong\") {\r\n                        return false;\r\n                    }\r\n                    // stop drag\r\n                    return true;\r\n                }\r\n                // pre stop drag\r\n                return false;\r\n            }).length ? 1 : 0;\r\n        }\r\n    });\r\n    if (!isAfter || updatedCount) {\r\n        trigger(Renderable, \"drag\".concat(eventAffix).concat(eventType));\r\n    }\r\n    // stop gesto condition\r\n    var isForceEnd = prevGesto !== moveable[gestoType] || forceEndedCount === eventOperations.length;\r\n    if (isEnd || isDragStop || isForceEnd) {\r\n        moveable.state.gestos = {};\r\n        if (moveable.moveables) {\r\n            moveable.moveables.forEach(function (childMoveable) {\r\n                childMoveable.state.gestos = {};\r\n            });\r\n        }\r\n        ables.forEach(function (able) {\r\n            able.unset && able.unset(moveable);\r\n        });\r\n    }\r\n    if (isStart && !isForceEnd && !isRequest && updatedCount && moveable.props.preventDefault) {\r\n        e === null || e === void 0 ? void 0 : e.preventDefault();\r\n    }\r\n    if (moveable.isUnmounted || isForceEnd) {\r\n        return false;\r\n    }\r\n    if ((!isStart && updatedCount && !requestInstant) || isEnd) {\r\n        var flushSync = moveable.props.flushSync || defaultSync;\r\n        flushSync(function () {\r\n            moveable.updateRect(isEnd ? eventType : \"\", true, false);\r\n            moveable.forceUpdate();\r\n        });\r\n    }\r\n    if (!isStart && !isEnd && !isAfter && updatedCount && !requestInstant) {\r\n        triggerAble(moveable, moveableAbles, eventOperations, eventAffix, eventType + \"After\", e);\r\n    }\r\n    return true;\r\n}\r\nfunction checkMoveableTarget(moveable, isControl) {\r\n    return function (e, target) {\r\n        var _a;\r\n        if (target === void 0) { target = e.inputEvent.target; }\r\n        var eventTarget = target;\r\n        var areaElement = moveable.areaElement;\r\n        var dragTargetElement = moveable._dragTarget;\r\n        if (!dragTargetElement || (!isControl && ((_a = moveable.controlGesto) === null || _a === void 0 ? void 0 : _a.isFlag()))) {\r\n            return false;\r\n        }\r\n        return eventTarget === dragTargetElement\r\n            || dragTargetElement.contains(eventTarget)\r\n            || eventTarget === areaElement\r\n            || (!moveable.isMoveableElement(eventTarget) && !moveable.controlBox.contains(eventTarget))\r\n            || hasClass(eventTarget, \"moveable-area\")\r\n            || hasClass(eventTarget, \"moveable-padding\")\r\n            || hasClass(eventTarget, \"moveable-edgeDraggable\");\r\n    };\r\n}\r\nfunction getTargetAbleGesto(moveable, moveableTarget, eventAffix) {\r\n    var controlBox = moveable.controlBox;\r\n    var targets = [];\r\n    var props = moveable.props;\r\n    var dragArea = props.dragArea;\r\n    var target = moveable.state.target;\r\n    var dragTarget = props.dragTarget;\r\n    targets.push(controlBox);\r\n    if (!dragArea || dragTarget) {\r\n        targets.push(moveableTarget);\r\n    }\r\n    if (!dragArea && dragTarget && target && moveableTarget !== target && props.dragTargetSelf) {\r\n        targets.push(target);\r\n    }\r\n    var checkTarget = checkMoveableTarget(moveable);\r\n    return getAbleGesto(moveable, targets, \"targetAbles\", eventAffix, {\r\n        dragStart: checkTarget,\r\n        pinchStart: checkTarget,\r\n    });\r\n}\r\nfunction getControlAbleGesto(moveable, eventAffix) {\r\n    var controlBox = moveable.controlBox;\r\n    var targets = [];\r\n    targets.push(controlBox);\r\n    var checkTarget = checkMoveableTarget(moveable, true);\r\n    var checkControlTarget = function (e, target) {\r\n        if (target === void 0) { target = e.inputEvent.target; }\r\n        if (target === controlBox) {\r\n            return true;\r\n        }\r\n        var result = checkTarget(e, target);\r\n        return !result;\r\n    };\r\n    return getAbleGesto(moveable, targets, \"controlAbles\", eventAffix, {\r\n        dragStart: checkControlTarget,\r\n        pinchStart: checkControlTarget,\r\n    });\r\n}\r\nfunction getAbleGesto(moveable, target, ableType, eventAffix, conditionFunctions) {\r\n    if (conditionFunctions === void 0) { conditionFunctions = {}; }\r\n    var isTargetAbles = ableType === \"targetAbles\";\r\n    var _a = moveable.props, pinchOutside = _a.pinchOutside, pinchThreshold = _a.pinchThreshold, preventClickEventOnDrag = _a.preventClickEventOnDrag, preventClickDefault = _a.preventClickDefault, checkInput = _a.checkInput, dragFocusedInput = _a.dragFocusedInput, _b = _a.preventDefault, preventDefault = _b === void 0 ? true : _b, _c = _a.preventRightClick, preventRightClick = _c === void 0 ? true : _c, _d = _a.preventWheelClick, preventWheelClick = _d === void 0 ? true : _d, dragContaienrOption = _a.dragContainer;\r\n    var dragContainer = getRefTarget(dragContaienrOption, true);\r\n    var options = {\r\n        preventDefault: preventDefault,\r\n        preventRightClick: preventRightClick,\r\n        preventWheelClick: preventWheelClick,\r\n        container: dragContainer || getWindow(moveable.getControlBoxElement()),\r\n        pinchThreshold: pinchThreshold,\r\n        pinchOutside: pinchOutside,\r\n        preventClickEventOnDrag: isTargetAbles ? preventClickEventOnDrag : false,\r\n        preventClickEventOnDragStart: isTargetAbles ? preventClickDefault : false,\r\n        preventClickEventByCondition: isTargetAbles ? null : function (e) {\r\n            return moveable.controlBox.contains(e.target);\r\n        },\r\n        checkInput: isTargetAbles ? checkInput : false,\r\n        dragFocusedInput: dragFocusedInput,\r\n    };\r\n    var gesto = new Gesto(target, options);\r\n    var isControl = eventAffix === \"Control\";\r\n    [\"drag\", \"pinch\"].forEach(function (eventOperation) {\r\n        [\"Start\", \"\", \"End\"].forEach(function (eventType) {\r\n            gesto.on(\"\".concat(eventOperation).concat(eventType), function (e) {\r\n                var _a;\r\n                var eventName = e.eventType;\r\n                var isPinchScheduled = eventOperation === \"drag\" && e.isPinch;\r\n                if (conditionFunctions[eventName] && !conditionFunctions[eventName](e)) {\r\n                    e.stop();\r\n                    return;\r\n                }\r\n                if (isPinchScheduled) {\r\n                    return;\r\n                }\r\n                var eventOperations = eventOperation === \"drag\" ? [eventOperation] : [\"drag\", eventOperation];\r\n                var moveableAbles = __spreadArray([], __read(moveable[ableType]), false);\r\n                var result = triggerAble(moveable, moveableAbles, eventOperations, eventAffix, eventType, e);\r\n                if (!result) {\r\n                    e.stop();\r\n                }\r\n                else if (moveable.props.stopPropagation || (eventType === \"Start\" && isControl)) {\r\n                    (_a = e === null || e === void 0 ? void 0 : e.inputEvent) === null || _a === void 0 ? void 0 : _a.stopPropagation();\r\n                }\r\n            });\r\n        });\r\n    });\r\n    return gesto;\r\n}\n\nvar EventManager = /*#__PURE__*/ (function () {\r\n    function EventManager(target, moveable, eventName) {\r\n        var _this = this;\r\n        this.target = target;\r\n        this.moveable = moveable;\r\n        this.eventName = eventName;\r\n        this.ables = [];\r\n        this._onEvent = function (e) {\r\n            var eventName = _this.eventName;\r\n            var moveable = _this.moveable;\r\n            if (moveable.state.disableNativeEvent) {\r\n                return;\r\n            }\r\n            _this.ables.forEach(function (able) {\r\n                able[eventName](moveable, {\r\n                    inputEvent: e,\r\n                });\r\n            });\r\n        };\r\n        target.addEventListener(eventName.toLowerCase(), this._onEvent);\r\n    }\r\n    EventManager.prototype.setAbles = function (ables) {\r\n        this.ables = ables;\r\n    };\r\n    EventManager.prototype.destroy = function () {\r\n        this.target.removeEventListener(this.eventName.toLowerCase(), this._onEvent);\r\n        this.target = null;\r\n        this.moveable = null;\r\n    };\r\n    return EventManager;\r\n}());\n\nfunction calculateMatrixStack(target, container, rootContainer, isAbsolute3d) {\r\n    var _a;\r\n    if (rootContainer === void 0) { rootContainer = container; }\r\n    var _b = getMatrixStackInfo(target, container), matrixes = _b.matrixes, is3d = _b.is3d, prevTargetMatrix = _b.targetMatrix, transformOrigin = _b.transformOrigin, targetOrigin = _b.targetOrigin, offsetContainer = _b.offsetContainer, hasFixed = _b.hasFixed, containerZoom = _b.zoom; // prevMatrix\r\n    var _c = getCachedMatrixContainerInfo(offsetContainer, rootContainer), rootMatrixes = _c.matrixes, isRoot3d = _c.is3d, offsetRootContainer = _c.offsetContainer, rootZoom = _c.zoom; // prevRootMatrix\r\n    // if (rootContainer === document.body) {\r\n    //     console.log(offsetContainer, rootContainer, rootMatrixes);\r\n    // }\r\n    var isNext3d = isAbsolute3d || isRoot3d || is3d;\r\n    var n = isNext3d ? 4 : 3;\r\n    var isSVGGraphicElement = target.tagName.toLowerCase() !== \"svg\" && \"ownerSVGElement\" in target;\r\n    var targetMatrix = prevTargetMatrix;\r\n    // let allMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\r\n    // let rootMatrix = prevRootMatrix ? convertDimension(prevRootMatrix, prevN!, n) : createIdentityMatrix(n);\r\n    // let beforeMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\r\n    var allMatrix = createIdentityMatrix(n);\r\n    var rootMatrix = createIdentityMatrix(n);\r\n    var beforeMatrix = createIdentityMatrix(n);\r\n    var offsetMatrix = createIdentityMatrix(n);\r\n    var length = matrixes.length;\r\n    var nextRootMatrixes = rootMatrixes.map(function (info) {\r\n        return __assign(__assign({}, info), { matrix: info.matrix ? __spreadArray([], __read(info.matrix), false) : undefined });\r\n    }).reverse();\r\n    matrixes.reverse();\r\n    if (!is3d && isNext3d) {\r\n        targetMatrix = convertDimension(targetMatrix, 3, 4);\r\n        convert3DMatrixes(matrixes);\r\n    }\r\n    if (!isRoot3d && isNext3d) {\r\n        convert3DMatrixes(nextRootMatrixes);\r\n    }\r\n    // rootMatrix = (...) -> container -> offset -> absolute -> offset -> absolute(targetMatrix)\r\n    // rootMatrixBeforeOffset = lastOffsetMatrix -> (...) -> container\r\n    // beforeMatrix = (... -> container -> offset -> absolute) -> offset -> absolute(targetMatrix)\r\n    // offsetMatrix = (... -> container -> offset -> absolute -> offset) -> absolute(targetMatrix)\r\n    nextRootMatrixes.forEach(function (info) {\r\n        rootMatrix = multiply(rootMatrix, info.matrix, n);\r\n    });\r\n    var originalRootContainer = rootContainer || getDocumentBody(target);\r\n    var endContainer = ((_a = nextRootMatrixes[0]) === null || _a === void 0 ? void 0 : _a.target)\r\n        || getOffsetInfo(originalRootContainer, originalRootContainer, true).offsetParent;\r\n    var rootMatrixBeforeOffset = nextRootMatrixes.slice(1).reduce(function (matrix, info) {\r\n        return multiply(matrix, info.matrix, n);\r\n    }, createIdentityMatrix(n));\r\n    matrixes.forEach(function (info, i) {\r\n        if (length - 2 === i) {\r\n            // length - 3\r\n            beforeMatrix = allMatrix.slice();\r\n        }\r\n        if (length - 1 === i) {\r\n            // length - 2\r\n            offsetMatrix = allMatrix.slice();\r\n        }\r\n        // calculate for SVGElement\r\n        if (!info.matrix) {\r\n            var nextInfo = matrixes[i + 1];\r\n            var offset = getSVGOffset(info, nextInfo, endContainer, n, multiply(rootMatrixBeforeOffset, allMatrix, n));\r\n            info.matrix = createOriginMatrix(offset, n);\r\n        }\r\n        allMatrix = multiply(allMatrix, info.matrix, n);\r\n    });\r\n    var isMatrix3d = !isSVGGraphicElement && is3d;\r\n    if (!targetMatrix) {\r\n        targetMatrix = createIdentityMatrix(isMatrix3d ? 4 : 3);\r\n    }\r\n    var targetTransform = makeMatrixCSS(isSVGGraphicElement && targetMatrix.length === 16\r\n        ? convertDimension(targetMatrix, 4, 3) : targetMatrix, isMatrix3d);\r\n    var originalRootMatrix = rootMatrix;\r\n    rootMatrix = ignoreDimension(rootMatrix, n, n);\r\n    return {\r\n        hasZoom: containerZoom !== 1 || rootZoom !== 1,\r\n        hasFixed: hasFixed,\r\n        matrixes: matrixes,\r\n        rootMatrix: rootMatrix,\r\n        originalRootMatrix: originalRootMatrix,\r\n        beforeMatrix: beforeMatrix,\r\n        offsetMatrix: offsetMatrix,\r\n        allMatrix: allMatrix,\r\n        targetMatrix: targetMatrix,\r\n        targetTransform: targetTransform,\r\n        inlineTransform: target.style.transform,\r\n        transformOrigin: transformOrigin,\r\n        targetOrigin: targetOrigin,\r\n        is3d: isNext3d,\r\n        offsetContainer: offsetContainer,\r\n        offsetRootContainer: offsetRootContainer,\r\n    };\r\n}\n\nfunction calculateElementInfo(target, container, rootContainer, isAbsolute3d) {\r\n    if (rootContainer === void 0) { rootContainer = container; }\r\n    var width = 0;\r\n    var height = 0;\r\n    var rotation = 0;\r\n    var allResult = {};\r\n    var sizes = getSize(target);\r\n    if (target) {\r\n        width = sizes.offsetWidth;\r\n        height = sizes.offsetHeight;\r\n    }\r\n    if (target) {\r\n        var result = calculateMatrixStack(target, container, rootContainer, isAbsolute3d);\r\n        var position = calculateElementPosition(result.allMatrix, result.transformOrigin, width, height);\r\n        allResult = __assign(__assign({}, result), position);\r\n        var rotationPosition = calculateElementPosition(result.allMatrix, [50, 50], 100, 100);\r\n        rotation = getRotationRad([rotationPosition.pos1, rotationPosition.pos2], rotationPosition.direction);\r\n    }\r\n    var n = isAbsolute3d ? 4 : 3;\r\n    return __assign(__assign(__assign({ hasZoom: false, width: width, height: height, rotation: rotation }, sizes), { originalRootMatrix: createIdentityMatrix(n), rootMatrix: createIdentityMatrix(n), beforeMatrix: createIdentityMatrix(n), offsetMatrix: createIdentityMatrix(n), allMatrix: createIdentityMatrix(n), targetMatrix: createIdentityMatrix(n), targetTransform: \"\", inlineTransform: \"\", transformOrigin: [0, 0], targetOrigin: [0, 0], is3d: !!isAbsolute3d, left: 0, top: 0, right: 0, bottom: 0, origin: [0, 0], pos1: [0, 0], pos2: [0, 0], pos3: [0, 0], pos4: [0, 0], direction: 1, hasFixed: false, offsetContainer: null, offsetRootContainer: null, matrixes: [] }), allResult);\r\n}\r\nfunction getElementInfo(target, container, rootContainer) {\r\n    if (rootContainer === void 0) { rootContainer = container; }\r\n    return calculateElementInfo(target, container, rootContainer, true);\r\n}\n\nfunction getMoveableTargetInfo(moveableElement, target, container, parentContainer, rootContainer, requestStyles) {\r\n    if (requestStyles === void 0) { requestStyles = []; }\r\n    var beforeDirection = 1;\r\n    var beforeOrigin = [0, 0];\r\n    var targetClientRect = resetClientRect();\r\n    var moveableClientRect = resetClientRect();\r\n    var containerClientRect = resetClientRect();\r\n    var rootContainerClientRect = resetClientRect();\r\n    var offsetDelta = [0, 0];\r\n    var style = {};\r\n    var result = calculateElementInfo(target, container, rootContainer, true);\r\n    if (target) {\r\n        var getStyle_1 = getCachedStyle(target);\r\n        requestStyles.forEach(function (name) {\r\n            style[name] = getStyle_1(name);\r\n        });\r\n        var n = result.is3d ? 4 : 3;\r\n        var beforePosition = calculateElementPosition(result.offsetMatrix, plus(result.transformOrigin, getOrigin(result.targetMatrix, n)), result.width, result.height);\r\n        beforeDirection = beforePosition.direction;\r\n        beforeOrigin = plus(beforePosition.origin, [beforePosition.left - result.left, beforePosition.top - result.top]);\r\n        rootContainerClientRect = getClientRect(result.offsetRootContainer);\r\n        var offsetContainer = getOffsetInfo(parentContainer, parentContainer, true).offsetParent\r\n            || result.offsetRootContainer;\r\n        if (result.hasZoom) {\r\n            var absoluteTargetPosition = calculateElementPosition(multiply(result.originalRootMatrix, result.allMatrix), result.transformOrigin, result.width, result.height);\r\n            var absoluteContainerPosition = calculateElementPosition(result.originalRootMatrix, getTransformOriginArray(getCachedStyle(offsetContainer)(\"transformOrigin\")).map(function (pos) { return parseFloat(pos); }), offsetContainer.offsetWidth, offsetContainer.offsetHeight);\r\n            targetClientRect = getClientRectByPosition(absoluteTargetPosition, rootContainerClientRect);\r\n            containerClientRect = getClientRectByPosition(absoluteContainerPosition, rootContainerClientRect, offsetContainer, true);\r\n            if (moveableElement) {\r\n                var left = absoluteTargetPosition.left;\r\n                var top_1 = absoluteTargetPosition.top;\r\n                moveableClientRect = getClientRectByPosition({\r\n                    left: left,\r\n                    top: top_1,\r\n                    bottom: top_1,\r\n                    right: top_1,\r\n                }, rootContainerClientRect);\r\n            }\r\n        }\r\n        else {\r\n            targetClientRect = getClientRect(target);\r\n            containerClientRect = getCachedClientRect(offsetContainer);\r\n            if (moveableElement) {\r\n                moveableClientRect = getClientRect(moveableElement);\r\n            }\r\n            var containerClientRectLeft = containerClientRect.left, containerClientRectTop = containerClientRect.top, containterClientLeft = containerClientRect.clientLeft, containerClientTop = containerClientRect.clientTop;\r\n            var clientDelta = [\r\n                targetClientRect.left - containerClientRectLeft,\r\n                targetClientRect.top - containerClientRectTop,\r\n            ];\r\n            offsetDelta = minus(calculateInversePosition(result.rootMatrix, clientDelta, 4), [containterClientLeft + result.left, containerClientTop + result.top]);\r\n        }\r\n    }\r\n    return __assign({ targetClientRect: targetClientRect, containerClientRect: containerClientRect, moveableClientRect: moveableClientRect, rootContainerClientRect: rootContainerClientRect, beforeDirection: beforeDirection, beforeOrigin: beforeOrigin, originalBeforeOrigin: beforeOrigin, target: target, style: style, offsetDelta: offsetDelta }, result);\r\n}\n\nfunction getPersistState(rect) {\r\n    var pos1 = rect.pos1, pos2 = rect.pos2, pos3 = rect.pos3, pos4 = rect.pos4;\r\n    if (!pos1 || !pos2 || !pos3 || !pos4) {\r\n        return null;\r\n    }\r\n    var minPos = getMinMaxs([pos1, pos2, pos3, pos4]);\r\n    var posDelta = [minPos.minX, minPos.minY];\r\n    var origin = minus(rect.origin, posDelta);\r\n    pos1 = minus(pos1, posDelta);\r\n    pos2 = minus(pos2, posDelta);\r\n    pos3 = minus(pos3, posDelta);\r\n    pos4 = minus(pos4, posDelta);\r\n    return __assign(__assign({}, rect), { left: rect.left, top: rect.top, posDelta: posDelta, pos1: pos1, pos2: pos2, pos3: pos3, pos4: pos4, origin: origin, beforeOrigin: origin, \r\n        // originalBeforeOrigin: origin,\r\n        isPersisted: true });\r\n}\n\nvar MoveableManager = /*#__PURE__*/ (function (_super) {\r\n    __extends(MoveableManager, _super);\r\n    function MoveableManager() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = __assign({ container: null, gestos: {}, renderLines: [\r\n                [[0, 0], [0, 0]],\r\n                [[0, 0], [0, 0]],\r\n                [[0, 0], [0, 0]],\r\n                [[0, 0], [0, 0]],\r\n            ], renderPoses: [[0, 0], [0, 0], [0, 0], [0, 0]], disableNativeEvent: false, posDelta: [0, 0] }, getMoveableTargetInfo(null));\r\n        _this.renderState = {};\r\n        _this.enabledAbles = [];\r\n        _this.targetAbles = [];\r\n        _this.controlAbles = [];\r\n        _this.rotation = 0;\r\n        _this.scale = [1, 1];\r\n        _this.isMoveableMounted = false;\r\n        _this.isUnmounted = false;\r\n        _this.events = {\r\n            \"mouseEnter\": null,\r\n            \"mouseLeave\": null,\r\n        };\r\n        _this._emitter = new EventEmitter();\r\n        _this._prevOriginalDragTarget = null;\r\n        _this._originalDragTarget = null;\r\n        _this._prevDragTarget = null;\r\n        _this._dragTarget = null;\r\n        _this._prevPropTarget = null;\r\n        _this._propTarget = null;\r\n        _this._prevDragArea = false;\r\n        _this._isPropTargetChanged = false;\r\n        _this._hasFirstTarget = false;\r\n        _this._reiszeObserver = null;\r\n        _this._observerId = 0;\r\n        _this._mutationObserver = null;\r\n        _this._rootContainer = null;\r\n        _this._viewContainer = null;\r\n        _this._viewClassNames = [];\r\n        _this._store = {};\r\n        _this.checkUpdateRect = function () {\r\n            if (_this.isDragging()) {\r\n                return;\r\n            }\r\n            var parentMoveable = _this.props.parentMoveable;\r\n            if (parentMoveable) {\r\n                parentMoveable.checkUpdateRect();\r\n                return;\r\n            }\r\n            cancelAnimationFrame(_this._observerId);\r\n            _this._observerId = requestAnimationFrame(function () {\r\n                if (_this.isDragging()) {\r\n                    return;\r\n                }\r\n                _this.updateRect();\r\n            });\r\n        };\r\n        _this._onPreventClick = function (e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            // removeEvent(window, \"click\", this._onPreventClick, true);\r\n        };\r\n        return _this;\r\n    }\r\n    MoveableManager.prototype.render = function () {\r\n        var props = this.props;\r\n        var state = this.getState();\r\n        var parentPosition = props.parentPosition, className = props.className, propsTarget = props.target, zoom = props.zoom, cspNonce = props.cspNonce, translateZ = props.translateZ, ControlBoxElement = props.cssStyled, groupable = props.groupable, linePadding = props.linePadding, controlPadding = props.controlPadding;\r\n        this._checkUpdateRootContainer();\r\n        this.checkUpdate();\r\n        this.updateRenderPoses();\r\n        var _a = __read(parentPosition || [0, 0], 2), parentLeft = _a[0], parentTop = _a[1];\r\n        var left = state.left, top = state.top, stateTarget = state.target, direction = state.direction, hasFixed = state.hasFixed, offsetDelta = state.offsetDelta;\r\n        var groupTargets = props.targets;\r\n        var isDragging = this.isDragging();\r\n        var ableAttributes = {};\r\n        this.getEnabledAbles().forEach(function (able) {\r\n            ableAttributes[\"data-able-\".concat(able.name.toLowerCase())] = true;\r\n        });\r\n        var ableClassName = this._getAbleClassName();\r\n        var isDisplay = (groupTargets && groupTargets.length && (stateTarget || groupable))\r\n            || propsTarget\r\n            || (!this._hasFirstTarget && this.state.isPersisted);\r\n        var isVisible = this.controlBox || this.props.firstRenderState || this.props.persistData;\r\n        var translate = [left - parentLeft, top - parentTop];\r\n        if (!groupable && props.useAccuratePosition) {\r\n            translate[0] += offsetDelta[0];\r\n            translate[1] += offsetDelta[1];\r\n        }\r\n        var style = {\r\n            \"position\": hasFixed ? \"fixed\" : \"absolute\",\r\n            \"display\": isDisplay ? \"block\" : \"none\",\r\n            \"visibility\": isVisible ? \"visible\" : \"hidden\",\r\n            \"transform\": \"translate3d(\".concat(translate[0], \"px, \").concat(translate[1], \"px, \").concat(translateZ, \")\"),\r\n            \"--zoom\": zoom,\r\n            \"--zoompx\": \"\".concat(zoom, \"px\"),\r\n        };\r\n        if (linePadding) {\r\n            style[\"--moveable-line-padding\"] = linePadding;\r\n        }\r\n        if (controlPadding) {\r\n            style[\"--moveable-control-padding\"] = controlPadding;\r\n        }\r\n        return (React.createElement(ControlBoxElement, __assign({ cspNonce: cspNonce, ref: ref(this, \"controlBox\"), className: \"\".concat(prefix(\"control-box\", direction === -1 ? \"reverse\" : \"\", isDragging ? \"dragging\" : \"\"), \" \").concat(ableClassName, \" \").concat(className) }, ableAttributes, { onClick: this._onPreventClick, style: style }),\r\n            this.renderAbles(),\r\n            this._renderLines()));\r\n    };\r\n    MoveableManager.prototype.componentDidMount = function () {\r\n        this.isMoveableMounted = true;\r\n        this.isUnmounted = false;\r\n        var props = this.props;\r\n        var parentMoveable = props.parentMoveable, container = props.container;\r\n        this._checkUpdateRootContainer();\r\n        this._checkUpdateViewContainer();\r\n        this._updateTargets();\r\n        this._updateNativeEvents();\r\n        this._updateEvents();\r\n        this.updateCheckInput();\r\n        this._updateObserver(this.props);\r\n        if (!container && !parentMoveable && !this.state.isPersisted) {\r\n            this.updateRect(\"\", false, false);\r\n            this.forceUpdate();\r\n        }\r\n    };\r\n    MoveableManager.prototype.componentDidUpdate = function (prevProps) {\r\n        this._checkUpdateRootContainer();\r\n        this._checkUpdateViewContainer();\r\n        this._updateNativeEvents();\r\n        this._updateTargets();\r\n        this._updateEvents();\r\n        this.updateCheckInput();\r\n        this._updateObserver(prevProps);\r\n    };\r\n    MoveableManager.prototype.componentWillUnmount = function () {\r\n        var _a, _b;\r\n        this.isMoveableMounted = false;\r\n        this.isUnmounted = true;\r\n        this._emitter.off();\r\n        (_a = this._reiszeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n        (_b = this._mutationObserver) === null || _b === void 0 ? void 0 : _b.disconnect();\r\n        var viewContainer = this._viewContainer;\r\n        if (viewContainer) {\r\n            this._changeAbleViewClassNames([]);\r\n        }\r\n        unsetGesto(this, false);\r\n        unsetGesto(this, true);\r\n        var events = this.events;\r\n        for (var name_1 in events) {\r\n            var manager = events[name_1];\r\n            manager && manager.destroy();\r\n        }\r\n    };\r\n    MoveableManager.prototype.getTargets = function () {\r\n        var target = this.props.target;\r\n        return target ? [target] : [];\r\n    };\r\n    /**\r\n     * Get the able used in MoveableManager.\r\n     * @method Moveable#getAble\r\n     * @param - able name\r\n     */\r\n    MoveableManager.prototype.getAble = function (ableName) {\r\n        var ables = this.props.ables || [];\r\n        return find(ables, function (able) { return able.name === ableName; });\r\n    };\r\n    MoveableManager.prototype.getContainer = function () {\r\n        var _a = this.props, parentMoveable = _a.parentMoveable, wrapperMoveable = _a.wrapperMoveable, container = _a.container;\r\n        return container\r\n            || (wrapperMoveable && wrapperMoveable.getContainer())\r\n            || (parentMoveable && parentMoveable.getContainer())\r\n            || this.controlBox.parentElement;\r\n    };\r\n    /**\r\n     * Returns the element of the control box.\r\n     * @method Moveable#getControlBoxElement\r\n     */\r\n    MoveableManager.prototype.getControlBoxElement = function () {\r\n        return this.controlBox;\r\n    };\r\n    /**\r\n     * Target element to be dragged in moveable\r\n     * @method Moveable#getDragElement\r\n     */\r\n    MoveableManager.prototype.getDragElement = function () {\r\n        return this._dragTarget;\r\n    };\r\n    /**\r\n     * Check if the target is an element included in the moveable.\r\n     * @method Moveable#isMoveableElement\r\n     * @param - the target\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * window.addEventListener(\"click\", e => {\r\n     *     if (!moveable.isMoveableElement(e.target)) {\r\n     *         moveable.target = e.target;\r\n     *     }\r\n     * });\r\n     */\r\n    MoveableManager.prototype.isMoveableElement = function (target) {\r\n        var _a;\r\n        return target && (((_a = target.getAttribute) === null || _a === void 0 ? void 0 : _a.call(target, \"class\")) || \"\").indexOf(PREFIX) > -1;\r\n    };\r\n    /**\r\n     * You can drag start the Moveable through the external `MouseEvent`or `TouchEvent`. (Angular: ngDragStart)\r\n     * @method Moveable#dragStart\r\n     * @param - external `MouseEvent`or `TouchEvent`\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * document.body.addEventListener(\"mousedown\", e => {\r\n     *     if (!moveable.isMoveableElement(e.target)) {\r\n     *          moveable.dragStart(e);\r\n     *     }\r\n     * });\r\n     */\r\n    MoveableManager.prototype.dragStart = function (e, target) {\r\n        if (target === void 0) { target = e.target; }\r\n        var targetGesto = this.targetGesto;\r\n        var controlGesto = this.controlGesto;\r\n        if (targetGesto && checkMoveableTarget(this)({ inputEvent: e }, target)) {\r\n            if (!targetGesto.isFlag()) {\r\n                targetGesto.triggerDragStart(e);\r\n            }\r\n        }\r\n        else if (controlGesto && this.isMoveableElement(target)) {\r\n            if (!controlGesto.isFlag()) {\r\n                controlGesto.triggerDragStart(e);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Hit test an element or rect on a moveable target.\r\n     * (100% = 100)\r\n     * @method Moveable#hitTest\r\n     * @param - element or rect to test\r\n     * @return - Get hit test rate (rate > 0 is hitted)\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * document.body.addEventListener(\"mousedown\", e => {\r\n     *     if (moveable.hitTest(e.target) > 0) {\r\n     *          console.log(\"hiited\");\r\n     *     }\r\n     * });\r\n     */\r\n    MoveableManager.prototype.hitTest = function (el) {\r\n        var _a = this.state, target = _a.target, pos1 = _a.pos1, pos2 = _a.pos2, pos3 = _a.pos3, pos4 = _a.pos4, targetClientRect = _a.targetClientRect;\r\n        if (!target) {\r\n            return 0;\r\n        }\r\n        var rect;\r\n        if (isNode(el)) {\r\n            var clientRect = el.getBoundingClientRect();\r\n            rect = {\r\n                left: clientRect.left,\r\n                top: clientRect.top,\r\n                width: clientRect.width,\r\n                height: clientRect.height,\r\n            };\r\n        }\r\n        else {\r\n            rect = __assign({ width: 0, height: 0 }, el);\r\n        }\r\n        var rectLeft = rect.left, rectTop = rect.top, rectWidth = rect.width, rectHeight = rect.height;\r\n        var points = fitPoints([pos1, pos2, pos4, pos3], targetClientRect);\r\n        var size = getOverlapSize(points, [\r\n            [rectLeft, rectTop],\r\n            [rectLeft + rectWidth, rectTop],\r\n            [rectLeft + rectWidth, rectTop + rectHeight],\r\n            [rectLeft, rectTop + rectHeight],\r\n        ]);\r\n        var totalSize = getAreaSize(points);\r\n        if (!size || !totalSize) {\r\n            return 0;\r\n        }\r\n        return Math.min(100, size / totalSize * 100);\r\n    };\r\n    /**\r\n     * Whether the coordinates are inside Moveable\r\n     * @method Moveable#isInside\r\n     * @param - x coordinate\r\n     * @param - y coordinate\r\n     * @return - True if the coordinate is in moveable or false\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * document.body.addEventListener(\"mousedown\", e => {\r\n     *     if (moveable.isInside(e.clientX, e.clientY)) {\r\n     *          console.log(\"inside\");\r\n     *     }\r\n     * });\r\n     */\r\n    MoveableManager.prototype.isInside = function (clientX, clientY) {\r\n        var _a = this.state, target = _a.target, pos1 = _a.pos1, pos2 = _a.pos2, pos3 = _a.pos3, pos4 = _a.pos4, targetClientRect = _a.targetClientRect;\r\n        if (!target) {\r\n            return false;\r\n        }\r\n        return isInside([clientX, clientY], fitPoints([pos1, pos2, pos4, pos3], targetClientRect));\r\n    };\r\n    /**\r\n     * If the width, height, left, and top of all elements change, update the shape of the moveable.\r\n     * @method Moveable#updateRect\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * window.addEventListener(\"resize\", e => {\r\n     *     moveable.updateRect();\r\n     * });\r\n     */\r\n    MoveableManager.prototype.updateRect = function (type, isTarget, isSetState) {\r\n        if (isSetState === void 0) { isSetState = true; }\r\n        var props = this.props;\r\n        var isSingle = !props.parentPosition && !props.wrapperMoveable;\r\n        if (isSingle) {\r\n            setStoreCache(true);\r\n        }\r\n        var parentMoveable = props.parentMoveable;\r\n        var state = this.state;\r\n        var target = (state.target || props.target);\r\n        var container = this.getContainer();\r\n        var rootContainer = parentMoveable\r\n            ? parentMoveable._rootContainer\r\n            : this._rootContainer;\r\n        var nextState = getMoveableTargetInfo(this.controlBox, target, container, container, rootContainer || container, this._getRequestStyles());\r\n        if (!target && this._hasFirstTarget && props.persistData) {\r\n            var persistState = getPersistState(props.persistData);\r\n            for (var name_2 in persistState) {\r\n                nextState[name_2] = persistState[name_2];\r\n            }\r\n        }\r\n        if (isSingle) {\r\n            setStoreCache();\r\n        }\r\n        this.updateState(nextState, parentMoveable ? false : isSetState);\r\n    };\r\n    /**\r\n     * Check if the moveable state is being dragged.\r\n     * @method Moveable#isDragging\r\n     * @param - If you want to check if able is dragging, specify ableName.\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * // false\r\n     * console.log(moveable.isDragging());\r\n     *\r\n     * moveable.on(\"drag\", () => {\r\n     *   // true\r\n     *   console.log(moveable.isDragging());\r\n     * });\r\n     */\r\n    MoveableManager.prototype.isDragging = function (ableName) {\r\n        var _a, _b;\r\n        var targetGesto = this.targetGesto;\r\n        var controlGesto = this.controlGesto;\r\n        if (targetGesto === null || targetGesto === void 0 ? void 0 : targetGesto.isFlag()) {\r\n            if (!ableName) {\r\n                return true;\r\n            }\r\n            var data = targetGesto.getEventData();\r\n            return !!((_a = data[ableName]) === null || _a === void 0 ? void 0 : _a.isEventStart);\r\n        }\r\n        if (controlGesto === null || controlGesto === void 0 ? void 0 : controlGesto.isFlag()) {\r\n            if (!ableName) {\r\n                return true;\r\n            }\r\n            var data = controlGesto.getEventData();\r\n            return !!((_b = data[ableName]) === null || _b === void 0 ? void 0 : _b.isEventStart);\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * If the width, height, left, and top of the only target change, update the shape of the moveable.\r\n     * Use `.updateRect()` method\r\n     * @method Moveable#updateTarget\r\n     * @deprecated\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * moveable.updateTarget();\r\n     */\r\n    MoveableManager.prototype.updateTarget = function (type) {\r\n        this.updateRect(type, true);\r\n    };\r\n    /**\r\n     * You can get the vertex information, position and offset size information of the target based on the container.\r\n     * @method Moveable#getRect\r\n     * @return - The Rect Info\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * const rectInfo = moveable.getRect();\r\n     */\r\n    MoveableManager.prototype.getRect = function () {\r\n        var state = this.state;\r\n        var poses = getAbsolutePosesByState(this.state);\r\n        var _a = __read(poses, 4), pos1 = _a[0], pos2 = _a[1], pos3 = _a[2], pos4 = _a[3];\r\n        var rect = getRect(poses);\r\n        var offsetWidth = state.width, offsetHeight = state.height;\r\n        var width = rect.width, height = rect.height, left = rect.left, top = rect.top;\r\n        var statePos = [state.left, state.top];\r\n        var origin = plus(statePos, state.origin);\r\n        var beforeOrigin = plus(statePos, state.beforeOrigin);\r\n        var transformOrigin = state.transformOrigin;\r\n        return {\r\n            width: width,\r\n            height: height,\r\n            left: left,\r\n            top: top,\r\n            pos1: pos1,\r\n            pos2: pos2,\r\n            pos3: pos3,\r\n            pos4: pos4,\r\n            offsetWidth: offsetWidth,\r\n            offsetHeight: offsetHeight,\r\n            beforeOrigin: beforeOrigin,\r\n            origin: origin,\r\n            transformOrigin: transformOrigin,\r\n            rotation: this.getRotation(),\r\n        };\r\n    };\r\n    /**\r\n     * Get a manager that manages the moveable's state and props.\r\n     * @method Moveable#getManager\r\n     * @return - The Rect Info\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * const manager = moveable.getManager(); // real moveable class instance\r\n     */\r\n    MoveableManager.prototype.getManager = function () {\r\n        return this;\r\n    };\r\n    /**\r\n     * You can stop the dragging currently in progress through a method from outside.\r\n     * @method Moveable#stopDrag\r\n     * @return - The Rect Info\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * moveable.stopDrag();\r\n     */\r\n    MoveableManager.prototype.stopDrag = function (type) {\r\n        if (!type || type === \"target\") {\r\n            var gesto = this.targetGesto;\r\n            if ((gesto === null || gesto === void 0 ? void 0 : gesto.isIdle()) === false) {\r\n                unsetAbles(this, false);\r\n            }\r\n            gesto === null || gesto === void 0 ? void 0 : gesto.stop();\r\n        }\r\n        if (!type || type === \"control\") {\r\n            var gesto = this.controlGesto;\r\n            if ((gesto === null || gesto === void 0 ? void 0 : gesto.isIdle()) === false) {\r\n                unsetAbles(this, true);\r\n            }\r\n            gesto === null || gesto === void 0 ? void 0 : gesto.stop();\r\n        }\r\n    };\r\n    MoveableManager.prototype.getRotation = function () {\r\n        var _a = this.state, pos1 = _a.pos1, pos2 = _a.pos2, direction = _a.direction;\r\n        return getAbsoluteRotation(pos1, pos2, direction);\r\n    };\r\n    /**\r\n     * Request able through a method rather than an event.\r\n     * At the moment of execution, requestStart is executed,\r\n     * and then request and requestEnd can be executed through Requester.\r\n     * @method Moveable#request\r\n     * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Draggable.html#request|Draggable Requester}\r\n     * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Resizable.html#request|Resizable Requester}\r\n     * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Scalable.html#request|Scalable Requester}\r\n     * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Rotatable.html#request|Rotatable Requester}\r\n     * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.OriginDraggable.html#request|OriginDraggable Requester}\r\n     * @param - ableName\r\n     * @param - request to be able params.\r\n     * @param - If isInstant is true, request and requestEnd are executed immediately.\r\n     * @return - Able Requester. If there is no request in able, nothing will work.\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * // Instantly Request (requestStart - request - requestEnd)\r\n     * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\r\n     *\r\n     * // Start move\r\n     * const requester = moveable.request(\"draggable\");\r\n     * requester.request({ deltaX: 10, deltaY: 10 });\r\n     * requester.request({ deltaX: 10, deltaY: 10 });\r\n     * requester.request({ deltaX: 10, deltaY: 10 });\r\n     * requester.requestEnd();\r\n     */\r\n    MoveableManager.prototype.request = function (ableName, param, isInstant) {\r\n        if (param === void 0) { param = {}; }\r\n        var self = this;\r\n        var props = self.props;\r\n        var manager = props.parentMoveable || props.wrapperMoveable || self;\r\n        var allAbles = manager.props.ables;\r\n        var groupable = props.groupable;\r\n        var requsetAble = find(allAbles, function (able) { return able.name === ableName; });\r\n        if (this.isDragging() || !requsetAble || !requsetAble.request) {\r\n            return {\r\n                request: function () {\r\n                    return this;\r\n                },\r\n                requestEnd: function () {\r\n                    return this;\r\n                },\r\n            };\r\n        }\r\n        var ableRequester = requsetAble.request(self);\r\n        var requestInstant = isInstant || param.isInstant;\r\n        var ableType = ableRequester.isControl ? \"controlAbles\" : \"targetAbles\";\r\n        var eventAffix = \"\".concat((groupable ? \"Group\" : \"\")).concat(ableRequester.isControl ? \"Control\" : \"\");\r\n        var moveableAbles = __spreadArray([], __read(manager[ableType]), false);\r\n        var requester = {\r\n            request: function (ableParam) {\r\n                triggerAble(self, moveableAbles, [\"drag\"], eventAffix, \"\", __assign(__assign({}, ableRequester.request(ableParam)), { requestAble: ableName, isRequest: true }), requestInstant);\r\n                return requester;\r\n            },\r\n            requestEnd: function () {\r\n                triggerAble(self, moveableAbles, [\"drag\"], eventAffix, \"End\", __assign(__assign({}, ableRequester.requestEnd()), { requestAble: ableName, isRequest: true }), requestInstant);\r\n                return requester;\r\n            },\r\n        };\r\n        triggerAble(self, moveableAbles, [\"drag\"], eventAffix, \"Start\", __assign(__assign({}, ableRequester.requestStart(param)), { requestAble: ableName, isRequest: true }), requestInstant);\r\n        return requestInstant ? requester.request(param).requestEnd() : requester;\r\n    };\r\n    /**\r\n     * moveable is the top level that manages targets\r\n     * `Single`: MoveableManager instance\r\n     * `Group`: MoveableGroup instance\r\n     * `IndividualGroup`: MoveableIndividaulGroup instance\r\n     * Returns leaf target MoveableManagers.\r\n     */\r\n    MoveableManager.prototype.getMoveables = function () {\r\n        return [this];\r\n    };\r\n    /**\r\n     * Remove the Moveable object and the events.\r\n     * @method Moveable#destroy\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * moveable.destroy();\r\n     */\r\n    MoveableManager.prototype.destroy = function () {\r\n        this.componentWillUnmount();\r\n    };\r\n    MoveableManager.prototype.updateRenderPoses = function () {\r\n        var state = this.getState();\r\n        var props = this.props;\r\n        var padding = props.padding;\r\n        var originalBeforeOrigin = state.originalBeforeOrigin, transformOrigin = state.transformOrigin, allMatrix = state.allMatrix, is3d = state.is3d, pos1 = state.pos1, pos2 = state.pos2, pos3 = state.pos3, pos4 = state.pos4, stateLeft = state.left, stateTop = state.top, isPersisted = state.isPersisted;\r\n        var zoom = props.zoom || 1;\r\n        if (!padding && zoom <= 1) {\r\n            state.renderPoses = [\r\n                pos1,\r\n                pos2,\r\n                pos3,\r\n                pos4,\r\n            ];\r\n            state.renderLines = [\r\n                [pos1, pos2],\r\n                [pos2, pos4],\r\n                [pos4, pos3],\r\n                [pos3, pos1],\r\n            ];\r\n            return;\r\n        }\r\n        var _a = getPaddingBox(padding || {}), left = _a.left, top = _a.top, bottom = _a.bottom, right = _a.right;\r\n        var n = is3d ? 4 : 3;\r\n        // const clipPathInfo = getClipPath(\r\n        //     props.target,\r\n        //     offsetWidth,\r\n        //     offsetHeight,\r\n        // );\r\n        // if (clipPathInfo) {\r\n        //     left -= Math.max(0, clipPathInfo.left);\r\n        //     top -= Math.max(0, clipPathInfo.top);\r\n        //     bottom -= Math.max(0, offsetHeight - clipPathInfo.bottom);\r\n        //     right -= Math.max(0, offsetWidth - clipPathInfo.right);\r\n        // }\r\n        var absoluteOrigin = [];\r\n        if (isPersisted) {\r\n            absoluteOrigin = transformOrigin;\r\n        }\r\n        else if (this.controlBox && props.groupable) {\r\n            absoluteOrigin = originalBeforeOrigin;\r\n        }\r\n        else {\r\n            absoluteOrigin = plus(originalBeforeOrigin, [stateLeft, stateTop]);\r\n        }\r\n        var nextMatrix = multiplies(n, createOriginMatrix(absoluteOrigin.map(function (v) { return -v; }), n), allMatrix, createOriginMatrix(transformOrigin, n));\r\n        var renderPos1 = calculatePadding(nextMatrix, pos1, [-left, -top], n);\r\n        var renderPos2 = calculatePadding(nextMatrix, pos2, [right, -top], n);\r\n        var renderPos3 = calculatePadding(nextMatrix, pos3, [-left, bottom], n);\r\n        var renderPos4 = calculatePadding(nextMatrix, pos4, [right, bottom], n);\r\n        state.renderPoses = [\r\n            renderPos1,\r\n            renderPos2,\r\n            renderPos3,\r\n            renderPos4,\r\n        ];\r\n        state.renderLines = [\r\n            [renderPos1, renderPos2],\r\n            [renderPos2, renderPos4],\r\n            [renderPos4, renderPos3],\r\n            [renderPos3, renderPos1],\r\n        ];\r\n        if (zoom) {\r\n            var zoomOffset = zoom / 2;\r\n            state.renderLines = [\r\n                [\r\n                    calculatePadding(nextMatrix, pos1, [-left - zoomOffset, -top], n),\r\n                    calculatePadding(nextMatrix, pos2, [right + zoomOffset, -top], n),\r\n                ],\r\n                [\r\n                    calculatePadding(nextMatrix, pos2, [right, -top - zoomOffset], n),\r\n                    calculatePadding(nextMatrix, pos4, [right, bottom + zoomOffset], n),\r\n                ],\r\n                [\r\n                    calculatePadding(nextMatrix, pos4, [right + zoomOffset, bottom], n),\r\n                    calculatePadding(nextMatrix, pos3, [-left - zoomOffset, bottom], n),\r\n                ],\r\n                [\r\n                    calculatePadding(nextMatrix, pos3, [-left, bottom + zoomOffset], n),\r\n                    calculatePadding(nextMatrix, pos1, [-left, -top - zoomOffset], n),\r\n                ],\r\n            ];\r\n        }\r\n    };\r\n    MoveableManager.prototype.checkUpdate = function () {\r\n        this._isPropTargetChanged = false;\r\n        var _a = this.props, target = _a.target, container = _a.container, parentMoveable = _a.parentMoveable;\r\n        var _b = this.state, stateTarget = _b.target, stateContainer = _b.container;\r\n        if (!stateTarget && !target) {\r\n            return;\r\n        }\r\n        this.updateAbles();\r\n        var isTargetChanged = !equals(stateTarget, target);\r\n        var isChanged = isTargetChanged || !equals(stateContainer, container);\r\n        if (!isChanged) {\r\n            return;\r\n        }\r\n        var moveableContainer = container || this.controlBox;\r\n        if (moveableContainer) {\r\n            this.unsetAbles();\r\n        }\r\n        this.updateState({ target: target, container: container });\r\n        if (!parentMoveable && moveableContainer) {\r\n            this.updateRect(\"End\", false, false);\r\n        }\r\n        this._isPropTargetChanged = isTargetChanged;\r\n    };\r\n    MoveableManager.prototype.waitToChangeTarget = function () {\r\n        return new Promise(function () { });\r\n    };\r\n    MoveableManager.prototype.triggerEvent = function (name, e) {\r\n        var props = this.props;\r\n        this._emitter.trigger(name, e);\r\n        if (props.parentMoveable && e.isRequest && !e.isRequestChild) {\r\n            return props.parentMoveable.triggerEvent(name, e, true);\r\n        }\r\n        var callback = props[name];\r\n        return callback && callback(e);\r\n    };\r\n    MoveableManager.prototype.useCSS = function (tag, css) {\r\n        var customStyleMap = this.props.customStyledMap;\r\n        var key = tag + css;\r\n        if (!customStyleMap[key]) {\r\n            customStyleMap[key] = styled(tag, css);\r\n        }\r\n        return customStyleMap[key];\r\n    };\r\n    MoveableManager.prototype.getState = function () {\r\n        var _a;\r\n        var props = this.props;\r\n        if (props.target || ((_a = props.targets) === null || _a === void 0 ? void 0 : _a.length)) {\r\n            this._hasFirstTarget = true;\r\n        }\r\n        var hasControlBox = this.controlBox;\r\n        var persistData = props.persistData;\r\n        var firstRenderState = props.firstRenderState;\r\n        if (firstRenderState && !hasControlBox) {\r\n            return firstRenderState;\r\n        }\r\n        if (!this._hasFirstTarget && persistData) {\r\n            var persistState = getPersistState(persistData);\r\n            if (persistState) {\r\n                this.updateState(persistState, false);\r\n                return this.state;\r\n            }\r\n        }\r\n        this.state.isPersisted = false;\r\n        return this.state;\r\n    };\r\n    MoveableManager.prototype.updateSelectors = function () { };\r\n    MoveableManager.prototype.unsetAbles = function () {\r\n        var _this = this;\r\n        this.targetAbles.forEach(function (able) {\r\n            if (able.unset) {\r\n                able.unset(_this);\r\n            }\r\n        });\r\n    };\r\n    MoveableManager.prototype.updateAbles = function (ables, eventAffix) {\r\n        if (ables === void 0) { ables = this.props.ables; }\r\n        if (eventAffix === void 0) { eventAffix = \"\"; }\r\n        var props = this.props;\r\n        var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\r\n        var enabledAbles = this.getEnabledAbles(ables);\r\n        var dragStart = \"drag\".concat(eventAffix, \"Start\");\r\n        var pinchStart = \"pinch\".concat(eventAffix, \"Start\");\r\n        var dragControlStart = \"drag\".concat(eventAffix, \"ControlStart\");\r\n        var targetAbles = filterAbles(enabledAbles, [dragStart, pinchStart], triggerAblesSimultaneously);\r\n        var controlAbles = filterAbles(enabledAbles, [dragControlStart], triggerAblesSimultaneously);\r\n        this.enabledAbles = enabledAbles;\r\n        this.targetAbles = targetAbles;\r\n        this.controlAbles = controlAbles;\r\n    };\r\n    MoveableManager.prototype.updateState = function (nextState, isSetState) {\r\n        if (isSetState) {\r\n            if (this.isUnmounted) {\r\n                return;\r\n            }\r\n            this.setState(nextState);\r\n        }\r\n        else {\r\n            var state = this.state;\r\n            for (var name_3 in nextState) {\r\n                state[name_3] = nextState[name_3];\r\n            }\r\n        }\r\n    };\r\n    MoveableManager.prototype.getEnabledAbles = function (ables) {\r\n        if (ables === void 0) { ables = this.props.ables; }\r\n        var props = this.props;\r\n        return ables.filter(function (able) { return able && ((able.always && props[able.name] !== false)\r\n            || props[able.name]); });\r\n    };\r\n    MoveableManager.prototype.renderAbles = function () {\r\n        var _this = this;\r\n        var props = this.props;\r\n        var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\r\n        var Renderer = {\r\n            createElement: createElement,\r\n        };\r\n        this.renderState = {};\r\n        return groupByMap(flat(filterAbles(this.getEnabledAbles(), [\"render\"], triggerAblesSimultaneously).map(function (_a) {\r\n            var render = _a.render;\r\n            return render(_this, Renderer) || [];\r\n        })).filter(function (el) { return el; }), function (_a) {\r\n            var key = _a.key;\r\n            return key;\r\n        }).map(function (group) { return group[0]; });\r\n    };\r\n    MoveableManager.prototype.updateCheckInput = function () {\r\n        this.targetGesto && (this.targetGesto.options.checkInput = this.props.checkInput);\r\n    };\r\n    MoveableManager.prototype._getRequestStyles = function () {\r\n        var styleNames = this.getEnabledAbles().reduce(function (names, able) {\r\n            var _a, _b;\r\n            var ableStyleNames = ((_b = (_a = able.requestStyle) === null || _a === void 0 ? void 0 : _a.call(able)) !== null && _b !== void 0 ? _b : []);\r\n            return __spreadArray(__spreadArray([], __read(names), false), __read(ableStyleNames), false);\r\n        }, __spreadArray([], __read((this.props.requestStyles || [])), false));\r\n        return styleNames;\r\n    };\r\n    MoveableManager.prototype._updateObserver = function (prevProps) {\r\n        this._updateResizeObserver(prevProps);\r\n        this._updateMutationObserver(prevProps);\r\n    };\r\n    MoveableManager.prototype._updateEvents = function () {\r\n        var hasTargetAble = this.targetAbles.length;\r\n        var hasControlAble = this.controlAbles.length;\r\n        var target = this._dragTarget;\r\n        var isUnset = (!hasTargetAble && this.targetGesto)\r\n            || this._isTargetChanged(true);\r\n        if (isUnset) {\r\n            unsetGesto(this, false);\r\n            this.updateState({ gestos: {} });\r\n        }\r\n        if (!hasControlAble) {\r\n            unsetGesto(this, true);\r\n        }\r\n        if (target && hasTargetAble && !this.targetGesto) {\r\n            this.targetGesto = getTargetAbleGesto(this, target, \"\");\r\n        }\r\n        if (!this.controlGesto && hasControlAble) {\r\n            this.controlGesto = getControlAbleGesto(this, \"Control\");\r\n        }\r\n    };\r\n    MoveableManager.prototype._updateTargets = function () {\r\n        var props = this.props;\r\n        this._prevPropTarget = this._propTarget;\r\n        this._prevDragTarget = this._dragTarget;\r\n        this._prevOriginalDragTarget = this._originalDragTarget;\r\n        this._prevDragArea = props.dragArea;\r\n        this._propTarget = props.target;\r\n        this._originalDragTarget = props.dragTarget || props.target;\r\n        this._dragTarget = getRefTarget(this._originalDragTarget, true);\r\n    };\r\n    MoveableManager.prototype._renderLines = function () {\r\n        var props = this.props;\r\n        var _a = props, zoom = _a.zoom, hideDefaultLines = _a.hideDefaultLines, hideChildMoveableDefaultLines = _a.hideChildMoveableDefaultLines, parentMoveable = _a.parentMoveable;\r\n        if (hideDefaultLines || (parentMoveable && hideChildMoveableDefaultLines)) {\r\n            return [];\r\n        }\r\n        var state = this.getState();\r\n        var Renderer = {\r\n            createElement: createElement,\r\n        };\r\n        return state.renderLines.map(function (line, i) {\r\n            return renderLine(Renderer, \"\", line[0], line[1], zoom, \"render-line-\".concat(i));\r\n        });\r\n    };\r\n    MoveableManager.prototype._isTargetChanged = function (useDragArea) {\r\n        var props = this.props;\r\n        var nextTarget = props.dragTarget || props.target;\r\n        var prevTarget = this._prevOriginalDragTarget;\r\n        var prevDragArea = this._prevDragArea;\r\n        var dragArea = props.dragArea;\r\n        // check target without dragArea\r\n        var isDragTargetChanged = !dragArea && prevTarget !== nextTarget;\r\n        var isDragAreaChanged = (useDragArea || dragArea) && prevDragArea !== dragArea;\r\n        return isDragTargetChanged || isDragAreaChanged || this._prevPropTarget != this._propTarget;\r\n    };\r\n    MoveableManager.prototype._updateNativeEvents = function () {\r\n        var _this = this;\r\n        var props = this.props;\r\n        var target = props.dragArea ? this.areaElement : this.state.target;\r\n        var events = this.events;\r\n        var eventKeys = getKeys(events);\r\n        if (this._isTargetChanged()) {\r\n            for (var eventName in events) {\r\n                var manager = events[eventName];\r\n                manager && manager.destroy();\r\n                events[eventName] = null;\r\n            }\r\n        }\r\n        if (!target) {\r\n            return;\r\n        }\r\n        var enabledAbles = this.enabledAbles;\r\n        eventKeys.forEach(function (eventName) {\r\n            var ables = filterAbles(enabledAbles, [eventName]);\r\n            var hasAbles = ables.length > 0;\r\n            var manager = events[eventName];\r\n            if (!hasAbles) {\r\n                if (manager) {\r\n                    manager.destroy();\r\n                    events[eventName] = null;\r\n                }\r\n                return;\r\n            }\r\n            if (!manager) {\r\n                manager = new EventManager(target, _this, eventName);\r\n                events[eventName] = manager;\r\n            }\r\n            manager.setAbles(ables);\r\n        });\r\n    };\r\n    MoveableManager.prototype._checkUpdateRootContainer = function () {\r\n        var rootContainer = this.props.rootContainer;\r\n        if (!this._rootContainer && rootContainer) {\r\n            this._rootContainer = getRefTarget(rootContainer, true);\r\n        }\r\n    };\r\n    MoveableManager.prototype._checkUpdateViewContainer = function () {\r\n        var viewContainerOption = this.props.viewContainer;\r\n        if (!this._viewContainer && viewContainerOption) {\r\n            this._viewContainer = getRefTarget(viewContainerOption, true);\r\n        }\r\n        var viewContainer = this._viewContainer;\r\n        if (viewContainer) {\r\n            this._changeAbleViewClassNames(__spreadArray(__spreadArray([], __read(this._getAbleViewClassNames()), false), [\r\n                this.isDragging() ? VIEW_DRAGGING : \"\",\r\n            ], false));\r\n        }\r\n    };\r\n    MoveableManager.prototype._changeAbleViewClassNames = function (classNames) {\r\n        var viewContainer = this._viewContainer;\r\n        var nextClassNames = groupBy(classNames.filter(Boolean), function (el) { return el; }).map(function (_a) {\r\n            var _b = __read(_a, 1), className = _b[0];\r\n            return className;\r\n        });\r\n        var prevClassNames = this._viewClassNames;\r\n        var _a = diff$1(prevClassNames, nextClassNames), removed = _a.removed, added = _a.added;\r\n        removed.forEach(function (index) {\r\n            removeClass(viewContainer, prevClassNames[index]);\r\n        });\r\n        added.forEach(function (index) {\r\n            addClass(viewContainer, nextClassNames[index]);\r\n        });\r\n        this._viewClassNames = nextClassNames;\r\n    };\r\n    MoveableManager.prototype._getAbleViewClassNames = function () {\r\n        var _this = this;\r\n        return (this.getEnabledAbles().map(function (able) {\r\n            var _a;\r\n            return (((_a = able.viewClassName) === null || _a === void 0 ? void 0 : _a.call(able, _this)) || \"\");\r\n        }).join(\" \") + \" \".concat(this._getAbleClassName(\"-view\"))).split(/\\s+/g);\r\n    };\r\n    MoveableManager.prototype._getAbleClassName = function (classPrefix) {\r\n        var _this = this;\r\n        if (classPrefix === void 0) { classPrefix = \"\"; }\r\n        var ables = this.getEnabledAbles();\r\n        var targetGesto = this.targetGesto;\r\n        var controlGesto = this.controlGesto;\r\n        var targetGestoData = (targetGesto === null || targetGesto === void 0 ? void 0 : targetGesto.isFlag())\r\n            ? targetGesto.getEventData() : {};\r\n        var controlGestoData = (controlGesto === null || controlGesto === void 0 ? void 0 : controlGesto.isFlag())\r\n            ? controlGesto.getEventData() : {};\r\n        return ables.map(function (able) {\r\n            var _a, _b, _c;\r\n            var name = able.name;\r\n            var className = ((_a = able.className) === null || _a === void 0 ? void 0 : _a.call(able, _this)) || \"\";\r\n            if (((_b = targetGestoData[name]) === null || _b === void 0 ? void 0 : _b.isEventStart)\r\n                || ((_c = controlGestoData[name]) === null || _c === void 0 ? void 0 : _c.isEventStart)) {\r\n                className += \" \".concat(prefix(\"\".concat(name).concat(classPrefix, \"-dragging\")));\r\n            }\r\n            return className.trim();\r\n        }).filter(Boolean).join(\" \");\r\n    };\r\n    MoveableManager.prototype._updateResizeObserver = function (prevProps) {\r\n        var _a;\r\n        var props = this.props;\r\n        var target = props.target;\r\n        var win = getWindow(this.getControlBoxElement());\r\n        if (!win.ResizeObserver || !target || !props.useResizeObserver) {\r\n            (_a = this._reiszeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n            return;\r\n        }\r\n        if (prevProps.target === target && this._reiszeObserver) {\r\n            return;\r\n        }\r\n        var observer = new win.ResizeObserver(this.checkUpdateRect);\r\n        observer.observe(target, {\r\n            box: \"border-box\",\r\n        });\r\n        this._reiszeObserver = observer;\r\n    };\r\n    MoveableManager.prototype._updateMutationObserver = function (prevProps) {\r\n        var _this = this;\r\n        var _a;\r\n        var props = this.props;\r\n        var target = props.target;\r\n        var win = getWindow(this.getControlBoxElement());\r\n        if (!win.MutationObserver || !target || !props.useMutationObserver) {\r\n            (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n            return;\r\n        }\r\n        if (prevProps.target === target && this._mutationObserver) {\r\n            return;\r\n        }\r\n        var observer = new win.MutationObserver(function (records) {\r\n            var e_1, _a;\r\n            try {\r\n                for (var records_1 = __values(records), records_1_1 = records_1.next(); !records_1_1.done; records_1_1 = records_1.next()) {\r\n                    var mutation = records_1_1.value;\r\n                    if (mutation.type === \"attributes\" && mutation.attributeName === \"style\") {\r\n                        _this.checkUpdateRect();\r\n                    }\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (records_1_1 && !records_1_1.done && (_a = records_1.return)) _a.call(records_1);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n        });\r\n        observer.observe(target, {\r\n            attributes: true,\r\n        });\r\n        this._mutationObserver = observer;\r\n    };\r\n    MoveableManager.defaultProps = {\r\n        dragTargetSelf: false,\r\n        target: null,\r\n        dragTarget: null,\r\n        container: null,\r\n        rootContainer: null,\r\n        origin: true,\r\n        parentMoveable: null,\r\n        wrapperMoveable: null,\r\n        isWrapperMounted: false,\r\n        parentPosition: null,\r\n        warpSelf: false,\r\n        svgOrigin: \"\",\r\n        dragContainer: null,\r\n        useResizeObserver: false,\r\n        useMutationObserver: false,\r\n        preventDefault: true,\r\n        preventRightClick: true,\r\n        preventWheelClick: true,\r\n        linePadding: 0,\r\n        controlPadding: 0,\r\n        ables: [],\r\n        pinchThreshold: 20,\r\n        dragArea: false,\r\n        passDragArea: false,\r\n        transformOrigin: \"\",\r\n        className: \"\",\r\n        zoom: 1,\r\n        triggerAblesSimultaneously: false,\r\n        padding: {},\r\n        pinchOutside: true,\r\n        checkInput: false,\r\n        dragFocusedInput: false,\r\n        groupable: false,\r\n        hideDefaultLines: false,\r\n        cspNonce: \"\",\r\n        translateZ: 0,\r\n        cssStyled: null,\r\n        customStyledMap: {},\r\n        props: {},\r\n        stopPropagation: false,\r\n        preventClickDefault: false,\r\n        preventClickEventOnDrag: true,\r\n        flushSync: defaultSync,\r\n        firstRenderState: null,\r\n        persistData: null,\r\n        viewContainer: null,\r\n        requestStyles: [],\r\n        useAccuratePosition: false,\r\n    };\r\n    return MoveableManager;\r\n}(React.PureComponent));\r\n/**\r\n * The target to indicate Moveable Control Box.\r\n * @name Moveable#target\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.target = document.querySelector(\".target\");\r\n */\r\n/**\r\n * Zooms in the elements of a moveable.\r\n * @name Moveable#zoom\r\n * @default 1\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.zoom = 2;\r\n */\r\n/**\r\n * Whether the target size is detected and updated whenever it changes.\r\n * @name Moveable#useResizeObserver\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.useResizeObserver = true;\r\n */\r\n/**\r\n * Resize, Scale Events at edges\r\n * @name Moveable#edge\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.edge = true;\r\n */\r\n/**\r\n * You can specify the className of the moveable controlbox.\r\n * @name Moveable#className\r\n * @default \"\"\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   className: \"\",\r\n * });\r\n *\r\n * moveable.className = \"moveable1\";\r\n */\r\n/**\r\n * The target(s) to drag Moveable target(s)\r\n * @name Moveable#dragTarget\r\n * @default target\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.target = document.querySelector(\".target\");\r\n * moveable.dragTarget = document.querySelector(\".dragTarget\");\r\n */\r\n/**\r\n * `renderStart` event occurs at the first start of all events.\r\n * @memberof Moveable\r\n * @event renderStart\r\n * @param {Moveable.OnRenderStart} - Parameters for the `renderStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"renderStart\", ({ target }) => {\r\n *     console.log(\"onRenderStart\", target);\r\n * });\r\n */\r\n/**\r\n * `render` event occurs before the target is drawn on the screen.\r\n * @memberof Moveable\r\n * @event render\r\n * @param {Moveable.OnRender} - Parameters for the `render` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"render\", ({ target }) => {\r\n *     console.log(\"onRender\", target);\r\n * });\r\n */\r\n/**\r\n * `renderEnd` event occurs at the end of all events.\r\n * @memberof Moveable\r\n * @event renderEnd\r\n * @param {Moveable.OnRenderEnd} - Parameters for the `renderEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"renderEnd\", ({ target }) => {\r\n *     console.log(\"onRenderEnd\", target);\r\n * });\r\n */\r\n/**\r\n * `renderGroupStart` event occurs at the first start of all events in group.\r\n * @memberof Moveable\r\n * @event renderGroupStart\r\n * @param {Moveable.OnRenderGroupStart} - Parameters for the `renderGroupStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"renderGroupStart\", ({ targets }) => {\r\n *     console.log(\"onRenderGroupStart\", targets);\r\n * });\r\n */\r\n/**\r\n * `renderGroup` event occurs before the target is drawn on the screen in group.\r\n * @memberof Moveable\r\n * @event renderGroup\r\n * @param {Moveable.OnRenderGroup} - Parameters for the `renderGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"renderGroup\", ({ targets }) => {\r\n *     console.log(\"onRenderGroup\", targets);\r\n * });\r\n */\r\n/**\r\n * `renderGroupEnd` event occurs at the end of all events in group.\r\n * @memberof Moveable\r\n * @event renderGroupEnd\r\n * @param {Moveable.OnRenderGroupEnd} - Parameters for the `renderGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"renderGroupEnd\", ({ targets }) => {\r\n *     console.log(\"onRenderGroupEnd\", targets);\r\n * });\r\n */\n\nvar Groupable = {\r\n    name: \"groupable\",\r\n    props: [\r\n        \"defaultGroupRotate\",\r\n        \"useDefaultGroupRotate\",\r\n        \"defaultGroupOrigin\",\r\n        \"groupable\",\r\n        \"groupableProps\",\r\n        \"targetGroups\",\r\n        \"hideChildMoveableDefaultLines\",\r\n    ],\r\n    events: [],\r\n    render: function (moveable, React) {\r\n        var _a;\r\n        var props = moveable.props;\r\n        var targets = props.targets || [];\r\n        var _b = moveable.getState(), left = _b.left, top = _b.top, isPersisted = _b.isPersisted;\r\n        var zoom = props.zoom || 1;\r\n        var renderGroupRects = moveable.renderGroupRects;\r\n        var persistDatChildren = ((_a = props.persistData) === null || _a === void 0 ? void 0 : _a.children) || [];\r\n        if (isPersisted) {\r\n            targets = persistDatChildren.map(function () { return null; });\r\n        }\r\n        else {\r\n            persistDatChildren = [];\r\n        }\r\n        var parentPosition = watchValue(moveable, \"parentPosition\", [left, top], function (styles) { return styles.join(\",\"); });\r\n        var requestStyles = watchValue(moveable, \"requestStyles\", moveable.getRequestChildStyles(), function (styles) { return styles.join(\",\"); });\r\n        moveable.moveables = moveable.moveables.slice(0, targets.length);\r\n        return __spreadArray(__spreadArray([], __read(targets.map(function (target, i) {\r\n            return React.createElement(MoveableManager, { key: \"moveable\" + i, ref: refs(moveable, \"moveables\", i), target: target, origin: false, requestStyles: requestStyles, cssStyled: props.cssStyled, customStyledMap: props.customStyledMap, useResizeObserver: props.useResizeObserver, useMutationObserver: props.useMutationObserver, hideChildMoveableDefaultLines: props.hideChildMoveableDefaultLines, parentMoveable: moveable, parentPosition: [left, top], persistData: persistDatChildren[i], zoom: zoom });\r\n        })), false), __read(flat(renderGroupRects.map(function (_a, i) {\r\n            var pos1 = _a.pos1, pos2 = _a.pos2, pos3 = _a.pos3, pos4 = _a.pos4;\r\n            var poses = [pos1, pos2, pos3, pos4];\r\n            return [\r\n                [0, 1],\r\n                [1, 3],\r\n                [3, 2],\r\n                [2, 0],\r\n            ].map(function (_a, j) {\r\n                var _b = __read(_a, 2), from = _b[0], to = _b[1];\r\n                return renderLine(React, \"\", minus(poses[from], parentPosition), minus(poses[to], parentPosition), zoom, \"group-rect-\".concat(i, \"-\").concat(j));\r\n            });\r\n        }))), false);\r\n    },\r\n};\n\nvar Clickable = makeAble(\"clickable\", {\r\n    props: [\r\n        \"clickable\",\r\n    ],\r\n    events: [\r\n        \"click\",\r\n        \"clickGroup\",\r\n    ],\r\n    always: true,\r\n    dragRelation: \"weak\",\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    dragStart: function () {\r\n        return;\r\n    },\r\n    dragControlStart: function () {\r\n        return;\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        e.datas.inputTarget = e.inputEvent && e.inputEvent.target;\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        var target = moveable.props.target;\r\n        var inputEvent = e.inputEvent;\r\n        var inputTarget = e.inputTarget;\r\n        var isMoveableElement = moveable.isMoveableElement(inputTarget);\r\n        var containsElement = !isMoveableElement && moveable.controlBox.contains(inputTarget);\r\n        if (!inputEvent || !inputTarget || e.isDrag\r\n            || moveable.isMoveableElement(inputTarget)\r\n            || containsElement\r\n        // External event duplicate target or dragAreaElement\r\n        ) {\r\n            return;\r\n        }\r\n        var containsTarget = target.contains(inputTarget);\r\n        triggerEvent(moveable, \"onClick\", fillParams(moveable, e, {\r\n            isDouble: e.isDouble,\r\n            inputTarget: inputTarget,\r\n            isTarget: target === inputTarget,\r\n            moveableTarget: moveable.props.target,\r\n            containsTarget: containsTarget,\r\n        }));\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        var inputEvent = e.inputEvent;\r\n        var inputTarget = e.inputTarget;\r\n        if (!inputEvent || !inputTarget || e.isDrag\r\n            || moveable.isMoveableElement(inputTarget)\r\n            // External event duplicate target or dragAreaElement\r\n            || e.datas.inputTarget === inputTarget) {\r\n            return;\r\n        }\r\n        var targets = moveable.props.targets;\r\n        var targetIndex = targets.indexOf(inputTarget);\r\n        var isTarget = targetIndex > -1;\r\n        var containsTarget = false;\r\n        if (targetIndex === -1) {\r\n            targetIndex = findIndex(targets, function (parentTarget) { return parentTarget.contains(inputTarget); });\r\n            containsTarget = targetIndex > -1;\r\n        }\r\n        triggerEvent(moveable, \"onClickGroup\", fillParams(moveable, e, {\r\n            isDouble: e.isDouble,\r\n            targets: targets,\r\n            inputTarget: inputTarget,\r\n            targetIndex: targetIndex,\r\n            isTarget: isTarget,\r\n            containsTarget: containsTarget,\r\n            moveableTarget: targets[targetIndex],\r\n        }));\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        this.dragEnd(moveable, e);\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        this.dragEnd(moveable, e);\r\n    },\r\n});\r\n/**\r\n * When you click on the element, the `click` event is called.\r\n * @memberof Moveable\r\n * @event click\r\n * @param {Moveable.OnClick} - Parameters for the `click` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"click\", ({ hasTarget, containsTarget, targetIndex }) => {\r\n *     // If you click on an element other than the target and not included in the target, index is -1.\r\n *     console.log(\"onClickGroup\", target, hasTarget, containsTarget, targetIndex);\r\n * });\r\n */\r\n/**\r\n * When you click on the element inside the group, the `clickGroup` event is called.\r\n * @memberof Moveable\r\n * @event clickGroup\r\n * @param {Moveable.OnClickGroup} - Parameters for the `clickGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"clickGroup\", ({ inputTarget, isTarget, containsTarget, targetIndex }) => {\r\n *     // If you click on an element other than the target and not included in the target, index is -1.\r\n *     console.log(\"onClickGroup\", inputTarget, isTarget, containsTarget, targetIndex);\r\n * });\r\n */\n\nfunction getDraggableEvent(e) {\r\n    var datas = e.originalDatas.draggable;\r\n    if (!datas) {\r\n        e.originalDatas.draggable = {};\r\n        datas = e.originalDatas.draggable;\r\n    }\r\n    return __assign(__assign({}, e), { datas: datas });\r\n}\r\nvar edgeDraggable = makeAble(\"edgeDraggable\", {\r\n    css: [\r\n        \".edge.edgeDraggable.line {\\ncursor: move;\\n}\",\r\n    ],\r\n    render: function (moveable, React) {\r\n        var props = moveable.props;\r\n        var edge = props.edgeDraggable;\r\n        if (!edge) {\r\n            return [];\r\n        }\r\n        return renderEdgeLines(React, \"edgeDraggable\", edge, moveable.getState().renderPoses, props.zoom);\r\n    },\r\n    dragCondition: function (moveable, e) {\r\n        var _a;\r\n        var props = moveable.props;\r\n        var target = (_a = e.inputEvent) === null || _a === void 0 ? void 0 : _a.target;\r\n        if (!props.edgeDraggable || !target) {\r\n            return false;\r\n        }\r\n        return !props.draggable\r\n            && hasClass(target, prefix(\"direction\"))\r\n            && hasClass(target, prefix(\"edge\"))\r\n            && hasClass(target, prefix(\"edgeDraggable\"));\r\n    },\r\n    dragStart: function (moveable, e) {\r\n        return Draggable.dragStart(moveable, getDraggableEvent(e));\r\n    },\r\n    drag: function (moveable, e) {\r\n        return Draggable.drag(moveable, getDraggableEvent(e));\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        return Draggable.dragEnd(moveable, getDraggableEvent(e));\r\n    },\r\n    dragGroupCondition: function (moveable, e) {\r\n        var _a;\r\n        var props = moveable.props;\r\n        var target = (_a = e.inputEvent) === null || _a === void 0 ? void 0 : _a.target;\r\n        if (!props.edgeDraggable || !target) {\r\n            return false;\r\n        }\r\n        return !props.draggable && hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"line\"));\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        return Draggable.dragGroupStart(moveable, getDraggableEvent(e));\r\n    },\r\n    dragGroup: function (moveable, e) {\r\n        return Draggable.dragGroup(moveable, getDraggableEvent(e));\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        return Draggable.dragGroupEnd(moveable, getDraggableEvent(e));\r\n    },\r\n    unset: function (moveable) {\r\n        return Draggable.unset(moveable);\r\n    },\r\n});\r\n/**\r\n * Whether to move by dragging the edge line (default: false)\r\n * @name Moveable.Draggable#edgeDraggable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  draggable: true,\r\n *  edgeDraggable: false,\r\n * });\r\n *\r\n * moveable.edgeDraggable = true;\r\n */\n\nvar IndividualGroupable = {\r\n    name: \"individualGroupable\",\r\n    props: [\r\n        \"individualGroupable\",\r\n        \"individualGroupableProps\",\r\n    ],\r\n    events: [],\r\n};\n\nvar MOVEABLE_ABLES =  [\r\n    BeforeRenderable,\r\n    Default, Snappable, Pinchable,\r\n    Draggable, edgeDraggable,\r\n    Resizable, Scalable, Warpable, Rotatable,\r\n    Scrollable, Padding, Origin,\r\n    OriginDraggable,\r\n    Clippable, Roundable, Groupable, IndividualGroupable,\r\n    Clickable,\r\n    DragArea,\r\n    Renderable,\r\n];\r\nvar MOVEABLE_EVENTS = /*#__PURE__*/ MOVEABLE_ABLES.reduce(function (current, able) {\r\n    (able.events || []).forEach(function (name) {\r\n        pushSet(current, name);\r\n    });\r\n    return current;\r\n}, []);\r\nvar MOVEABLE_PROPS = /*#__PURE__*/ MOVEABLE_ABLES.reduce(function (current, able) {\r\n    (able.props || []).forEach(function (name) {\r\n        pushSet(current, name);\r\n    });\r\n    return current;\r\n}, []);\n\nfunction solveConstantsDistance(_a, pos) {\r\n    var _b = __read(_a, 3), a = _b[0], b = _b[1], c = _b[2];\r\n    return (a * pos[0] + b * pos[1] + c) / Math.sqrt(a * a + b * b);\r\n}\r\nfunction solveC(_a, pos) {\r\n    var _b = __read(_a, 2), a = _b[0], b = _b[1];\r\n    // ax + by + c = 0\r\n    // -ax -by;\r\n    return -a * pos[0] - b * pos[1];\r\n}\n\nfunction getMaxPos(poses, index) {\r\n    return Math.max.apply(Math, __spreadArray([], __read(poses.map(function (_a) {\r\n        var _b = __read(_a, 4), pos1 = _b[0], pos2 = _b[1], pos3 = _b[2], pos4 = _b[3];\r\n        return Math.max(pos1[index], pos2[index], pos3[index], pos4[index]);\r\n    })), false));\r\n}\r\nfunction getMinPos(poses, index) {\r\n    return Math.min.apply(Math, __spreadArray([], __read(poses.map(function (_a) {\r\n        var _b = __read(_a, 4), pos1 = _b[0], pos2 = _b[1], pos3 = _b[2], pos4 = _b[3];\r\n        return Math.min(pos1[index], pos2[index], pos3[index], pos4[index]);\r\n    })), false));\r\n}\r\nfunction getGroupRect(parentPoses, rotation) {\r\n    var _a, _b, _c;\r\n    var pos1 = [0, 0];\r\n    var pos2 = [0, 0];\r\n    var pos3 = [0, 0];\r\n    var pos4 = [0, 0];\r\n    var width = 0;\r\n    var height = 0;\r\n    if (!parentPoses.length) {\r\n        return {\r\n            pos1: pos1,\r\n            pos2: pos2,\r\n            pos3: pos3,\r\n            pos4: pos4,\r\n            minX: 0,\r\n            minY: 0,\r\n            maxX: 0,\r\n            maxY: 0,\r\n            width: width,\r\n            height: height,\r\n            rotation: rotation,\r\n        };\r\n    }\r\n    var fixedRotation = throttle(rotation, TINY_NUM);\r\n    if (fixedRotation % 90) {\r\n        var rad = fixedRotation / 180 * Math.PI;\r\n        var a1_1 = Math.tan(rad);\r\n        var a2_1 = -1 / a1_1;\r\n        // ax = y  // -ax + y = 0 // 0 => 1\r\n        // -ax = y // ax + y = 0  // 0 => 3\r\n        var a1MinMax_1 = [MAX_NUM, MIN_NUM];\r\n        var a1MinMaxPos_1 = [[0, 0], [0, 0]];\r\n        var a2MinMax_1 = [MAX_NUM, MIN_NUM];\r\n        var a2MinMaxPos_1 = [[0, 0], [0, 0]];\r\n        parentPoses.forEach(function (poses) {\r\n            poses.forEach(function (pos) {\r\n                // const b1 = pos[1] - a1 * pos[0];\r\n                // const b2 = pos[1] - a2 * pos[0];\r\n                var a1Dist = solveConstantsDistance([-a1_1, 1, 0], pos);\r\n                var a2Dist = solveConstantsDistance([-a2_1, 1, 0], pos);\r\n                if (a1MinMax_1[0] > a1Dist) {\r\n                    a1MinMaxPos_1[0] = pos;\r\n                    a1MinMax_1[0] = a1Dist;\r\n                }\r\n                if (a1MinMax_1[1] < a1Dist) {\r\n                    a1MinMaxPos_1[1] = pos;\r\n                    a1MinMax_1[1] = a1Dist;\r\n                }\r\n                if (a2MinMax_1[0] > a2Dist) {\r\n                    a2MinMaxPos_1[0] = pos;\r\n                    a2MinMax_1[0] = a2Dist;\r\n                }\r\n                if (a2MinMax_1[1] < a2Dist) {\r\n                    a2MinMaxPos_1[1] = pos;\r\n                    a2MinMax_1[1] = a2Dist;\r\n                }\r\n            });\r\n        });\r\n        var _d = __read(a1MinMaxPos_1, 2), a1MinPos = _d[0], a1MaxPos = _d[1];\r\n        var _e = __read(a2MinMaxPos_1, 2), a2MinPos = _e[0], a2MaxPos = _e[1];\r\n        var minHorizontalLine = [-a1_1, 1, solveC([-a1_1, 1], a1MinPos)];\r\n        var maxHorizontalLine = [-a1_1, 1, solveC([-a1_1, 1], a1MaxPos)];\r\n        var minVerticalLine = [-a2_1, 1, solveC([-a2_1, 1], a2MinPos)];\r\n        var maxVerticalLine = [-a2_1, 1, solveC([-a2_1, 1], a2MaxPos)];\r\n        _a = __read([\r\n            [minHorizontalLine, minVerticalLine],\r\n            [minHorizontalLine, maxVerticalLine],\r\n            [maxHorizontalLine, minVerticalLine],\r\n            [maxHorizontalLine, maxVerticalLine],\r\n        ].map(function (_a) {\r\n            var _b = __read(_a, 2), line1 = _b[0], line2 = _b[1];\r\n            return getIntersectionPointsByConstants(line1, line2)[0];\r\n        }), 4), pos1 = _a[0], pos2 = _a[1], pos3 = _a[2], pos4 = _a[3];\r\n        width = a2MinMax_1[1] - a2MinMax_1[0];\r\n        height = a1MinMax_1[1] - a1MinMax_1[0];\r\n    }\r\n    else {\r\n        var minX_1 = getMinPos(parentPoses, 0);\r\n        var minY_1 = getMinPos(parentPoses, 1);\r\n        var maxX_1 = getMaxPos(parentPoses, 0);\r\n        var maxY_1 = getMaxPos(parentPoses, 1);\r\n        pos1 = [minX_1, minY_1];\r\n        pos2 = [maxX_1, minY_1];\r\n        pos3 = [minX_1, maxY_1];\r\n        pos4 = [maxX_1, maxY_1];\r\n        width = maxX_1 - minX_1;\r\n        height = maxY_1 - minY_1;\r\n        if (fixedRotation % 180) {\r\n            // 0\r\n            // 1 2\r\n            // 3 4\r\n            // 90\r\n            // 3 1\r\n            // 4 2\r\n            // 180\r\n            // 4 3\r\n            // 2 1\r\n            // 270\r\n            // 2 4\r\n            // 1 3\r\n            // 1, 2, 3,4 = 3 1 4 2\r\n            var changedX = [pos3, pos1, pos4, pos2];\r\n            _b = __read(changedX, 4), pos1 = _b[0], pos2 = _b[1], pos3 = _b[2], pos4 = _b[3];\r\n            width = maxY_1 - minY_1;\r\n            height = maxX_1 - minX_1;\r\n        }\r\n    }\r\n    if (fixedRotation % 360 > 180) {\r\n        // 1 2   4 3\r\n        // 3 4   2 1\r\n        var changedX = [pos4, pos3, pos2, pos1];\r\n        _c = __read(changedX, 4), pos1 = _c[0], pos2 = _c[1], pos3 = _c[2], pos4 = _c[3];\r\n    }\r\n    var _f = getMinMaxs([pos1, pos2, pos3, pos4]), minX = _f.minX, minY = _f.minY, maxX = _f.maxX, maxY = _f.maxY;\r\n    return {\r\n        pos1: pos1,\r\n        pos2: pos2,\r\n        pos3: pos3,\r\n        pos4: pos4,\r\n        width: width,\r\n        height: height,\r\n        minX: minX,\r\n        minY: minY,\r\n        maxX: maxX,\r\n        maxY: maxY,\r\n        rotation: rotation,\r\n    };\r\n}\r\nfunction findMoveableGroups(moveables, childTargetGroups) {\r\n    var groups = childTargetGroups.map(function (targetGroup) {\r\n        if (isArray(targetGroup)) {\r\n            var childMoveableGroups = findMoveableGroups(moveables, targetGroup);\r\n            var length_1 = childMoveableGroups.length;\r\n            if (length_1 > 1) {\r\n                return childMoveableGroups;\r\n            }\r\n            else if (length_1 === 1) {\r\n                return childMoveableGroups[0];\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            var checked = find(moveables, function (_a) {\r\n                var manager = _a.manager;\r\n                return manager.props.target === targetGroup;\r\n            });\r\n            if (checked) {\r\n                checked.finded = true;\r\n                return checked.manager;\r\n            }\r\n            return null;\r\n        }\r\n    }).filter(Boolean);\r\n    if (groups.length === 1 && isArray(groups[0])) {\r\n        return groups[0];\r\n    }\r\n    return groups;\r\n}\r\n/**\r\n * @namespace Moveable.Group\r\n * @description You can make targets moveable.\r\n */\r\nvar MoveableGroup = /*#__PURE__*/ (function (_super) {\r\n    __extends(MoveableGroup, _super);\r\n    function MoveableGroup() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.differ = new ChildrenDiffer();\r\n        _this.moveables = [];\r\n        _this.transformOrigin = \"50% 50%\";\r\n        _this.renderGroupRects = [];\r\n        _this._targetGroups = [];\r\n        _this._hasFirstTargets = false;\r\n        return _this;\r\n    }\r\n    MoveableGroup.prototype.componentDidMount = function () {\r\n        _super.prototype.componentDidMount.call(this);\r\n    };\r\n    MoveableGroup.prototype.checkUpdate = function () {\r\n        this._isPropTargetChanged = false;\r\n        this.updateAbles();\r\n    };\r\n    MoveableGroup.prototype.getTargets = function () {\r\n        return this.props.targets;\r\n    };\r\n    MoveableGroup.prototype.updateRect = function (type, isTarget, isSetState) {\r\n        var _a;\r\n        if (isSetState === void 0) { isSetState = true; }\r\n        var state = this.state;\r\n        if (!this.controlBox || state.isPersisted) {\r\n            return;\r\n        }\r\n        setStoreCache(true);\r\n        this.moveables.forEach(function (moveable) {\r\n            moveable.updateRect(type, false, false);\r\n        });\r\n        var props = this.props;\r\n        var moveables = this.moveables;\r\n        var target = state.target || props.target;\r\n        var checkeds = moveables.map(function (moveable) { return ({ finded: false, manager: moveable }); });\r\n        var targetGroups = this.props.targetGroups || [];\r\n        var moveableGroups = findMoveableGroups(checkeds, targetGroups);\r\n        var useDefaultGroupRotate = props.useDefaultGroupRotate;\r\n        moveableGroups.push.apply(moveableGroups, __spreadArray([], __read(checkeds.filter(function (_a) {\r\n            var finded = _a.finded;\r\n            return !finded;\r\n        }).map(function (_a) {\r\n            var manager = _a.manager;\r\n            return manager;\r\n        })), false));\r\n        var renderGroupRects = [];\r\n        var isReset = !isTarget || (type !== \"\" && props.updateGroup);\r\n        var defaultGroupRotate = props.defaultGroupRotate || 0;\r\n        if (!this._hasFirstTargets) {\r\n            var persistedRoatation = (_a = props.persistData) === null || _a === void 0 ? void 0 : _a.rotation;\r\n            if (persistedRoatation != null) {\r\n                defaultGroupRotate = persistedRoatation;\r\n            }\r\n        }\r\n        function getMoveableGroupRect(group, parentRotation, isRoot) {\r\n            var posesRotations = group.map(function (moveable) {\r\n                if (isArray(moveable)) {\r\n                    var rect = getMoveableGroupRect(moveable, parentRotation);\r\n                    var poses = [rect.pos1, rect.pos2, rect.pos3, rect.pos4];\r\n                    renderGroupRects.push(rect);\r\n                    return { poses: poses, rotation: rect.rotation };\r\n                }\r\n                else {\r\n                    return {\r\n                        poses: getAbsolutePosesByState(moveable.state),\r\n                        rotation: moveable.getRotation(),\r\n                    };\r\n                }\r\n            });\r\n            var rotations = posesRotations.map(function (_a) {\r\n                var rotation = _a.rotation;\r\n                return rotation;\r\n            });\r\n            var groupRotation = 0;\r\n            var firstRotation = rotations[0];\r\n            var isSameRotation = rotations.every(function (nextRotation) {\r\n                return Math.abs(firstRotation - nextRotation) < 0.1;\r\n            });\r\n            if (isReset) {\r\n                groupRotation = !useDefaultGroupRotate && isSameRotation ? firstRotation : defaultGroupRotate;\r\n            }\r\n            else {\r\n                groupRotation = !useDefaultGroupRotate && !isRoot && isSameRotation ? firstRotation : parentRotation;\r\n            }\r\n            var groupPoses = posesRotations.map(function (_a) {\r\n                var poses = _a.poses;\r\n                return poses;\r\n            });\r\n            var groupRect = getGroupRect(groupPoses, groupRotation);\r\n            return groupRect;\r\n        }\r\n        var rootGroupRect = getMoveableGroupRect(moveableGroups, this.rotation, true);\r\n        if (isReset) {\r\n            // reset rotataion\r\n            this.rotation = rootGroupRect.rotation;\r\n            this.transformOrigin = props.defaultGroupOrigin || \"50% 50%\";\r\n            this.scale = [1, 1];\r\n        }\r\n        this._targetGroups = targetGroups;\r\n        this.renderGroupRects = renderGroupRects;\r\n        var transformOrigin = this.transformOrigin;\r\n        var rotation = this.rotation;\r\n        var scale = this.scale;\r\n        var width = rootGroupRect.width, height = rootGroupRect.height, minX = rootGroupRect.minX, minY = rootGroupRect.minY;\r\n        var posesInfo = rotatePosesInfo([\r\n            [0, 0],\r\n            [width, 0],\r\n            [0, height],\r\n            [width, height],\r\n        ], convertTransformOriginArray(transformOrigin, width, height), this.rotation / 180 * Math.PI);\r\n        var _b = getMinMaxs(posesInfo.result), deltaX = _b.minX, deltaY = _b.minY;\r\n        var rotateScale = \" rotate(\".concat(rotation, \"deg)\")\r\n            + \" scale(\".concat(sign(scale[0]), \", \").concat(sign(scale[1]), \")\");\r\n        var transform = \"translate(\".concat(-deltaX, \"px, \").concat(-deltaY, \"px)\").concat(rotateScale);\r\n        this.controlBox.style.transform\r\n            = \"translate3d(\".concat(minX, \"px, \").concat(minY, \"px, \").concat(this.props.translateZ || 0, \")\");\r\n        target.style.cssText += \"left:0px;top:0px;\"\r\n            + \"transform-origin:\".concat(transformOrigin, \";\")\r\n            + \"width:\".concat(width, \"px;height:\").concat(height, \"px;\")\r\n            + \"transform: \".concat(transform);\r\n        state.width = width;\r\n        state.height = height;\r\n        var container = this.getContainer();\r\n        var info = getMoveableTargetInfo(this.controlBox, target, this.controlBox, this.getContainer(), this._rootContainer || container, []);\r\n        var pos = [info.left, info.top];\r\n        var _c = __read(getAbsolutePosesByState(info), 4), pos1 = _c[0], pos2 = _c[1], pos3 = _c[2], pos4 = _c[3]; // info.left + info.pos(1 ~ 4)\r\n        var minPos = getMinMaxs([pos1, pos2, pos3, pos4]);\r\n        var delta = [minPos.minX, minPos.minY];\r\n        var direction = sign(scale[0] * scale[1]);\r\n        info.pos1 = minus(pos1, delta);\r\n        info.pos2 = minus(pos2, delta);\r\n        info.pos3 = minus(pos3, delta);\r\n        info.pos4 = minus(pos4, delta);\r\n        // info.left = info.left + delta[0];\r\n        // info.top = info.top + delta[1];\r\n        info.left = minX - info.left + delta[0];\r\n        info.top = minY - info.top + delta[1];\r\n        info.origin = minus(plus(pos, info.origin), delta);\r\n        info.beforeOrigin = minus(plus(pos, info.beforeOrigin), delta);\r\n        info.originalBeforeOrigin = plus(pos, info.originalBeforeOrigin);\r\n        info.transformOrigin = minus(plus(pos, info.transformOrigin), delta);\r\n        target.style.transform\r\n            = \"translate(\".concat(-deltaX - delta[0], \"px, \").concat(-deltaY - delta[1], \"px)\")\r\n                + rotateScale;\r\n        setStoreCache();\r\n        this.updateState(__assign(__assign({}, info), { posDelta: delta, direction: direction, beforeDirection: direction }), isSetState);\r\n    };\r\n    MoveableGroup.prototype.getRect = function () {\r\n        return __assign(__assign({}, _super.prototype.getRect.call(this)), { children: this.moveables.map(function (child) { return child.getRect(); }) });\r\n    };\r\n    MoveableGroup.prototype.triggerEvent = function (name, e, isManager) {\r\n        if (isManager || name.indexOf(\"Group\") > -1) {\r\n            return _super.prototype.triggerEvent.call(this, name, e);\r\n        }\r\n        else {\r\n            this._emitter.trigger(name, e);\r\n        }\r\n    };\r\n    MoveableGroup.prototype.getRequestChildStyles = function () {\r\n        var styleNames = this.getEnabledAbles().reduce(function (names, able) {\r\n            var _a, _b;\r\n            var ableStyleNames = ((_b = (_a = able.requestChildStyle) === null || _a === void 0 ? void 0 : _a.call(able)) !== null && _b !== void 0 ? _b : []);\r\n            return __spreadArray(__spreadArray([], __read(names), false), __read(ableStyleNames), false);\r\n        }, []);\r\n        return styleNames;\r\n    };\r\n    MoveableGroup.prototype.getMoveables = function () {\r\n        return __spreadArray([], __read(this.moveables), false);\r\n    };\r\n    MoveableGroup.prototype.updateAbles = function () {\r\n        _super.prototype.updateAbles.call(this, __spreadArray(__spreadArray([], __read(this.props.ables), false), [Groupable], false), \"Group\");\r\n    };\r\n    MoveableGroup.prototype._updateTargets = function () {\r\n        _super.prototype._updateTargets.call(this);\r\n        this._originalDragTarget = this.props.dragTarget || this.areaElement;\r\n        this._dragTarget = getRefTarget(this._originalDragTarget, true);\r\n    };\r\n    MoveableGroup.prototype._updateEvents = function () {\r\n        var state = this.state;\r\n        var props = this.props;\r\n        var prevTarget = this._prevDragTarget;\r\n        var nextTarget = props.dragTarget || this.areaElement;\r\n        var targets = props.targets;\r\n        var _a = this.differ.update(targets), added = _a.added, changed = _a.changed, removed = _a.removed;\r\n        var isTargetChanged = added.length || removed.length;\r\n        if (isTargetChanged || this._prevOriginalDragTarget !== this._originalDragTarget) {\r\n            unsetGesto(this, false);\r\n            unsetGesto(this, true);\r\n            this.updateState({ gestos: {} });\r\n        }\r\n        if (prevTarget !== nextTarget) {\r\n            state.target = null;\r\n        }\r\n        if (!state.target) {\r\n            state.target = this.areaElement;\r\n            this.controlBox.style.display = \"block\";\r\n        }\r\n        if (state.target) {\r\n            if (!this.targetGesto) {\r\n                this.targetGesto = getTargetAbleGesto(this, this._dragTarget, \"Group\");\r\n            }\r\n            if (!this.controlGesto) {\r\n                this.controlGesto = getControlAbleGesto(this, \"GroupControl\");\r\n            }\r\n        }\r\n        var isContainerChanged = !equals(state.container, props.container);\r\n        if (isContainerChanged) {\r\n            state.container = props.container;\r\n        }\r\n        if (isContainerChanged\r\n            || isTargetChanged\r\n            || this.transformOrigin !== (props.defaultGroupOrigin || \"50% 50%\")\r\n            || changed.length\r\n            || targets.length && !isDeepArrayEquals(this._targetGroups, props.targetGroups || [])) {\r\n            this.updateRect();\r\n            this._hasFirstTargets = true;\r\n        }\r\n        this._isPropTargetChanged = !!isTargetChanged;\r\n    };\r\n    MoveableGroup.prototype._updateObserver = function () { };\r\n    MoveableGroup.defaultProps = __assign(__assign({}, MoveableManager.defaultProps), { transformOrigin: [\"50%\", \"50%\"], groupable: true, dragArea: true, keepRatio: true, targets: [], defaultGroupRotate: 0, defaultGroupOrigin: \"50% 50%\" });\r\n    return MoveableGroup;\r\n}(MoveableManager));\n\n/**\r\n * @namespace Moveable.IndividualGroup\r\n * @description Create targets individually, not as a group.Create targets individually, not as a group.\r\n */\r\nvar MoveableIndividualGroup = /*#__PURE__*/ (function (_super) {\r\n    __extends(MoveableIndividualGroup, _super);\r\n    function MoveableIndividualGroup() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.moveables = [];\r\n        return _this;\r\n    }\r\n    MoveableIndividualGroup.prototype.render = function () {\r\n        var _this = this;\r\n        var _a;\r\n        var props = this.props;\r\n        var cspNonce = props.cspNonce, ControlBoxElement = props.cssStyled, persistData = props.persistData;\r\n        var targets = props.targets || [];\r\n        var length = targets.length;\r\n        var canPersist = this.isUnmounted || !length;\r\n        var persistDatChildren = (_a = persistData === null || persistData === void 0 ? void 0 : persistData.children) !== null && _a !== void 0 ? _a : [];\r\n        if (canPersist && !length && persistDatChildren.length) {\r\n            targets = persistDatChildren.map(function () { return null; });\r\n        }\r\n        else if (!canPersist) {\r\n            persistDatChildren = [];\r\n        }\r\n        return React.createElement(ControlBoxElement, { cspNonce: cspNonce, ref: ref(this, \"controlBox\"), className: prefix(\"control-box\") }, targets.map(function (target, i) {\r\n            var _a, _b;\r\n            var individualProps = (_b = (_a = props.individualGroupableProps) === null || _a === void 0 ? void 0 : _a.call(props, target, i)) !== null && _b !== void 0 ? _b : {};\r\n            return React.createElement(MoveableManager, __assign({ key: \"moveable\" + i, ref: refs(_this, \"moveables\", i) }, props, individualProps, { target: target, wrapperMoveable: _this, isWrapperMounted: _this.isMoveableMounted, persistData: persistDatChildren[i] }));\r\n        }));\r\n    };\r\n    MoveableIndividualGroup.prototype.componentDidMount = function () { };\r\n    MoveableIndividualGroup.prototype.componentDidUpdate = function () { };\r\n    MoveableIndividualGroup.prototype.getTargets = function () {\r\n        return this.props.targets;\r\n    };\r\n    MoveableIndividualGroup.prototype.updateRect = function (type, isTarget, isSetState) {\r\n        if (isSetState === void 0) { isSetState = true; }\r\n        setStoreCache(true);\r\n        this.moveables.forEach(function (moveable) {\r\n            moveable.updateRect(type, isTarget, isSetState);\r\n        });\r\n        setStoreCache();\r\n    };\r\n    MoveableIndividualGroup.prototype.getRect = function () {\r\n        return __assign(__assign({}, _super.prototype.getRect.call(this)), { children: this.moveables.map(function (child) { return child.getRect(); }) });\r\n    };\r\n    MoveableIndividualGroup.prototype.request = function (ableName, param, isInstant) {\r\n        if (param === void 0) { param = {}; }\r\n        var results = this.moveables.map(function (m) { return m.request(ableName, __assign(__assign({}, param), { isInstant: false }), false); });\r\n        var requestInstant = isInstant || param.isInstant;\r\n        var requester = {\r\n            request: function (ableParam) {\r\n                results.forEach(function (r) { return r.request(ableParam); });\r\n                return this;\r\n            },\r\n            requestEnd: function () {\r\n                results.forEach(function (r) { return r.requestEnd(); });\r\n                return this;\r\n            },\r\n        };\r\n        return requestInstant ? requester.request(param).requestEnd() : requester;\r\n    };\r\n    MoveableIndividualGroup.prototype.dragStart = function (e, target) {\r\n        if (target === void 0) { target = e.target; }\r\n        var inputTarget = target;\r\n        var childMoveable = find(this.moveables, function (child) {\r\n            var target = child.getTargets()[0];\r\n            var controlBoxElement = child.getControlBoxElement();\r\n            var dragElement = child.getDragElement();\r\n            if (!target || !dragElement) {\r\n                return false;\r\n            }\r\n            return dragElement === inputTarget || dragElement.contains(inputTarget)\r\n                || (dragElement !== target && target === inputTarget || target.contains(inputTarget))\r\n                || controlBoxElement === inputTarget || controlBoxElement.contains(inputTarget);\r\n        });\r\n        if (childMoveable) {\r\n            childMoveable.dragStart(e, target);\r\n        }\r\n        return this;\r\n    };\r\n    MoveableIndividualGroup.prototype.hitTest = function () {\r\n        return 0;\r\n    };\r\n    MoveableIndividualGroup.prototype.isInside = function () {\r\n        return false;\r\n    };\r\n    MoveableIndividualGroup.prototype.isDragging = function () {\r\n        return false;\r\n    };\r\n    MoveableIndividualGroup.prototype.getDragElement = function () {\r\n        return null;\r\n    };\r\n    MoveableIndividualGroup.prototype.getMoveables = function () {\r\n        return __spreadArray([], __read(this.moveables), false);\r\n    };\r\n    MoveableIndividualGroup.prototype.updateRenderPoses = function () { };\r\n    MoveableIndividualGroup.prototype.checkUpdate = function () { };\r\n    MoveableIndividualGroup.prototype.triggerEvent = function () { };\r\n    MoveableIndividualGroup.prototype.updateAbles = function () { };\r\n    MoveableIndividualGroup.prototype._updateEvents = function () { };\r\n    MoveableIndividualGroup.prototype._updateObserver = function () { };\r\n    return MoveableIndividualGroup;\r\n}(MoveableManager));\n\nfunction getElementTargets(refTargets, selectorMap) {\r\n    var elementTargets = [];\r\n    refTargets.forEach(function (target) {\r\n        if (!target) {\r\n            return;\r\n        }\r\n        if (isString(target)) {\r\n            if (selectorMap[target]) {\r\n                elementTargets.push.apply(elementTargets, __spreadArray([], __read(selectorMap[target]), false));\r\n            }\r\n            return;\r\n        }\r\n        if (isArray(target)) {\r\n            elementTargets.push.apply(elementTargets, __spreadArray([], __read(getElementTargets(target, selectorMap)), false));\r\n        }\r\n        else {\r\n            elementTargets.push(target);\r\n        }\r\n    });\r\n    return elementTargets;\r\n}\r\nfunction getTargetGroups(refTargets, selectorMap) {\r\n    var targetGroups = [];\r\n    refTargets.forEach(function (target) {\r\n        if (!target) {\r\n            return;\r\n        }\r\n        if (isString(target)) {\r\n            if (selectorMap[target]) {\r\n                targetGroups.push.apply(targetGroups, __spreadArray([], __read(selectorMap[target]), false));\r\n            }\r\n            return;\r\n        }\r\n        if (isArray(target)) {\r\n            targetGroups.push(getTargetGroups(target, selectorMap));\r\n        }\r\n        else {\r\n            targetGroups.push(target);\r\n        }\r\n    });\r\n    return targetGroups;\r\n}\r\nfunction compareRefTargets(prevRefTargets, nextRefTargets) {\r\n    return (prevRefTargets.length !== nextRefTargets.length) || prevRefTargets.some(function (target, i) {\r\n        var nextTarget = nextRefTargets[i];\r\n        if (!target && !nextTarget) {\r\n            return false;\r\n        }\r\n        else if (target != nextTarget) {\r\n            if (isArray(target) && isArray(nextTarget)) {\r\n                return compareRefTargets(target, nextTarget);\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    });\r\n}\r\nvar InitialMoveable = /*#__PURE__*/ (function (_super) {\r\n    __extends(InitialMoveable, _super);\r\n    function InitialMoveable() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.refTargets = [];\r\n        _this.selectorMap = {};\r\n        _this._differ = new ChildrenDiffer();\r\n        _this._elementTargets = [];\r\n        _this._tmpRefTargets = [];\r\n        _this._tmpSelectorMap = {};\r\n        _this._onChangeTargets = null;\r\n        return _this;\r\n    }\r\n    InitialMoveable.makeStyled = function () {\r\n        var cssMap = {};\r\n        var ables = this.getTotalAbles();\r\n        ables.forEach(function (_a) {\r\n            var css = _a.css;\r\n            if (!css) {\r\n                return;\r\n            }\r\n            css.forEach(function (text) {\r\n                cssMap[text] = true;\r\n            });\r\n        });\r\n        var style = getKeys(cssMap).join(\"\\n\");\r\n        this.defaultStyled = styled(\"div\", prefixCSS(PREFIX, MOVEABLE_CSS + style));\r\n    };\r\n    InitialMoveable.getTotalAbles = function () {\r\n        return __spreadArray([Default, Groupable, IndividualGroupable, DragArea], __read(this.defaultAbles), false);\r\n    };\r\n    InitialMoveable.prototype.render = function () {\r\n        var _a;\r\n        var moveableContructor = this.constructor;\r\n        if (!moveableContructor.defaultStyled) {\r\n            moveableContructor.makeStyled();\r\n        }\r\n        var _b = this.props, userAbles = _b.ables, userProps = _b.props, props = __rest(_b, [\"ables\", \"props\"]);\r\n        var _c = __read(this._updateRefs(true), 2), refTargets = _c[0], nextSelectorMap = _c[1];\r\n        var elementTargets = getElementTargets(refTargets, nextSelectorMap);\r\n        var isGroup = elementTargets.length > 1;\r\n        var totalAbles = moveableContructor.getTotalAbles();\r\n        var ables = __spreadArray(__spreadArray([], __read(totalAbles), false), __read((userAbles || [])), false);\r\n        var nextProps = __assign(__assign(__assign({}, props), (userProps || {})), { ables: ables, cssStyled: moveableContructor.defaultStyled, customStyledMap: moveableContructor.customStyledMap });\r\n        this._elementTargets = elementTargets;\r\n        var firstRenderState = null;\r\n        var prevMoveable = this.moveable;\r\n        var persistData = props.persistData;\r\n        if (persistData === null || persistData === void 0 ? void 0 : persistData.children) {\r\n            isGroup = true;\r\n        }\r\n        // Even one child is treated as a group if individualGroupable is enabled. #867\r\n        if (props.individualGroupable) {\r\n            return React.createElement(MoveableIndividualGroup, __assign({ key: \"individual-group\", ref: ref(this, \"moveable\") }, nextProps, { target: null, targets: elementTargets }));\r\n        }\r\n        if (isGroup) {\r\n            var targetGroups = getTargetGroups(refTargets, nextSelectorMap);\r\n            // manager\r\n            if (prevMoveable && !prevMoveable.props.groupable && !prevMoveable.props.individualGroupable) {\r\n                var target = prevMoveable.props.target;\r\n                if (target && elementTargets.indexOf(target) > -1) {\r\n                    firstRenderState = __assign({}, prevMoveable.state);\r\n                }\r\n            }\r\n            return React.createElement(MoveableGroup, __assign({ key: \"group\", ref: ref(this, \"moveable\") }, nextProps, (_a = props.groupableProps) !== null && _a !== void 0 ? _a : {}, { target: null, targets: elementTargets, targetGroups: targetGroups, firstRenderState: firstRenderState }));\r\n        }\r\n        else {\r\n            var target_1 = elementTargets[0];\r\n            // manager\r\n            if (prevMoveable && (prevMoveable.props.groupable || prevMoveable.props.individualGroupable)) {\r\n                var moveables = prevMoveable.moveables || [];\r\n                var prevTargetMoveable = find(moveables, function (mv) { return mv.props.target === target_1; });\r\n                if (prevTargetMoveable) {\r\n                    firstRenderState = __assign({}, prevTargetMoveable.state);\r\n                }\r\n            }\r\n            return React.createElement(MoveableManager, __assign({ key: \"single\", ref: ref(this, \"moveable\") }, nextProps, { target: target_1, firstRenderState: firstRenderState }));\r\n        }\r\n    };\r\n    InitialMoveable.prototype.componentDidMount = function () {\r\n        this._checkChangeTargets();\r\n    };\r\n    InitialMoveable.prototype.componentDidUpdate = function () {\r\n        this._checkChangeTargets();\r\n    };\r\n    InitialMoveable.prototype.componentWillUnmount = function () {\r\n        this.selectorMap = {};\r\n        this.refTargets = [];\r\n    };\r\n    /**\r\n     * Get targets set in moveable through target or targets of props.\r\n     * @method Moveable#getTargets\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body, {\r\n     *    target: [targetRef, \".target\", document.querySelectorAll(\".target\")],\r\n     * });\r\n     *\r\n     * console.log(moveable.getTargets());\r\n     */\r\n    InitialMoveable.prototype.getTargets = function () {\r\n        var _a, _b;\r\n        return (_b = (_a = this.moveable) === null || _a === void 0 ? void 0 : _a.getTargets()) !== null && _b !== void 0 ? _b : [];\r\n    };\r\n    /**\r\n     * If the element list corresponding to the selector among the targets is changed, it is updated.\r\n     * @method Moveable#updateSelectors\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body, {\r\n     *    target: \".target\",\r\n     * });\r\n     *\r\n     * moveable.updateSelectors();\r\n     */\r\n    InitialMoveable.prototype.updateSelectors = function () {\r\n        this.selectorMap = {};\r\n        this._updateRefs();\r\n        this.forceUpdate();\r\n    };\r\n    /**\r\n     * User changes target and waits for target to change.\r\n     * @method Moveable#waitToChangeTarget\r\n     * @story combination-with-other-components--components-selecto\r\n     * @example\r\n     * document.querySelector(\".target\").addEventListener(\"mousedown\", e => {\r\n     *   moveable.waitToChangeTarget().then(() => {\r\n     *      moveable.dragStart(e, e.currentTarget);\r\n     *   });\r\n     *   moveable.target = e.currentTarget;\r\n     * });\r\n     */\r\n    InitialMoveable.prototype.waitToChangeTarget = function () {\r\n        // let resolvePromise: (e: OnChangeTarget) => void;\r\n        var _this = this;\r\n        // this._onChangeTargets = () => {\r\n        //     this._onChangeTargets = null;\r\n        //     resolvePromise({\r\n        //         moveable: this.getManager(),\r\n        //         targets: this._elementTargets,\r\n        //     });\r\n        // };\r\n        // return new Promise<OnChangeTarget>(resolve => {\r\n        //     resolvePromise = resolve;\r\n        // });\r\n        var resolvePromise;\r\n        this._onChangeTargets = function () {\r\n            _this._onChangeTargets = null;\r\n            resolvePromise();\r\n        };\r\n        return new Promise(function (resolve) {\r\n            resolvePromise = resolve;\r\n        });\r\n    };\r\n    InitialMoveable.prototype.waitToChangeTargets = function () {\r\n        return this.waitToChangeTarget();\r\n    };\r\n    InitialMoveable.prototype.getManager = function () {\r\n        return this.moveable;\r\n    };\r\n    InitialMoveable.prototype.getMoveables = function () {\r\n        return this.moveable.getMoveables();\r\n    };\r\n    InitialMoveable.prototype.getDragElement = function () {\r\n        return this.moveable.getDragElement();\r\n    };\r\n    InitialMoveable.prototype._updateRefs = function (isRender) {\r\n        var prevRefTargets = this.refTargets;\r\n        var nextRefTargets = getRefTargets((this.props.target || this.props.targets));\r\n        var isBrowser = typeof document !== \"undefined\";\r\n        var isUpdate = compareRefTargets(prevRefTargets, nextRefTargets);\r\n        var selectorMap = this.selectorMap;\r\n        var nextSelectorMap = {};\r\n        this.refTargets.forEach(function updateSelectorMap(target) {\r\n            if (isString(target)) {\r\n                var selectorTarget = selectorMap[target];\r\n                if (selectorTarget) {\r\n                    nextSelectorMap[target] = selectorMap[target];\r\n                }\r\n                else if (isBrowser) {\r\n                    isUpdate = true;\r\n                    nextSelectorMap[target] = [].slice.call(document.querySelectorAll(target));\r\n                }\r\n            }\r\n            else if (isArray(target)) {\r\n                target.forEach(updateSelectorMap);\r\n            }\r\n        });\r\n        this._tmpRefTargets = nextRefTargets;\r\n        this._tmpSelectorMap = nextSelectorMap;\r\n        return [\r\n            nextRefTargets,\r\n            nextSelectorMap,\r\n            !isRender && isUpdate,\r\n        ];\r\n    };\r\n    InitialMoveable.prototype._checkChangeTargets = function () {\r\n        var _a, _b, _c;\r\n        this.refTargets = this._tmpRefTargets;\r\n        this.selectorMap = this._tmpSelectorMap;\r\n        var _d = this._differ.update(this._elementTargets), added = _d.added, removed = _d.removed;\r\n        var isTargetChanged = added.length || removed.length;\r\n        if (isTargetChanged) {\r\n            (_b = (_a = this.props).onChangeTargets) === null || _b === void 0 ? void 0 : _b.call(_a, {\r\n                moveable: this.moveable,\r\n                targets: this._elementTargets,\r\n            });\r\n            (_c = this._onChangeTargets) === null || _c === void 0 ? void 0 : _c.call(this);\r\n        }\r\n        var _e = __read(this._updateRefs(), 3), refTargets = _e[0], selectorMap = _e[1], isUpdate = _e[2];\r\n        this.refTargets = refTargets;\r\n        this.selectorMap = selectorMap;\r\n        if (isUpdate) {\r\n            this.forceUpdate();\r\n        }\r\n    };\r\n    InitialMoveable.defaultAbles = [];\r\n    InitialMoveable.customStyledMap = {};\r\n    InitialMoveable.defaultStyled = null;\r\n    __decorate([\r\n        withMethods(MOVEABLE_METHODS)\r\n    ], InitialMoveable.prototype, \"moveable\", void 0);\r\n    return InitialMoveable;\r\n}(React.PureComponent));\n\nvar Moveable = /*#__PURE__*/ (function (_super) {\r\n    __extends(Moveable, _super);\r\n    function Moveable() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Moveable.defaultAbles = MOVEABLE_ABLES;\r\n    return Moveable;\r\n}(InitialMoveable));\n\nfunction makeMoveable(ables) {\r\n    var _a;\r\n    return _a = /*#__PURE__*/ (function (_super) {\r\n            __extends(Moveable, _super);\r\n            function Moveable() {\r\n                return _super !== null && _super.apply(this, arguments) || this;\r\n            }\r\n            return Moveable;\r\n        }(InitialMoveable)),\r\n        _a.defaultAbles = ables,\r\n        _a;\r\n}\n\nexport { Clippable, DIRECTIONS, Draggable, edgeDraggable as EdgeDraggable, InitialMoveable, MOVEABLE_ABLES, MOVEABLE_EVENTS, MOVEABLE_METHODS, MOVEABLE_PROPS, Pinchable, Resizable, Rotatable, Roundable, Scalable, Snappable, Warpable, calculateElementPosition, Moveable as default, getElementInfo, makeAble, makeMoveable };\n//# sourceMappingURL=moveable.esm.js.map\n","import * as React from \"react\";\nimport Moveable from \"react-moveable\";\nimport { ref } from \"framework-utils\";\n\nexport default class InnerMoveable extends React.Component<any> {\n    public state: any = {};\n    public moveable!: Moveable;\n    constructor(props: any) {\n        super(props);\n        this.state = this.props;\n    }\n    public render(): React.ReactNode {\n        return <Moveable ref={ref(this, \"moveable\")} {...this.state} />;\n    }\n}\n","import {\n    MOVEABLE_PROPS,\n    MOVEABLE_METHODS,\n    MOVEABLE_EVENTS,\n} from \"react-moveable\";\n\nexport const PROPERTIES: string[] = MOVEABLE_PROPS;\nexport const METHODS: string[] = MOVEABLE_METHODS;\nexport const EVENTS: string[] = MOVEABLE_EVENTS;\n","import { ref, Properties } from \"framework-utils\";\nimport * as React from \"react\";\nimport { renderSelf, ContainerProvider } from \"croact\";\nimport InnerMoveable from \"./InnerMoveable\";\nimport {\n    MoveableInterface,\n    MoveableOptions, MoveableProperties,\n} from \"react-moveable/types\";\nimport { camelize, getDocument, isArray } from \"@daybrush/utils\";\nimport { MoveableEventsParameters } from \"./types\";\nimport { PROPERTIES, EVENTS, METHODS } from \"./consts\";\nimport EventEmitter from \"@scena/event-emitter\";\n/**\n * Moveable is Draggable! Resizable! Scalable! Rotatable!\n * @sort 1\n * @alias Moveable\n * @extends EventEmitter\n */\n@Properties(METHODS, (prototype, property) => {\n    if (prototype[property]) {\n        return;\n    }\n    prototype[property] = function(...args: any[]) {\n        const self = this.getMoveable();\n\n        if (!self || !self[property]) {\n            return;\n        }\n        return self[property](...args);\n    };\n})\n@Properties(PROPERTIES, (prototype, property) => {\n    Object.defineProperty(prototype, property, {\n        get() {\n            return this.getMoveable().props[property];\n        },\n        set(value) {\n            this.setState({\n                [property]: value,\n            });\n        },\n        enumerable: true,\n        configurable: true,\n    });\n})\nclass MoveableManager extends EventEmitter<MoveableEventsParameters> {\n    private innerMoveable!: InnerMoveable | null;\n    private containerProvider: ContainerProvider | null = null;\n    private selfElement: HTMLElement | null = null;\n    private _warp = false;\n    /**\n     *\n     */\n    constructor(parentElement: HTMLElement, options: MoveableOptions = {}) {\n        super();\n        const nextOptions = { ...options };\n\n        const events: any = {};\n\n        EVENTS.forEach(name => {\n            events[camelize(`on ${name}`)] = (e: any) => this.trigger<any>(name, e);\n        });\n        let selfElement!: HTMLElement;\n\n        if (options.warpSelf) {\n            delete options.warpSelf;\n            this._warp = true;\n            selfElement = parentElement;\n        } else {\n            selfElement = getDocument(parentElement).createElement(\"div\");\n            parentElement.appendChild(selfElement);\n        }\n        this.containerProvider = renderSelf(\n            <InnerMoveable\n                ref={ref(this, \"innerMoveable\")}\n                {...nextOptions}\n                {...events}\n            /> as any,\n            selfElement,\n        );\n\n        this.selfElement = selfElement;\n        const target = nextOptions.target!;\n        if (isArray(target) && target.length > 1) {\n            this.updateRect();\n        }\n    }\n    public setState(state: Partial<MoveableOptions>, callback?: () => any) {\n        this.innerMoveable!.setState(state, callback);\n    }\n    public forceUpdate(callback?: () => any) {\n        this.innerMoveable!.forceUpdate(callback);\n    }\n    public dragStart(e: MouseEvent | TouchEvent, target: EventTarget | null = e.target) {\n        const innerMoveable = this.innerMoveable;\n        if ((innerMoveable as any).$_timer) {\n            this.forceUpdate();\n        }\n        this.getMoveable().dragStart(e, target);\n    }\n    public destroy() {\n        const selfElement = this.selfElement!;\n\n        renderSelf(\n            null,\n            selfElement!,\n            this.containerProvider,\n        );\n        if (!this._warp) {\n            selfElement?.parentElement?.removeChild(selfElement);\n        }\n        this.containerProvider = null;\n\n        this.off();\n        this.selfElement = null;\n        this.innerMoveable = null;\n    }\n    private getMoveable() {\n        return this.innerMoveable!.moveable;\n    }\n}\n\ninterface MoveableManager extends MoveableInterface, MoveableProperties {\n}\n\nexport default MoveableManager;\n","import MoveableManager from \"./MoveableManager\";\n\nexport default class Moveable extends MoveableManager {}\n","import { Able, DefaultProps } from \"react-moveable/types\";\nimport { getElementInfo as getElementInfoFunction, makeAble as makeAbleFunction } from \"react-moveable\";\n\nexport function getElementInfo(\n    target: SVGElement | HTMLElement,\n    container?: SVGElement | HTMLElement | null,\n    rootContainer?: SVGElement | HTMLElement | null | undefined,\n) {\n    return getElementInfoFunction(target, container, rootContainer);\n};\nexport function makeAble<\n    Name extends string,\n    AbleObject extends Partial<Able<any, any>>,\n>(name: Name, able: AbleObject) {\n    return makeAbleFunction<Name, AbleObject>(name, able);\n}\n","import Moveable, * as modules from \"./index\";\n\nfor (const name in modules) {\n    (Moveable as any)[name] = (modules as any)[name];\n}\n\nexport default Moveable;\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__values","o","Symbol","iterator","m","next","value","done","__read","ar","push","error","__spreadArray","to","from","pack","l","slice","concat","makeAble","name","able","events","props","DIRECTIONS4","DIRECTIONS","getSVGCursor","scale","degree","getCursorCSS","x1","degree45","Math","round","defaultCursor","agent","getAgent","IS_WEBKIT","browser","webkit","IS_WEBKIT605","navi","window","userAgent","navigator","res","exec","toLowerCase","parseFloat","browserName","browserVersion","parseInt","version","IS_CHROME","IS_CHROMIUM","chromium","chromiumVersion","IS_CHROMIUM109","IS_FIREFOX","IS_SAFARI_ABOVE15","webkitVersion","PREFIX","directionCSS","map","dir","top","left","originX","originY","offset","join","MOVEABLE_CSS","NEARBY_POS","FLOAT_POINT_NUM","TINY_NUM","MIN_SCALE","MAX_NUM","pow","MIN_NUM","DIRECTION_REGION_TO_DIRECTION","w","nw","ne","sw","se","DIRECTION_INDEXES","DIRECTION_ROTATIONS","MOVEABLE_METHODS","setCustomDrag","state","delta","isPinch","isConvert","ableName","_a","_b","result","gestos","move","inputEvent","datas","originalDatas","ableDatas","convertDragDist","parentEvent","CustomGesto","prevX","prevY","startX","startY","isDrag","isFlag","draggable","dragStart","client","type","drag","clientX","clientY","isFirstDrag","isPrevDrag","distX","distY","deltaX","deltaY","parentGesto","calculateElementPosition","matrix","origin","width","height","is3d","poses","calculatePoses","y1","_c","x2","y2","_d","x3","y3","_e","x4","y4","_f","calculatePosition","min","right","max","bottom","sx","sy","direction","sign","pos1","pos2","pos3","pos4","calculatePointerDist","moveable","moveableClientRect","rootMatrix","minus","calculateInversePosition","posX","posY","getDragDist","setDragStart","allMatrix","beforeMatrix","offsetMatrix","targetMatrix","transformOrigin","inverseMatrix","invert","inverseBeforeMatrix","absoluteOrigin","convertPositionMatrix","plus","startDragBeforeDist","calculate","startDragDist","getTransformDirection","beforeTransform","resolveTransformEvent","event","functionName","beforeRenderable","index","transformIndex","nextTransforms","nextTransformAppendedIndexes","nextIndex","findIndex","text","match","find","info","filter","convertTransformInfo","targetFunction","matFunctionName","beforeFunctionTexts","afterFunctionTexts","beforeFunctionMatrix","beforeTransform2","beforeFunctionMatrix2","targetTansform","targetFunctionMatrix","afterTransform","afterFunctionMatrix","afterTransform2","afterFunctionMatrix2","targetAllTransform","allFunctionMatrix","splice","isAppendTransform","isAppend","convertTransformFormat","dist","getTransformDist","getBeforeDragDist","bx","by","getTransfromMatrix","fromTranslation","isAfter","nextTargetMatrix","multiply","res1","afterTargetMatrix","isBefore","getInverseDragDist","calculateTransformOrigin","prevWidth","prevHeight","prevOrigin","pos","splitUnit","unit","prevSize","size","isNaN","measureRatio","getPosIndexesByDirection","indexes","getPosesByDirection","getPosBySingleDirection","ratio","dot","getPosByDirection","getDist","startPos","fixedDirection","fixedPos","getNextMatrix","getAbsoluteMatrix","getNextTransformMatrix","transform","isAllTransform","targetTransform","isString","convertDimension","parseMat","scaleMatrix","createScaleMatrix","fillTransformStartEvent","getBeforeRenderableDatas","setTransform","startTransforms","isArray","splitSpace","setTransformIndex","setDefaultTransformIndex","property","func","parse","v","offsetWidth","offsetHeight","startValue","functionValue","fillOriginalTransform","getNextTransforms","getNextTransformText","getNextStyle","nextStyle","fillTransformEvent","nextTransform","Draggable","fillCSSObject","getTranslateFixedPosition","fixedOffset","nextMatrix","nextFixedPosition","getDirectionOffset","getTranslateDist","fixedPosition","groupable","groupLeft","groupTop","getScaleDist","getDirectionByPos","fixedOffsetPosition","getRotateDist","rotateDist","getResizeDist","nextOrigin","getAbsolutePosition","getAbsolutePosesByState","getGestoData","targetGesto","controlGesto","data","getEventData","getShadowRoot","parentElement","getRootNode","rootNode","nodeType","getIndividualTransforms","getStyle","rotate","translate","individualTransforms","split","getMatrixStackInfo","container","checkContainer","el","matrixes","documentElement","getDocumentElement","getDocumentBody","requestEnd","isEnd","targetTransformOrigin","hasFixed","offsetContainer","getOffsetInfo","offsetParent","zoom","getCachedStyle","position","getElementTransform","isFixed","convertCSStoMatrix","getTransformMatrix","isOffsetEnd","isStatic","parentClientLeft","parentClientTop","fixedClientLeft","fixedClientTop","fixedInfo","hasTransform","fixedContainer","getPositionFixedInfo","length_1","convert3DMatrixes","getOffsetPosInfo","tagName","hasOffset","isSVG","origin_1","targetOrigin","offsetPos","offsetLeft","offsetTop","ownerSVGElement","getSVGMatrix","createIdentityMatrix","targetZoom","offsetInfo","offsetZoom","isCustomElement","parentSlotElement","customOffsetParent","customOffsetLeft","customOffsetTop","clientLeft","clientTop","margin","getBodyOffset","isElementTarget","scrollLeft","scrollTop","createOriginMatrix","cacheStyleMap","clientRectStyleMap","matrixContainerInfos","setStoreCache","useCache","Map","getCachedClientRect","clientRect","get","nextClientRect","getClientRect","set","getCachedMatrixContainerInfo","result_1","element","cache","nextStyle_1","getWindow","getComputedStyle","style","cached","fillChildEvents","groupableDatas","childDatas","moveables","_","isRequestChild","triggerChildGesto","isStart","childEvents","eventParams","ev","childMoveable","childEvent","childGestos","parentFlag","child","triggerChildAbles","eachEvent","callback","childs","startChildDist","parentDatas","startPositions","createRotateMatrix","rotation","PI","originalX","originalY","renderDirectionControlsByInfos","renderDirections","React","getState","renderPoses","rotationRad","getProps","degRotation","absDegree","directionMap","renderState","renderDirectionMap","forEach","directionSign","classNames","directionRotation","throttle","dataAttrs","getKeys","createElement","className","prefix","getControlTransform","renderDirectionControls","defaultDirections","directions","displayAroundControls","renderAroundControls","renderLine","_i","rad","getRad","getLineStyle","renderEdgeLines","edge","index1","index2","Boolean","getRenderDirections","renderDiagonalDirections","renderAllDirections","checkBoundPoses","bounds","verticalPoses","horizontalPoses","Infinity","nextBounds","vertical","checkBounds","horizontal","getBounds","externalBounds","containerClientRect","containerHeight","clientHeight","containerWidth","clientWidth","snapOffset","snapOffsetLeft","snapOffsetTop","snapOffsetRight","snapOffsetBottom","isCSS","_g","checkBoundKeepRatio","endPos","endX","endY","dx","dy","abs","isBottom","isRight","verticalInfo","isBound","horizontalInfo","a","y","x","isVertical","startBoundPos","endBoundPos","minPos","maxPos","boundInfos","sort","isBoundRotate$1","relativePoses","boundRect","nextPoses","some","boundRotate","vec","boundPos","getDistSize","nextPos","sqrt","checkRotateBounds","prevPoses","relativeLeft","relativeRight","relativeTop","relativeBottom","relativeRad1","relativeRad2","nextRad","VERTICAL_NAMES","HORIZONTAL_NAMES","SNAP_SKIP_NAMES_MAP","VERTICAL_NAMES_MAP","start","end","center","HORIZONTAL_NAMES_MAP","getInitialBounds","hasGuidelines","snappable","innerBounds","verticalGuidelines","horizontalGuidelines","snapGridWidth","snapGridHeight","guidelines","enableSnap","getSnapDirections","snapDirections","mapSnapDirectionPoses","snapPoses","nextSnapDirections","nextSnapPoses","name_1","splitSnapDirectionPoses","horizontalNames","verticalNames","calculateContainerPos","containerRect","clientPos","solveLineConstants","point1","point2","TINY_NUM$1","NAME_snapRotationThreshold","NAME_snapRotationDegrees","NAME_snapHorizontalThreshold","NAME_snapVerticalThreshold","checkMoveableSnapPoses","posesX","posesY","dirXs","dirYs","customSnapVerticalThreshold","customSnapHorizontalThreshold","snapThresholdMultiples","snapThresholdInfo","multiples","snapHorizontalThreshold","selectValue","snapVerticalThreshold","checkSnapPoses","checkSnap","checkSnapKeepRatio","getTinyDist","isSnap","undefined","verticalSnapInfo","horizontalSnapInfo","posInfos","getNearestSnapGuidelineInfo","isVerticalSnap","verticalGuideline","guideline","isHorizontalSnap","horizontalGuideline","horizontalPos","verticalPos","getStringDirection","stringDirection","checkSnaps","rect","horizontalDirection","verticalDirection","snapInfo","posInfo","guidelineInfo","guidelineInfos","targetType","targetPoses","snapThreshold","dirs","posType","snapPosInfos","targetPos","snapPosInfo","getSnapInfosByDirection","snapDirection","arr","nextDir","keepRatio","xs","ys","checkSnapBoundPriority","aDist","bDist","getNearOffsetInfo","offsets","aSign","bSign","aOffset","bOffset","getCheckSnapDirections","endDirection_1","signX","signY","nextDirection","signs","isStartLine","line","cx","average","cy","hitTestLine","test1","test2","isSameStartLine","dots","centerSign","every","checkInnerBoundDot","threshold","checkInnerBound","verticalSign","horizontalSign","lineConstants","isAllBound","isVerticalBound","isHorizontalBound","leftLine","topLine","rightLine","bottomLine","topBoundInfo","checkLineBoundCollision","bottomBoundInfo","leftBoundInfo","rightBoundInfo","isAllVerticalBound","isAllHorizontalBound","verticalOffset","maxOffset","horizontalOffset","boundLine","isRender","dot1","boundDot1","boundDot2","dy2","dx2","hasDx","hasDy","slope","getInnerBoundInfo","lineInfos","multiple","sizeOffset","getInnerBoundDragInfo","lines","getCheckInnerBoundLineInfos","innerBoundInfo","widthOffsetInfo","heightOffsetInfo","getCheckSnapLineDirections","lineDirections","virtualPoses","dir1","dir2","virtualLine","isBoundRotate","boundDots","getDistPointLine","solveReverseLine","checkRotateInnerBounds","dotInfos","lineRad","lineDist","dotDist","dotRad","distRad","acos","nextRad1","nextRad2","reduce","prev","cur","checkInnerBoundPoses","boundMap","getRect","lineInfo","isHorizontalStart","isVerticalStart","solveEquation","solveNextOffset","isOutside","getDist$1","dist1","dist2","widthOffset","heightOffset","getSnapBound","boundInfo","checkThrottleDragRotate","throttleDragRotate","_h","offsetX","offsetY","adjustPoses","adjustPos","prevDistY","checkSnapBoundsDrag","ignoreSnap","getAbsolutePoses","absolutePoses","boundPoses","middle","checkMoveableSnapBounds","verticalSnapBoundInfo","horizontalSnapBoundInfo","verticalInnerBoundInfo","horizontalInnerBoundInfo","horizontalBoundInfos","verticalBoundInfos","horizontalDist","verticalDist","snapIndex","snap","checkSnapBounds","guideines","checkSnapRightLine","snapBoundInfo","rad180","isHorizontalLine","isVerticalLine","getSnapBoundInfo","isRequest","startDirection","endDirection","otherStartPos","otherEndPos","checkSnapBoundsKeepRatio","otherHorizontalOffset","isOtherHorizontalBound","isOtherHorizontalSnap","otherVerticalOffset","isOtherVerticalBound","isOtherVerticalSnap","snapLine","getSnapBoundOffset","horizontalBoundInfo","verticalBoundInfo","checkMaxBounds","maxWidth","maxHeight","left_1","top_1","right_1","bottom_1","otherDirection","isCheckVertical","isCheckHorizontal","otherPos","deg","nextOtherPos","isHeightOutside","isWidthOutside","requestStyle","requestChildStyle","render","hideThrottleDragRotateLine","dragInfo","beforeOrigin","startCheckSnapDrag","prevDist","prevBeforeDist","deltaOffset","params","fillParams","triggerEvent","startRect","useSnap","isGroup","parentThrottleDrag","parentMoveable","throttleDrag","dragRotateRad","startDragRotate","ry","cos","rx","sin","beforeTranslate","throttleArray","beforeDist","beforeDelta","passDelta","passDist","num","dragAfter","dragEnd","param","fillEndParams","dragGroupStart","nextParams","targets","throttleOffset","dragGroup","dragGroupEnd","request","isControl","requestStart","unset","getFixedDirectionInfo","getOffsetFixedDirectionInfo","nextFixedOffset","getOffsetFixedPositionInfo","offsetFixedPosition","directionCondition$2","getDirectionCondition","Resizable","ableGroup","canPinch","dragControlCondition","viewClassName","getDirectionViewClassName","dragControlStart","parentDirection","parentFixedDirection","getTotalDirection","resizable","startOffsetWidth","startOffsetHeight","minSize","startWidth","inlineCSSWidth","cssWidth","startHeight","inlineCSSHeight","cssHeight","maxSize","minOffsetWidth","minOffsetHeight","maxOffsetWidth","maxOffsetHeight","startOffsetMatrix","startTransformOrigin","isWidth","parentIsWidth","setRatio","isFinite","setFixedDirection","setFixedPosition","setMin","convertUnitSize","setMax","nextMaxSize","isNumber","startRatio","setOrigin","startFixedDirection","startFixedPosition","isResize","snapRenderInfo","dragControl","parentKeepRatio","dragClient","parentDist","resolveMatrix","targetN","nextAllMatrix","resizeFormat","throttleResize","keepRatioFinally","sizeDirection","distWidth","distHeight","getNextBoundingSize","nextSize","getOffsetSizeDist","nextWidth","nextHeight","boundingWidth","boundingHeight","nextFixedDirection","setSize","snapDist","checkSnapResize","computeSize","isNoSnap","calculateBoundSize","inverseDelta","fillAfterTransform","dragControlAfter","checkResizableError","errorWidth","errorHeight","isErrorWidth","isErrorHeight","dragControlEnd","dragGroupControlCondition","dragGroupControlStart","originalEvents","parentStartOffsetWidth","parentStartOffsetHeight","updateGroupMin","originalMinSize","childMinSize","childStartOffsetWidth","childStartOffsetHeight","parentMinWidth","parentMinHeight","updateGroupMax","originalMaxSize","childMaxSize","parentMaxWidth","parentMaxHeight","dragGroupControl","catchEvent","parentScale","dragGroupControlEnd","deltaWidth","deltaHeight","setRotateStartInfo","startAbsoluteOrigin","prevDeg","defaultDeg","prevSnapDeg","loop","startDist","getAbsoluteDist","normalizedPrevDeg","floor","getAbsoluteDistByClient","getRotateInfo","moveableRect","throttleRotate","snapRotation","checkSnapRotate","snapDeg","getRotationPositions","rotationPosition","radPoses","getRotationRad","isReverse","requestAble","hasClass","rotateAroundControls","rotationTarget","getRefTargets","contains","css","Rotatable","isDragging","rotatable","resolveAblesWithRotatable","positions","jsxs","ables","resolveMap_1","directionControlInfos","resolve","parentRotate","beforeDirection","resizeStart","startClientX","startClientY","externalRotate","beforeInfo","afterInfo","absoluteInfo","inputTarget","regionDirection","getAttribute","controlDirection","isAroundControl","resolveAble","clientPoses","calculateMoveableClientPositions","originalFixedPosition_1","getOrigin","fixedBeforeOrigin","fixedAfterOrigin","posDelta","parentPosition","controlPosition","parentFixedPosition","getTotalOrigin","rotatation","isRotate","clientDistX","clientDistY","groupDelta","targetDirection","beforeRotation","absoluteDelta","absoluteDist","absoluteRotation","startRotation","absoluteStartRotation","nextClientX","nextClientY","setRotation","nextRotation","inverseDist","prevInverseDist","requestValue","dragEvent","transformEvent","parentDistance","resize","resizeEvent","beforeRotate","absoluteRotate","parentLeft","parentTop","parentBeforeOrigin","childClient","startGroupClient","groupClient","prevClientX","prevClientY","setGroupRotation","distRotate","getRotation","deltaRotate","renderGuideline","isHorizontal","scaleType","renderInnerGuideline","sizeValue","posValue","renderSnapPoses","renderPos","renderGuidelines","targetRect","isDisplayInnerSnapDigit","mainNames","targetStart","targetEnd","hide","elementRect","renderDigitLine","lineType","gap","snapDigit","isDisplaySnapDigit","snapDistFormat","sizeName","absGap","snapSize","toFixed","groupByElementGuidelines","otherIndex","names","groupBy","nextGuidelines","inner","elementRect1","elementRect2","nextPos1","nextPos2","elementDirection","total","renderDashedGuidelines","rendered","groups","sideNames","sidePos","prevRect","nextRect","size1","size2","renderPos1","renderPos2","renderGapGuidelines","targetSideStart","targetSideEnd","gapRects","sideStartPos","sideEndPos","sideCenterPos","getTotalGuidelines","overflow","scrollHeight","scrollWidth","containerClientHeight","containerClientWidth","snapGap","maxSnapElementGuidelineDistance","isDisplayGridGuidelines","elementGuidelines","getElementGuidelines","totalGuidelines","getGapGuidelines","getGridGuidelines","getDefaultGuidelines","checkBetweenRects","snapThresholds","maxSnapElementGapDistance","elementRects","gapGuidelines","targetCenter","targetStart2","targetEnd2","snapThresholdMap","nextElementRects","snapRect1","snapRect2","rect1","rect2","rect1Start","rect1End","rect2Start","rect2End","isCenter","startGridGroupGuidelines","snapGridAll","hasDirection","rect_1","children_1","children","posName","clientOffset","rectSize","rectPos","childSizes","flat$1","firstChildSize","childSnapSizes","rectRatio","childSize","startOffset","defaultSnapGridWidth","defaultSnapGridHeight","pushGuideline","grid","distance","prevValues","snapRect","refresh","nextElementGuidelines","isObject","getRefTarget","diff","maintained","added","nextValues","prevIndex","getSnapElementRects","elementSnapDirections","topValue","leftValue","rightValue","bottomValue","centerValue","middleValue","rectTop","rectLeft","sizes","getObjectGuidelines","containerSize","posGuideline","snapWidth","snapHeight","values","offsetDelta","containerLeft","containerTop","getBoundingClientRect","elementLeft","elementTop","elementRight","elementBottom","checkSnapInfo","snapContainer","snapContainerTarget","snapContainerRect","offset1","getDragDistByState","offset2","getNextFixedPoses","nextFixedPos","normalized","getSizeOffsetInfo","innerBoundLineInfos","recheckSizeByTwoDirection","snapPos","nextWidthOffset","nextHeightOffset","checkSizeDist","getNextPoses","isWidthBound","isHeightBound","widthDist","heightDist","isGetWidthOffset","bumpDegree","baseDeg","count","deg1","deg2","getMinDegreeDistance","deg3","snapRotationThreshold","snapRotationDegrees","origin2_1","rad_1","sorted","firstDegree","checkSnapScale","sizeDist","getSnapGuidelines","addBoundGuidelines","verticalSnapPoses","horizontalSnapPoses","innerBoundMap","verticalInnerBoundPoses","horizontalInnerBoundPoses","innerPos","directionCondition$1","Snappable","dragRelation","targetTop","targetLeft","snapRenderThreshold","watchValue","JSON","stringify","minLeft","minTop","externalPoses","snapInfos","hasExternalPoses","externalRect","verticalPosInfos","horizontalPosInfos","allGuidelines","elements","gaps","nextBoundMap","nextInnerBoundMap","pinchStart","multiply2","prefixNames","defaultSync","fn","multiplies","measureSVGSize","viewBox","getSVGViewBox","getBeforeTransformOrigin","relativeOrigin","getTransformOrigin","getTransformOriginArray","computedTransform","list","baseVal","_loop_1","chr","lastParent","isParent","checkZoom","getTargetStyle","hasSlot","assignedSlotParentElement","assignedSlot","targetPosition","willChange","slotParentNode","parentNode","targetParentNode","host","isUndefined","getSVGGraphicsOffset","getBodyStyle","bodyPosition","marginLeft","marginTop","body","makeMatrixCSS","convertMatrixtoCSS","viewBoxWidth","viewBoxHeight","scaleX","scaleY","preserveAspectRatio","align","meetOrSlice","svgOrigin","xAlign","yAlign","scaleDimension","isGTarget","getBBox","isFillBox","bbox","rectWidth","rectHeight","calculateRect","getSVGOffset","targetInfo","getSize","mat","prevLeft","prevTop","posOrigin","rectOrigin","mat2","nextLeft","nextTop","distLeft","distTop","rootClientRect","rootPoses","getDiagonalSize","self","contentWidth","contentHeight","minWidth","minHeight","svg","targetStyle","boxSizing","borderLeft","borderRight","borderTop","borderBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","horizontalPadding","verticalPadding","horizontalBorder","verticalBorder","getParentStyle","between","resetClientRect","getExtendsRect","isRoot","extendsRect","getClientRectByPosition","base","isExtends","baseTop","baseLeft","convertTransformOriginArray","getDirection","direciton","unsetAbles","unsetGesto","gestoName","gesto","isIdle","resolvedEvent","cssText","decamelize","prevEvent","nextEvent","isBeforeEvent","currentTarget","isTrusted","stopAble","isEventStart","stopDrag","stop","isStartEvent","lastEvent","isDouble","_emitter","on","isManager","pseudoElt","filterAbles","methods","triggerAblesSimultaneously","enabledAbles","ableGroups","method","equals","a1","a2","groupKeys","groupKey","keyIndex","group","groupByMap","flat","args","calculatePadding","xAdded","yAdded","nextAdded","convertCSSSize","isRelative","checkAbles","transforms","matrixInfos","beforeFunctionTexts2","targetFunctionText","afterFunctionTexts2","beforeFunctions","beforeFunctions2","afterFunctions","afterFunctions2","targetFunctions","toMat","isArrayFormat","isNode","isSelector","document","querySelector","isFunction","isWindow","current","userTargets","querySelectorAll","getAbsoluteRotation","calculateMatrixDist","getSizeDistByDist","startSize","standardRad","signSize","startWidthSize","startHeightSize","secondRad","atan2","firstRad","distSize","pinchScale","directionsDists","directionRatios","ratioDistance","dist_1","convertTransformUnit","xy","leftOrigin","rightOrigin","originObject","nextOriginObject","rotatePosesInfo","isDeepArrayEquals","arr1","arr2","value1","value2","isArray1","isArray2","nextValue","valueKey","defaultValue","store","_store","prevValue","countEach","counter","getPaddingBox","padding","Pinchable","angle","pinchable","eventName","controlEventName","pinchAbles","controlAbles","ableEvent","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","directionCondition","Scalable","setMinScaleSize","minScaleSize","setMaxScaleSize","maxScaleSize","isScale","throttleScale","tempScaleValue","getNextScale","stateDirection","setScale","nextScale","distSign","isSelfPinch","startOffsetSize","scaleSize","distText","scaleText","isZeroScale","scaleEndParam","moveableScale","getMiddleLinePos","getTriangleRad","rad1","rad2","isValidPos","poses1","poses2","pi","Warpable","scalable","warpable","linePosFrom1","linePosFrom2","linePosFrom3","linePosFrom4","linePosTo1","linePosTo2","linePosTo3","linePosTo4","warpTargetMatrix","targetInverseMatrix","ignoreDimension","prevMatrix","posIndexes","isWarp","selectedPoses","nearByPoses","h","createWarpMatrix","afterMatrix","totalMatrix","AREA_PIECES","AREA_PIECE","AVOID","VIEW_DRAGGING","restoreStyle","areaElement","removeClass","renderPieces","DragArea","dragArea","passDragArea","ref","isDragArea","rects","nextElementSibling","addClass","disableNativeEvent","enableNativeEvent","requestAnimationFrame","Origin","originStyle","getDefaultScrollPosition","scrollContainer","Scrollable","getContainer","scrollOptions","dragScroll","DragScroll","scrollContainerElement","scrollBy","getCurrentEvent","checkScroll","scrollThreshold","scrollThrottleTime","getScrollPosition","throttleTime","dragGroupControEnd","Default","Padding","paddingDirections","paddingPos1","paddingPos2","paddingPos3","paddingPos4","RADIUS_DIRECTIONS","calculateRatio","sumSize","sumRatio","HORIZONTAL_RADIUS_ORDER","VERTICAL_RADIUS_ORDER","HORIZONTAL_RADIUS_DIRECTIONS","VERTICAL_RADIUS_DIRECTIONS","getRadiusStyles","clipStyles","radiusPoses","virtual","raws","rawPos","styles","getRadiusRange","controlPoses","horizontalRange","verticalRange","clipPose","sub","getRadiusValues","minCounts","full","splitIndex","splitLength","horizontalValues","verticalValues","horizontalValuesLength","verticalValuesLength","hasVerticalValues","nwValue","neValue","seValue","_j","swValue","_k","_l","wnValue","_m","enValue","_o","esValue","_p","wsValue","horizontalRawPoses","verticalRawPoses","nextHorizontalPoses","nextVerticalPoses","raw","removeRadiusPos","startIndex","radiuslIndex","deleteCount","addRadiusPos","horizontalIndex","verticalIndex","radiusX","radiusY","startVerticalIndex","splitRadiusPoses","horizontals","verticals","CLIP_DIRECTIONS","CLIP_RECT_DIRECTIONS","getClipStyles","clipPath","clipRelative","clipType","clipPoses","isRect","isCircle","subWidth","subHeight","getRectPoses","dirx","diry","getControlSize","xRange","yRange","getClipPath","defaultClip","customClip","clipText","splitBracket","clipPrefix","splitter","splitComma","xPos","yPos","minMaxs","getMinMaxs","minX","maxX","minY","maxY","radiusX_1","radiusY_1","radius","xRadius","yRadius","centerPos_1","roundIndex","rectLength","radiusValues","_q","_r","_s","top_2","_t","nextRight","nextBottom","_u","top_3","moveControlPos","dists","verticalDirections","horizontalDirections","verticalDirection_1","horizontalDirection_1","fixedIndex","nextDist","nextControlPoses_1","controlPose","controlDir","dirDir","dirHorizontal","dirVertical","addClipPath","clipIndex","clipStyle","clipEventType","removeClipPath","Clippable","customClipPath","defaultClipPath","clipArea","clipPathState","snapBoundInfos","calculatedPos","controls","isInset","isPolygon","linePoses_1","clipLeft","clipTop","ellipseClipPath","piece","areaPoses","allWidth","allHeight","allLeft_1","allTop_1","directionType","snapPos1","snapPos2","dragWithClip","isDragTarget","isClipStart","isLine","isArea","originalDraggable","originalDist","firstDist","isDragWithTarget","isAll","guidePoses","isEllipse","guideRect","clipHorizontalGuidelines","clipVerticalGuidelines","guideXPoses","guideYPoses","rectPoses","rectDists_1","boundDelta","clipTargetBounds","snapOffsetY","snapOffsetX","distSnapX","distSnapY","width_1","height_1","nextControlPoses_2","j","nextClipStyles","dragDist","OriginDraggable","startOrigin","startTargetOrigin","isDragOrigin","originRelative","distOrigin","dragDelta","deltaOrigin","addBorderRadiusByLine","lineIndex","horizontalsLength","verticalsLength","controlIndex","controlPoseInfo","addBorderRadius","removeBorderRadius","getBorderRadius","borderRadius","triggerRoundEvent","roundRelative","borderRadiusState","getStyleBorderRadius","firstMoveable","firstTarget","getTargets","Roundable","roundClickable","minRoundControls","maxRoundControls","roundPadding","isDisplayShadowRoundControls","verticalCount","horizontalCount","basePos","originalPos","isDisplayVerticalShadow","isDisplay","display","indexAttr","replace","isRound","selectedControlPose","selectedVertical","selectedHorizontal","pose","poseDist","isIdentityMatrix","identityMatrix","BeforeRenderable","inlineTransform","cssMatrix","startTransform","resetStyle","fillDragStartParams","fillDragParams","_this","Renderable","fillDragEndParams","transformObject","matrixInfo","triggerAble","moveableAbles","eventOperations","eventAffix","eventType","requestInstant","requestAble_1","elementFromPoint","isDragStop","isFirstStart","updateRect","gestoType","prevGesto","trigger","conditionName","nextDatas","off","forceEndedCount","updatedCount","eventOperation","eventAbles","results","isUpdate","isForceEnd","preventDefault","isUnmounted","flushSync","forceUpdate","checkMoveableTarget","eventTarget","dragTargetElement","_dragTarget","isMoveableElement","controlBox","getTargetAbleGesto","moveableTarget","dragTarget","dragTargetSelf","checkTarget","getAbleGesto","getControlAbleGesto","checkControlTarget","ableType","conditionFunctions","isTargetAbles","pinchOutside","pinchThreshold","preventClickEventOnDrag","preventClickDefault","checkInput","dragFocusedInput","preventRightClick","preventWheelClick","dragContaienrOption","dragContainer","options","getControlBoxElement","preventClickEventOnDragStart","preventClickEventByCondition","Gesto","isPinchScheduled","stopPropagation","EventManager","_onEvent","addEventListener","setAbles","destroy","removeEventListener","calculateMatrixStack","rootContainer","isAbsolute3d","prevTargetMatrix","containerZoom","rootMatrixes","isRoot3d","offsetRootContainer","rootZoom","isNext3d","isSVGGraphicElement","nextRootMatrixes","reverse","originalRootContainer","endContainer","rootMatrixBeforeOffset","nextInfo","isMatrix3d","originalRootMatrix","hasZoom","calculateElementInfo","allResult","getElementInfo","getMoveableTargetInfo","moveableElement","parentContainer","requestStyles","targetClientRect","rootContainerClientRect","getStyle_1","beforePosition","absoluteTargetPosition","absoluteContainerPosition","containerClientRectLeft","containerClientRectTop","containterClientLeft","containerClientTop","clientDelta","originalBeforeOrigin","getPersistState","isPersisted","MoveableManager","_super","renderLines","targetAbles","isMoveableMounted","EventEmitter","_prevOriginalDragTarget","_originalDragTarget","_prevDragTarget","_prevPropTarget","_propTarget","_prevDragArea","_isPropTargetChanged","_hasFirstTarget","_reiszeObserver","_observerId","_mutationObserver","_rootContainer","_viewContainer","_viewClassNames","checkUpdateRect","cancelAnimationFrame","_onPreventClick","propsTarget","cspNonce","translateZ","ControlBoxElement","cssStyled","linePadding","controlPadding","_checkUpdateRootContainer","checkUpdate","updateRenderPoses","stateTarget","groupTargets","ableAttributes","getEnabledAbles","ableClassName","_getAbleClassName","isVisible","firstRenderState","persistData","useAccuratePosition","onClick","renderAbles","_renderLines","componentDidMount","_checkUpdateViewContainer","_updateTargets","_updateNativeEvents","_updateEvents","updateCheckInput","_updateObserver","componentDidUpdate","prevProps","componentWillUnmount","disconnect","viewContainer","_changeAbleViewClassNames","manager","getAble","wrapperMoveable","getDragElement","triggerDragStart","hitTest","points","fitPoints","getOverlapSize","totalSize","getAreaSize","isInside","isTarget","isSetState","isSingle","nextState","_getRequestStyles","persistState","name_2","updateState","updateTarget","statePos","getManager","isInstant","allAbles","requsetAble","ableRequester","requester","ableParam","getMoveables","stateLeft","stateTop","renderPos3","renderPos4","zoomOffset","stateContainer","updateAbles","isTargetChanged","isChanged","moveableContainer","waitToChangeTarget","Promise","useCSS","tag","customStyleMap","customStyledMap","styled","hasControlBox","updateSelectors","setState","name_3","always","Renderer","styleNames","ableStyleNames","_updateResizeObserver","_updateMutationObserver","hasTargetAble","hasControlAble","isUnset","_isTargetChanged","hideDefaultLines","hideChildMoveableDefaultLines","useDragArea","nextTarget","prevTarget","prevDragArea","isDragTargetChanged","isDragAreaChanged","eventKeys","hasAbles","viewContainerOption","_getAbleViewClassNames","nextClassNames","prevClassNames","diff$1","removed","classPrefix","targetGestoData","controlGestoData","trim","win","ResizeObserver","useResizeObserver","observer","observe","box","MutationObserver","useMutationObserver","records","e_1","records_1","records_1_1","mutation","attributeName","e_1_1","return","attributes","defaultProps","isWrapperMounted","warpSelf","Groupable","renderGroupRects","persistDatChildren","getRequestChildStyles","refs","Clickable","containsElement","containsTarget","targetIndex","parentTarget","getDraggableEvent","edgeDraggable","dragCondition","dragGroupCondition","IndividualGroupable","MOVEABLE_ABLES","MOVEABLE_EVENTS","pushSet","MOVEABLE_PROPS","solveConstantsDistance","solveC","getMaxPos","getMinPos","getGroupRect","parentPoses","fixedRotation","a1_1","tan","a2_1","a1MinMax_1","a1MinMaxPos_1","a2MinMax_1","a2MinMaxPos_1","a1Dist","a2Dist","a1MinPos","a1MaxPos","a2MinPos","a2MaxPos","minHorizontalLine","maxHorizontalLine","minVerticalLine","maxVerticalLine","line1","line2","getIntersectionPointsByConstants","minX_1","minY_1","maxX_1","maxY_1","changedX","findMoveableGroups","childTargetGroups","targetGroup","childMoveableGroups","checked","finded","MoveableGroup","differ","ChildrenDiffer","_targetGroups","_hasFirstTargets","checkeds","targetGroups","moveableGroups","useDefaultGroupRotate","isReset","updateGroup","defaultGroupRotate","persistedRoatation","getMoveableGroupRect","parentRotation","posesRotations","rotations","groupRotation","firstRotation","isSameRotation","groupPoses","groupRect","rootGroupRect","defaultGroupOrigin","posesInfo","rotateScale","update","changed","isContainerChanged","MoveableIndividualGroup","canPersist","individualProps","individualGroupableProps","controlBoxElement","dragElement","getElementTargets","refTargets","selectorMap","elementTargets","getTargetGroups","compareRefTargets","prevRefTargets","nextRefTargets","InitialMoveable","_differ","_elementTargets","_tmpRefTargets","_tmpSelectorMap","_onChangeTargets","makeStyled","cssMap","getTotalAbles","defaultStyled","prefixCSS","defaultAbles","moveableContructor","userAbles","userProps","_updateRefs","nextSelectorMap","totalAbles","nextProps","prevMoveable","individualGroupable","groupableProps","target_1","prevTargetMoveable","mv","_checkChangeTargets","resolvePromise","waitToChangeTargets","isBrowser","updateSelectorMap","selectorTarget","onChangeTargets","withMethods","Moveable","InnerMoveable","PROPERTIES","METHODS","EVENTS","containerProvider","selfElement","_warp","nextOptions","camelize","getDocument","appendChild","renderSelf","innerMoveable","$_timer","getMoveable","removeChild","Properties","enumerable","configurable","getElementInfoFunction","makeAbleFunction","modules"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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A;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA,SAAS0C,qBAAT,CAA+Bza,cAA/B,EAA+ClL,cAA/C,EAA+D;IAC3D,EAAA,IAAI4C,aAAa,GAAG/C,iBAAiB,CAACqL,cAAD,EAAiBlL,cAAjB,CAArC,CAAA;IACA,EAAA,IAAIuC,WAAW,GAAG,CAAC,CAAD,EAAI,CAAJ,CAAlB,CAAA;MACA,OAAO;IACHK,IAAAA,aAAa,EAAEA,aADZ;IAEH5C,IAAAA,cAAc,EAAEA,cAFb;IAGHuC,IAAAA,WAAW,EAAEA,WAAAA;OAHjB,CAAA;IAKH,CAAA;;IACD,SAASqjB,2BAAT,CAAqChwB,KAArC,EAA4CoK,cAA5C,EAA4D;IACxD;IACA,EAAA,IAAIrF,SAAS,GAAG/E,KAAK,CAAC+E,SAAtB;IAAA,MAAiCrC,IAAI,GAAG1C,KAAK,CAAC0C,IAA9C;IAAA,MAAoDF,KAAK,GAAGxC,KAAK,CAACwC,KAAlE;IAAA,MAAyEC,MAAM,GAAGzC,KAAK,CAACyC,MAAxF,CAAA;IACA,EAAA,IAAItJ,CAAC,GAAGuJ,IAAI,GAAG,CAAH,GAAO,CAAnB,CAAA;MACA,IAAIutB,eAAe,GAAG,CAClBztB,KAAK,GAAG,CAAR,IAAa,CAAA,GAAI4H,cAAc,CAAC,CAAD,CAA/B,CADkB,EAElB3H,MAAM,GAAG,CAAT,IAAc,CAAA,GAAI2H,cAAc,CAAC,CAAD,CAAhC,CAFkB,CAAtB,CAAA;MAIA,IAAI4C,aAAa,GAAGxJ,iBAAiB,CAACuB,SAAD,EAAYkrB,eAAZ,EAA6B92B,CAA7B,CAArC,CAAA;IACA,EAAA,IAAIwT,WAAW,GAAG,CAAC,CAAD,EAAI,CAAJ,CAAlB,CAAA;MACA,OAAO;IACHK,IAAAA,aAAa,EAAEA,aADZ;IAEH5C,IAAAA,cAAc,EAAEA,cAFb;IAGHuC,IAAAA,WAAW,EAAEA,WAAAA;OAHjB,CAAA;IAKH,CAAA;;IACD,SAASujB,0BAAT,CAAoClwB,KAApC,EAA2CmwB,mBAA3C,EAAgE;IAC5D;IACA,EAAA,IAAIprB,SAAS,GAAG/E,KAAK,CAAC+E,SAAtB;IAAA,MAAiCrC,IAAI,GAAG1C,KAAK,CAAC0C,IAA9C;IAAA,MAAoDF,KAAK,GAAGxC,KAAK,CAACwC,KAAlE;IAAA,MAAyEC,MAAM,GAAGzC,KAAK,CAACyC,MAAxF,CAAA;IACA,EAAA,IAAItJ,CAAC,GAAGuJ,IAAI,GAAG,CAAH,GAAO,CAAnB,CAAA;MACA,IAAI0H,cAAc,GAAGiD,iBAAiB,CAAC8iB,mBAAD,EAAsB3tB,KAAtB,EAA6BC,MAA7B,CAAtC,CAAA;MACA,IAAIoK,iBAAiB,GAAGrJ,iBAAiB,CAACuB,SAAD,EAAYorB,mBAAZ,EAAiCh3B,CAAjC,CAAzC,CAAA;MACA,IAAIwT,WAAW,GAAG,CACdnK,KAAK,GAAG,CAAH,GAAO2tB,mBAAmB,CAAC,CAAD,CADjB,EAEd1tB,MAAM,GAAG,CAAH,GAAO0tB,mBAAmB,CAAC,CAAD,CAFlB,CAAlB,CAAA;MAIA,OAAO;IACHnjB,IAAAA,aAAa,EAAEH,iBADZ;IAEHzC,IAAAA,cAAc,EAAEA,cAFb;IAGHuC,IAAAA,WAAW,EAAEA,WAAAA;OAHjB,CAAA;IAKH,CAAA;IAED;IACA;IACA;IACA;IACA;;;IACA,IAAIyjB,oBAAoB,GAAGC,qBAAqB,CAAC,WAAD,CAAhD,CAAA;IACA,IAAIC,SAAS,GAAG;IACZ30B,EAAAA,IAAI,EAAE,WADM;IAEZ40B,EAAAA,SAAS,EAAE,MAFC;IAGZC,EAAAA,QAAQ,EAAE,IAHE;IAIZ10B,EAAAA,KAAK,EAAE,CACH,WADG,EAEH,gBAFG,EAGH,kBAHG,EAIH,uBAJG,EAKH,WALG,EAMH,cANG,EAOH,kBAPG,EAQH,MARG,EASH,qBATG,CAJK;IAeZD,EAAAA,MAAM,EAAE,CACJ,aADI,EAEJ,cAFI,EAGJ,QAHI,EAIJ,WAJI,EAKJ,kBALI,EAMJ,mBANI,EAOJ,aAPI,EAQJ,gBARI,CAfI;IAyBZsxB,EAAAA,MAAM,EAAEjV,mBAAmB,CAAC,WAAD,CAzBf;IA0BZuY,EAAAA,oBAAoB,EAAEL,oBA1BV;IA2BZM,EAAAA,aAAa,EAAEC,yBAAyB,CAAC,WAAD,CA3B5B;IA4BZC,EAAAA,gBAAgB,EAAE,UAAUtsB,QAAV,EAAoB9K,CAApB,EAAuB;IACrC,IAAA,IAAI6G,EAAJ,CAAA;;IACA,IAAA,IAAIK,UAAU,GAAGlH,CAAC,CAACkH,UAAnB;IAAA,QAA+BR,OAAO,GAAG1G,CAAC,CAAC0G,OAA3C;IAAA,QAAoD8tB,OAAO,GAAGx0B,CAAC,CAACw0B,OAAhE;IAAA,QAAyE6C,eAAe,GAAGr3B,CAAC,CAACq3B,eAA7F;IAAA,QAA8GzuB,WAAW,GAAG5I,CAAC,CAAC4I,WAA9H;IAAA,QAA2IzB,KAAK,GAAGnH,CAAC,CAACmH,KAArJ;IAAA,QAA4JmwB,oBAAoB,GAAGt3B,CAAC,CAACs3B,oBAArL;IAAA,QAA2M/vB,WAAW,GAAGvH,CAAC,CAACuH,WAA3N,CAAA;QACA,IAAIgD,SAAS,GAAGgtB,iBAAiB,CAACF,eAAD,EAAkB3wB,OAAlB,EAA2BQ,UAA3B,EAAuCC,KAAvC,CAAjC,CAAA;IACA,IAAA,IAAIX,KAAK,GAAGsE,QAAQ,CAACtE,KAArB,CAAA;IACA,IAAA,IAAIlG,MAAM,GAAGkG,KAAK,CAAClG,MAAnB;IAAA,QAA2B0I,KAAK,GAAGxC,KAAK,CAACwC,KAAzC;IAAA,QAAgDC,MAAM,GAAGzC,KAAK,CAACyC,MAA/D;IAAA,QAAuEjC,MAAM,GAAGR,KAAK,CAACQ,MAAtF,CAAA;;IACA,IAAA,IAAI,CAACuD,SAAD,IAAc,CAACjK,MAAnB,EAA2B;IACvB,MAAA,OAAO,KAAP,CAAA;IACH,KAAA;;QACD,IAAI0G,MAAM,CAACwwB,SAAX,EAAsB;IAClB,MAAA,OAAO,KAAP,CAAA;IACH,KAAA;;IACDxwB,IAAAA,MAAM,CAACwwB,SAAP,GAAmB5uB,WAAW,IAAIkC,QAAQ,CAACyJ,YAA3C,CAAA;IACA,IAAA,CAAC7N,OAAD,IAAY4E,YAAY,CAACR,QAAD,EAAW9K,CAAX,CAAxB,CAAA;QACAmH,KAAK,CAACA,KAAN,GAAc,EAAd,CAAA;QACAA,KAAK,CAACoD,SAAN,GAAkBA,SAAlB,CAAA;QACApD,KAAK,CAACswB,gBAAN,GAAyBzuB,KAAzB,CAAA;QACA7B,KAAK,CAACuwB,iBAAN,GAA0BzuB,MAA1B,CAAA;QACA9B,KAAK,CAACsI,SAAN,GAAkB,CAAlB,CAAA;QACAtI,KAAK,CAACuI,UAAN,GAAmB,CAAnB,CAAA;IACAvI,IAAAA,KAAK,CAACwwB,OAAN,GAAgB,CAAC,CAAD,EAAI,CAAJ,CAAhB,CAAA;QACAxwB,KAAK,CAACywB,UAAN,GAAmBpxB,KAAK,CAACqxB,cAAN,IAAwBrxB,KAAK,CAACsxB,QAAjD,CAAA;QACA3wB,KAAK,CAAC4wB,WAAN,GAAoBvxB,KAAK,CAACwxB,eAAN,IAAyBxxB,KAAK,CAACyxB,SAAnD,CAAA;IACA9wB,IAAAA,KAAK,CAAC+wB,OAAN,GAAgB,CAACjZ,QAAD,EAAWA,QAAX,CAAhB,CAAA;;QACA,IAAI,CAACuV,OAAL,EAAc;UACVrtB,KAAK,CAACwwB,OAAN,GAAgB,CACZnxB,KAAK,CAAC2xB,cADM,EAEZ3xB,KAAK,CAAC4xB,eAFM,CAAhB,CAAA;UAIAjxB,KAAK,CAAC+wB,OAAN,GAAgB,CACZ1xB,KAAK,CAAC6xB,cADM,EAEZ7xB,KAAK,CAAC8xB,eAFM,CAAhB,CAAA;IAIH,KAAA;;QACD,IAAI3sB,eAAe,GAAGb,QAAQ,CAACxI,KAAT,CAAeqJ,eAAf,IAAkC,KAAxD,CAAA;IACAxE,IAAAA,KAAK,CAACwE,eAAN,GAAwBA,eAAe,IAAIyF,QAAQ,CAACzF,eAAD,CAA3B,GAClBA,eAAe,CAACyJ,KAAhB,CAAsB,GAAtB,CADkB,GAElBzJ,eAFN,CAAA;IAGAxE,IAAAA,KAAK,CAACoxB,iBAAN,GAA0B/xB,KAAK,CAACiF,YAAhC,CAAA;IACAtE,IAAAA,KAAK,CAACqxB,oBAAN,GAA6BhyB,KAAK,CAACmF,eAAnC,CAAA;QACAxE,KAAK,CAACsxB,OAAN,GAAgB,CAAC5xB,EAAE,GAAG7G,CAAC,KAAK,IAAN,IAAcA,CAAC,KAAK,KAAK,CAAzB,GAA6B,KAAK,CAAlC,GAAsCA,CAAC,CAAC04B,aAA9C,MAAiE,IAAjE,IAAyE7xB,EAAE,KAAK,KAAK,CAArF,GAAyFA,EAAzF,GAAgG,CAAC0D,SAAS,CAAC,CAAD,CAAV,IAAiB,CAACA,SAAS,CAAC,CAAD,CAA5B,IAAoCA,SAAS,CAAC,CAAD,CAA7C,IAAoD,CAACA,SAAS,CAAC,CAAD,CAA7K,CAAA;;QACA,SAASouB,QAAT,CAAkBpoB,KAAlB,EAAyB;IACrBpJ,MAAAA,KAAK,CAACoJ,KAAN,GAAcA,KAAK,IAAIqoB,QAAQ,CAACroB,KAAD,CAAjB,GAA2BA,KAA3B,GAAmC,CAAjD,CAAA;IACH,KAAA;;QACDpJ,KAAK,CAAC2U,cAAN,GAAuB1H,uBAAuB,CAACtJ,QAAQ,CAACtE,KAAV,CAA9C,CAAA;;QACA,SAASqyB,iBAAT,CAA2BjoB,cAA3B,EAA2C;UACvC,IAAI7J,MAAM,GAAGwvB,qBAAqB,CAACpvB,KAAK,CAAC2U,cAAP,EAAuBlL,cAAvB,CAAlC,CAAA;IACAzJ,MAAAA,KAAK,CAACyJ,cAAN,GAAuB7J,MAAM,CAAC6J,cAA9B,CAAA;IACAzJ,MAAAA,KAAK,CAACqM,aAAN,GAAsBzM,MAAM,CAACyM,aAA7B,CAAA;IACArM,MAAAA,KAAK,CAACgM,WAAN,GAAoBpM,MAAM,CAACoM,WAA3B,CAAA;IACH,KAAA;;QACD,SAAS2lB,gBAAT,CAA0BtlB,aAA1B,EAAyC;UACrC,IAAIzM,MAAM,GAAG2vB,0BAA0B,CAAC5rB,QAAQ,CAACtE,KAAV,EAAiBgN,aAAjB,CAAvC,CAAA;IACArM,MAAAA,KAAK,CAACyJ,cAAN,GAAuB7J,MAAM,CAAC6J,cAA9B,CAAA;IACAzJ,MAAAA,KAAK,CAACqM,aAAN,GAAsBzM,MAAM,CAACyM,aAA7B,CAAA;IACArM,MAAAA,KAAK,CAACgM,WAAN,GAAoBpM,MAAM,CAACoM,WAA3B,CAAA;IACH,KAAA;;QACD,SAAS4lB,MAAT,CAAgBpB,OAAhB,EAAyB;IACrBxwB,MAAAA,KAAK,CAACwwB,OAAN,GAAgB,CACZqB,eAAe,CAAC,EAAA,CAAG/2B,MAAH,CAAU01B,OAAO,CAAC,CAAD,CAAjB,CAAD,EAAwB,CAAxB,CAAf,IAA6C,CADjC,EAEZqB,eAAe,CAAC,EAAG/2B,CAAAA,MAAH,CAAU01B,OAAO,CAAC,CAAD,CAAjB,CAAD,EAAwB,CAAxB,CAAf,IAA6C,CAFjC,CAAhB,CAAA;IAIH,KAAA;;QACD,SAASsB,MAAT,CAAgBf,OAAhB,EAAyB;IACrB,MAAA,IAAIgB,WAAW,GAAG,CACdhB,OAAO,CAAC,CAAD,CAAP,IAAcjZ,QADA,EAEdiZ,OAAO,CAAC,CAAD,CAAP,IAAcjZ,QAFA,CAAlB,CAAA;;IAIA,MAAA,IAAI,CAACka,QAAQ,CAACD,WAAW,CAAC,CAAD,CAAZ,CAAT,IAA6BN,QAAQ,CAACM,WAAW,CAAC,CAAD,CAAZ,CAAzC,EAA2D;IACvDA,QAAAA,WAAW,CAAC,CAAD,CAAX,GAAiBF,eAAe,CAAC,GAAG/2B,MAAH,CAAUi3B,WAAW,CAAC,CAAD,CAArB,CAAD,EAA4B,CAA5B,CAAf,IAAiDja,QAAlE,CAAA;IACH,OAAA;;IACD,MAAA,IAAI,CAACka,QAAQ,CAACD,WAAW,CAAC,CAAD,CAAZ,CAAT,IAA6BN,QAAQ,CAACM,WAAW,CAAC,CAAD,CAAZ,CAAzC,EAA2D;IACvDA,QAAAA,WAAW,CAAC,CAAD,CAAX,GAAiBF,eAAe,CAAC,GAAG/2B,MAAH,CAAUi3B,WAAW,CAAC,CAAD,CAArB,CAAD,EAA4B,CAA5B,CAAf,IAAiDja,QAAlE,CAAA;IACH,OAAA;;UACD9X,KAAK,CAAC+wB,OAAN,GAAgBgB,WAAhB,CAAA;IACH,KAAA;;IACDP,IAAAA,QAAQ,CAAC3vB,KAAK,GAAGC,MAAT,CAAR,CAAA;IACA4vB,IAAAA,iBAAiB,CAACvB,oBAAoB,IAAI,CAAC,CAAC/sB,SAAS,CAAC,CAAD,CAAX,EAAgB,CAACA,SAAS,CAAC,CAAD,CAA1B,CAAzB,CAAjB,CAAA;QACApD,KAAK,CAAC0xB,iBAAN,GAA0BA,iBAA1B,CAAA;QACA1xB,KAAK,CAAC2xB,gBAAN,GAAyBA,gBAAzB,CAAA;QACA3xB,KAAK,CAAC4xB,MAAN,GAAeA,MAAf,CAAA;QACA5xB,KAAK,CAAC8xB,MAAN,GAAeA,MAAf,CAAA;IACA,IAAA,IAAI9E,MAAM,GAAGC,UAAU,CAACtpB,QAAD,EAAW9K,CAAX,EAAc;IACjCuK,MAAAA,SAAS,EAAEA,SADsB;UAEjC6uB,UAAU,EAAEjyB,KAAK,CAACoJ,KAFe;UAGjCuJ,GAAG,EAAE,UAAUjT,EAAV,EAAc;IACf,QAAA,IAAIC,EAAE,GAAGvF,MAAM,CAACsF,EAAD,EAAK,CAAL,CAAf;IAAA,YAAwB+wB,UAAU,GAAG9wB,EAAE,CAAC,CAAD,CAAvC;IAAA,YAA4CixB,WAAW,GAAGjxB,EAAE,CAAC,CAAD,CAA5D,CAAA;;YACAK,KAAK,CAACywB,UAAN,GAAmBA,UAAnB,CAAA;YACAzwB,KAAK,CAAC4wB,WAAN,GAAoBA,WAApB,CAAA;WAN6B;IAQjCgB,MAAAA,MAAM,EAAEA,MARyB;IASjCE,MAAAA,MAAM,EAAEA,MATyB;IAUjCN,MAAAA,QAAQ,EAAEA,QAVuB;IAWjCE,MAAAA,iBAAiB,EAAEA,iBAXc;IAYjCC,MAAAA,gBAAgB,EAAEA,gBAZe;UAajCO,SAAS,EAAE,UAAUtwB,MAAV,EAAkB;YACzB5B,KAAK,CAACwE,eAAN,GAAwB5C,MAAxB,CAAA;WAd6B;IAgBjCf,MAAAA,SAAS,EAAEgL,SAAS,CAAChL,SAAV,CAAoB8C,QAApB,EAA8B,IAAItD,WAAJ,GAAkBQ,SAAlB,CAA4B,CAAC,CAAD,EAAI,CAAJ,CAA5B,EAAoChI,CAApC,CAA9B,CAAA;IAhBsB,KAAd,CAAvB,CAAA;QAkBA,IAAI+G,MAAM,GAAGQ,WAAW,IAAI8sB,YAAY,CAACvpB,QAAD,EAAW,eAAX,EAA4BqpB,MAA5B,CAAxC,CAAA;IACAhtB,IAAAA,KAAK,CAACmyB,mBAAN,GAA4BnyB,KAAK,CAACyJ,cAAlC,CAAA;IACAzJ,IAAAA,KAAK,CAACoyB,kBAAN,GAA2BpyB,KAAK,CAACqM,aAAjC,CAAA;;QACA,IAAIzM,MAAM,KAAK,KAAf,EAAsB;UAClBI,KAAK,CAACqyB,QAAN,GAAiB,IAAjB,CAAA;IACA1uB,MAAAA,QAAQ,CAACtE,KAAT,CAAeizB,cAAf,GAAgC;YAC5BtD,OAAO,EAAEn2B,CAAC,CAAC0xB,SADiB;IAE5BnnB,QAAAA,SAAS,EAAEA,SAAAA;WAFf,CAAA;IAIH,KAAA;;IACD,IAAA,OAAOpD,KAAK,CAACqyB,QAAN,GAAiBrF,MAAjB,GAA0B,KAAjC,CAAA;OA1IQ;IA4IZuF,EAAAA,WAAW,EAAE,UAAU5uB,QAAV,EAAoB9K,CAApB,EAAuB;IAChC,IAAA,IAAI6G,EAAJ,CAAA;;IACA,IAAA,IAAIM,KAAK,GAAGnH,CAAC,CAACmH,KAAd;IAAA,QAAqBmU,UAAU,GAAGtb,CAAC,CAACsb,UAApC;IAAA,QAAgD5U,OAAO,GAAG1G,CAAC,CAAC0G,OAA5D;IAAA,QAAqEizB,eAAe,GAAG35B,CAAC,CAAC25B,eAAzF;IAAA,QAA0GC,UAAU,GAAG55B,CAAC,CAAC45B,UAAzH;IAAA,QAAqIC,UAAU,GAAG75B,CAAC,CAAC65B,UAApJ;IAAA,QAAgKtF,OAAO,GAAGv0B,CAAC,CAACu0B,OAA5K;IAAA,QAAqL7C,SAAS,GAAG1xB,CAAC,CAAC0xB,SAAnM;IAAA,QAA8M8C,OAAO,GAAGx0B,CAAC,CAACw0B,OAA1N;IAAA,QAAmOjtB,WAAW,GAAGvH,CAAC,CAACuH,WAAnP;IAAA,QAAgQuyB,aAAa,GAAG95B,CAAC,CAAC85B,aAAlR,CAAA;IACA,IAAA,IAAIN,QAAQ,GAAGryB,KAAK,CAACqyB,QAArB;IAAA,QAA+B7tB,eAAe,GAAGxE,KAAK,CAACwE,eAAvD;IAAA,QAAwEisB,UAAU,GAAGzwB,KAAK,CAACywB,UAA3F;IAAA,QAAuGG,WAAW,GAAG5wB,KAAK,CAAC4wB,WAA3H;IAAA,QAAwItoB,SAAS,GAAGtI,KAAK,CAACsI,SAA1J;IAAA,QAAqKC,UAAU,GAAGvI,KAAK,CAACuI,UAAxL;IAAA,QAAoMioB,OAAO,GAAGxwB,KAAK,CAACwwB,OAApN;IAAA,QAA6NO,OAAO,GAAG/wB,KAAK,CAAC+wB,OAA7O;IAAA,QAAsP3nB,KAAK,GAAGpJ,KAAK,CAACoJ,KAApQ;IAAA,QAA2QknB,gBAAgB,GAAGtwB,KAAK,CAACswB,gBAApS;IAAA,QAAsTC,iBAAiB,GAAGvwB,KAAK,CAACuwB,iBAAhV;IAAA,QAAmWe,OAAO,GAAGtxB,KAAK,CAACsxB,OAAnX,CAAA;;QACA,IAAI,CAACe,QAAL,EAAe;IACX,MAAA,OAAA;IACH,KAAA;;IACD,IAAA,IAAIM,aAAJ,EAAmB;IACf,MAAA,IAAI5wB,IAAI,GAAG4B,QAAQ,CAACtE,KAAT,CAAe0C,IAA1B,CAAA;IACA,MAAA,IAAIqvB,iBAAiB,GAAGpxB,KAAK,CAACoxB,iBAA9B;IAAA,UAAiDC,oBAAoB,GAAGrxB,KAAK,CAACqxB,oBAA9E,CAAA;IACA,MAAA,IAAI74B,CAAC,GAAGuJ,IAAI,GAAG,CAAH,GAAO,CAAnB,CAAA;UACA,IAAIwC,YAAY,GAAG4F,QAAQ,CAACoB,iBAAiB,CAAC1S,CAAD,CAAlB,CAA3B,CAAA;UACA,IAAI+5B,OAAO,GAAGh3B,IAAI,CAACqf,IAAL,CAAU1W,YAAY,CAAC7L,MAAvB,CAAd,CAAA;;UACA,IAAIF,CAAC,KAAKo6B,OAAV,EAAmB;YACfruB,YAAY,GAAG2F,gBAAgB,CAAC3F,YAAD,EAAequB,OAAf,EAAwBp6B,CAAxB,CAA/B,CAAA;IACH,OAAA;;UACD,IAAIq6B,aAAa,GAAGlpB,aAAa,CAACynB,iBAAD,EAAoB7sB,YAApB,EAAkC8sB,oBAAlC,EAAwD74B,CAAxD,CAAjC,CAAA;UACA,IAAIwJ,KAAK,GAAGC,cAAc,CAAC4wB,aAAD,EAAgBvC,gBAAhB,EAAkCC,iBAAlC,EAAqD/3B,CAArD,CAA1B,CAAA;UACAwH,KAAK,CAAC2U,cAAN,GAAuB3S,KAAvB,CAAA;UACAhC,KAAK,CAAC+H,gBAAN,GAAyBxD,YAAzB,CAAA;UACAvE,KAAK,CAAC6yB,aAAN,GAAsBA,aAAtB,CAAA;IACH,KAAA;;QACD,IAAI13B,KAAK,GAAGoa,QAAQ,CAAC5R,QAAQ,CAACxI,KAAV,EAAiB,WAAjB,CAApB,CAAA;IACA,IAAA,IAAI23B,YAAY,GAAG33B,KAAK,CAAC23B,YAAzB;IAAA,QAAuCnzB,EAAE,GAAGxE,KAAK,CAAC43B,cAAlD;IAAA,QAAkEA,cAAc,GAAGpzB,EAAE,KAAK,KAAK,CAAZ,GAAgBwU,UAAU,GAAG,CAAH,GAAO,CAAjC,GAAqCxU,EAAxH;IAAA,QAA4H4tB,cAAc,GAAGpyB,KAAK,CAACoyB,cAAnJ;IAAA,QAAmKyF,gBAAgB,GAAG73B,KAAK,CAAC63B,gBAA5L,CAAA;IACA,IAAA,IAAI5vB,SAAS,GAAGpD,KAAK,CAACoD,SAAtB,CAAA;QACA,IAAI6vB,aAAa,GAAG7vB,SAApB,CAAA;QACA,IAAI8vB,SAAS,GAAG,CAAhB,CAAA;QACA,IAAIC,UAAU,GAAG,CAAjB,CAAA;;QACA,IAAI,CAAC/vB,SAAS,CAAC,CAAD,CAAV,IAAiB,CAACA,SAAS,CAAC,CAAD,CAA/B,EAAoC;IAChC6vB,MAAAA,aAAa,GAAG,CAAC,CAAD,EAAI,CAAJ,CAAhB,CAAA;IACH,KAAA;;IACD,IAAA,IAAI3R,SAAS,GAAIlY,KAAK,KAAKopB,eAAe,IAAI,IAAnB,GAA0BA,eAA1B,GAA4Cr3B,KAAK,CAACmmB,SAAvD,CAAN,IAA4E,KAA5F,CAAA;;IACA,IAAA,SAAS8R,mBAAT,GAA+B;IAC3B,MAAA,IAAI3pB,cAAc,GAAGzJ,KAAK,CAACyJ,cAA3B,CAAA;UACA,IAAI4pB,QAAQ,GAAGC,iBAAiB,CAACL,aAAD,EAAgB3R,SAAhB,EAA2BthB,KAA3B,EAAkCnH,CAAlC,CAAhC,CAAA;UACAq6B,SAAS,GAAGG,QAAQ,CAACH,SAArB,CAAA;UACAC,UAAU,GAAGE,QAAQ,CAACF,UAAtB,CAAA;UACA,IAAII,SAAS,GAAIN,aAAa,CAAC,CAAD,CAAb,GAAmBxpB,cAAc,CAAC,CAAD,CAAlC,IAA0C6X,SAA1C,GACV1lB,IAAI,CAACoH,GAAL,CAASstB,gBAAgB,GAAG4C,SAA5B,EAAuC50B,QAAvC,CADU,GACyCgyB,gBADzD,CAAA;UAEA,IAAIkD,UAAU,GAAIP,aAAa,CAAC,CAAD,CAAb,GAAmBxpB,cAAc,CAAC,CAAD,CAAlC,IAA0C6X,SAA1C,GACX1lB,IAAI,CAACoH,GAAL,CAASutB,iBAAiB,GAAG4C,UAA7B,EAAyC70B,QAAzC,CADW,GAC0CiyB,iBAD3D,CAAA;;IAEA,MAAA,IAAIjP,SAAS,IAAIgP,gBAAb,IAAiCC,iBAArC,EAAwD;IACpD;IACA,QAAA,IAAIe,OAAJ,EAAa;cACTkC,UAAU,GAAGD,SAAS,GAAGnqB,KAAzB,CAAA;IACH,SAFD,MAGK;cACDmqB,SAAS,GAAGC,UAAU,GAAGpqB,KAAzB,CAAA;IACH,SAAA;IACJ,OAAA;;IACD,MAAA,OAAO,CAACmqB,SAAD,EAAYC,UAAZ,CAAP,CAAA;IACH,KAAA;;QACD,IAAIrxB,EAAE,GAAG/H,MAAM,CAACg5B,mBAAmB,EAApB,EAAwB,CAAxB,CAAf;IAAA,QAA2CK,aAAa,GAAGtxB,EAAE,CAAC,CAAD,CAA7D;IAAA,QAAkEuxB,cAAc,GAAGvxB,EAAE,CAAC,CAAD,CAArF,CAAA;;QACA,IAAI,CAAC/B,WAAL,EAAkB;IACdJ,MAAAA,KAAK,CAAC0xB,iBAAN,CAAwB1xB,KAAK,CAACyJ,cAA9B,CAAA,CAAA;UACAyjB,YAAY,CAACvpB,QAAD,EAAW,gBAAX,EAA6BspB,UAAU,CAACtpB,QAAD,EAAW9K,CAAX,EAAc;YAC7Ds5B,mBAAmB,EAAEnyB,KAAK,CAACmyB,mBADkC;YAE7DC,kBAAkB,EAAEpyB,KAAK,CAACoyB,kBAFmC;YAG7DV,iBAAiB,EAAE,UAAUiC,kBAAV,EAA8B;IAC7C,UAAA,IAAIj0B,EAAJ,CAAA;;cACAM,KAAK,CAAC0xB,iBAAN,CAAwBiC,kBAAxB,CAAA,CAAA;cACAj0B,EAAE,GAAGtF,MAAM,CAACg5B,mBAAmB,EAApB,EAAwB,CAAxB,CAAX,EAAuCK,aAAa,GAAG/zB,EAAE,CAAC,CAAD,CAAzD,EAA8Dg0B,cAAc,GAAGh0B,EAAE,CAAC,CAAD,CAAjF,CAAA;IACA,UAAA,OAAO,CAAC+zB,aAAD,EAAgBC,cAAhB,CAAP,CAAA;aAPyD;YAS7D/B,gBAAgB,EAAE,UAAUzlB,iBAAV,EAA6B;IAC3C,UAAA,IAAIxM,EAAJ,CAAA;;cACAM,KAAK,CAAC2xB,gBAAN,CAAuBzlB,iBAAvB,CAAA,CAAA;cACAxM,EAAE,GAAGtF,MAAM,CAACg5B,mBAAmB,EAApB,EAAwB,CAAxB,CAAX,EAAuCK,aAAa,GAAG/zB,EAAE,CAAC,CAAD,CAAzD,EAA8Dg0B,cAAc,GAAGh0B,EAAE,CAAC,CAAD,CAAjF,CAAA;IACA,UAAA,OAAO,CAAC+zB,aAAD,EAAgBC,cAAhB,CAAP,CAAA;aAbyD;IAe7DD,QAAAA,aAAa,EAAEA,aAf8C;IAgB7DC,QAAAA,cAAc,EAAEA,cAhB6C;YAiB7DE,OAAO,EAAE,UAAU/qB,IAAV,EAAgB;IACrB,UAAA,IAAInJ,EAAJ,CAAA;;cACAA,EAAE,GAAGtF,MAAM,CAACyO,IAAD,EAAO,CAAP,CAAX,EAAsB4qB,aAAa,GAAG/zB,EAAE,CAAC,CAAD,CAAxC,EAA6Cg0B,cAAc,GAAGh0B,EAAE,CAAC,CAAD,CAAhE,CAAA;IACH,SAAA;WApB8C,EAqBhD,IArBgD,CAAvC,CAAZ,CAAA;IAsBH,KAAA;;QACD,IAAI2M,aAAa,GAAGomB,UAApB,CAAA;;QACA,IAAI,CAACA,UAAL,EAAiB;IACb,MAAA,IAAI,CAACte,UAAD,IAAe5U,OAAnB,EAA4B;YACxB8M,aAAa,GAAGW,mBAAmB,CAACrJ,QAAD,EAAW,CAAC,CAAD,EAAI,CAAJ,CAAX,CAAnC,CAAA;IACH,OAFD,MAGK;YACD0I,aAAa,GAAGrM,KAAK,CAACqM,aAAtB,CAAA;IACH,OAAA;IACJ,KAAA;;IACD,IAAA,IAAIwnB,QAAQ,GAAG,CAAC,CAAD,EAAI,CAAJ,CAAf,CAAA;;QACA,IAAI,CAACt0B,OAAL,EAAc;IACVs0B,MAAAA,QAAQ,GAAGC,eAAe,CAACnwB,QAAD,EAAW8vB,aAAX,EAA0BC,cAA1B,EAA0CtwB,SAA1C,EAAqDiJ,aAArD,EAAoE,CAAC+gB,OAAD,IAAY7C,SAAhF,EAA2FvqB,KAA3F,CAA1B,CAAA;IACH,KAAA;;IACD,IAAA,IAAI0yB,UAAJ,EAAgB;UACZ,CAACA,UAAU,CAAC,CAAD,CAAX,KAAmBmB,QAAQ,CAAC,CAAD,CAAR,GAAc,CAAjC,CAAA,CAAA;UACA,CAACnB,UAAU,CAAC,CAAD,CAAX,KAAmBmB,QAAQ,CAAC,CAAD,CAAR,GAAc,CAAjC,CAAA,CAAA;IACH,KAAA;;IACD,IAAA,SAASE,WAAT,GAAuB;IACnB,MAAA,IAAIr0B,EAAJ,CAAA;;IACA,MAAA,IAAIozB,YAAJ,EAAkB;YACdpzB,EAAE,GAAGtF,MAAM,CAAC04B,YAAY,CAAC,CAACW,aAAD,EAAgBC,cAAhB,CAAD,CAAb,EAAgD,CAAhD,CAAX,EAA+DD,aAAa,GAAG/zB,EAAE,CAAC,CAAD,CAAjF,EAAsFg0B,cAAc,GAAGh0B,EAAE,CAAC,CAAD,CAAzG,CAAA;IACH,OAAA;;IACD+zB,MAAAA,aAAa,GAAGxd,QAAQ,CAACwd,aAAD,EAAgBV,cAAhB,CAAxB,CAAA;IACAW,MAAAA,cAAc,GAAGzd,QAAQ,CAACyd,cAAD,EAAiBX,cAAjB,CAAzB,CAAA;IACH,KAAA;;IACD,IAAA,IAAIzR,SAAJ,EAAe;IACX,MAAA,IAAI2R,aAAa,CAAC,CAAD,CAAb,IAAoBA,aAAa,CAAC,CAAD,CAAjC,IAAwCY,QAAQ,CAAC,CAAD,CAAhD,IAAuDA,QAAQ,CAAC,CAAD,CAAnE,EAAwE;IACpE,QAAA,IAAIta,GAAG,CAACsa,QAAQ,CAAC,CAAD,CAAT,CAAH,GAAmBta,GAAG,CAACsa,QAAQ,CAAC,CAAD,CAAT,CAA1B,EAAyC;IACrCA,UAAAA,QAAQ,CAAC,CAAD,CAAR,GAAc,CAAd,CAAA;IACH,SAFD,MAGK;IACDA,UAAAA,QAAQ,CAAC,CAAD,CAAR,GAAc,CAAd,CAAA;IACH,SAAA;IACJ,OAAA;;IACD,MAAA,IAAIG,QAAQ,GAAG,CAACH,QAAQ,CAAC,CAAD,CAAT,IAAgB,CAACA,QAAQ,CAAC,CAAD,CAAxC,CAAA;;IACA,MAAA,IAAIG,QAAJ,EAAc;IACV;YACAD,WAAW,EAAA,CAAA;IACd,OAAA;;UACD,IAAKd,aAAa,CAAC,CAAD,CAAb,IAAoB,CAACA,aAAa,CAAC,CAAD,CAAnC,IACIY,QAAQ,CAAC,CAAD,CAAR,IAAe,CAACA,QAAQ,CAAC,CAAD,CAD5B,IAEIG,QAAQ,IAAI1C,OAFpB,EAE8B;IAC1BmC,QAAAA,aAAa,IAAII,QAAQ,CAAC,CAAD,CAAzB,CAAA;YACAH,cAAc,GAAGD,aAAa,GAAGrqB,KAAjC,CAAA;IACH,OALD,MAMK,IAAK,CAAC6pB,aAAa,CAAC,CAAD,CAAd,IAAqBA,aAAa,CAAC,CAAD,CAAnC,IACD,CAACY,QAAQ,CAAC,CAAD,CAAT,IAAgBA,QAAQ,CAAC,CAAD,CADvB,IAEDG,QAAQ,IAAI,CAAC1C,OAFhB,EAE0B;IAC3BoC,QAAAA,cAAc,IAAIG,QAAQ,CAAC,CAAD,CAA1B,CAAA;YACAJ,aAAa,GAAGC,cAAc,GAAGtqB,KAAjC,CAAA;IACH,OAAA;IACJ,KA1BD,MA2BK;IACDqqB,MAAAA,aAAa,IAAII,QAAQ,CAAC,CAAD,CAAzB,CAAA;IACAH,MAAAA,cAAc,IAAIG,QAAQ,CAAC,CAAD,CAA1B,CAAA;UACAJ,aAAa,GAAG73B,IAAI,CAACoH,GAAL,CAAS,CAAT,EAAYywB,aAAZ,CAAhB,CAAA;UACAC,cAAc,GAAG93B,IAAI,CAACoH,GAAL,CAAS,CAAT,EAAY0wB,cAAZ,CAAjB,CAAA;IACH,KAAA;;IACDh0B,IAAAA,EAAE,GAAGtF,MAAM,CAAC65B,kBAAkB,CAAC,CAACR,aAAD,EAAgBC,cAAhB,CAAD,EAAkClD,OAAlC,EAA2CO,OAA3C,EAAoDzP,SAAS,GAAGlY,KAAH,GAAW,KAAxE,CAAnB,EAAmG,CAAnG,CAAX,EAAkHqqB,aAAa,GAAG/zB,EAAE,CAAC,CAAD,CAApI,EAAyIg0B,cAAc,GAAGh0B,EAAE,CAAC,CAAD,CAA5J,CAAA;QACAq0B,WAAW,EAAA,CAAA;;IACX,IAAA,IAAIzS,SAAS,KAAK+L,OAAO,IAAI2F,gBAAhB,CAAb,EAAgD;IAC5C,MAAA,IAAI1B,OAAJ,EAAa;YACToC,cAAc,GAAGD,aAAa,GAAGrqB,KAAjC,CAAA;IACH,OAFD,MAGK;YACDqqB,aAAa,GAAGC,cAAc,GAAGtqB,KAAjC,CAAA;IACH,OAAA;IACJ,KAAA;;QACD8pB,SAAS,GAAGO,aAAa,GAAGnD,gBAA5B,CAAA;QACA6C,UAAU,GAAGO,cAAc,GAAGnD,iBAA9B,CAAA;QACA,IAAIjxB,KAAK,GAAG,CAAC4zB,SAAS,GAAG5qB,SAAb,EAAwB6qB,UAAU,GAAG5qB,UAArC,CAAZ,CAAA;QACAvI,KAAK,CAACsI,SAAN,GAAkB4qB,SAAlB,CAAA;QACAlzB,KAAK,CAACuI,UAAN,GAAmB4qB,UAAnB,CAAA;IACA,IAAA,IAAIe,YAAY,GAAGpnB,aAAa,CAACnJ,QAAD,EAAW8vB,aAAX,EAA0BC,cAA1B,EAA0CrnB,aAA1C,EAAyD7H,eAAzD,EAA0ExE,KAA1E,CAAhC,CAAA;;QACA,IAAI,CAACutB,cAAD,IAAmBjuB,KAAK,CAAC6jB,KAAN,CAAY,UAAUkL,GAAV,EAAe;IAAE,MAAA,OAAO,CAACA,GAAR,CAAA;SAA7B,CAAnB,IAAmE6F,YAAY,CAAC/Q,KAAb,CAAmB,UAAUkL,GAAV,EAAe;IAAE,MAAA,OAAO,CAACA,GAAR,CAAA;IAAc,KAAlD,CAAvE,EAA4H;IACxH,MAAA,OAAA;IACH,KAAA;;QACD,IAAIrtB,IAAI,GAAG6K,SAAS,CAAC7K,IAAV,CAAe2C,QAAf,EAAyBvE,aAAa,CAACvG,CAAD,EAAI8K,QAAQ,CAACtE,KAAb,EAAoB60B,YAApB,EAAkC,CAAC,CAAC30B,OAApC,EAA6C,KAA7C,EAAoD,WAApD,CAAtC,CAAX,CAAA;IACA,IAAA,IAAIuK,SAAS,GAAG9I,IAAI,CAAC8I,SAArB,CAAA;IACA,IAAA,IAAIypB,SAAS,GAAG9C,UAAU,GAAGyC,SAA7B,CAAA;IACA,IAAA,IAAIM,UAAU,GAAG5C,WAAW,GAAGuC,UAA/B,CAAA;QACA,IAAInG,MAAM,GAAGC,UAAU,CAACtpB,QAAD,EAAW9K,CAAX,EAAcV,QAAQ,CAAC;IAAE0J,MAAAA,KAAK,EAAE0xB,SAAT;IAAoBzxB,MAAAA,MAAM,EAAE0xB,UAA5B;IAAwCtoB,MAAAA,WAAW,EAAEtP,IAAI,CAACC,KAAL,CAAW43B,aAAX,CAArD;IAAgFtoB,MAAAA,YAAY,EAAEvP,IAAI,CAACC,KAAL,CAAW63B,cAAX,CAA9F;IAA0HzB,MAAAA,UAAU,EAAE7oB,KAAtI;IAA6IqqB,MAAAA,aAAa,EAAEA,aAA5J;IAA2KC,MAAAA,cAAc,EAAEA,cAA3L;IAA2MtwB,MAAAA,SAAS,EAAEA,SAAtN;IAAiOmE,MAAAA,IAAI,EAAE,CAAC2rB,SAAD,EAAYC,UAAZ,CAAvO;IAAgQ7zB,MAAAA,KAAK,EAAEA,KAAvQ;UAA8QC,OAAO,EAAE,CAAC,CAACA,OAAzR;IAAkSyB,MAAAA,IAAI,EAAEA,IAAAA;SAAzS,EAAiTmzB,kBAAkB,CAAC;IAC7WhhB,MAAAA,KAAK,EAAE;IACHtR,QAAAA,KAAK,EAAE,EAAG/G,CAAAA,MAAH,CAAUy4B,SAAV,EAAqB,IAArB,CADJ;IAEHzxB,QAAAA,MAAM,EAAE,EAAGhH,CAAAA,MAAH,CAAU04B,UAAV,EAAsB,IAAtB,CAAA;WAHiW;IAK7W1pB,MAAAA,SAAS,EAAEA,SAAAA;IALkW,KAAD,EAM7W9I,IAN6W,EAMvWnI,CANuW,CAAnU,CAAtB,CAAvB,CAAA;QAOA,CAACuH,WAAD,IAAgB8sB,YAAY,CAACvpB,QAAD,EAAW,UAAX,EAAuBqpB,MAAvB,CAA5B,CAAA;IACA,IAAA,OAAOA,MAAP,CAAA;OAnTQ;IAqTZoH,EAAAA,gBAAgB,EAAE,UAAUzwB,QAAV,EAAoB9K,CAApB,EAAuB;IACrC,IAAA,IAAImH,KAAK,GAAGnH,CAAC,CAACmH,KAAd,CAAA;IACA,IAAA,IAAIqyB,QAAQ,GAAGryB,KAAK,CAACqyB,QAArB;IAAA,QAA+B/B,gBAAgB,GAAGtwB,KAAK,CAACswB,gBAAxD;IAAA,QAA0EC,iBAAiB,GAAGvwB,KAAK,CAACuwB,iBAApG;IAAA,QAAuHjoB,SAAS,GAAGtI,KAAK,CAACsI,SAAzI;IAAA,QAAoJC,UAAU,GAAGvI,KAAK,CAACuI,UAAvK,CAAA;;QACA,IAAI,CAAC8pB,QAAD,IAAa1uB,QAAQ,CAACxI,KAAT,CAAek5B,mBAAf,KAAuC,KAAxD,EAA+D;IAC3D,MAAA,OAAA;IACH,KAAA;;IACD,IAAA,IAAI30B,EAAE,GAAGiE,QAAQ,CAACtE,KAAlB;IAAA,QAAyBwC,KAAK,GAAGnC,EAAE,CAACmC,KAApC;IAAA,QAA2CC,MAAM,GAAGpC,EAAE,CAACoC,MAAvD,CAAA;IACA,IAAA,IAAIwyB,UAAU,GAAGzyB,KAAK,IAAIyuB,gBAAgB,GAAGhoB,SAAvB,CAAtB,CAAA;IACA,IAAA,IAAIisB,WAAW,GAAGzyB,MAAM,IAAIyuB,iBAAiB,GAAGhoB,UAAxB,CAAxB,CAAA;IACA,IAAA,IAAIisB,YAAY,GAAGjb,GAAG,CAAC+a,UAAD,CAAH,GAAkB,CAArC,CAAA;IACA,IAAA,IAAIG,aAAa,GAAGlb,GAAG,CAACgb,WAAD,CAAH,GAAmB,CAAvC,CAAA;;IACA,IAAA,IAAIC,YAAJ,EAAkB;UACdx0B,KAAK,CAACywB,UAAN,IAAoB6D,UAApB,CAAA;UACAt0B,KAAK,CAACswB,gBAAN,IAA0BgE,UAA1B,CAAA;UACAt0B,KAAK,CAACsI,SAAN,IAAmBgsB,UAAnB,CAAA;IACH,KAAA;;IACD,IAAA,IAAIG,aAAJ,EAAmB;UACfz0B,KAAK,CAAC4wB,WAAN,IAAqB2D,WAArB,CAAA;UACAv0B,KAAK,CAACuwB,iBAAN,IAA2BgE,WAA3B,CAAA;UACAv0B,KAAK,CAACuI,UAAN,IAAoBgsB,WAApB,CAAA;IACH,KAAA;;QACD,IAAIC,YAAY,IAAIC,aAApB,EAAmC;IAC/B,MAAA,OAAO,KAAKlC,WAAL,CAAiB5uB,QAAjB,EAA2B9K,CAA3B,CAAP,CAAA;IACH,KAAA;OA5UO;IA8UZ67B,EAAAA,cAAc,EAAE,UAAU/wB,QAAV,EAAoB9K,CAApB,EAAuB;IACnC,IAAA,IAAImH,KAAK,GAAGnH,CAAC,CAACmH,KAAd;IAAA,QAAqBI,WAAW,GAAGvH,CAAC,CAACuH,WAArC,CAAA;;IACA,IAAA,IAAI,CAACJ,KAAK,CAACqyB,QAAX,EAAqB;IACjB,MAAA,OAAA;IACH,KAAA;;QACDryB,KAAK,CAACqyB,QAAN,GAAiB,KAAjB,CAAA;QACA,IAAIrF,MAAM,GAAGyB,aAAa,CAAC9qB,QAAD,EAAW9K,CAAX,EAAc,EAAd,CAA1B,CAAA;QACA,CAACuH,WAAD,IAAgB8sB,YAAY,CAACvpB,QAAD,EAAW,aAAX,EAA0BqpB,MAA1B,CAA5B,CAAA;IACA,IAAA,OAAOA,MAAP,CAAA;OAtVQ;IAwVZ2H,EAAAA,yBAAyB,EAAElF,oBAxVf;IAyVZmF,EAAAA,qBAAqB,EAAE,UAAUjxB,QAAV,EAAoB9K,CAApB,EAAuB;IAC1C,IAAA,IAAImH,KAAK,GAAGnH,CAAC,CAACmH,KAAd,CAAA;IACA,IAAA,IAAIgtB,MAAM,GAAG,IAAKiD,CAAAA,gBAAL,CAAsBtsB,QAAtB,EAAgCxL,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKU,CAAL,CAAT,EAAkB;IAAEw0B,MAAAA,OAAO,EAAE,IAAA;IAAX,KAAlB,CAAxC,CAAb,CAAA;;QACA,IAAI,CAACL,MAAL,EAAa;IACT,MAAA,OAAO,KAAP,CAAA;IACH,KAAA;;QACD,IAAI6H,cAAc,GAAGxhB,eAAe,CAAC1P,QAAD,EAAW,WAAX,EAAwB9K,CAAxB,CAApC,CAAA;IACA,IAAA,IAAIi8B,sBAAsB,GAAG90B,KAAK,CAACswB,gBAAnC;IAAA,QAAqDyE,uBAAuB,GAAG/0B,KAAK,CAACuwB,iBAArF,CAAA;;IACA,IAAA,SAASyE,cAAT,GAA0B;IACtB,MAAA,IAAIC,eAAe,GAAGj1B,KAAK,CAACwwB,OAA5B,CAAA;IACAqE,MAAAA,cAAc,CAAChf,OAAf,CAAuB,UAAU9B,EAAV,EAAc;IACjC,QAAA,IAAIrU,EAAE,GAAGqU,EAAE,CAAC/T,KAAZ;IAAA,YAAmBk1B,YAAY,GAAGx1B,EAAE,CAAC8wB,OAArC;IAAA,YAA8C2E,qBAAqB,GAAGz1B,EAAE,CAAC4wB,gBAAzE;IAAA,YAA2F8E,sBAAsB,GAAG11B,EAAE,CAAC6wB,iBAAvH,CAAA;IACA,QAAA,IAAI8E,cAAc,GAAGP,sBAAsB,IACpCK,qBAAqB,GAAGD,YAAY,CAAC,CAAD,CAAZ,GAAkBC,qBAArB,GAA6C,CAD9B,CAA3C,CAAA;IAEA,QAAA,IAAIG,eAAe,GAAGP,uBAAuB,IACtCK,sBAAsB,GAAGF,YAAY,CAAC,CAAD,CAAZ,GAAkBE,sBAArB,GAA8C,CAD9B,CAA7C,CAAA;IAEAH,QAAAA,eAAe,CAAC,CAAD,CAAf,GAAqBr5B,IAAI,CAACoH,GAAL,CAASiyB,eAAe,CAAC,CAAD,CAAxB,EAA6BI,cAA7B,CAArB,CAAA;IACAJ,QAAAA,eAAe,CAAC,CAAD,CAAf,GAAqBr5B,IAAI,CAACoH,GAAL,CAASiyB,eAAe,CAAC,CAAD,CAAxB,EAA6BK,eAA7B,CAArB,CAAA;WAPJ,CAAA,CAAA;IASH,KAAA;;IACD,IAAA,SAASC,cAAT,GAA0B;IACtB,MAAA,IAAIC,eAAe,GAAGx1B,KAAK,CAAC+wB,OAA5B,CAAA;IACA8D,MAAAA,cAAc,CAAChf,OAAf,CAAuB,UAAU9B,EAAV,EAAc;IACjC,QAAA,IAAIrU,EAAE,GAAGqU,EAAE,CAAC/T,KAAZ;IAAA,YAAmBy1B,YAAY,GAAG/1B,EAAE,CAACqxB,OAArC;IAAA,YAA8CoE,qBAAqB,GAAGz1B,EAAE,CAAC4wB,gBAAzE;IAAA,YAA2F8E,sBAAsB,GAAG11B,EAAE,CAAC6wB,iBAAvH,CAAA;IACA,QAAA,IAAImF,cAAc,GAAGZ,sBAAsB,IACpCK,qBAAqB,GAAGM,YAAY,CAAC,CAAD,CAAZ,GAAkBN,qBAArB,GAA6C,CAD9B,CAA3C,CAAA;IAEA,QAAA,IAAIQ,eAAe,GAAGZ,uBAAuB,IACtCK,sBAAsB,GAAGK,YAAY,CAAC,CAAD,CAAZ,GAAkBL,sBAArB,GAA8C,CAD9B,CAA7C,CAAA;IAEAI,QAAAA,eAAe,CAAC,CAAD,CAAf,GAAqB55B,IAAI,CAACkH,GAAL,CAAS0yB,eAAe,CAAC,CAAD,CAAxB,EAA6BE,cAA7B,CAArB,CAAA;IACAF,QAAAA,eAAe,CAAC,CAAD,CAAf,GAAqB55B,IAAI,CAACkH,GAAL,CAAS0yB,eAAe,CAAC,CAAD,CAAxB,EAA6BG,eAA7B,CAArB,CAAA;WAPJ,CAAA,CAAA;IASH,KAAA;;IACD,IAAA,IAAIz6B,MAAM,GAAGmZ,iBAAiB,CAAC1Q,QAAD,EAAW,IAAX,EAAiB,kBAAjB,EAAqC9K,CAArC,EAAwC,UAAUub,KAAV,EAAiBL,EAAjB,EAAqB;UACvF,OAAOU,cAAc,CAAC9Q,QAAD,EAAWyQ,KAAX,EAAkBpU,KAAlB,EAAyB+T,EAAzB,CAArB,CAAA;IACH,KAF6B,CAA9B,CAAA;QAGAihB,cAAc,EAAA,CAAA;QACdO,cAAc,EAAA,CAAA;;IACd,IAAA,IAAI7D,iBAAiB,GAAG,UAAUjoB,cAAV,EAA0B;UAC9CujB,MAAM,CAAC0E,iBAAP,CAAyBjoB,cAAzB,CAAA,CAAA;IACAvO,MAAAA,MAAM,CAAC2a,OAAP,CAAe,UAAU9B,EAAV,EAAcxb,CAAd,EAAiB;YAC5Bwb,EAAE,CAAC2d,iBAAH,CAAqBjoB,cAArB,CAAA,CAAA;IACAgL,QAAAA,cAAc,CAAC9Q,QAAD,EAAWoQ,EAAE,CAACpQ,QAAd,EAAwB3D,KAAxB,EAA+B60B,cAAc,CAACt8B,CAAD,CAA7C,CAAd,CAAA;WAFJ,CAAA,CAAA;SAFJ,CAAA;;QAOAyH,KAAK,CAAC0xB,iBAAN,GAA0BA,iBAA1B,CAAA;;QACA,IAAI/C,UAAU,GAAGx2B,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAK60B,MAAL,CAAT,EAAuB;IAAE4B,MAAAA,OAAO,EAAEjrB,QAAQ,CAACxI,KAAT,CAAeyzB,OAA1B;IAAmC1zB,MAAAA,MAAM,EAAEA,MAAM,CAACyC,GAAP,CAAW,UAAUoW,EAAV,EAAc;YAC5G,OAAO5b,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAK4b,EAAL,CAAT,EAAmB;cAAE6d,MAAM,EAAE,UAAUpB,OAAV,EAAmB;gBACvDzc,EAAE,CAAC6d,MAAH,CAAUpB,OAAV,CAAA,CAAA;gBACAwE,cAAc,EAAA,CAAA;eAFY;cAG3BlD,MAAM,EAAE,UAAUf,OAAV,EAAmB;gBAC1Bhd,EAAE,CAAC+d,MAAH,CAAUf,OAAV,CAAA,CAAA;gBACAwE,cAAc,EAAA,CAAA;IACjB,WAAA;IAN6B,SAAnB,CAAf,CAAA;IAOH,OARsF,CAA3C;IAQxC7D,MAAAA,iBAAiB,EAAEA,iBARqB;UAQFE,MAAM,EAAE,UAAUpB,OAAV,EAAmB;YACjExD,MAAM,CAAC4E,MAAP,CAAcpB,OAAd,CAAA,CAAA;YACAwE,cAAc,EAAA,CAAA;WAV0B;UAWzClD,MAAM,EAAE,UAAUf,OAAV,EAAmB;YAC1B/D,MAAM,CAAC8E,MAAP,CAAcf,OAAd,CAAA,CAAA;YACAwE,cAAc,EAAA,CAAA;IACjB,OAAA;IAd2C,KAAvB,CAAzB,CAAA;;QAeA,IAAI31B,MAAM,GAAGstB,YAAY,CAACvpB,QAAD,EAAW,oBAAX,EAAiCgrB,UAAjC,CAAzB,CAAA;IACA3uB,IAAAA,KAAK,CAACqyB,QAAN,GAAiBzyB,MAAM,KAAK,KAA5B,CAAA;IACA,IAAA,OAAOI,KAAK,CAACqyB,QAAN,GAAiBrF,MAAjB,GAA0B,KAAjC,CAAA;OAvZQ;IAyZZ4I,EAAAA,gBAAgB,EAAE,UAAUjyB,QAAV,EAAoB9K,CAApB,EAAuB;IACrC,IAAA,IAAImH,KAAK,GAAGnH,CAAC,CAACmH,KAAd,CAAA;;IACA,IAAA,IAAI,CAACA,KAAK,CAACqyB,QAAX,EAAqB;IACjB,MAAA,OAAA;IACH,KAAA;;QACD,IAAIl3B,KAAK,GAAGoa,QAAQ,CAAC5R,QAAQ,CAACxI,KAAV,EAAiB,WAAjB,CAApB,CAAA;IACA06B,IAAAA,UAAU,CAAClyB,QAAD,EAAW,gBAAX,EAA6B,UAAUvD,WAAV,EAAuB;IAC1D8sB,MAAAA,YAAY,CAACvpB,QAAD,EAAW,qBAAX,EAAkCspB,UAAU,CAACtpB,QAAD,EAAW9K,CAAX,EAAcV,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKiI,WAAL,CAAT,EAA4B;YAAEwuB,OAAO,EAAEzzB,KAAK,CAACyzB,OAAAA;IAAjB,OAA5B,CAAtB,EAA+E,IAA/E,CAA5C,CAAZ,CAAA;IACH,KAFS,CAAV,CAAA;IAGA,IAAA,IAAI5B,MAAM,GAAG,IAAKuF,CAAAA,WAAL,CAAiB5uB,QAAjB,EAA2BxL,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKU,CAAL,CAAT,EAAkB;IAAEw0B,MAAAA,OAAO,EAAE,IAAA;IAAX,KAAlB,CAAnC,CAAb,CAAA;;QACA,IAAI,CAACL,MAAL,EAAa;IACT,MAAA,OAAA;IACH,KAAA;;IACD,IAAA,IAAIyG,aAAa,GAAGzG,MAAM,CAACyG,aAA3B;IAAA,QAA0CC,cAAc,GAAG1G,MAAM,CAAC0G,cAAlE;IAAA,QAAkFnsB,IAAI,GAAGylB,MAAM,CAACzlB,IAAhG,CAAA;IACA,IAAA,IAAI+Z,SAAS,GAAGnmB,KAAK,CAACmmB,SAAtB,CAAA;QACA,IAAIwU,WAAW,GAAG,CACdrC,aAAa,IAAIA,aAAa,GAAGlsB,IAAI,CAAC,CAAD,CAAxB,CADC,EAEdmsB,cAAc,IAAIA,cAAc,GAAGnsB,IAAI,CAAC,CAAD,CAAzB,CAFA,CAAlB,CAAA;IAIA,IAAA,IAAI8E,aAAa,GAAGrM,KAAK,CAACqM,aAA1B,CAAA;IACA,IAAA,IAAInR,MAAM,GAAGmZ,iBAAiB,CAAC1Q,QAAD,EAAW,IAAX,EAAiB,aAAjB,EAAgC9K,CAAhC,EAAmC,UAAU4a,CAAV,EAAaM,EAAb,EAAiB;UAC9E,IAAIrU,EAAE,GAAGtF,MAAM,CAAC4K,SAAS,CAAC4P,kBAAkB,CAACjR,QAAQ,CAACkR,QAAT,GAAoB,GAApB,GAA0BjZ,IAAI,CAACkZ,EAAhC,EAAoC,CAApC,CAAnB,EAA2D,CAChFf,EAAE,CAAC/T,KAAH,CAAS+U,SAAT,GAAqB+gB,WAAW,CAAC,CAAD,CADgD,EAEhF/hB,EAAE,CAAC/T,KAAH,CAASgV,SAAT,GAAqB8gB,WAAW,CAAC,CAAD,CAFgD,EAGhF,CAHgF,CAA3D,EAItB,CAJsB,CAAV,EAIR,CAJQ,CAAf;IAAA,UAIW70B,OAAO,GAAGvB,EAAE,CAAC,CAAD,CAJvB;IAAA,UAI4BwB,OAAO,GAAGxB,EAAE,CAAC,CAAD,CAJxC,CAAA;;UAKA,OAAOvH,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAK4b,EAAL,CAAT,EAAmB;IAAE2e,QAAAA,UAAU,EAAE,IAAd;IAAoBoD,QAAAA,WAAW,EAAEA,WAAjC;YAA8CrD,UAAU,EAAE3tB,IAAI,CAACuH,aAAD,EAAgB,CAACpL,OAAD,EAAUC,OAAV,CAAhB,CAA9D;IAAmGsxB,QAAAA,eAAe,EAAElR,SAAAA;IAApH,OAAnB,CAAf,CAAA;IACH,KAP6B,CAA9B,CAAA;;QAQA,IAAIqN,UAAU,GAAGx2B,QAAQ,CAAC;UAAEy2B,OAAO,EAAEzzB,KAAK,CAACyzB,OAAjB;IAA0B1zB,MAAAA,MAAM,EAAEA,MAAAA;SAAnC,EAA6C8xB,MAA7C,CAAzB,CAAA;;IACAE,IAAAA,YAAY,CAACvpB,QAAD,EAAW,eAAX,EAA4BgrB,UAA5B,CAAZ,CAAA;IACA,IAAA,OAAOA,UAAP,CAAA;OAvbQ;IAybZoH,EAAAA,mBAAmB,EAAE,UAAUpyB,QAAV,EAAoB9K,CAApB,EAAuB;IACxC,IAAA,IAAI6H,MAAM,GAAG7H,CAAC,CAAC6H,MAAf;IAAA,QAAuBV,KAAK,GAAGnH,CAAC,CAACmH,KAAjC,CAAA;;IACA,IAAA,IAAI,CAACA,KAAK,CAACqyB,QAAX,EAAqB;IACjB,MAAA,OAAA;IACH,KAAA;;IACD,IAAA,IAAA,CAAKqC,cAAL,CAAoB/wB,QAApB,EAA8B9K,CAA9B,CAAA,CAAA;QACA,IAAIqC,MAAM,GAAGmZ,iBAAiB,CAAC1Q,QAAD,EAAW,IAAX,EAAiB,gBAAjB,EAAmC9K,CAAnC,CAA9B,CAAA;IACA,IAAA,IAAI81B,UAAU,GAAGF,aAAa,CAAC9qB,QAAD,EAAW9K,CAAX,EAAc;IACxC+1B,MAAAA,OAAO,EAAEjrB,QAAQ,CAACxI,KAAT,CAAeyzB,OADgB;IAExC1zB,MAAAA,MAAM,EAAEA,MAAAA;IAFgC,KAAd,CAA9B,CAAA;IAIAgyB,IAAAA,YAAY,CAACvpB,QAAD,EAAW,kBAAX,EAA+BgrB,UAA/B,CAAZ,CAAA;IACA,IAAA,OAAOjuB,MAAP,CAAA;OArcQ;;IAucZ;IACJ;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MAEIsuB,OAAO,EAAE,UAAUrrB,QAAV,EAAoB;QACzB,IAAI3D,KAAK,GAAG,EAAZ,CAAA;QACA,IAAIkzB,SAAS,GAAG,CAAhB,CAAA;QACA,IAAIC,UAAU,GAAG,CAAjB,CAAA;QACA,IAAI/F,OAAO,GAAG,KAAd,CAAA;IACA,IAAA,IAAIjN,IAAI,GAAGxc,QAAQ,CAAC6jB,OAAT,EAAX,CAAA;QACA,OAAO;IACHyH,MAAAA,SAAS,EAAE,IADR;UAEHC,YAAY,EAAE,UAAUr2B,CAAV,EAAa;IACvB,QAAA,IAAI6G,EAAJ,CAAA;;YACA0tB,OAAO,GAAGv0B,CAAC,CAACu0B,OAAZ,CAAA;YACA,OAAO;IACHptB,UAAAA,KAAK,EAAEA,KADJ;cAEHkwB,eAAe,EAAEr3B,CAAC,CAACuK,SAAF,IAAe,CAAC,CAAD,EAAI,CAAJ,CAF7B;IAGHmuB,UAAAA,aAAa,EAAE,CAAC7xB,EAAE,GAAG7G,CAAC,KAAK,IAAN,IAAcA,CAAC,KAAK,KAAK,CAAzB,GAA6B,KAAK,CAAlC,GAAsCA,CAAC,CAACqf,UAA9C,MAA8D,IAA9D,IAAsExY,EAAE,KAAK,KAAK,CAAlF,GAAsFA,EAAtF,GAA2F,IAHvG;IAIH0tB,UAAAA,OAAO,EAAEA,OAAAA;aAJb,CAAA;WALD;UAYH4B,OAAO,EAAE,UAAUn2B,CAAV,EAAa;YAClB,IAAI,aAAA,IAAiBA,CAArB,EAAwB;IACpBq6B,UAAAA,SAAS,GAAGr6B,CAAC,CAACqS,WAAF,GAAgBiV,IAAI,CAACjV,WAAjC,CAAA;IACH,SAFD,MAGK,IAAI,YAAgBrS,IAAAA,CAApB,EAAuB;cACxBq6B,SAAS,IAAIr6B,CAAC,CAACm9B,UAAf,CAAA;IACH,SAAA;;YACD,IAAI,cAAA,IAAkBn9B,CAAtB,EAAyB;IACrBs6B,UAAAA,UAAU,GAAGt6B,CAAC,CAACsS,YAAF,GAAiBgV,IAAI,CAAChV,YAAnC,CAAA;IACH,SAFD,MAGK,IAAI,aAAiBtS,IAAAA,CAArB,EAAwB;cACzBs6B,UAAU,IAAIt6B,CAAC,CAACo9B,WAAhB,CAAA;IACH,SAAA;;YACD,OAAO;IACHj2B,UAAAA,KAAK,EAAEA,KADJ;IAEH0yB,UAAAA,UAAU,EAAE,CAACQ,SAAD,EAAYC,UAAZ,CAFT;cAGHX,eAAe,EAAE35B,CAAC,CAACyoB,SAHhB;IAIH8L,UAAAA,OAAO,EAAEA,OAAAA;aAJb,CAAA;WAzBD;IAgCH1e,MAAAA,UAAU,EAAE,YAAY;YACpB,OAAO;IAAE1O,UAAAA,KAAK,EAAEA,KAAT;IAAgBU,UAAAA,MAAM,EAAE,IAAxB;IAA8B0sB,UAAAA,OAAO,EAAEA,OAAAA;aAA9C,CAAA;IACH,OAAA;SAlCL,CAAA;OA3eQ;MAghBZ+B,KAAK,EAAE,UAAUxrB,QAAV,EAAoB;IACvBA,IAAAA,QAAQ,CAACtE,KAAT,CAAeQ,MAAf,CAAsBwwB,SAAtB,GAAkC,IAAlC,CAAA;IACH,GAAA;IAlhBW,CAAhB,CAAA;IAohBA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA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CAAA;QACAuT,aAAa,CAACliC,QAAD,CAAb,CAAA;OA5LQ;MA8LZiyB,gBAAgB,EAAE,UAAUjyB,QAAV,EAAoB;QAClC,IAAK3C,CAAAA,IAAL,CAAU2C,QAAV,CAAA,CAAA;OA/LQ;MAiMZoyB,mBAAmB,EAAE,UAAUpyB,QAAV,EAAoB;QACrC,IAAKwrB,CAAAA,KAAL,CAAWxrB,QAAX,CAAA,CAAA;OAlMQ;MAoMZwrB,KAAK,EAAE,UAAUxrB,QAAV,EAAoB;IACvB,IAAA,IAAItE,KAAK,GAAGsE,QAAQ,CAACtE,KAArB,CAAA;QACAA,KAAK,CAACud,UAAN,GAAmB,KAAnB,CAAA;QACAvd,KAAK,CAACsd,UAAN,GAAmB,EAAnB,CAAA;QACAtd,KAAK,CAACizB,cAAN,GAAuB,IAAvB,CAAA;QACAjzB,KAAK,CAAC8hC,YAAN,GAAqB,EAArB,CAAA;IACH,GAAA;IA1MW,CAAhB,CAAA;IA4MA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAC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ACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA,SAASysB,gBAAT,CAA0Bv2C,IAA1B,EAAgCC,IAAhC,EAAsC;MAClC,OAAOD,IAAI,CAAC3F,GAAL,CAAS,UAAU8K,GAAV,EAAelQ,CAAf,EAAkB;IAAE,IAAA,OAAO8Q,GAAG,CAACZ,GAAD,EAAMlF,IAAI,CAAChL,CAAD,CAAV,EAAe,CAAf,EAAkB,CAAlB,CAAV,CAAA;IAAiC,GAA9D,CAAP,CAAA;IACH,CAAA;;IACD,SAASuhD,cAAT,CAAwBx2C,IAAxB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C;IACtC;IACA,EAAA,IAAIu2C,IAAI,GAAG/iC,QAAM,CAAC1T,IAAD,EAAOC,IAAP,CAAjB,CAAA;IACA,EAAA,IAAIy2C,IAAI,GAAGhjC,QAAM,CAAC1T,IAAD,EAAOE,IAAP,CAAjB,CAAA;IACA,EAAA,IAAIuT,GAAG,GAAGijC,IAAI,GAAGD,IAAjB,CAAA;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haW,CAAhB,CAAA;IAkaA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;;IACA,IAAIiD,eAAe,GAAG;IAClBnvD,EAAAA,IAAI,EAAE,iBADY;IAElBG,EAAAA,KAAK,EAAE,CACH,iBADG,EAEH,gBAFG,CAFW;IAMlBD,EAAAA,MAAM,EAAE,CACJ,iBADI,EAEJ,YAFI,EAGJ,eAHI,CANU;MAWlB48B,GAAG,EAAE,CACD,8EADC,CAXa;IAclBhI,EAAAA,oBAAoB,EAAE,UAAUrc,CAAV,EAAa5a,CAAb,EAAgB;QAClC,IAAIA,CAAC,CAAC0xB,SAAN,EAAiB;IACb,MAAA,OAAO1xB,CAAC,CAAC2+B,WAAF,KAAkB,iBAAzB,CAAA;IACH,KAAA;;IACD,IAAA,OAAOC,QAAQ,CAAC5+B,CAAC,CAACkH,UAAF,CAAa5G,MAAd,EAAsBmd,MAAM,CAAC,QAAD,CAA5B,CAAf,CAAA;OAlBc;IAoBlB2Z,EAAAA,gBAAgB,EAAE,UAAUtsB,QAAV,EAAoB9K,CAApB,EAAuB;IACrC,IAAA,IAAImH,KAAK,GAAGnH,CAAC,CAACmH,KAAd,CAAA;IACAmE,IAAAA,YAAY,CAACR,QAAD,EAAW9K,CAAX,CAAZ,CAAA;IACA,IAAA,IAAIm0B,MAAM,GAAGC,UAAU,CAACtpB,QAAD,EAAW9K,CAAX,EAAc;IACjCgI,MAAAA,SAAS,EAAEgL,SAAS,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IACH,WAAA;IACJ,SAAA;;YACD,OAAO;IAAExB,UAAAA,KAAK,EAAEA,KAAT;IAAgBqB,UAAAA,KAAK,EAAEA,KAAvB;IAA8BC,UAAAA,KAAK,EAAEA,KAArC;IAA4CkpD,UAAAA,UAAU,EAAEA,UAAAA;aAA/D,CAAA;WA5BD;IA8BH97C,MAAAA,UAAU,EAAE,YAAY;YACpB,OAAO;IAAE1O,UAAAA,KAAK,EAAEA,KAAT;IAAgBU,UAAAA,MAAM,EAAE,IAAA;aAA/B,CAAA;IACH,OAAA;SAhCL,CAAA;IAkCH,GAAA;IArLiB,CAAtB,CAAA;IAuLA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA,SAASiqD,qBAAT,CAA+BnL,YAA/B,EAA6CoL,SAA7C,EAAwDvpD,KAAxD,EAA+DC,KAA/D,EAAsE;IAClE;IACA;IACA;IACA;IACA;MACA,IAAIupD,iBAAiB,GAAGrL,YAAY,CAACt5C,MAAb,CAAoB,UAAUxG,EAAV,EAAc;IACtD,IAAA,IAAIy/C,OAAO,GAAGz/C,EAAE,CAACy/C,OAAjB;IAAA,QAA0BjnC,UAAU,GAAGxY,EAAE,CAACwY,UAA1C,CAAA;QACA,OAAOA,UAAU,IAAI,CAACinC,OAAtB,CAAA;IACH,GAHuB,EAGrBzmD,MAHH,CAAA;MAIA,IAAIo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B,CAAA;;IAIAstB,IAAAA,YAAY,CAACvpB,QAAD,EAAW,iBAAX,EAA8BgrB,UAA9B,CAAZ,CAAA;IACA,IAAA,OAAOA,UAAP,CAAA;OA3RQ;MA6RZQ,KAAK,EAAE,UAAUxrB,QAAV,EAAoB;IACvBA,IAAAA,QAAQ,CAACtE,KAAT,CAAeksD,iBAAf,GAAmC,EAAnC,CAAA;IACH,GAAA;IA/RW,CAAhB,CAAA;IAiSA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IACA;IACA;IACA;IACA;IACA;IACA;IACA;I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"}