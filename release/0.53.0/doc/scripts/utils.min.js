/*
Copyright (c) 2018 Daybrush
@name: @daybrush/utils
license: MIT
author: Daybrush
repository: https://github.com/daybrush/utils
@version 0.4.0
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.utils=t()}(this,function(){"use strict";var u="rgb",c="rgba",f="hsl",l="hsla",e=[u,c,f,l],t="function",n="object",r="string",i="undefined",a=typeof window!==i,o=["webkit","ms","moz","o"],s=function(e){if(typeof document===i)return"";var t=(document.body||document.documentElement).style,n=o.length;if(typeof t[e]!==i)return e;for(var r=0;r<n;++r){var a="-"+o[r]+"-"+e;if(typeof t[a]!==i)return a}return""},m=s("transform"),p=s("filter"),d=s("animation"),h=d.replace("animation","keyframes");function g(e){var t=e.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return t?t.map(function(e){return e.trim()}):[]}function v(e){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function w(){return Date.now?Date.now():(new Date).getTime()}var A=function(){var n=w(),e=a&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame);return e?e.bind(window):function(e){var t=w();return window.setTimeout(function(){e(t-n)},1e3/60)}}();function y(e){return e.replace("#","")}function R(e){var t=y(e),n=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),a=parseInt(t.substring(4,6),16),i=parseInt(t.substring(6,8),16)/255;return isNaN(i)&&(i=1),[n,r,a,i]}function N(e){var t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),a=e.charAt(4);return["#",t,t,n,n,r,r,a,a].join("")}function b(e){var t=e[0],n=e[1],r=e[2];t<0&&(t+=360*Math.floor((Math.abs(t)+360)/360)),t%=360;var a,i=(1-Math.abs(2*r-1))*n,o=i*(1-Math.abs(t/60%2-1)),s=r-i/2;return t<60?a=[i,o,0]:t<120?a=[o,i,0]:t<180?a=[0,i,o]:t<240?a=[0,o,i]:t<300?a=[o,0,i]:t<360&&(a=[i,0,o]),[Math.round(255*(a[0]+s)),Math.round(255*(a[1]+s)),Math.round(255*(a[2]+s)),3<e.length?e[3]:1]}return{RGB:u,RGBA:c,HSL:f,HSLA:l,COLOR_MODELS:e,FUNCTION:t,PROPERTY:"property",ARRAY:"array",OBJECT:n,STRING:r,NUMBER:"number",UNDEFINED:i,IS_WINDOW:a,getCrossBrowserProperty:s,TRANSFORM:m,FILTER:p,ANIMATION:d,KEYFRAMES:h,cutHex:y,hexToRGBA:R,toFullHex:N,hslToRGBA:b,stringToRGBA:function(e){if("#"===e.charAt(0))return 4===e.length||5===e.length?R(N(e)):R(e);if(-1!==e.indexOf("(")){var t=v(e),n=t.prefix,r=t.value;if(!n||!r)return;var a=g(r),i=[],o=a.length;switch(n){case u:case c:for(var s=0;s<o;++s)i[s]=parseFloat(a[s]);return i;case f:case l:for(s=0;s<o;++s)-1!==a[s].indexOf("%")?i[s]=parseFloat(a[s])/100:i[s]=parseFloat(a[s]);return b(i)}}},isUndefined:function(e){return typeof e===i},isObject:function(e){return e&&typeof e===n},isArray:function(e){return Array.isArray(e)},isString:function(e){return typeof e===r},isFunction:function(e){return typeof e===t},splitSpace:function(e){return e.match(/("[^"]*")|('[^']*')|([^\s()]*(?:\((?:[^()]*|\([^()]*\))*\))[^\s()]*)|\S+/g)||[]},splitComma:g,splitBracket:v,splitUnit:function(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2];return{prefix:n,unit:t[3],value:parseFloat(r)}},camelize:function(e){return e.replace(/[\s-_]([a-z])/g,function(e,t){return t.toUpperCase()})},decamelize:function(e,r){return void 0===r&&(r="-"),e.replace(/([a-z])([A-Z])/g,function(e,t,n){return""+t+r+n.toLowerCase()})},now:w,requestAnimationFrame:A,hasClass:function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},removeClass:function(e,t){if(e.classList)e.classList.remove(t);else{var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}},fromCSS:function(e,t){if(!e||!t||!t.length)return{};var n;if(e instanceof Element)n=e;else{if(!e.length)return{};n=e[0]}for(var r={},a=window.getComputedStyle(n),i=t.length,o=0;o<i;++o)r[t[o]]=a[t[o]];return r}}});
