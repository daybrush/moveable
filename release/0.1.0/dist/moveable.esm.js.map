{"version":3,"file":"moveable.esm.js","sources":["../src/InnerMoveable.tsx","../src/Moveable.tsx"],"sourcesContent":["import { Component, h } from \"preact\";\nimport Moveable, { MoveableProps } from \"preact-moveable\";\n\nexport default class InnerMoveable extends Component<MoveableProps> {\n    public state: MoveableProps = {};\n    constructor(props: MoveableProps) {\n        super(props);\n        this.state = this.props;\n    }\n    public render() {\n        return <Moveable {...this.state} />;\n    }\n}\n","import EgComponent from \"@egjs/component\";\nimport { ref } from \"framework-utils\";\nimport { h, render } from \"preact\";\nimport InnerMoveable from \"./InnerMoveable\";\nimport { MoveableOptions } from \"./types\";\nimport {\n    OnDragStart, OnDrag, OnResize, OnResizeStart,\n    OnResizeEnd, OnScaleStart, OnScaleEnd, OnRotateStart,\n    OnRotateEnd, OnDragEnd, OnRotate, OnScale,\n} from \"preact-moveable\";\n\nexport default class Moveable extends EgComponent {\n    private preactMoveable!: InnerMoveable;\n    constructor(parentElement: HTMLElement, options: MoveableOptions = {}) {\n        super();\n        const element = document.createElement(\"div\");\n\n        render(\n            <InnerMoveable\n                ref={ref(this, \"preactMoveable\")}\n                {...options}\n                onDragStart={this.onDragStart}\n                onDrag={this.onDrag}\n                onDragEnd={this.onDragEnd}\n                onResizeStart={this.onResizeStart}\n                onResize={this.onResize}\n                onResizeEnd={this.onResizeEnd}\n                onScaleStart={this.onScaleStart}\n                onScale={this.onScale}\n                onScaleEnd={this.onScaleEnd}\n                onRotateStart={this.onRotateStart}\n                onRotate={this.onRotate}\n                onRotateEnd={this.onRotateEnd}\n            />,\n            element,\n        );\n        parentElement.appendChild(element.children[0]);\n    }\n    get draggable() {\n        return this.preactMoveable.state.draggable || false;\n    }\n    set draggable(draggable: boolean) {\n        this.preactMoveable.setState({\n            draggable,\n        });\n    }\n    get target() {\n        return this.preactMoveable.state.draggable || false;\n    }\n    set target(target: boolean) {\n        this.preactMoveable.setState({\n            target,\n        });\n    }\n    get resizable() {\n        return this.preactMoveable.state.resizable || false;\n    }\n    set resizable(resizable: boolean) {\n        this.preactMoveable.setState({\n            resizable,\n        });\n    }\n    get scalable() {\n        return this.preactMoveable.state.scalable || false;\n    }\n    set scalable(scalable: boolean) {\n        this.preactMoveable.setState({\n            scalable,\n        });\n    }\n    get rotatable() {\n        return this.preactMoveable.state.rotatable || false;\n    }\n    set rotatable(rotatable: boolean) {\n        this.preactMoveable.setState({\n            rotatable,\n        });\n    }\n    private onDragStart = (e: OnDragStart) => {\n        this.trigger(\"dragStart\", e);\n    }\n    private onDrag = (e: OnDrag) => {\n        this.trigger(\"drag\", e);\n    }\n    private onDragEnd = (e: OnDragEnd) => {\n        this.trigger(\"dragEnd\", e);\n    }\n    private onResizeStart = (e: OnResizeStart) => {\n        this.trigger(\"resizeStart\", e);\n    }\n    private onResize = (e: OnResize) => {\n        this.trigger(\"resize\", e);\n    }\n    private onResizeEnd = (e: OnResizeEnd) => {\n        this.trigger(\"resizeEnd\", e);\n    }\n    private onScaleStart = (e: OnScaleStart) => {\n        this.trigger(\"scaleStart\", e);\n    }\n    private onScale = (e: OnScale) => {\n        this.trigger(\"scale\", e);\n    }\n    private onScaleEnd = (e: OnScaleEnd) => {\n        this.trigger(\"scaleEnd\", e);\n    }\n    private onRotateStart = (e: OnRotateStart) => {\n        this.trigger(\"rotateStart\", e);\n    }\n    private onRotate = (e: OnRotate) => {\n        this.trigger(\"rotate\", e);\n    }\n    private onRotateEnd = (e: OnRotateEnd) => {\n        this.trigger(\"rotateEnd\", e);\n    }\n}\n"],"names":["tslib_1","props","_super","_this","state","h","Moveable","Component","parentElement","options","e","trigger","element","document","createElement","render","InnerMoveable","ref","onDragStart","onDrag","onDragEnd","onResizeStart","onResize","onResizeEnd","onScaleStart","onScale","onScaleEnd","onRotateStart","onRotate","onRotateEnd","appendChild","children","Object","preactMoveable","draggable","setState","target","resizable","scalable","rotatable","EgComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}